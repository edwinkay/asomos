(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{2920:(hr,tn,fe)=>{"use strict";fe.d(tn,{$:()=>Nb,A:()=>te,G:()=>Se,K:()=>yn,L:()=>Or,N:()=>Wt,P:()=>Zb,R:()=>js,U:()=>Et,V:()=>zd,W:()=>Hp,X:()=>Hd,Y:()=>Mb,Z:()=>oa,_:()=>sa,a:()=>ms,a0:()=>Je,a1:()=>ua,a2:()=>Ic,a3:()=>Wd,a4:()=>Uo,a5:()=>kv,a6:()=>Qd,a7:()=>ps,a8:()=>Ov,a9:()=>Fv,aA:()=>yo,aB:()=>le,aC:()=>ae,aD:()=>Ji,aE:()=>ft,aF:()=>Hn,aG:()=>fm,aH:()=>dm,aI:()=>tC,aJ:()=>Qn,aN:()=>Bs,aQ:()=>cu,aa:()=>wc,ab:()=>Lv,ac:()=>Ob,ad:()=>Fb,ae:()=>Lb,af:()=>$b,ag:()=>Bb,ah:()=>Vv,ak:()=>dt,al:()=>jb,am:()=>uo,ap:()=>kb,aq:()=>Bv,as:()=>Gb,at:()=>sm,au:()=>gt,av:()=>$i,aw:()=>Fs,ax:()=>at,ay:()=>dr,az:()=>Co,b:()=>Gv,c:()=>EM,d:()=>CM,e:()=>bM,f:()=>nC,g:()=>oC,h:()=>sy,i:()=>rs,j:()=>ay,k:()=>_h,l:()=>Zi,m:()=>gy,p:()=>Ke,r:()=>am,s:()=>di,u:()=>lm});var E=fe(467),Ae=fe(7852),L=fe(1076),ot=fe(8041),zt=fe(1635),Dt=fe(1362);const Ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},rt=function ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new L.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new ot.Vy("@firebase/auth");function we(m,...c){Ee.logLevel<=ot.$b.ERROR&&Ee.error(`Auth (${Ae.SDK_VERSION}): ${m}`,...c)}function at(m,...c){throw At(m,...c)}function le(m,...c){return At(m,...c)}function Ve(m,c,h){const g=Object.assign(Object.assign({},rt()),{[c]:h});return new L.FA("auth","Firebase",g).create(c,{appName:m.name})}function Oe(m){return Ve(m,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ye(m,c,h){if(!(c instanceof h))throw h.name!==c.constructor.name&&at(m,"argument-error"),Ve(m,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function At(m,...c){if("string"!=typeof m){const h=c[0],g=[...c.slice(1)];return g[0]&&(g[0].appName=m.name),m._errorFactory.create(h,...g)}return ke.create(m,...c)}function ae(m,c,...h){if(!m)throw At(c,...h)}function Ge(m){const c="INTERNAL ASSERTION FAILED: "+m;throw we(c),new Error(c)}function gt(m,c){m||Ge(c)}function Ht(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Zt(){return"http:"===ht()||"https:"===ht()}function ht(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class H{constructor(c,h){this.shortDelay=c,this.longDelay=h,gt(h>c,"Short delay should be less than long delay!"),this.isMobile=(0,L.jZ)()||(0,L.lV)()}get(){return function qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,L.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function S(m,c){gt(m.emulator,"Emulator should always be set here");const{url:h}=m.emulator;return c?`${h}${c.startsWith("/")?c.slice(1):c}`:h}class D{static initialize(c,h,g){this.fetchImpl=c,h&&(this.headersImpl=h),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},z=new H(3e4,6e4);function se(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}function oe(m,c,h,g){return qe.apply(this,arguments)}function qe(){return(qe=(0,E.A)(function*(m,c,h,g,C={}){return lt(m,C,(0,E.A)(function*(){let N={},Z={};g&&("GET"===c?Z=g:N={body:JSON.stringify(g)});const ge=(0,L.Am)(Object.assign({key:m.config.apiKey},Z)).slice(1),et=yield m._getAdditionalHeaders();return et["Content-Type"]="application/json",m.languageCode&&(et["X-Firebase-Locale"]=m.languageCode),D.fetch()(dn(m,m.config.apiHost,h,ge),Object.assign({method:c,headers:et,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function lt(m,c,h){return un.apply(this,arguments)}function un(){return(un=(0,E.A)(function*(m,c,h){m._canInitEmulator=!1;const g=Object.assign(Object.assign({},k),c);try{const C=new er(m),N=yield Promise.race([h(),C.promise]);C.clearNetworkTimeout();const Z=yield N.json();if("needConfirmation"in Z)throw Sn(m,"account-exists-with-different-credential",Z);if(N.ok&&!("errorMessage"in Z))return Z;{const ge=N.ok?Z.errorMessage:Z.error.message,[et,It]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===et)throw Sn(m,"credential-already-in-use",Z);if("EMAIL_EXISTS"===et)throw Sn(m,"email-already-in-use",Z);if("USER_DISABLED"===et)throw Sn(m,"user-disabled",Z);const pn=g[et]||et.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw Ve(m,pn,It);at(m,pn)}}catch(C){if(C instanceof L.g)throw C;at(m,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function wt(m,c,h,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,E.A)(function*(m,c,h,g,C={}){const N=yield oe(m,c,h,g,C);return"mfaPendingCredential"in N&&at(m,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function dn(m,c,h,g){const C=`${c}${h}?${g}`;return m.config.emulator?S(m.config,C):`${m.config.apiScheme}://${C}`}function Ut(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class er{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((h,g)=>{this.timer=setTimeout(()=>g(le(this.auth,"network-request-failed")),z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sn(m,c,h){const g={appName:m.name};h.email&&(g.email=h.email),h.phoneNumber&&(g.phoneNumber=h.phoneNumber);const C=le(m,c,g);return C.customData._tokenResponse=h,C}function On(m){return void 0!==m&&void 0!==m.getResponse}function Tn(m){return void 0!==m&&void 0!==m.enterprise}class kn{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===c)return Ut(h.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Ne(){return(Ne=(0,E.A)(function*(m){return(yield oe(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pe(m,c){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,E.A)(function*(m,c){return oe(m,"GET","/v2/recaptchaConfig",se(m,c))})).apply(this,arguments)}function tr(){return(tr=(0,E.A)(function*(m,c){return oe(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function zn(){return(zn=(0,E.A)(function*(m,c){return oe(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function An(m,c){return qn.apply(this,arguments)}function qn(){return(qn=(0,E.A)(function*(m,c){return oe(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Wn(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function si(){return(si=(0,E.A)(function*(m,c=!1){const h=(0,L.Ku)(m),g=yield h.getIdToken(c),C=Ri(g);ae(C&&C.exp&&C.auth_time&&C.iat,h.auth,"internal-error");const N="object"==typeof C.firebase?C.firebase:void 0,Z=null==N?void 0:N.sign_in_provider;return{claims:C,token:g,authTime:Wn(fr(C.auth_time)),issuedAtTime:Wn(fr(C.iat)),expirationTime:Wn(fr(C.exp)),signInProvider:Z||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function fr(m){return 1e3*Number(m)}function Ri(m){const[c,h,g]=m.split(".");if(void 0===c||void 0===h||void 0===g)return we("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,L.u)(h);return C?JSON.parse(C):(we("Failed to decode base64 JWT payload"),null)}catch(C){return we("Caught error parsing JWT payload as JSON",null==C?void 0:C.toString()),null}}function _o(m){const c=Ri(m);return ae(c,"internal-error"),ae(typeof c.exp<"u","internal-error"),ae(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}function Bn(m,c){return ai.apply(this,arguments)}function ai(){return(ai=(0,E.A)(function*(m,c,h=!1){if(h)return c;try{return yield c}catch(g){throw g instanceof L.g&&function oo({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(g)&&m.auth.currentUser===m&&(yield m.auth.signOut()),g}})).apply(this,arguments)}class Er{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var h;if(c){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const C=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(c=!1){var h=this;if(!this.isRunning)return;const g=this.getInterval(c);this.timerId=setTimeout((0,E.A)(function*(){yield h.iteration()}),g)}iteration(){var c=this;return(0,E.A)(function*(){try{yield c.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===(null==h?void 0:h.code)&&c.schedule(!0))}c.schedule()})()}}class Cr{constructor(c,h){this.createdAt=c,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wn(this.lastLoginAt),this.creationTime=Wn(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kr(m){return ti.apply(this,arguments)}function ti(){return(ti=(0,E.A)(function*(m){var c;const h=m.auth,g=yield m.getIdToken(),C=yield Bn(m,An(h,{idToken:g}));ae(null==C?void 0:C.users.length,h,"internal-error");const N=C.users[0];m._notifyReloadListener(N);const Z=null!==(c=N.providerUserInfo)&&void 0!==c&&c.length?vo(N.providerUserInfo):[],ge=function Mn(m,c){return[...m.filter(g=>!c.some(C=>C.providerId===g.providerId)),...c]}(m.providerData,Z),pn=!!m.isAnonymous&&!(m.email&&N.passwordHash||null!=ge&&ge.length),Zn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ge,metadata:new Cr(N.createdAt,N.lastLoginAt),isAnonymous:pn};Object.assign(m,Zn)})).apply(this,arguments)}function Qi(){return(Qi=(0,E.A)(function*(m){const c=(0,L.Ku)(m);yield kr(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function vo(m){return m.map(c=>{var{providerId:h}=c,g=(0,zt.Tt)(c,["providerId"]);return{providerId:h,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function K(){return(K=(0,E.A)(function*(m,c){const h=yield lt(m,{},(0,E.A)(function*(){const g=(0,L.Am)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:C,apiKey:N}=m.config,Z=dn(m,C,"/v1/token",`key=${N}`),ge=yield m._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",D.fetch()(Z,{method:"POST",headers:ge,body:g})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function M(){return(M=(0,E.A)(function*(m,c){return oe(m,"POST","/v2/accounts:revokeToken",se(m,c))})).apply(this,arguments)}class F{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ae(c.idToken,"internal-error"),ae(typeof c.idToken<"u","internal-error"),ae(typeof c.refreshToken<"u","internal-error");const h="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):_o(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,h)}updateFromIdToken(c){ae(0!==c.length,"internal-error");const h=_o(c);this.updateTokensAndExpiration(c,null,h)}getToken(c,h=!1){var g=this;return(0,E.A)(function*(){return h||!g.accessToken||g.isExpired?(ae(g.refreshToken,c,"user-token-expired"),g.refreshToken?(yield g.refresh(c,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,h){var g=this;return(0,E.A)(function*(){const{accessToken:C,refreshToken:N,expiresIn:Z}=yield function Vo(m,c){return K.apply(this,arguments)}(c,h);g.updateTokensAndExpiration(C,N,Number(Z))})()}updateTokensAndExpiration(c,h,g){this.refreshToken=h||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(c,h){const{refreshToken:g,accessToken:C,expirationTime:N}=h,Z=new F;return g&&(ae("string"==typeof g,"internal-error",{appName:c}),Z.refreshToken=g),C&&(ae("string"==typeof C,"internal-error",{appName:c}),Z.accessToken=C),N&&(ae("number"==typeof N,"internal-error",{appName:c}),Z.expirationTime=N),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new F,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function R(m,c){ae("string"==typeof m||typeof m>"u","internal-error",{appName:c})}class ie{constructor(c){var{uid:h,auth:g,stsTokenManager:C}=c,N=(0,zt.Tt)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=g,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Cr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(c){var h=this;return(0,E.A)(function*(){const g=yield Bn(h,h.stsTokenManager.getToken(h.auth,c));return ae(g,h.auth,"internal-error"),h.accessToken!==g&&(h.accessToken=g,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),g})()}getIdTokenResult(c){return function Ii(m){return si.apply(this,arguments)}(this,c)}reload(){return function Pi(m){return Qi.apply(this,arguments)}(this)}_assign(c){this!==c&&(ae(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(h=>Object.assign({},h)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const h=new ie(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(c){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,h=!1){var g=this;return(0,E.A)(function*(){let C=!1;c.idToken&&c.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(c),C=!0),h&&(yield kr(g)),yield g.auth._persistUserIfCurrent(g),C&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var c=this;return(0,E.A)(function*(){if((0,Ae._isFirebaseServerApp)(c.auth.app))return Promise.reject(Oe(c.auth));const h=yield c.getIdToken();return yield Bn(c,function Pn(m,c){return tr.apply(this,arguments)}(c.auth,{idToken:h})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,h){var g,C,N,Z,ge,et,It,pn;const Zn=null!==(g=h.displayName)&&void 0!==g?g:void 0,Ao=null!==(C=h.email)&&void 0!==C?C:void 0,za=null!==(N=h.phoneNumber)&&void 0!==N?N:void 0,Oc=null!==(Z=h.photoURL)&&void 0!==Z?Z:void 0,Cm=null!==(ge=h.tenantId)&&void 0!==ge?ge:void 0,wl=null!==(et=h._redirectEventId)&&void 0!==et?et:void 0,vs=null!==(It=h.createdAt)&&void 0!==It?It:void 0,Iy=null!==(pn=h.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:Tu,emailVerified:Fc,isAnonymous:Lc,providerData:Vc,stsTokenManager:wm}=h;ae(Tu&&wm,c,"internal-error");const Ey=F.fromJSON(this.name,wm);ae("string"==typeof Tu,c,"internal-error"),R(Zn,c.name),R(Ao,c.name),ae("boolean"==typeof Fc,c,"internal-error"),ae("boolean"==typeof Lc,c,"internal-error"),R(za,c.name),R(Oc,c.name),R(Cm,c.name),R(wl,c.name),R(vs,c.name),R(Iy,c.name);const Tm=new ie({uid:Tu,auth:c,email:Ao,emailVerified:Fc,displayName:Zn,isAnonymous:Lc,photoURL:Oc,phoneNumber:za,tenantId:Cm,stsTokenManager:Ey,createdAt:vs,lastLoginAt:Iy});return Vc&&Array.isArray(Vc)&&(Tm.providerData=Vc.map(Au=>Object.assign({},Au))),wl&&(Tm._redirectEventId=wl),Tm}static _fromIdTokenResponse(c,h,g=!1){return(0,E.A)(function*(){const C=new F;C.updateFromServerResponse(h);const N=new ie({uid:h.localId,auth:c,stsTokenManager:C,isAnonymous:g});return yield kr(N),N})()}static _fromGetAccountInfoResponse(c,h,g){return(0,E.A)(function*(){const C=h.users[0];ae(void 0!==C.localId,"internal-error");const N=void 0!==C.providerUserInfo?vo(C.providerUserInfo):[],Z=!(C.email&&C.passwordHash||null!=N&&N.length),ge=new F;ge.updateFromIdToken(g);const et=new ie({uid:C.localId,auth:c,stsTokenManager:ge,isAnonymous:Z}),It={uid:C.localId,displayName:C.displayName||null,photoURL:C.photoUrl||null,email:C.email||null,emailVerified:C.emailVerified||!1,phoneNumber:C.phoneNumber||null,tenantId:C.tenantId||null,providerData:N,metadata:new Cr(C.createdAt,C.lastLoginAt),isAnonymous:!(C.email&&C.passwordHash||null!=N&&N.length)};return Object.assign(et,It),et})()}}const Re=new Map;function ft(m){gt(m instanceof Function,"Expected a class definition");let c=Re.get(m);return c?(gt(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,Re.set(m,c),c)}const Et=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.A)(function*(){return!0})()}_set(h,g){var C=this;return(0,E.A)(function*(){C.storage[h]=g})()}_get(h){var g=this;return(0,E.A)(function*(){const C=g.storage[h];return void 0===C?null:C})()}_remove(h){var g=this;return(0,E.A)(function*(){delete g.storage[h]})()}_addListener(h,g){}_removeListener(h,g){}}return m.type="NONE",m})();function Hn(m,c,h){return`firebase:${m}:${c}:${h}`}class on{constructor(c,h,g){this.persistence=c,this.auth=h,this.userKey=g;const{config:C,name:N}=this.auth;this.fullUserKey=Hn(this.userKey,C.apiKey,N),this.fullPersistenceKey=Hn("persistence",C.apiKey,N),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,E.A)(function*(){const h=yield c.persistence._get(c.fullUserKey);return h?ie._fromJSON(c.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var h=this;return(0,E.A)(function*(){if(h.persistence===c)return;const g=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=c,g?h.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,h,g="authUser"){return(0,E.A)(function*(){if(!h.length)return new on(ft(Et),c,g);const C=(yield Promise.all(h.map(function(){var It=(0,E.A)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return It.apply(this,arguments)}}()))).filter(It=>It);let N=C[0]||ft(Et);const Z=Hn(g,c.config.apiKey,c.name);let ge=null;for(const It of h)try{const pn=yield It._get(Z);if(pn){const Zn=ie._fromJSON(c,pn);It!==N&&(ge=Zn),N=It;break}}catch{}const et=C.filter(It=>It._shouldAllowMigration);return N._shouldAllowMigration&&et.length?(N=et[0],ge&&(yield N._set(Z,ge.toJSON())),yield Promise.all(h.map(function(){var It=(0,E.A)(function*(pn){if(pn!==N)try{yield pn._remove(Z)}catch{}});return function(pn){return It.apply(this,arguments)}}())),new on(N,c,g)):new on(N,c,g)})()}}function he(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Ra(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Jt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(na(c))return"Blackberry";if(Vi(c))return"Webos";if(Vr(c))return"Safari";if((c.includes("chrome/")||Ei(c))&&!c.includes("edge/"))return"Chrome";if(Fs(c))return"Android";{const g=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==g?void 0:g.length))return g[1]}return"Other"}function Jt(m=(0,L.ZQ)()){return/firefox\//i.test(m)}function Vr(m=(0,L.ZQ)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Ei(m=(0,L.ZQ)()){return/crios\//i.test(m)}function Ra(m=(0,L.ZQ)()){return/iemobile/i.test(m)}function Fs(m=(0,L.ZQ)()){return/android/i.test(m)}function na(m=(0,L.ZQ)()){return/blackberry/i.test(m)}function Vi(m=(0,L.ZQ)()){return/webos/i.test(m)}function $i(m=(0,L.ZQ)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function yo(m=(0,L.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function Be(m=(0,L.ZQ)()){return $i(m)||Fs(m)||Vi(m)||na(m)||/windows phone/i.test(m)||Ra(m)}function bn(m,c=[]){let h;switch(m){case"Browser":h=he((0,L.ZQ)());break;case"Worker":h=`${he((0,L.ZQ)())}-${m}`;break;default:h=m}const g=c.length?c.join(","):"FirebaseCore-web";return`${h}/JsCore/${Ae.SDK_VERSION}/${g}`}class X{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,h){const g=N=>new Promise((Z,ge)=>{try{Z(c(N))}catch(et){ge(et)}});g.onAbort=h,this.queue.push(g);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(c){var h=this;return(0,E.A)(function*(){if(h.auth.currentUser===c)return;const g=[];try{for(const C of h.queue)yield C(c),C.onAbort&&g.push(C.onAbort)}catch(C){g.reverse();for(const N of g)try{N()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:null==C?void 0:C.message})}})()}}function Qt(){return(Qt=(0,E.A)(function*(m,c={}){return oe(m,"GET","/v2/passwordPolicy",se(m,c))})).apply(this,arguments)}class cr{constructor(c){var h,g,C,N;const Z=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=Z.minPasswordLength)&&void 0!==h?h:6,Z.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Z.maxPasswordLength),void 0!==Z.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Z.containsLowercaseCharacter),void 0!==Z.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Z.containsUppercaseCharacter),void 0!==Z.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Z.containsNumericCharacter),void 0!==Z.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Z.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(g=c.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(N=c.forceUpgradeOnSignin)&&void 0!==N&&N,this.schemaVersion=c.schemaVersion}validatePassword(c){var h,g,C,N,Z,ge;const et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,et),this.validatePasswordCharacterOptions(c,et),et.isValid&&(et.isValid=null===(h=et.meetsMinPasswordLength)||void 0===h||h),et.isValid&&(et.isValid=null===(g=et.meetsMaxPasswordLength)||void 0===g||g),et.isValid&&(et.isValid=null===(C=et.containsLowercaseLetter)||void 0===C||C),et.isValid&&(et.isValid=null===(N=et.containsUppercaseLetter)||void 0===N||N),et.isValid&&(et.isValid=null===(Z=et.containsNumericCharacter)||void 0===Z||Z),et.isValid&&(et.isValid=null===(ge=et.containsNonAlphanumericCharacter)||void 0===ge||ge),et}validatePasswordLengthOptions(c,h){const g=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;g&&(h.meetsMinPasswordLength=c.length>=g),C&&(h.meetsMaxPasswordLength=c.length<=C)}validatePasswordCharacterOptions(c,h){let g;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let C=0;C<c.length;C++)g=c.charAt(C),this.updatePasswordCharacterOptionsStatuses(h,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(c,h,g,C,N){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=N))}}class Kn{constructor(c,h,g,C){this.app=c,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kp(this),this.idTokenSubscription=new kp(this),this.beforeStateQueue=new X(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(c,h){var g=this;return h&&(this._popupRedirectResolver=ft(h)),this._initializationPromise=this.queue((0,E.A)(function*(){var C,N;if(!g._deleted&&(g.persistenceManager=yield on.create(g,c),!g._deleted)){if(null!==(C=g._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(h),g.lastNotifiedUid=(null===(N=g.currentUser)||void 0===N?void 0:N.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,E.A)(function*(){if(c._deleted)return;const h=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||h){if(c.currentUser&&h&&c.currentUser.uid===h.uid)return c._currentUser._assign(h),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(h,!0)}})()}initializeCurrentUserFromIdToken(c){var h=this;return(0,E.A)(function*(){try{const g=yield An(h,{idToken:c}),C=yield ie._fromGetAccountInfoResponse(h,g,c);yield h.directlySetCurrentUser(C)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield h.directlySetCurrentUser(null)}})()}initializeCurrentUser(c){var h=this;return(0,E.A)(function*(){var g;if((0,Ae._isFirebaseServerApp)(h.app)){const ge=h.app.settings.authIdToken;return ge?new Promise(et=>{setTimeout(()=>h.initializeCurrentUserFromIdToken(ge).then(et,et))}):h.directlySetCurrentUser(null)}const C=yield h.assertedPersistence.getCurrentUser();let N=C,Z=!1;if(c&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const ge=null===(g=h.redirectUser)||void 0===g?void 0:g._redirectEventId,et=null==N?void 0:N._redirectEventId,It=yield h.tryRedirectSignIn(c);(!ge||ge===et)&&null!=It&&It.user&&(N=It.user,Z=!0)}if(!N)return h.directlySetCurrentUser(null);if(!N._redirectEventId){if(Z)try{yield h.beforeStateQueue.runMiddleware(N)}catch(ge){N=C,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(ge))}return N?h.reloadAndSetCurrentUserOrClear(N):h.directlySetCurrentUser(null)}return ae(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===N._redirectEventId?h.directlySetCurrentUser(N):h.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(c){var h=this;return(0,E.A)(function*(){let g=null;try{g=yield h._popupRedirectResolver._completeRedirectFn(h,c,!0)}catch{yield h._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(c){var h=this;return(0,E.A)(function*(){try{yield kr(c)}catch(g){if("auth/network-request-failed"!==(null==g?void 0:g.code))return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Le(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,E.A)(function*(){c._deleted=!0})()}updateCurrentUser(c){var h=this;return(0,E.A)(function*(){if((0,Ae._isFirebaseServerApp)(h.app))return Promise.reject(Oe(h));const g=c?(0,L.Ku)(c):null;return g&&ae(g.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(g&&g._clone(h))})()}_updateCurrentUser(c,h=!1){var g=this;return(0,E.A)(function*(){if(!g._deleted)return c&&ae(g.tenantId===c.tenantId,g,"tenant-id-mismatch"),h||(yield g.beforeStateQueue.runMiddleware(c)),g.queue((0,E.A)(function*(){yield g.directlySetCurrentUser(c),g.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,E.A)(function*(){return(0,Ae._isFirebaseServerApp)(c.app)?Promise.reject(Oe(c)):(yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0))})()}setPersistence(c){var h=this;return(0,Ae._isFirebaseServerApp)(this.app)?Promise.reject(Oe(this)):this.queue((0,E.A)(function*(){yield h.assertedPersistence.setPersistence(ft(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var h=this;return(0,E.A)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const g=h._getPasswordPolicyInternal();return g.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,E.A)(function*(){const h=yield function ut(m){return Qt.apply(this,arguments)}(c),g=new cr(h);null===c.tenantId?c._projectPasswordPolicy=g:c._tenantPasswordPolicies[c.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new L.FA("auth","Firebase",c())}onAuthStateChanged(c,h,g){return this.registerStateListener(this.authStateSubscription,c,h,g)}beforeAuthStateChanged(c,h){return this.beforeStateQueue.pushCallback(c,h)}onIdTokenChanged(c,h,g){return this.registerStateListener(this.idTokenSubscription,c,h,g)}authStateReady(){return new Promise((c,h)=>{if(this.currentUser)c();else{const g=this.onAuthStateChanged(()=>{g(),c()},h)}})}revokeAccessToken(c){var h=this;return(0,E.A)(function*(){if(h.currentUser){const g=yield h.currentUser.getIdToken(),C={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:g};null!=h.tenantId&&(C.tenantId=h.tenantId),yield function j(m,c){return M.apply(this,arguments)}(h,C)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,h){var g=this;return(0,E.A)(function*(){const C=yield g.getOrInitRedirectPersistenceManager(h);return null===c?C.removeCurrentUser():C.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var h=this;return(0,E.A)(function*(){if(!h.redirectPersistenceManager){const g=c&&ft(c)||h._popupRedirectResolver;ae(g,h,"argument-error"),h.redirectPersistenceManager=yield on.create(h,[ft(g._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(c){var h=this;return(0,E.A)(function*(){var g,C;return h._isInitialized&&(yield h.queue((0,E.A)(function*(){}))),(null===(g=h._currentUser)||void 0===g?void 0:g._redirectEventId)===c?h._currentUser:(null===(C=h.redirectUser)||void 0===C?void 0:C._redirectEventId)===c?h.redirectUser:null})()}_persistUserIfCurrent(c){var h=this;return(0,E.A)(function*(){if(c===h.currentUser)return h.queue((0,E.A)(function*(){return h.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(h=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,h,g,C){if(this._deleted)return()=>{};const N="function"==typeof h?h:h.next.bind(h);let Z=!1;const ge=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(ge,this,"internal-error"),ge.then(()=>{Z||N(this.currentUser)}),"function"==typeof h){const et=c.addObserver(h,g,C);return()=>{Z=!0,et()}}{const et=c.addObserver(h);return()=>{Z=!0,et()}}}directlySetCurrentUser(c){var h=this;return(0,E.A)(function*(){h.currentUser&&h.currentUser!==c&&h._currentUser._stopProactiveRefresh(),c&&h.isProactiveRefreshEnabled&&c._startProactiveRefresh(),h.currentUser=c,c?yield h.assertedPersistence.setCurrentUser(c):yield h.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,E.A)(function*(){var h;const g={"X-Client-Version":c.clientVersion};c.app.options.appId&&(g["X-Firebase-gmpid"]=c.app.options.appId);const C=yield null===(h=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();C&&(g["X-Firebase-Client"]=C);const N=yield c._getAppCheckToken();return N&&(g["X-Firebase-AppCheck"]=N),g})()}_getAppCheckToken(){var c=this;return(0,E.A)(function*(){var h;const g=yield null===(h=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return null!=g&&g.error&&function We(m,...c){Ee.logLevel<=ot.$b.WARN&&Ee.warn(`Auth (${Ae.SDK_VERSION}): ${m}`,...c)}(`Error while retrieving App Check token: ${g.error}`),null==g?void 0:g.token})()}}function Qn(m){return(0,L.Ku)(m)}class kp{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,L.tD)(h=>this.observer=h)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ml={loadJS:()=>(0,E.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gn(m){return ml.loadJS(m)}function Ud(m){return`__${m}${Math.floor(1e6*Math.random())}`}class Fp{constructor(c){this.type="recaptcha-enterprise",this.auth=Qn(c)}verify(c="verify",h=!1){var g=this;return(0,E.A)(function*(){function N(){return N=(0,E.A)(function*(ge){if(!h){if(null==ge.tenantId&&null!=ge._agentRecaptchaConfig)return ge._agentRecaptchaConfig.siteKey;if(null!=ge.tenantId&&void 0!==ge._tenantRecaptchaConfigs[ge.tenantId])return ge._tenantRecaptchaConfigs[ge.tenantId].siteKey}return new Promise(function(){var et=(0,E.A)(function*(It,pn){Pe(ge,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Zn=>{if(void 0!==Zn.recaptchaKey){const Ao=new kn(Zn);return null==ge.tenantId?ge._agentRecaptchaConfig=Ao:ge._tenantRecaptchaConfigs[ge.tenantId]=Ao,It(Ao.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(Zn=>{pn(Zn)})});return function(It,pn){return et.apply(this,arguments)}}())}),N.apply(this,arguments)}function Z(ge,et,It){const pn=window.grecaptcha;Tn(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(ge,{action:c}).then(Zn=>{et(Zn)}).catch(()=>{et("NO_RECAPTCHA")})}):It(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ge,et)=>{(function C(ge){return N.apply(this,arguments)})(g.auth).then(It=>{if(!h&&Tn(window.grecaptcha))Z(It,ge,et);else{if(typeof window>"u")return void et(new Error("RecaptchaVerifier is only supported in browser"));let pn=function Mi(){return ml.recaptchaEnterpriseScript}();0!==pn.length&&(pn+=It),gn(pn).then(()=>{Z(It,ge,et)}).catch(Zn=>{et(Zn)})}}).catch(It=>{et(It)})})})()}}function Lp(m,c,h){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,E.A)(function*(m,c,h,g=!1){const C=new Fp(m);let N;try{N=yield C.verify(h)}catch{N=yield C.verify(h,!0)}const Z=Object.assign({},c);return Object.assign(Z,g?{captchaResp:N}:{captchaResponse:N}),Object.assign(Z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Z})).apply(this,arguments)}function Pa(m,c,h,g){return so.apply(this,arguments)}function so(){return so=(0,E.A)(function*(m,c,h,g){var C;if(null!==(C=m._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const N=yield Lp(m,c,h,"getOobCode"===h);return g(m,N)}return g(m,c).catch(function(){var N=(0,E.A)(function*(Z){if("auth/missing-recaptcha-token"===Z.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ge=yield Lp(m,c,h,"getOobCode"===h);return g(m,ge)}return Promise.reject(Z)});return function(Z){return N.apply(this,arguments)}}())}),so.apply(this,arguments)}function yn(m,c,h){const g=Qn(m);ae(g._canInitEmulator,g,"emulator-config-failed"),ae(/^https?:\/\//.test(c),g,"invalid-emulator-scheme");const C=!(null==h||!h.disableWarnings),N=Bp(c),{host:Z,port:ge}=function gc(m){const c=Bp(m),h=/(\/\/)?([^?#/]+)/.exec(m.substr(c.length));if(!h)return{host:"",port:null};const g=h[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(g);if(C){const N=C[1];return{host:N,port:jd(g.substr(N.length+1))}}{const[N,Z]=g.split(":");return{host:N,port:jd(Z)}}}(c);g.config.emulator={url:`${N}//${Z}${null===ge?"":`:${ge}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:Z,port:ge,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function Ma(){function m(){const c=document.createElement("p"),h=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function Bp(m){const c=m.indexOf(":");return c<0?"":m.substr(0,c+1)}function jd(m){if(!m)return null;const c=Number(m);return isNaN(c)?null:c}class Or{constructor(c,h){this.providerId=c,this.signInMethod=h}toJSON(){return Ge("not implemented")}_getIdTokenResponse(c){return Ge("not implemented")}_linkToIdToken(c,h){return Ge("not implemented")}_getReauthenticationResolver(c){return Ge("not implemented")}}function St(m,c){return nr.apply(this,arguments)}function nr(){return(nr=(0,E.A)(function*(m,c){return oe(m,"POST","/v1/accounts:resetPassword",se(m,c))})).apply(this,arguments)}function ra(){return(ra=(0,E.A)(function*(m,c){return oe(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Up(m,c){return su.apply(this,arguments)}function su(){return(su=(0,E.A)(function*(m,c){return oe(m,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Vs(){return(Vs=(0,E.A)(function*(m,c){return oe(m,"POST","/v1/accounts:update",se(m,c))})).apply(this,arguments)}function xa(m,c){return Na.apply(this,arguments)}function Na(){return(Na=(0,E.A)(function*(m,c){return wt(m,"POST","/v1/accounts:signInWithPassword",se(m,c))})).apply(this,arguments)}function ka(m,c){return au.apply(this,arguments)}function au(){return(au=(0,E.A)(function*(m,c){return oe(m,"POST","/v1/accounts:sendOobCode",se(m,c))})).apply(this,arguments)}function ia(){return(ia=(0,E.A)(function*(m,c){return ka(m,c)})).apply(this,arguments)}function _c(m,c){return _l.apply(this,arguments)}function _l(){return(_l=(0,E.A)(function*(m,c){return ka(m,c)})).apply(this,arguments)}function b(m,c){return P.apply(this,arguments)}function P(){return(P=(0,E.A)(function*(m,c){return ka(m,c)})).apply(this,arguments)}function q(){return(q=(0,E.A)(function*(m,c){return ka(m,c)})).apply(this,arguments)}function J(){return(J=(0,E.A)(function*(m,c){return wt(m,"POST","/v1/accounts:signInWithEmailLink",se(m,c))})).apply(this,arguments)}function Xe(){return(Xe=(0,E.A)(function*(m,c){return wt(m,"POST","/v1/accounts:signInWithEmailLink",se(m,c))})).apply(this,arguments)}class He extends Or{constructor(c,h,g,C=null){super("password",g),this._email=c,this._password=h,this._tenantId=C}static _fromEmailAndPassword(c,h){return new He(c,h,"password")}static _fromEmailAndCode(c,h,g=null){return new He(c,h,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c;if(null!=h&&h.email&&null!=h&&h.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(c){var h=this;return(0,E.A)(function*(){switch(h.signInMethod){case"password":return Pa(c,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",xa);case"emailLink":return function ne(m,c){return J.apply(this,arguments)}(c,{email:h._email,oobCode:h._password});default:at(c,"internal-error")}})()}_linkToIdToken(c,h){var g=this;return(0,E.A)(function*(){switch(g.signInMethod){case"password":return Pa(c,{idToken:h,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Up);case"emailLink":return function $e(m,c){return Xe.apply(this,arguments)}(c,{idToken:h,email:g._email,oobCode:g._password});default:at(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Ze(m,c){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,E.A)(function*(m,c){return wt(m,"POST","/v1/accounts:signInWithIdp",se(m,c))})).apply(this,arguments)}class Wt extends Or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const h=new Wt(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(h.idToken=c.idToken),c.accessToken&&(h.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(h.nonce=c.nonce),c.pendingToken&&(h.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(h.accessToken=c.oauthToken,h.secret=c.oauthTokenSecret):at("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:g,signInMethod:C}=h,N=(0,zt.Tt)(h,["providerId","signInMethod"]);if(!g||!C)return null;const Z=new Wt(g,C);return Z.idToken=N.idToken||void 0,Z.accessToken=N.accessToken||void 0,Z.secret=N.secret,Z.nonce=N.nonce,Z.pendingToken=N.pendingToken||null,Z}_getIdTokenResponse(c){return Ze(c,this.buildRequest())}_linkToIdToken(c,h){const g=this.buildRequest();return g.idToken=h,Ze(c,g)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,Ze(c,h)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),c.postBody=(0,L.Am)(h)}return c}}function sr(){return(sr=(0,E.A)(function*(m,c){return oe(m,"POST","/v1/accounts:sendVerificationCode",se(m,c))})).apply(this,arguments)}function hn(){return(hn=(0,E.A)(function*(m,c){return wt(m,"POST","/v1/accounts:signInWithPhoneNumber",se(m,c))})).apply(this,arguments)}function ui(){return(ui=(0,E.A)(function*(m,c){const h=yield wt(m,"POST","/v1/accounts:signInWithPhoneNumber",se(m,c));if(h.temporaryProof)throw Sn(m,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const ao={USER_NOT_FOUND:"user-not-found"};function lu(){return(lu=(0,E.A)(function*(m,c){return wt(m,"POST","/v1/accounts:signInWithPhoneNumber",se(m,Object.assign(Object.assign({},c),{operation:"REAUTH"})),ao)})).apply(this,arguments)}class Io extends Or{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,h){return new Io({verificationId:c,verificationCode:h})}static _fromTokenResponse(c,h){return new Io({phoneNumber:c,temporaryProof:h})}_getIdTokenResponse(c){return function en(m,c){return hn.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,h){return function $o(m,c){return ui.apply(this,arguments)}(c,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function vc(m,c){return lu.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:h,verificationId:g,verificationCode:C}=this.params;return c&&h?{temporaryProof:c,phoneNumber:h}:{sessionInfo:g,code:C}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:h,verificationCode:g,phoneNumber:C,temporaryProof:N}=c;return g||h||C||N?new Io({verificationId:h,verificationCode:g,phoneNumber:C,temporaryProof:N}):null}}class uu{constructor(c){var h,g,C,N,Z,ge;const et=(0,L.I9)((0,L.hp)(c)),It=null!==(h=et.apiKey)&&void 0!==h?h:null,pn=null!==(g=et.oobCode)&&void 0!==g?g:null,Zn=function Yn(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=et.mode)&&void 0!==C?C:null);ae(It&&pn&&Zn,"argument-error"),this.apiKey=It,this.operation=Zn,this.code=pn,this.continueUrl=null!==(N=et.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Z=et.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ge=et.tenantId)&&void 0!==ge?ge:null}static parseLink(c){const h=function zp(m){const c=(0,L.I9)((0,L.hp)(m)).link,h=c?(0,L.I9)((0,L.hp)(c)).deep_link_id:null,g=(0,L.I9)((0,L.hp)(m)).deep_link_id;return(g?(0,L.I9)((0,L.hp)(g)).link:null)||g||h||c||m}(c);try{return new uu(h)}catch{return null}}}let zd=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(h,g){return He._fromEmailAndPassword(h,g)}static credentialWithLink(h,g){const C=uu.parseLink(g);return ae(C,"argument-error"),He._fromEmailAndCode(h,C.code,C.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Oa{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class yc extends Oa{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class oa extends yc{static credentialFromJSON(c){const h="string"==typeof c?JSON.parse(c):c;return ae("providerId"in h&&"signInMethod"in h,"argument-error"),Wt._fromParams(h)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ae(c.idToken||c.accessToken,"argument-error"),Wt._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return oa.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return oa.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:h,oauthAccessToken:g,oauthTokenSecret:C,pendingToken:N,nonce:Z,providerId:ge}=c;if(!g&&!C&&!h&&!N||!ge)return null;try{return new oa(ge)._credential({idToken:h,accessToken:g,nonce:Z,pendingToken:N})}catch{return null}}}let Hp=(()=>{class m extends yc{constructor(){super("facebook.com")}static credential(h){return Wt._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Hd=(()=>{class m extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(h,g){return Wt._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:g})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:C}=h;if(!g&&!C)return null;try{return m.credential(g,C)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Mb=(()=>{class m extends yc{constructor(){super("github.com")}static credential(h){return Wt._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class cu extends Or{constructor(c,h){super(c,c),this.pendingToken=h}_getIdTokenResponse(c){return Ze(c,this.buildRequest())}_linkToIdToken(c,h){const g=this.buildRequest();return g.idToken=h,Ze(c,g)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,Ze(c,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:g,signInMethod:C,pendingToken:N}=h;return g&&C&&N&&g===C?new cu(g,N):null}static _create(c,h){return new cu(c,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class sa extends Oa{constructor(c){ae(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return sa.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return sa.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const h=cu.fromJSON(c);return ae(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:h,providerId:g}=c;if(!h||!g)return null;try{return cu._create(g,h)}catch{return null}}}let Nb=(()=>{class m extends yc{constructor(){super("twitter.com")}static credential(h,g){return Wt._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:g})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:g,oauthTokenSecret:C}=h;if(!g||!C)return null;try{return m.credential(g,C)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function aa(m,c){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,E.A)(function*(m,c){return wt(m,"POST","/v1/accounts:signUp",se(m,c))})).apply(this,arguments)}class Qe{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,h,g,C=!1){return(0,E.A)(function*(){const N=yield ie._fromIdTokenResponse(c,g,C),Z=qp(g);return new Qe({user:N,providerId:Z,_tokenResponse:g,operationType:h})})()}static _forOperation(c,h,g){return(0,E.A)(function*(){yield c._updateTokensIfNecessary(g,!0);const C=qp(g);return new Qe({user:c,providerId:C,_tokenResponse:g,operationType:h})})()}}function qp(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Je(m){return du.apply(this,arguments)}function du(){return(du=(0,E.A)(function*(m){var c;if((0,Ae._isFirebaseServerApp)(m.app))return Promise.reject(Oe(m));const h=Qn(m);if(yield h._initializationPromise,null!==(c=h.currentUser)&&void 0!==c&&c.isAnonymous)return new Qe({user:h.currentUser,providerId:null,operationType:"signIn"});const g=yield aa(h,{returnSecureToken:!0}),C=yield Qe._fromIdTokenResponse(h,"signIn",g,!0);return yield h._updateCurrentUser(C.user),C})).apply(this,arguments)}class hu extends L.g{constructor(c,h,g,C){var N;super(h.code,h.message),this.operationType=g,this.user=C,Object.setPrototypeOf(this,hu.prototype),this.customData={appName:c.name,tenantId:null!==(N=c.tenantId)&&void 0!==N?N:void 0,_serverResponse:h.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(c,h,g,C){return new hu(c,h,g,C)}}function fu(m,c,h,g){return("reauthenticate"===c?h._getReauthenticationResolver(m):h._getIdTokenResponse(m)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?hu._fromErrorAndOperation(m,N,c,g):N})}function Dv(m){return new Set(m.map(({providerId:c})=>c).filter(c=>!!c))}function kb(m,c){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,E.A)(function*(m,c){const h=(0,L.Ku)(m);yield Gd(!0,h,c);const{providerUserInfo:g}=yield function jn(m,c){return zn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[c]}),C=Dv(g||[]);return h.providerData=h.providerData.filter(N=>C.has(N.providerId)),C.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Wp.apply(this,arguments)}function Kp(m,c){return lo.apply(this,arguments)}function lo(){return(lo=(0,E.A)(function*(m,c,h=!1){const g=yield Bn(m,c._linkToIdToken(m.auth,yield m.getIdToken()),h);return Qe._forOperation(m,"link",g)})).apply(this,arguments)}function Gd(m,c,h){return pu.apply(this,arguments)}function pu(){return(pu=(0,E.A)(function*(m,c,h){yield kr(c);const C=!1===m?"provider-already-linked":"no-such-provider";ae(Dv(c.providerData).has(h)===m,c.auth,C)})).apply(this,arguments)}function Sv(m,c){return la.apply(this,arguments)}function la(){return(la=(0,E.A)(function*(m,c,h=!1){const{auth:g}=m;if((0,Ae._isFirebaseServerApp)(g.app))return Promise.reject(Oe(g));const C="reauthenticate";try{const N=yield Bn(m,fu(g,C,c,m),h);ae(N.idToken,g,"internal-error");const Z=Ri(N.idToken);ae(Z,g,"internal-error");const{sub:ge}=Z;return ae(m.uid===ge,g,"user-mismatch"),Qe._forOperation(m,C,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&at(g,"user-mismatch"),N}})).apply(this,arguments)}function Rv(m,c){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,E.A)(function*(m,c,h=!1){if((0,Ae._isFirebaseServerApp)(m.app))return Promise.reject(Oe(m));const g="signIn",C=yield fu(m,g,c),N=yield Qe._fromIdTokenResponse(m,g,C);return h||(yield m._updateCurrentUser(N.user)),N})).apply(this,arguments)}function ua(m,c){return qd.apply(this,arguments)}function qd(){return(qd=(0,E.A)(function*(m,c){return Rv(Qn(m),c)})).apply(this,arguments)}function Ic(m,c){return mu.apply(this,arguments)}function mu(){return(mu=(0,E.A)(function*(m,c){const h=(0,L.Ku)(m);return yield Gd(!1,h,c.providerId),Kp(h,c)})).apply(this,arguments)}function Wd(m,c){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,E.A)(function*(m,c){return Sv((0,L.Ku)(m),c)})).apply(this,arguments)}function xv(){return(xv=(0,E.A)(function*(m,c){return wt(m,"POST","/v1/accounts:signInWithCustomToken",se(m,c))})).apply(this,arguments)}function Uo(m,c){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,E.A)(function*(m,c){if((0,Ae._isFirebaseServerApp)(m.app))return Promise.reject(Oe(m));const h=Qn(m),g=yield function Mv(m,c){return xv.apply(this,arguments)}(h,{token:c,returnSecureToken:!0}),C=yield Qe._fromIdTokenResponse(h,"signIn",g);return yield h._updateCurrentUser(C.user),C}),Ec.apply(this,arguments)}class $s{constructor(c,h){this.factorId=c,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(c,h){return"phoneInfo"in h?Nv._fromServerResponse(c,h):"totpInfo"in h?Kd._fromServerResponse(c,h):at(c,"internal-error")}}class Nv extends $s{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,h){return new Nv(h)}}class Kd extends $s{constructor(c){super("totp",c)}static _fromServerResponse(c,h){return new Kd(h)}}function jo(m,c,h){var g;ae((null===(g=h.url)||void 0===g?void 0:g.length)>0,m,"invalid-continue-uri"),ae(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),c.continueUrl=h.url,c.dynamicLinkDomain=h.dynamicLinkDomain,c.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ae(h.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),c.iOSBundleId=h.iOS.bundleId),h.android&&(ae(h.android.packageName.length>0,m,"missing-android-pkg-name"),c.androidInstallApp=h.android.installApp,c.androidMinimumVersionCode=h.android.minimumVersion,c.androidPackageName=h.android.packageName)}function rr(m){return ca.apply(this,arguments)}function ca(){return(ca=(0,E.A)(function*(m){const c=Qn(m);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function kv(m,c,h){return bc.apply(this,arguments)}function bc(){return(bc=(0,E.A)(function*(m,c,h){const g=Qn(m),C={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};h&&jo(g,C,h),yield Pa(g,C,"getOobCode",_c)})).apply(this,arguments)}function Qd(m,c,h){return gu.apply(this,arguments)}function gu(){return gu=(0,E.A)(function*(m,c,h){yield St((0,L.Ku)(m),{oobCode:c,newPassword:h}).catch(function(){var g=(0,E.A)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&rr(m),C});return function(C){return g.apply(this,arguments)}}())}),gu.apply(this,arguments)}function ps(m,c){return wr.apply(this,arguments)}function wr(){return wr=(0,E.A)(function*(m,c){yield function jp(m,c){return Vs.apply(this,arguments)}((0,L.Ku)(m),{oobCode:c})}),wr.apply(this,arguments)}function Ov(m,c){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,E.A)(function*(m,c){const h=(0,L.Ku)(m),g=yield St(h,{oobCode:c}),C=g.requestType;switch(ae(C,h,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(g.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(g.mfaInfo,h,"internal-error");default:ae(g.email,h,"internal-error")}let N=null;return g.mfaInfo&&(N=$s._fromServerResponse(Qn(h),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:N},operation:C}})).apply(this,arguments)}function Fv(m,c){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,E.A)(function*(m,c){const{data:h}=yield Ov((0,L.Ku)(m),c);return h.email})).apply(this,arguments)}function wc(m,c,h){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,E.A)(function*(m,c,h){if((0,Ae._isFirebaseServerApp)(m.app))return Promise.reject(Oe(m));const g=Qn(m),Z=yield Pa(g,{returnSecureToken:!0,email:c,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aa).catch(et=>{throw"auth/password-does-not-meet-requirements"===et.code&&rr(m),et}),ge=yield Qe._fromIdTokenResponse(g,"signIn",Z);return yield g._updateCurrentUser(ge.user),ge})).apply(this,arguments)}function Lv(m,c,h){return(0,Ae._isFirebaseServerApp)(m.app)?Promise.reject(Oe(m)):ua((0,L.Ku)(m),zd.credential(c,h)).catch(function(){var g=(0,E.A)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&rr(m),C});return function(C){return g.apply(this,arguments)}}())}function Ob(m,c,h){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,E.A)(function*(m,c,h){const g=Qn(m),C={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function N(Z,ge){ae(ge.handleCodeInApp,g,"argument-error"),ge&&jo(g,Z,ge)})(C,h),yield Pa(g,C,"getOobCode",b)})).apply(this,arguments)}function Fb(m,c){const h=uu.parseLink(c);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}function Lb(m,c,h){return zo.apply(this,arguments)}function zo(){return(zo=(0,E.A)(function*(m,c,h){if((0,Ae._isFirebaseServerApp)(m.app))return Promise.reject(Oe(m));const g=(0,L.Ku)(m),C=zd.credentialWithLink(c,h||Ht());return ae(C._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),ua(g,C)})).apply(this,arguments)}function Zd(){return(Zd=(0,E.A)(function*(m,c){return oe(m,"POST","/v1/accounts:createAuthUri",se(m,c))})).apply(this,arguments)}function $b(m,c){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,E.A)(function*(m,c){const g={identifier:c,continueUri:Zt()?Ht():"http://localhost"},{signinMethods:C}=yield function Vb(m,c){return Zd.apply(this,arguments)}((0,L.Ku)(m),g);return C||[]}),Qp.apply(this,arguments)}function Bb(m,c){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,E.A)(function*(m,c){const h=(0,L.Ku)(m),C={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};c&&jo(h.auth,C,c);const{email:N}=yield function yt(m,c){return ia.apply(this,arguments)}(h.auth,C);N!==m.email&&(yield m.reload())}),Yp.apply(this,arguments)}function Vv(m,c,h){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,E.A)(function*(m,c,h){const g=(0,L.Ku)(m),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:c};h&&jo(g.auth,N,h);const{email:Z}=yield function B(m,c){return q.apply(this,arguments)}(g.auth,N);Z!==m.email&&(yield m.reload())}),Xp.apply(this,arguments)}function Zp(){return(Zp=(0,E.A)(function*(m,c){return oe(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function dt(m,c){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,E.A)(function*(m,{displayName:c,photoURL:h}){if(void 0===c&&void 0===h)return;const g=(0,L.Ku)(m),N={idToken:yield g.getIdToken(),displayName:c,photoUrl:h,returnSecureToken:!0},Z=yield Bn(g,function Ub(m,c){return Zp.apply(this,arguments)}(g.auth,N));g.displayName=Z.displayName||null,g.photoURL=Z.photoUrl||null;const ge=g.providerData.find(({providerId:et})=>"password"===et);ge&&(ge.displayName=g.displayName,ge.photoURL=g.photoURL),yield g._updateTokensIfNecessary(Z)}),Jp.apply(this,arguments)}function jb(m,c){const h=(0,L.Ku)(m);return(0,Ae._isFirebaseServerApp)(h.auth.app)?Promise.reject(Oe(h.auth)):em(h,c,null)}function uo(m,c){return em((0,L.Ku)(m),null,c)}function em(m,c,h){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,E.A)(function*(m,c,h){const{auth:g}=m,N={idToken:yield m.getIdToken(),returnSecureToken:!0};c&&(N.email=c),h&&(N.password=h);const Z=yield Bn(m,function xi(m,c){return ra.apply(this,arguments)}(g,N));yield m._updateTokensIfNecessary(Z,!0)}),Yt.apply(this,arguments)}class xn{constructor(c,h,g={}){this.isNewUser=c,this.providerId=h,this.profile=g}}class pi extends xn{constructor(c,h,g,C){super(c,h,g),this.username=C}}class Bi extends xn{constructor(c,h){super(c,"facebook.com",h)}}class Fa extends pi{constructor(c,h){super(c,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class Xi extends xn{constructor(c,h){super(c,"google.com",h)}}class $v extends pi{constructor(c,h,g){super(c,"twitter.com",h,g)}}function Bv(m){const{user:c,_tokenResponse:h}=m;return c.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Eo(m){var c,h;if(!m)return null;const{providerId:g}=m,C=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},N=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!g&&null!=m&&m.idToken){const Z=null===(h=null===(c=Ri(m.idToken))||void 0===c?void 0:c.firebase)||void 0===h?void 0:h.sign_in_provider;if(Z)return new xn(N,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!g)return null;switch(g){case"facebook.com":return new Bi(N,C);case"github.com":return new Fa(N,C);case"google.com":return new Xi(N,C);case"twitter.com":return new $v(N,C,m.screenName||null);case"custom":case"anonymous":return new xn(N,null);default:return new xn(N,g,C)}}(h)}class La{constructor(c,h,g){this.type=c,this.credential=h,this.user=g}static _fromIdtoken(c,h){return new La("enroll",c,h)}static _fromMfaPendingCredential(c){return new La("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var h,g;if(null!=c&&c.multiFactorSession){if(null!==(h=c.multiFactorSession)&&void 0!==h&&h.pendingCredential)return La._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(g=c.multiFactorSession)&&void 0!==g&&g.idToken)return La._fromIdtoken(c.multiFactorSession.idToken)}return null}}class ha{constructor(c,h,g){this.session=c,this.hints=h,this.signInResolver=g}static _fromError(c,h){const g=Qn(c),C=h.customData._serverResponse,N=(C.mfaInfo||[]).map(ge=>$s._fromServerResponse(g,ge));ae(C.mfaPendingCredential,g,"internal-error");const Z=La._fromMfaPendingCredential(C.mfaPendingCredential);return new ha(Z,N,function(){var ge=(0,E.A)(function*(et){const It=yield et._process(g,Z);delete C.mfaInfo,delete C.mfaPendingCredential;const pn=Object.assign(Object.assign({},C),{idToken:It.idToken,refreshToken:It.refreshToken});switch(h.operationType){case"signIn":const Zn=yield Qe._fromIdTokenResponse(g,h.operationType,pn);return yield g._updateCurrentUser(Zn.user),Zn;case"reauthenticate":return ae(h.user,g,"internal-error"),Qe._forOperation(h.user,h.operationType,pn);default:at(g,"internal-error")}});return function(et){return ge.apply(this,arguments)}}())}resolveSignIn(c){var h=this;return(0,E.A)(function*(){return h.signInResolver(c)})()}}function Gb(m,c){var h;const g=(0,L.Ku)(m),C=c;return ae(c.customData.operationType,g,"argument-error"),ae(null===(h=C.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,g,"argument-error"),ha._fromError(g,C)}class ci{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(g=>$s._fromServerResponse(c.auth,g)))})}static _fromUser(c){return new ci(c)}getSession(){var c=this;return(0,E.A)(function*(){return La._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,h){var g=this;return(0,E.A)(function*(){const C=c,N=yield g.getSession(),Z=yield Bn(g.user,C._process(g.user.auth,N,h));return yield g.user._updateTokensIfNecessary(Z),g.user.reload()})()}unenroll(c){var h=this;return(0,E.A)(function*(){const g="string"==typeof c?c:c.uid,C=yield h.user.getIdToken();try{const N=yield Bn(h.user,function th(m,c){return oe(m,"POST","/v2/accounts/mfaEnrollment:withdraw",se(m,c))}(h.user.auth,{idToken:C,mfaEnrollmentId:g}));h.enrolledFactors=h.enrolledFactors.filter(({uid:Z})=>Z!==g),yield h.user._updateTokensIfNecessary(N),yield h.user.reload()}catch(N){throw N}})()}}const Va=new WeakMap;function sm(m){const c=(0,L.Ku)(m);return Va.has(c)||Va.set(c,ci._fromUser(c)),Va.get(c)}const nh="__sak";class zv{constructor(c,h){this.storageRetriever=c,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,h){return this.storage.setItem(c,JSON.stringify(h)),Promise.resolve()}_get(c){const h=this.storage.getItem(c);return Promise.resolve(h?JSON.parse(h):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gv=(()=>{class m extends zv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,g)=>this.onStorageEvent(h,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hv(){const m=(0,L.ZQ)();return Vr(m)||$i(m)}()&&function kt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Be(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const g of Object.keys(this.listeners)){const C=this.storage.getItem(g),N=this.localCache[g];C!==N&&h(g,N,C)}}onStorageEvent(h,g=!1){if(!h.key)return void this.forAllChangedKeys((ge,et,It)=>{this.notifyListeners(ge,It)});const C=h.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(C);if(h.newValue!==ge)null!==h.newValue?this.storage.setItem(C,h.newValue):this.storage.removeItem(C);else if(this.localCache[C]===h.newValue&&!g)return}const N=()=>{const ge=this.storage.getItem(C);!g&&this.localCache[C]===ge||this.notifyListeners(C,ge)},Z=this.storage.getItem(C);!function ue(){return(0,L.lT)()&&10===document.documentMode}()||Z===h.newValue||h.newValue===h.oldValue?N():setTimeout(N,10)}notifyListeners(h,g){this.localCache[h]=g;const C=this.listeners[h];if(C)for(const N of Array.from(C))N(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,g,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:g,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,g){var C=()=>super._set,N=this;return(0,E.A)(function*(){yield C().call(N,h,g),N.localCache[h]=JSON.stringify(g)})()}_get(h){var g=()=>super._get,C=this;return(0,E.A)(function*(){const N=yield g().call(C,h);return C.localCache[h]=JSON.stringify(N),N})()}_remove(h){var g=()=>super._remove,C=this;return(0,E.A)(function*(){yield g().call(C,h),delete C.localCache[h]})()}}return m.type="LOCAL",m})(),ms=(()=>{class m extends zv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,g){}_removeListener(h,g){}}return m.type="SESSION",m})();let rh=(()=>{class m{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const g=this.receivers.find(N=>N.isListeningto(h));if(g)return g;const C=new m(h);return this.receivers.push(C),C}isListeningto(h){return this.eventTarget===h}handleEvent(h){var g=this;return(0,E.A)(function*(){const C=h,{eventId:N,eventType:Z,data:ge}=C.data,et=g.handlersMap[Z];if(null==et||!et.size)return;C.ports[0].postMessage({status:"ack",eventId:N,eventType:Z});const It=Array.from(et).map(function(){var Zn=(0,E.A)(function*(Ao){return Ao(C.origin,ge)});return function(Ao){return Zn.apply(this,arguments)}}()),pn=yield function Wv(m){return Promise.all(m.map(function(){var c=(0,E.A)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(g){return{fulfilled:!1,reason:g}}});return function(h){return c.apply(this,arguments)}}()))}(It);C.ports[0].postMessage({status:"done",eventId:N,eventType:Z,response:pn})})()}_subscribe(h,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(g)}_unsubscribe(h,g){this.handlersMap[h]&&g&&this.handlersMap[h].delete(g),(!g||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Bs(m="",c=10){let h="";for(let g=0;g<c;g++)h+=Math.floor(10*Math.random());return m+h}class Wb{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,h,g=50){var C=this;return(0,E.A)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Z,ge;return new Promise((et,It)=>{const pn=Bs("",20);N.port1.start();const Zn=setTimeout(()=>{It(new Error("unsupported_event"))},g);ge={messageChannel:N,onMessage(Ao){const za=Ao;if(za.data.eventId===pn)switch(za.data.status){case"ack":clearTimeout(Zn),Z=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),et(za.data.response);break;default:clearTimeout(Zn),clearTimeout(Z),It(new Error("invalid_response"))}}},C.handlers.add(ge),N.port1.addEventListener("message",ge.onMessage),C.target.postMessage({eventType:c,eventId:pn,data:h},[N.port2])}).finally(()=>{ge&&C.removeMessageHandler(ge)})})()}}function mi(){return window}function ih(){return typeof mi().WorkerGlobalScope<"u"&&"function"==typeof mi().importScripts}function vl(){return(vl=(0,E.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Kv="firebaseLocalStorageDb",oh="firebaseLocalStorage",Qv="fbase_key";class yl{constructor(c){this.request=c}toPromise(){return new Promise((c,h)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Il(m,c){return m.transaction([oh],c?"readwrite":"readonly").objectStore(oh)}function bt(){const m=indexedDB.open(Kv,1);return new Promise((c,h)=>{m.addEventListener("error",()=>{h(m.error)}),m.addEventListener("upgradeneeded",()=>{const g=m.result;try{g.createObjectStore(oh,{keyPath:Qv})}catch(C){h(C)}}),m.addEventListener("success",(0,E.A)(function*(){const g=m.result;g.objectStoreNames.contains(oh)?c(g):(g.close(),yield function $r(){const m=indexedDB.deleteDatabase(Kv);return new yl(m).toPromise()}(),c(yield bt()))}))})}function fn(m,c,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,E.A)(function*(m,c,h){const g=Il(m,!0).put({[Qv]:c,value:h});return new yl(g).toPromise()})).apply(this,arguments)}function Ni(){return(Ni=(0,E.A)(function*(m,c){const h=Il(m,!1).get(c),g=yield new yl(h).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function bo(m,c){const h=Il(m,!0).delete(c);return new yl(h).toPromise()}const rs=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,E.A)(function*(){return h.db||(h.db=yield bt()),h.db})()}_withRetries(h){var g=this;return(0,E.A)(function*(){let C=0;for(;;)try{const N=yield g._openDb();return yield h(N)}catch(N){if(C++>3)throw N;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,E.A)(function*(){return ih()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,E.A)(function*(){h.receiver=rh._getInstance(function Yb(){return ih()?self:null}()),h.receiver._subscribe("keyChanged",function(){var g=(0,E.A)(function*(C,N){return{keyProcessed:(yield h._poll()).includes(N.key)}});return function(C,N){return g.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var g=(0,E.A)(function*(C,N){return["keyChanged"]});return function(C,N){return g.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,E.A)(function*(){var g,C;if(h.activeServiceWorker=yield function Kb(){return vl.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Wb(h.activeServiceWorker);const N=yield h.sender._send("ping",{},800);N&&null!==(g=N[0])&&void 0!==g&&g.fulfilled&&null!==(C=N[0])&&void 0!==C&&C.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var g=this;return(0,E.A)(function*(){if(g.sender&&g.activeServiceWorker&&function Qb(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:h},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.A)(function*(){try{if(!indexedDB)return!1;const h=yield bt();return yield fn(h,nh,"1"),yield bo(h,nh),!0}catch{}return!1})()}_withPendingWrite(h){var g=this;return(0,E.A)(function*(){g.pendingWrites++;try{yield h()}finally{g.pendingWrites--}})()}_set(h,g){var C=this;return(0,E.A)(function*(){return C._withPendingWrite((0,E.A)(function*(){return yield C._withRetries(N=>fn(N,h,g)),C.localCache[h]=g,C.notifyServiceWorker(h)}))})()}_get(h){var g=this;return(0,E.A)(function*(){const C=yield g._withRetries(N=>function gs(m,c){return Ni.apply(this,arguments)}(N,h));return g.localCache[h]=C,C})()}_remove(h){var g=this;return(0,E.A)(function*(){return g._withPendingWrite((0,E.A)(function*(){return yield g._withRetries(C=>bo(C,h)),delete g.localCache[h],g.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,E.A)(function*(){const g=yield h._withRetries(Z=>{const ge=Il(Z,!1).getAll();return new yl(ge).toPromise()});if(!g)return[];if(0!==h.pendingWrites)return[];const C=[],N=new Set;if(0!==g.length)for(const{fbase_key:Z,value:ge}of g)N.add(Z),JSON.stringify(h.localCache[Z])!==JSON.stringify(ge)&&(h.notifyListeners(Z,ge),C.push(Z));for(const Z of Object.keys(h.localCache))h.localCache[Z]&&!N.has(Z)&&(h.notifyListeners(Z,null),C.push(Z));return C})()}notifyListeners(h,g){this.localCache[h]=g;const C=this.listeners[h];if(C)for(const N of Array.from(C))N(g)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,E.A)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),$a=1e12;class Iu{constructor(c){this.auth=c,this.counter=$a,this._widgets=new Map}render(c,h){const g=this.counter;return this._widgets.set(g,new Us(c,this.auth.name,h||{})),this.counter++,g}reset(c){var h;const g=c||$a;null===(h=this._widgets.get(g))||void 0===h||h.delete(),this._widgets.delete(g)}getResponse(c){var h;return(null===(h=this._widgets.get(c||$a))||void 0===h?void 0:h.getResponse())||""}execute(c){var h=this;return(0,E.A)(function*(){var g;return null===(g=h._widgets.get(c||$a))||void 0===g||g.execute(),""})()}}class Us{constructor(c,h,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof c?document.getElementById(c):c;ae(C,"argument-error",{appName:h}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dc(m){const c=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<m;g++)c.push(h.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":h}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sh=Ud("rcb"),Ba=new H(3e4,6e4);class Sc{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=mi().grecaptcha)||void 0===c||!c.render)}load(c,h=""){return ae(function El(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(h),c,"argument-error"),this.shouldResolveImmediately(h)&&On(mi().grecaptcha)?Promise.resolve(mi().grecaptcha):new Promise((g,C)=>{const N=mi().setTimeout(()=>{C(le(c,"network-request-failed"))},Ba.get());mi()[sh]=()=>{mi().clearTimeout(N),delete mi()[sh];const ge=mi().grecaptcha;if(!ge||!On(ge))return void C(le(c,"internal-error"));const et=ge.render;ge.render=(It,pn)=>{const Zn=et(It,pn);return this.counter++,Zn},this.hostLanguage=h,g(ge)},gn(`${function gl(){return ml.recaptchaV2Script}()}?${(0,L.Am)({onload:sh,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(N),C(le(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var h;return!(null===(h=mi().grecaptcha)||void 0===h||!h.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rn{load(c){return(0,E.A)(function*(){return new Iu(c)})()}clearedOneInstance(){}}const ah="recaptcha",Rc={theme:"light",type:"image"};class js{constructor(c,h,g=Object.assign({},Rc)){this.parameters=g,this.type=ah,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qn(c),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof h?document.getElementById(h):h;ae(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rn:new Sc,this.validateStartingState()}verify(){var c=this;return(0,E.A)(function*(){c.assertNotDestroyed();const h=yield c.render(),g=c.getAssertedRecaptcha();return g.getResponse(h)||new Promise(N=>{const Z=ge=>{ge&&(c.tokenChangeListeners.delete(Z),N(ge))};c.tokenChangeListeners.add(Z),c.isInvisible&&g.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return h=>{if(this.tokenChangeListeners.forEach(g=>g(h)),"function"==typeof c)c(h);else if("string"==typeof c){const g=mi()[c];"function"==typeof g&&g(h)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,E.A)(function*(){if(yield c.init(),!c.widgetId){let h=c.container;if(!c.isInvisible){const g=document.createElement("div");h.appendChild(g),h=g}c.widgetId=c.getAssertedRecaptcha().render(h,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,E.A)(function*(){ae(Zt()&&!ih(),c.auth,"internal-error"),yield function lh(){let m=null;return new Promise(c=>{"complete"!==document.readyState?(m=()=>c(),window.addEventListener("load",m)):c()}).catch(c=>{throw m&&window.removeEventListener("load",m),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const h=yield function nt(m){return Ne.apply(this,arguments)}(c.auth);ae(h,c.auth,"internal-error"),c.parameters.sitekey=h})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ua{constructor(c,h){this.verificationId=c,this.onConfirmation=h}confirm(c){const h=Io._fromVerification(this.verificationId,c);return this.onConfirmation(h)}}function di(m,c,h){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,E.A)(function*(m,c,h){if((0,Ae._isFirebaseServerApp)(m.app))return Promise.reject(Oe(m));const g=Qn(m),C=yield bl(g,c,(0,L.Ku)(h));return new Ua(C,N=>ua(g,N))})).apply(this,arguments)}function Zi(m,c,h){return ki.apply(this,arguments)}function ki(){return(ki=(0,E.A)(function*(m,c,h){const g=(0,L.Ku)(m);yield Gd(!1,g,"phone");const C=yield bl(g.auth,c,(0,L.Ku)(h));return new Ua(C,N=>Ic(g,N))})).apply(this,arguments)}function am(m,c,h){return fa.apply(this,arguments)}function fa(){return(fa=(0,E.A)(function*(m,c,h){const g=(0,L.Ku)(m);if((0,Ae._isFirebaseServerApp)(g.auth.app))return Promise.reject(Oe(g.auth));const C=yield bl(g.auth,c,(0,L.Ku)(h));return new Ua(C,N=>Wd(g,N))})).apply(this,arguments)}function bl(m,c,h){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,E.A)(function*(m,c,h){var g;const C=yield h.verify();try{let N;if(ae("string"==typeof C,m,"argument-error"),ae(h.type===ah,m,"argument-error"),N="string"==typeof c?{phoneNumber:c}:c,"session"in N){const Z=N.session;if("phoneNumber"in N)return ae("enroll"===Z.type,m,"internal-error"),(yield function im(m,c){return oe(m,"POST","/v2/accounts/mfaEnrollment:start",se(m,c))}(m,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{ae("signin"===Z.type,m,"internal-error");const ge=(null===(g=N.multiFactorHint)||void 0===g?void 0:g.uid)||N.multiFactorUid;return ae(ge,m,"missing-multi-factor-info"),(yield function Cn(m,c){return oe(m,"POST","/v2/accounts/mfaSignIn:start",se(m,c))}(m,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield function sn(m,c){return sr.apply(this,arguments)}(m,{phoneNumber:N.phoneNumber,recaptchaToken:C});return Z}}finally{h._reset()}}),Ho.apply(this,arguments)}function lm(m,c){return um.apply(this,arguments)}function um(){return(um=(0,E.A)(function*(m,c){const h=(0,L.Ku)(m);if((0,Ae._isFirebaseServerApp)(h.auth.app))return Promise.reject(Oe(h.auth));yield Kp(h,c)})).apply(this,arguments)}let Zb=(()=>{class m{constructor(h){this.providerId=m.PROVIDER_ID,this.auth=Qn(h)}verifyPhoneNumber(h,g){return bl(this.auth,h,(0,L.Ku)(g))}static credential(h,g){return Io._fromVerification(h,g)}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:g,temporaryProof:C}=h;return g&&C?Io._fromTokenResponse(g,C):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function pa(m,c){return c?ft(c):(ae(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class uh extends Or{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Ze(c,this._buildIdpRequest())}_linkToIdToken(c,h){return Ze(c,this._buildIdpRequest(h))}_getReauthenticationResolver(c){return Ze(c,this._buildIdpRequest())}_buildIdpRequest(c){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(h.idToken=c),h}}function Jb(m){return Rv(m.auth,new uh(m),m.bypassAuthState)}function cm(m){const{auth:c,user:h}=m;return ae(h,c,"internal-error"),Sv(h,new uh(m),m.bypassAuthState)}function yM(m){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,E.A)(function*(m){const{auth:c,user:h}=m;return ae(h,c,"internal-error"),Kp(h,new uh(m),m.bypassAuthState)})).apply(this,arguments)}class eC{constructor(c,h,g,C,N=!1){this.auth=c,this.resolver=g,this.user=C,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var c=this;return new Promise(function(){var h=(0,E.A)(function*(g,C){c.pendingPromise={resolve:g,reject:C};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(N){c.reject(N)}});return function(g,C){return h.apply(this,arguments)}}())}onAuthEvent(c){var h=this;return(0,E.A)(function*(){const{urlResponse:g,sessionId:C,postBody:N,tenantId:Z,error:ge,type:et}=c;if(ge)return void h.reject(ge);const It={auth:h.auth,requestUri:g,sessionId:C,tenantId:Z||void 0,postBody:N||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(et)(It))}catch(pn){h.reject(pn)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Jb;case"linkViaPopup":case"linkViaRedirect":return yM;case"reauthViaPopup":case"reauthViaRedirect":return cm;default:at(this.auth,"internal-error")}}resolve(c){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IM=new H(2e3,1e4);function EM(m,c,h){return Zv.apply(this,arguments)}function Zv(){return(Zv=(0,E.A)(function*(m,c,h){if((0,Ae._isFirebaseServerApp)(m.app))return Promise.reject(le(m,"operation-not-supported-in-this-environment"));const g=Qn(m);Ye(m,c,Oa);const C=pa(g,h);return new ty(g,"signInViaPopup",c,C).executeNotNull()})).apply(this,arguments)}function bM(m,c,h){return Jv.apply(this,arguments)}function Jv(){return(Jv=(0,E.A)(function*(m,c,h){const g=(0,L.Ku)(m);if((0,Ae._isFirebaseServerApp)(g.auth.app))return Promise.reject(le(g.auth,"operation-not-supported-in-this-environment"));Ye(g.auth,c,Oa);const C=pa(g.auth,h);return new ty(g.auth,"reauthViaPopup",c,C,g).executeNotNull()})).apply(this,arguments)}function CM(m,c,h){return ey.apply(this,arguments)}function ey(){return(ey=(0,E.A)(function*(m,c,h){const g=(0,L.Ku)(m);Ye(g.auth,c,Oa);const C=pa(g.auth,h);return new ty(g.auth,"linkViaPopup",c,C,g).executeNotNull()})).apply(this,arguments)}let ty=(()=>{class m extends eC{constructor(h,g,C,N,Z){super(h,g,N,Z),this.provider=C,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var h=this;return(0,E.A)(function*(){const g=yield h.execute();return ae(g,h.auth,"internal-error"),g})()}onExecution(){var h=this;return(0,E.A)(function*(){gt(1===h.filter.length,"Popup operations only handle one event");const g=Bs();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],g),h.authWindow.associatedEvent=g,h.resolver._originValidation(h.auth).catch(C=>{h.reject(C)}),h.resolver._isIframeWebStorageSupported(h.auth,C=>{C||h.reject(le(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const h=()=>{var g,C;this.pollId=null!==(C=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(le(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,IM.get())};h()}}return m.currentPopupAction=null,m})();const wM="pendingRedirect",Eu=new Map;class ny extends eC{constructor(c,h,g=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,g),this.eventId=null}execute(){var c=()=>super.execute,h=this;return(0,E.A)(function*(){let g=Eu.get(h.auth._key());if(!g){try{const N=(yield function TM(m,c){return ry.apply(this,arguments)}(h.resolver,h.auth))?yield c().call(h):null;g=()=>Promise.resolve(N)}catch(C){g=()=>Promise.reject(C)}Eu.set(h.auth._key(),g)}return h.bypassAuthState||Eu.set(h.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(c){var h=()=>super.onAuthEvent,g=this;return(0,E.A)(function*(){if("signInViaRedirect"===c.type)return h().call(g,c);if("unknown"!==c.type){if(c.eventId){const C=yield g.auth._redirectUserForId(c.eventId);if(C)return g.user=C,h().call(g,c);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,E.A)(function*(){})()}cleanUp(){}}function ry(){return(ry=(0,E.A)(function*(m,c){const h=hm(c),g=co(m);if(!(yield g._isAvailable()))return!1;const C="true"===(yield g._get(h));return yield g._remove(h),C})).apply(this,arguments)}function iy(m,c){return oy.apply(this,arguments)}function oy(){return(oy=(0,E.A)(function*(m,c){return co(m)._set(hm(c),"true")})).apply(this,arguments)}function tC(){Eu.clear()}function dm(m,c){Eu.set(m._key(),c)}function co(m){return ft(m._redirectPersistence)}function hm(m){return Hn(wM,m.config.apiKey,m.name)}function nC(m,c,h){return function rC(m,c,h){return ch.apply(this,arguments)}(m,c,h)}function ch(){return(ch=(0,E.A)(function*(m,c,h){if((0,Ae._isFirebaseServerApp)(m.app))return Promise.reject(Oe(m));const g=Qn(m);Ye(m,c,Oa),yield g._initializationPromise;const C=pa(g,h);return yield iy(C,g),C._openRedirect(g,c,"signInViaRedirect")})).apply(this,arguments)}function sy(m,c,h){return function iC(m,c,h){return Mc.apply(this,arguments)}(m,c,h)}function Mc(){return(Mc=(0,E.A)(function*(m,c,h){const g=(0,L.Ku)(m);if(Ye(g.auth,c,Oa),(0,Ae._isFirebaseServerApp)(g.auth.app))return Promise.reject(Oe(g.auth));yield g.auth._initializationPromise;const C=pa(g.auth,h);yield iy(C,g.auth);const N=yield vr(g);return C._openRedirect(g.auth,c,"reauthViaRedirect",N)})).apply(this,arguments)}function oC(m,c,h){return function zs(m,c,h){return dh.apply(this,arguments)}(m,c,h)}function dh(){return(dh=(0,E.A)(function*(m,c,h){const g=(0,L.Ku)(m);Ye(g.auth,c,Oa),yield g.auth._initializationPromise;const C=pa(g.auth,h);yield Gd(!1,g,c.providerId),yield iy(C,g.auth);const N=yield vr(g);return C._openRedirect(g.auth,c,"linkViaRedirect",N)})).apply(this,arguments)}function ay(m,c){return hh.apply(this,arguments)}function hh(){return(hh=(0,E.A)(function*(m,c){return yield Qn(m)._initializationPromise,fm(m,c,!1)})).apply(this,arguments)}function fm(m,c){return ly.apply(this,arguments)}function ly(){return(ly=(0,E.A)(function*(m,c,h=!1){if((0,Ae._isFirebaseServerApp)(m.app))return Promise.reject(Oe(m));const g=Qn(m),C=pa(g,c),Z=yield new ny(g,C,h).execute();return Z&&!h&&(delete Z.user._redirectEventId,yield g._persistUserIfCurrent(Z.user),yield g._setRedirectUser(null,c)),Z})).apply(this,arguments)}function vr(m){return xc.apply(this,arguments)}function xc(){return(xc=(0,E.A)(function*(m){const c=Bs(`${m.uid}:::`);return m._redirectEventId=c,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),c})).apply(this,arguments)}class Ji{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let h=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(c,g)&&(h=!0,this.sendToConsumer(c,g),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Cu(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bu(m);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=c,h=!0)),h}sendToConsumer(c,h){var g;if(c.error&&!bu(c)){const C=(null===(g=c.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";h.onError(le(this.auth,C))}else h.onAuthEvent(c)}isEventForConsumer(c,h){const g=null===h.eventId||!!c.eventId&&c.eventId===h.eventId;return h.filter.includes(c.type)&&g}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uy(c))}saveEventToCache(c){this.cachedEventUids.add(uy(c)),this.lastProcessedEventTime=Date.now()}}function uy(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(c=>c).join("-")}function bu({type:m,error:c}){return"unknown"===m&&"auth/no-auth-event"===(null==c?void 0:c.code)}function Co(m){return pm.apply(this,arguments)}function pm(){return(pm=(0,E.A)(function*(m,c={}){return oe(m,"GET","/v1/projects",c)})).apply(this,arguments)}const mm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sC=/^https?/;function fh(){return(fh=(0,E.A)(function*(m){if(m.config.emulator)return;const{authorizedDomains:c}=yield Co(m);for(const h of c)try{if(aC(h))return}catch{}at(m,"unauthorized-domain")})).apply(this,arguments)}function aC(m){const c=Ht(),{protocol:h,hostname:g}=new URL(c);if(m.startsWith("chrome-extension://")){const Z=new URL(m);return""===Z.hostname&&""===g?"chrome-extension:"===h&&m.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===h&&Z.hostname===g}if(!sC.test(h))return!1;if(mm.test(m))return g===m;const C=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(g)}const cy=new H(3e4,6e4);function ph(){const m=mi().___jsl;if(null!=m&&m.H)for(const c of Object.keys(m.H))if(m.H[c].r=m.H[c].r||[],m.H[c].L=m.H[c].L||[],m.H[c].r=[...m.H[c].L],m.CP)for(let h=0;h<m.CP.length;h++)m.CP[h]=null}let ja=null;const _m=new H(5e3,15e3),Cl="__/auth/iframe",wn="emulator/auth/iframe",dy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lC(m){const c=m.config;ae(c.authDomain,m,"auth-domain-config-required");const h=c.emulator?S(c,wn):`https://${m.config.authDomain}/${Cl}`,g={apiKey:c.apiKey,appName:m.name,v:Ae.SDK_VERSION},C=AM.get(m.config.apiHost);C&&(g.eid=C);const N=m._getFrameworks();return N.length&&(g.fw=N.join(",")),`${h}?${(0,L.Am)(g).slice(1)}`}function vm(){return vm=(0,E.A)(function*(m){const c=yield function mh(m){return ja=ja||function gm(m){return new Promise((c,h)=>{var g,C,N;function Z(){ph(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{ph(),h(le(m,"network-request-failed"))},timeout:cy.get()})}if(null!==(C=null===(g=mi().gapi)||void 0===g?void 0:g.iframes)&&void 0!==C&&C.Iframe)c(gapi.iframes.getContext());else{if(null===(N=mi().gapi)||void 0===N||!N.load){const ge=Ud("iframefcb");return mi()[ge]=()=>{gapi.load?Z():h(le(m,"network-request-failed"))},gn(`${function Bd(){return ml.gapiScript}()}?onload=${ge}`).catch(et=>h(et))}Z()}}).catch(c=>{throw ja=null,c})}(m),ja}(m),h=mi().gapi;return ae(h,m,"internal-error"),c.open({where:document.body,url:lC(m),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dy,dontclear:!0},g=>new Promise(function(){var C=(0,E.A)(function*(N,Z){yield g.restyle({setHideOnLeave:!1});const ge=le(m,"network-request-failed"),et=mi().setTimeout(()=>{Z(ge)},_m.get());function It(){mi().clearTimeout(et),N(g)}g.ping(It).then(It,()=>{Z(ge)})});return function(N,Z){return C.apply(this,arguments)}}()))}),vm.apply(this,arguments)}const hy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fy{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xn="__/auth/handler",nn="emulator/auth/handler",rn=encodeURIComponent("fac");function dr(m,c,h,g,C,N){return gh.apply(this,arguments)}function gh(){return(gh=(0,E.A)(function*(m,c,h,g,C,N){ae(m.config.authDomain,m,"auth-domain-config-required"),ae(m.config.apiKey,m,"invalid-api-key");const Z={apiKey:m.config.apiKey,appName:m.name,authType:h,redirectUrl:g,v:Ae.SDK_VERSION,eventId:C};if(c instanceof Oa){c.setDefaultLanguage(m.languageCode),Z.providerId=c.providerId||"",(0,L.Im)(c.getCustomParameters())||(Z.customParameters=JSON.stringify(c.getCustomParameters()));for(const[pn,Zn]of Object.entries(N||{}))Z[pn]=Zn}if(c instanceof yc){const pn=c.getScopes().filter(Zn=>""!==Zn);pn.length>0&&(Z.scopes=pn.join(","))}m.tenantId&&(Z.tid=m.tenantId);const ge=Z;for(const pn of Object.keys(ge))void 0===ge[pn]&&delete ge[pn];const et=yield m._getAppCheckToken(),It=et?`#${rn}=${encodeURIComponent(et)}`:"";return`${function kc({config:m}){return m.emulator?S(m,nn):`https://${m.authDomain}/${Xn}`}(m)}?${(0,L.Am)(ge).slice(1)}${It}`})).apply(this,arguments)}const is="webStorageSupport",_h=class ym{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ms,this._completeRedirectFn=fm,this._overrideRedirectResult=dm}_openPopup(c,h,g,C){var N=this;return(0,E.A)(function*(){var Z;gt(null===(Z=N.eventManagers[c._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ge=yield dr(c,h,g,Ht(),C);return function fC(m,c,h,g=500,C=600){const N=Math.max((window.screen.availHeight-C)/2,0).toString(),Z=Math.max((window.screen.availWidth-g)/2,0).toString();let ge="";const et=Object.assign(Object.assign({},hy),{width:g.toString(),height:C.toString(),top:N,left:Z}),It=(0,L.ZQ)().toLowerCase();h&&(ge=Ei(It)?"_blank":h),Jt(It)&&(c=c||"http://localhost",et.scrollbars="yes");const pn=Object.entries(et).reduce((Ao,[za,Oc])=>`${Ao}${za}=${Oc},`,"");if(function Te(m=(0,L.ZQ)()){var c;return $i(m)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(It)&&"_self"!==ge)return function Ue(m,c){const h=document.createElement("a");h.href=m,h.target=c;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(g)}(c||"",ge),new fy(null);const Zn=window.open(c||"",ge,pn);ae(Zn,m,"popup-blocked");try{Zn.focus()}catch{}return new fy(Zn)}(c,ge,Bs())})()}_openRedirect(c,h,g,C){var N=this;return(0,E.A)(function*(){return yield N._originValidation(c),function bi(m){mi().location.href=m}(yield dr(c,h,g,Ht(),C)),new Promise(()=>{})})()}_initialize(c){const h=c._key();if(this.eventManagers[h]){const{manager:C,promise:N}=this.eventManagers[h];return C?Promise.resolve(C):(gt(N,"If manager is not set, promise should be"),N)}const g=this.initAndGetManager(c);return this.eventManagers[h]={promise:g},g.catch(()=>{delete this.eventManagers[h]}),g}initAndGetManager(c){var h=this;return(0,E.A)(function*(){const g=yield function uC(m){return vm.apply(this,arguments)}(c),C=new Ji(c);return g.register("authEvent",N=>(ae(null==N?void 0:N.authEvent,c,"invalid-auth-event"),{status:C.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[c._key()]={manager:C},h.iframes[c._key()]=g,C})()}_isIframeWebStorageSupported(c,h){this.iframes[c._key()].send(is,{type:is},C=>{var N;const Z=null===(N=null==C?void 0:C[0])||void 0===N?void 0:N[is];void 0!==Z&&h(!!Z),at(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Hs(m){return fh.apply(this,arguments)}(c)),this.originValidationPromises[h]}get _shouldInitProactively(){return Be()||Vr()||$i()}};class py{constructor(c){this.factorId=c}_process(c,h,g){switch(h.type){case"enroll":return this._finalizeEnroll(c,h.credential,g);case"signin":return this._finalizeSignIn(c,h.credential);default:return Ge("unexpected MultiFactorSessionType")}}}class my extends py{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new my(c)}_finalizeEnroll(c,h,g){return function eh(m,c){return oe(m,"POST","/v2/accounts/mfaEnrollment:finalize",se(m,c))}(c,{idToken:h,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,h){return function Ac(m,c){return oe(m,"POST","/v2/accounts/mfaSignIn:finalize",se(m,c))}(c,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gy=(()=>{class m{constructor(){}static assertion(h){return my._fromCredential(h)}}return m.FACTOR_ID="phone",m})();var Gs="@firebase/auth";class vy{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var h=this;return(0,E.A)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const h=this.auth.onIdTokenChanged(g=>{c((null==g?void 0:g.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,h),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const h=this.internalListeners.get(c);h&&(this.internalListeners.delete(c),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.XA)("authIdTokenMaxAge"),function pr(m){ml=m}({loadJS:m=>new Promise((c,h)=>{const g=document.createElement("script");g.setAttribute("src",m),g.onload=c,g.onerror=C=>{const N=le("internal-error");N.customData=C,h(N)},g.type="text/javascript",g.charset="UTF-8",function yy(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function mC(m){(0,Ae._registerComponent)(new Dt.uA("auth",(c,{options:h})=>{const g=c.getProvider("app").getImmediate(),C=c.getProvider("heartbeat"),N=c.getProvider("app-check-internal"),{apiKey:Z,authDomain:ge}=g.options;ae(Z&&!Z.includes(":"),"invalid-api-key",{appName:g.name});const et={apiKey:Z,authDomain:ge,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bn(m)},It=new Kn(g,C,N,et);return function li(m,c){const h=(null==c?void 0:c.persistence)||[],g=(Array.isArray(h)?h:[h]).map(ft);null!=c&&c.errorMap&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(g,null==c?void 0:c.popupRedirectResolver)}(It,h),It},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,h,g)=>{c.getProvider("auth-internal").initialize()})),(0,Ae._registerComponent)(new Dt.uA("auth-internal",c=>{const h=Qn(c.getProvider("auth").getImmediate());return new vy(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)(Gs,"1.7.3",function pC(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(m)),(0,Ae.registerVersion)(Gs,"1.7.3","esm2017")}("Browser")},1076:(hr,tn,fe)=>{"use strict";fe.d(tn,{Am:()=>Pn,Bd:()=>Ge,FA:()=>oe,Fy:()=>Oe,I9:()=>tr,Im:()=>kn,Ku:()=>Vo,Ll:()=>ae,T9:()=>at,Uj:()=>pt,XA:()=>le,ZQ:()=>Ye,bD:()=>Ne,cY:()=>Ve,eX:()=>D,g:()=>se,gR:()=>On,hp:()=>jn,jZ:()=>At,lT:()=>ht,lV:()=>Ht,nr:()=>H,sr:()=>gt,tD:()=>An,u:()=>pe,yU:()=>we,zW:()=>S,zw:()=>xe});const ot=function(K){const j=[];let M=0;for(let F=0;F<K.length;F++){let R=K.charCodeAt(F);R<128?j[M++]=R:R<2048?(j[M++]=R>>6|192,j[M++]=63&R|128):55296==(64512&R)&&F+1<K.length&&56320==(64512&K.charCodeAt(F+1))?(R=65536+((1023&R)<<10)+(1023&K.charCodeAt(++F)),j[M++]=R>>18|240,j[M++]=R>>12&63|128,j[M++]=R>>6&63|128,j[M++]=63&R|128):(j[M++]=R>>12|224,j[M++]=R>>6&63|128,j[M++]=63&R|128)}return j},Dt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,j){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const M=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let R=0;R<K.length;R+=3){const ie=K[R],Re=R+1<K.length,ft=Re?K[R+1]:0,vn=R+2<K.length,Et=vn?K[R+2]:0;let he=(15&ft)<<2|Et>>6,Jt=63&Et;vn||(Jt=64,Re||(he=64)),F.push(M[ie>>2],M[(3&ie)<<4|ft>>4],M[he],M[Jt])}return F.join("")},encodeString(K,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(K):this.encodeByteArray(ot(K),j)},decodeString(K,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(K):function(K){const j=[];let M=0,F=0;for(;M<K.length;){const R=K[M++];if(R<128)j[F++]=String.fromCharCode(R);else if(R>191&&R<224){const ie=K[M++];j[F++]=String.fromCharCode((31&R)<<6|63&ie)}else if(R>239&&R<365){const vn=((7&R)<<18|(63&K[M++])<<12|(63&K[M++])<<6|63&K[M++])-65536;j[F++]=String.fromCharCode(55296+(vn>>10)),j[F++]=String.fromCharCode(56320+(1023&vn))}else{const ie=K[M++],Re=K[M++];j[F++]=String.fromCharCode((15&R)<<12|(63&ie)<<6|63&Re)}}return j.join("")}(this.decodeStringToByteArray(K,j))},decodeStringToByteArray(K,j){this.init_();const M=j?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let R=0;R<K.length;){const ie=M[K.charAt(R++)],ft=R<K.length?M[K.charAt(R)]:0;++R;const Et=R<K.length?M[K.charAt(R)]:64;++R;const on=R<K.length?M[K.charAt(R)]:64;if(++R,null==ie||null==ft||null==Et||null==on)throw new Ce;F.push(ie<<2|ft>>4),64!==Et&&(F.push(ft<<4&240|Et>>2),64!==on&&F.push(Et<<6&192|on))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pt=function(K){return function(K){const j=ot(K);return Dt.encodeByteArray(j,!0)}(K).replace(/\./g,"")},pe=function(K){try{return Dt.decodeString(K,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function xe(K,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return j}for(const M in j)!j.hasOwnProperty(M)||!ye(M)||(K[M]=xe(K[M],j[M]));return K}function ye(K){return"__proto__"!==K}const Ee=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=K&&pe(K[1]);return j&&JSON.parse(j)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},we=K=>{const j=(K=>{var j,M;return null===(M=null===(j=Ee())||void 0===j?void 0:j.emulatorHosts)||void 0===M?void 0:M[K]})(K);if(!j)return;const M=j.lastIndexOf(":");if(M<=0||M+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const F=parseInt(j.substring(M+1),10);return"["===j[0]?[j.substring(1,M-1),F]:[j.substring(0,M),F]},at=()=>{var K;return null===(K=Ee())||void 0===K?void 0:K.config},le=K=>{var j;return null===(j=Ee())||void 0===j?void 0:j[`_${K}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,M)=>{this.resolve=j,this.reject=M})}wrapCallback(j){return(M,F)=>{M?this.reject(M):this.resolve(F),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(M):j(M,F))}}}function Oe(K,j){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=j||"demo-project",R=K.iat||0,ie=K.sub||K.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Re=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:R,exp:R+3600,auth_time:R,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},K);return[pt(JSON.stringify({alg:"none",type:"JWT"})),pt(JSON.stringify(Re)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function At(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function ae(){var K;const j=null===(K=Ee())||void 0===K?void 0:K.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ge(){return"object"==typeof self&&self.self===self}function gt(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ht(){const K=Ye();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function H(){return!ae()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){try{return"object"==typeof indexedDB}catch{return!1}}function D(){return new Promise((K,j)=>{try{let M=!0;const F="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(F);R.onsuccess=()=>{R.result.close(),M||self.indexedDB.deleteDatabase(F),K(!0)},R.onupgradeneeded=()=>{M=!1},R.onerror=()=>{var ie;j((null===(ie=R.error)||void 0===ie?void 0:ie.message)||"")}}catch(M){j(M)}})}class se extends Error{constructor(j,M,F){super(M),this.code=j,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(j,M,F){this.service=j,this.serviceName=M,this.errors=F}create(j,...M){const F=M[0]||{},R=`${this.service}/${j}`,ie=this.errors[j],Re=ie?function qe(K,j){return K.replace(lt,(M,F)=>{const R=j[F];return null!=R?String(R):`<${F}?>`})}(ie,F):"Error";return new se(R,`${this.serviceName}: ${Re} (${R}).`,F)}}const lt=/\{\$([^}]+)}/g;function On(K,j){return Object.prototype.hasOwnProperty.call(K,j)}function kn(K){for(const j in K)if(Object.prototype.hasOwnProperty.call(K,j))return!1;return!0}function Ne(K,j){if(K===j)return!0;const M=Object.keys(K),F=Object.keys(j);for(const R of M){if(!F.includes(R))return!1;const ie=K[R],Re=j[R];if(Pe(ie)&&Pe(Re)){if(!Ne(ie,Re))return!1}else if(ie!==Re)return!1}for(const R of F)if(!M.includes(R))return!1;return!0}function Pe(K){return null!==K&&"object"==typeof K}function Pn(K){const j=[];for(const[M,F]of Object.entries(K))Array.isArray(F)?F.forEach(R=>{j.push(encodeURIComponent(M)+"="+encodeURIComponent(R))}):j.push(encodeURIComponent(M)+"="+encodeURIComponent(F));return j.length?"&"+j.join("&"):""}function tr(K){const j={};return K.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[R,ie]=F.split("=");j[decodeURIComponent(R)]=decodeURIComponent(ie)}}),j}function jn(K){const j=K.indexOf("?");if(!j)return"";const M=K.indexOf("#",j);return K.substring(j,M>0?M:void 0)}function An(K,j){const M=new qn(K,j);return M.subscribe.bind(M)}class qn{constructor(j,M){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=M,this.task.then(()=>{j(this)}).catch(F=>{this.error(F)})}next(j){this.forEachObserver(M=>{M.next(j)})}error(j){this.forEachObserver(M=>{M.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,M,F){let R;if(void 0===j&&void 0===M&&void 0===F)throw new Error("Missing Observer.");R=function _r(K,j){if("object"!=typeof K||null===K)return!1;for(const M of j)if(M in K&&"function"==typeof K[M])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:M,complete:F},void 0===R.next&&(R.next=Ii),void 0===R.error&&(R.error=Ii),void 0===R.complete&&(R.complete=Ii);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),ie}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let M=0;M<this.observers.length;M++)this.sendOne(M,j)}sendOne(j,M){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{M(this.observers[j])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ii(){}function Vo(K){return K&&K._delegate?K._delegate:K}},4442:(hr,tn,fe)=>{"use strict";fe.d(tn,{L:()=>zt,a:()=>Dt,b:()=>Ce,c:()=>Ke,d:()=>pt,g:()=>Le}),fe(5531);const zt="ionViewWillEnter",Dt="ionViewDidEnter",Ce="ionViewWillLeave",Ke="ionViewDidLeave",pt="ionViewWillUnload",Le=H=>H.classList.contains("ion-page")?H:H.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||H},5531:(hr,tn,fe)=>{"use strict";fe.d(tn,{a:()=>pe,c:()=>Ae,g:()=>pt});class E{constructor(){this.m=new Map}reset(H){this.m=new Map(Object.entries(H))}get(H,S){const D=this.m.get(H);return void 0!==D?D:S}getBoolean(H,S=!1){const D=this.m.get(H);return void 0===D?S:"string"==typeof D?"true"===D:!!D}getNumber(H,S){const D=parseFloat(this.m.get(H));return isNaN(D)?void 0!==S?S:NaN:D}set(H,S){this.m.set(H,S)}}const Ae=new E,pt=Le=>te(Le),pe=(Le,H)=>("string"==typeof Le&&(H=Le,Le=void 0),pt(Le).includes(H)),te=(Le=window)=>{if(typeof Le>"u")return[];Le.Ionic=Le.Ionic||{};let H=Le.Ionic.platforms;return null==H&&(H=Le.Ionic.platforms=xe(Le),H.forEach(S=>Le.document.documentElement.classList.add(`plt-${S}`))),H},xe=Le=>{const H=Ae.get("platform");return Object.keys(Ht).filter(S=>{const D=null==H?void 0:H[S];return"function"==typeof D?D(Le):Ht[S](Le)})},Se=Le=>!!(Ge(Le,/iPad/i)||Ge(Le,/Macintosh/i)&&at(Le)),De=Le=>Ge(Le,/android|sink/i),at=Le=>gt(Le,"(any-pointer:coarse)"),Ve=Le=>Oe(Le)||Ye(Le),Oe=Le=>!!(Le.cordova||Le.phonegap||Le.PhoneGap),Ye=Le=>{const H=Le.Capacitor;return!(null==H||!H.isNative)},Ge=(Le,H)=>H.test(Le.navigator.userAgent),gt=(Le,H)=>{var S;return null===(S=Le.matchMedia)||void 0===S?void 0:S.call(Le,H).matches},Ht={ipad:Se,iphone:Le=>Ge(Le,/iPhone/i),ios:Le=>Ge(Le,/iPhone|iPod/i)||Se(Le),android:De,phablet:Le=>{const H=Le.innerWidth,S=Le.innerHeight,D=Math.min(H,S),k=Math.max(H,S);return D>390&&D<520&&k>620&&k<800},tablet:Le=>{const H=Le.innerWidth,S=Le.innerHeight,D=Math.min(H,S),k=Math.max(H,S);return Se(Le)||(Le=>De(Le)&&!Ge(Le,/mobile/i))(Le)||D>460&&D<820&&k>780&&k<1400},cordova:Oe,capacitor:Ye,electron:Le=>Ge(Le,/electron/i),pwa:Le=>{var H;return!!(null!==(H=Le.matchMedia)&&void 0!==H&&H.call(Le,"(display-mode: standalone)").matches||Le.navigator.standalone)},mobile:at,mobileweb:Le=>at(Le)&&!Ve(Le),desktop:Le=>!at(Le),hybrid:Ve}},9986:(hr,tn,fe)=>{"use strict";fe.d(tn,{c:()=>Dt});var E=fe(8476);let Ae;const ot=(Ce,Ke,pt)=>{const pe=Ke.startsWith("animation")?(Ce=>(void 0===Ae&&(Ae=void 0===Ce.style.animationName&&void 0!==Ce.style.webkitAnimationName?"-webkit-":""),Ae))(Ce):"";Ce.style.setProperty(pe+Ke,pt)},zt=(Ce=[],Ke)=>{if(void 0!==Ke){const pt=Array.isArray(Ke)?Ke:[Ke];return[...Ce,...pt]}return Ce},Dt=Ce=>{let Ke,pt,pe,te,xe,ye,Ee,At,ae,Ge,ht,Se=[],rt=[],ke=[],De=!1,We={},we=[],at=[],le={},Ve=0,Oe=!1,Ye=!1,gt=!0,Ht=!1,Zt=!0,qt=!1;const Le=Ce,H=[],S=[],D=[],k=[],z=[],se=[],oe=[],qe=[],lt=[],un=[],wt=[],cn="function"==typeof AnimationEffect||void 0!==E.w&&"function"==typeof E.w.AnimationEffect,dn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&cn,Ut=()=>wt,kn=(X,ut)=>{const Qt=ut.findIndex(jt=>jt.c===X);Qt>-1&&ut.splice(Qt,1)},Ne=(X,ut)=>((null!=ut&&ut.oneTimeCallback?S:H).push({c:X,o:ut}),ht),Mt=()=>{dn&&(wt.forEach(X=>{X.cancel()}),wt.length=0)},Pn=()=>{se.forEach(X=>{null!=X&&X.parentNode&&X.parentNode.removeChild(X)}),se.length=0},Bn=()=>void 0!==xe?xe:Ee?Ee.getFill():"both",ai=()=>void 0!==At?At:void 0!==ye?ye:Ee?Ee.getDirection():"normal",oo=()=>Oe?"linear":void 0!==pe?pe:Ee?Ee.getEasing():"linear",Er=()=>Ye?0:void 0!==ae?ae:void 0!==pt?pt:Ee?Ee.getDuration():0,Cr=()=>void 0!==te?te:Ee?Ee.getIterations():1,kr=()=>void 0!==Ge?Ge:void 0!==Ke?Ke:Ee?Ee.getDelay():0,vn=()=>{0!==Ve&&(Ve--,0===Ve&&((()=>{lt.forEach(cr=>cr()),un.forEach(cr=>cr());const X=gt?1:0,ut=we,Qt=at,jt=le;k.forEach(cr=>{const Kn=cr.classList;ut.forEach(Qn=>Kn.add(Qn)),Qt.forEach(Qn=>Kn.remove(Qn));for(const Qn in jt)jt.hasOwnProperty(Qn)&&ot(cr,Qn,jt[Qn])}),ae=void 0,At=void 0,Ge=void 0,H.forEach(cr=>cr.c(X,ht)),S.forEach(cr=>cr.c(X,ht)),S.length=0,Zt=!0,gt&&(Ht=!0),gt=!0})(),Ee&&Ee.animationFinish()))},Hn=()=>{(()=>{oe.forEach(jt=>jt()),qe.forEach(jt=>jt());const X=rt,ut=ke,Qt=We;k.forEach(jt=>{const cr=jt.classList;X.forEach(Kn=>cr.add(Kn)),ut.forEach(Kn=>cr.remove(Kn));for(const Kn in Qt)Qt.hasOwnProperty(Kn)&&ot(jt,Kn,Qt[Kn])})})(),Se.length>0&&dn&&(k.forEach(X=>{const ut=X.animate(Se,{id:Le,delay:kr(),duration:Er(),easing:oo(),iterations:Cr(),fill:Bn(),direction:ai()});ut.pause(),wt.push(ut)}),wt.length>0&&(wt[0].onfinish=()=>{vn()})),De=!0},on=X=>{X=Math.min(Math.max(X,0),.9999),dn&&wt.forEach(ut=>{ut.currentTime=ut.effect.getComputedTiming().delay+Er()*X,ut.pause()})},he=X=>{wt.forEach(ut=>{ut.effect.updateTiming({delay:kr(),duration:Er(),easing:oo(),iterations:Cr(),fill:Bn(),direction:ai()})}),void 0!==X&&on(X)},Jt=(X=!1,ut=!0,Qt)=>(X&&z.forEach(jt=>{jt.update(X,ut,Qt)}),dn&&he(Qt),ht),Fs=()=>{De&&(dn?wt.forEach(X=>{X.pause()}):k.forEach(X=>{ot(X,"animation-play-state","paused")}),qt=!0)},Te=X=>new Promise(ut=>{null!=X&&X.sync&&(Ye=!0,Ne(()=>Ye=!1,{oneTimeCallback:!0})),De||Hn(),Ht&&(dn&&(on(0),he()),Ht=!1),Zt&&(Ve=z.length+1,Zt=!1);const Qt=()=>{kn(jt,S),ut()},jt=()=>{kn(Qt,D),ut()};Ne(jt,{oneTimeCallback:!0}),((X,ut)=>{D.push({c:X,o:{oneTimeCallback:!0}})})(Qt),z.forEach(cr=>{cr.play()}),dn?(wt.forEach(X=>{X.play()}),(0===Se.length||0===k.length)&&vn()):vn(),qt=!1}),Be=(X,ut)=>{const Qt=Se[0];return void 0===Qt||void 0!==Qt.offset&&0!==Qt.offset?Se=[{offset:0,[X]:ut},...Se]:Qt[X]=ut,ht};return ht={parentAnimation:Ee,elements:k,childAnimations:z,id:Le,animationFinish:vn,from:Be,to:(X,ut)=>{const Qt=Se[Se.length-1];return void 0===Qt||void 0!==Qt.offset&&1!==Qt.offset?Se=[...Se,{offset:1,[X]:ut}]:Qt[X]=ut,ht},fromTo:(X,ut,Qt)=>Be(X,ut).to(X,Qt),parent:X=>(Ee=X,ht),play:Te,pause:()=>(z.forEach(X=>{X.pause()}),Fs(),ht),stop:()=>{z.forEach(X=>{X.stop()}),De&&(Mt(),De=!1),Oe=!1,Ye=!1,Zt=!0,At=void 0,ae=void 0,Ge=void 0,Ve=0,Ht=!1,gt=!0,qt=!1,D.forEach(X=>X.c(0,ht)),D.length=0},destroy:X=>(z.forEach(ut=>{ut.destroy(X)}),(X=>{Mt(),X&&Pn()})(X),k.length=0,z.length=0,Se.length=0,H.length=0,S.length=0,De=!1,Zt=!0,ht),keyframes:X=>{const ut=Se!==X;return Se=X,ut&&(X=>{dn&&Ut().forEach(ut=>{const Qt=ut.effect;if(Qt.setKeyframes)Qt.setKeyframes(X);else{const jt=new KeyframeEffect(Qt.target,X,Qt.getTiming());ut.effect=jt}})})(Se),ht},addAnimation:X=>{if(null!=X)if(Array.isArray(X))for(const ut of X)ut.parent(ht),z.push(ut);else X.parent(ht),z.push(X);return ht},addElement:X=>{if(null!=X)if(1===X.nodeType)k.push(X);else if(X.length>=0)for(let ut=0;ut<X.length;ut++)k.push(X[ut]);else console.error("Invalid addElement value");return ht},update:Jt,fill:X=>(xe=X,Jt(!0),ht),direction:X=>(ye=X,Jt(!0),ht),iterations:X=>(te=X,Jt(!0),ht),duration:X=>(!dn&&0===X&&(X=1),pt=X,Jt(!0),ht),easing:X=>(pe=X,Jt(!0),ht),delay:X=>(Ke=X,Jt(!0),ht),getWebAnimations:Ut,getKeyframes:()=>Se,getFill:Bn,getDirection:ai,getDelay:kr,getIterations:Cr,getEasing:oo,getDuration:Er,afterAddRead:X=>(lt.push(X),ht),afterAddWrite:X=>(un.push(X),ht),afterClearStyles:(X=[])=>{for(const ut of X)le[ut]="";return ht},afterStyles:(X={})=>(le=X,ht),afterRemoveClass:X=>(at=zt(at,X),ht),afterAddClass:X=>(we=zt(we,X),ht),beforeAddRead:X=>(oe.push(X),ht),beforeAddWrite:X=>(qe.push(X),ht),beforeClearStyles:(X=[])=>{for(const ut of X)We[ut]="";return ht},beforeStyles:(X={})=>(We=X,ht),beforeRemoveClass:X=>(ke=zt(ke,X),ht),beforeAddClass:X=>(rt=zt(rt,X),ht),onFinish:Ne,isRunning:()=>0!==Ve&&!qt,progressStart:(X=!1,ut)=>(z.forEach(Qt=>{Qt.progressStart(X,ut)}),Fs(),Oe=X,De||Hn(),Jt(!1,!0,ut),ht),progressStep:X=>(z.forEach(ut=>{ut.progressStep(X)}),on(X),ht),progressEnd:(X,ut,Qt)=>(Oe=!1,z.forEach(jt=>{jt.progressEnd(X,ut,Qt)}),void 0!==Qt&&(ae=Qt),Ht=!1,gt=!0,0===X?(At="reverse"===ai()?"normal":"reverse","reverse"===At&&(gt=!1),dn?(Jt(),on(1-ut)):(Ge=(1-ut)*Er()*-1,Jt(!1,!1))):1===X&&(dn?(Jt(),on(ut)):(Ge=ut*Er()*-1,Jt(!1,!1))),void 0!==X&&!Ee&&Te(),ht)}}},464:(hr,tn,fe)=>{"use strict";fe.d(tn,{E:()=>pe,a:()=>E,s:()=>Ke});const E=te=>{try{if(te instanceof Ce)return te.value;if(!ot()||"string"!=typeof te||""===te)return te;if(te.includes("onload="))return"";const xe=document.createDocumentFragment(),ye=document.createElement("div");xe.appendChild(ye),ye.innerHTML=te,Dt.forEach(De=>{const Ee=xe.querySelectorAll(De);for(let We=Ee.length-1;We>=0;We--){const we=Ee[We];we.parentNode?we.parentNode.removeChild(we):xe.removeChild(we);const at=L(we);for(let le=0;le<at.length;le++)Ae(at[le])}});const Se=L(xe);for(let De=0;De<Se.length;De++)Ae(Se[De]);const rt=document.createElement("div");rt.appendChild(xe);const ke=rt.querySelector("div");return null!==ke?ke.innerHTML:rt.innerHTML}catch(xe){return console.error(xe),""}},Ae=te=>{if(te.nodeType&&1!==te.nodeType)return;if(typeof NamedNodeMap<"u"&&!(te.attributes instanceof NamedNodeMap))return void te.remove();for(let ye=te.attributes.length-1;ye>=0;ye--){const Se=te.attributes.item(ye),rt=Se.name;if(!zt.includes(rt.toLowerCase())){te.removeAttribute(rt);continue}const ke=Se.value,De=te[rt];(null!=ke&&ke.toLowerCase().includes("javascript:")||null!=De&&De.toLowerCase().includes("javascript:"))&&te.removeAttribute(rt)}const xe=L(te);for(let ye=0;ye<xe.length;ye++)Ae(xe[ye])},L=te=>null!=te.children?te.children:te.childNodes,ot=()=>{var te;const xe=window,ye=null===(te=null==xe?void 0:xe.Ionic)||void 0===te?void 0:te.config;return!ye||(ye.get?ye.get("sanitizerEnabled",!0):!0===ye.sanitizerEnabled||void 0===ye.sanitizerEnabled)},zt=["class","id","href","src","name","slot"],Dt=["script","style","iframe","meta","link","object","embed"];class Ce{constructor(xe){this.value=xe}}const Ke=te=>{const xe=window,ye=xe.Ionic;if(!ye||!ye.config||"Object"===ye.config.constructor.name)return xe.Ionic=xe.Ionic||{},xe.Ionic.config=Object.assign(Object.assign({},xe.Ionic.config),te),xe.Ionic.config},pe=!1},8621:(hr,tn,fe)=>{"use strict";fe.d(tn,{C:()=>zt,a:()=>L,d:()=>ot});var E=fe(467),Ae=fe(4920);const L=function(){var Dt=(0,E.A)(function*(Ce,Ke,pt,pe,te,xe){var ye;if(Ce)return Ce.attachViewToDom(Ke,pt,te,pe);if(!(xe||"string"==typeof pt||pt instanceof HTMLElement))throw new Error("framework delegate is missing");const Se="string"==typeof pt?null===(ye=Ke.ownerDocument)||void 0===ye?void 0:ye.createElement(pt):pt;return pe&&pe.forEach(rt=>Se.classList.add(rt)),te&&Object.assign(Se,te),Ke.appendChild(Se),yield new Promise(rt=>(0,Ae.c)(Se,rt)),Se});return function(Ke,pt,pe,te,xe,ye){return Dt.apply(this,arguments)}}(),ot=(Dt,Ce)=>{if(Ce){if(Dt)return Dt.removeViewFromDom(Ce.parentElement,Ce);Ce.remove()}return Promise.resolve()},zt=()=>{let Dt,Ce;return{attachViewToDom:function(){var pe=(0,E.A)(function*(te,xe,ye={},Se=[]){var rt,ke;let De;if(Dt=te,xe){const We="string"==typeof xe?null===(rt=Dt.ownerDocument)||void 0===rt?void 0:rt.createElement(xe):xe;Se.forEach(we=>We.classList.add(we)),Object.assign(We,ye),Dt.appendChild(We),De=We,yield new Promise(we=>(0,Ae.c)(We,we))}else if(Dt.children.length>0&&("ION-MODAL"===Dt.tagName||"ION-POPOVER"===Dt.tagName)&&!(De=Dt.children[0]).classList.contains("ion-delegate-host")){const we=null===(ke=Dt.ownerDocument)||void 0===ke?void 0:ke.createElement("div");we.classList.add("ion-delegate-host"),Se.forEach(at=>we.classList.add(at)),we.append(...Dt.children),Dt.appendChild(we),De=we}const Ee=document.querySelector("ion-app")||document.body;return Ce=document.createComment("ionic teleport"),Dt.parentNode.insertBefore(Ce,Dt),Ee.appendChild(Dt),null!=De?De:Dt});return function(xe,ye){return pe.apply(this,arguments)}}(),removeViewFromDom:()=>(Dt&&Ce&&(Ce.parentNode.insertBefore(Dt,Ce),Ce.remove()),Promise.resolve())}}},1970:(hr,tn,fe)=>{"use strict";fe.d(tn,{B:()=>ot,G:()=>zt});class Ae{constructor(Ce,Ke,pt,pe,te){this.id=Ke,this.name=pt,this.disableScroll=te,this.priority=1e6*pe+Ke,this.ctrl=Ce}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ce=this.ctrl.capture(this.name,this.id,this.priority);return Ce&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ce}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(Ce,Ke,pt,pe){this.id=Ke,this.disable=pt,this.disableScroll=pe,this.ctrl=Ce}block(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.disableGesture(Ce,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.enableGesture(Ce,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ot="backdrop-no-scroll",zt=new class E{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ce){var Ke;return new Ae(this,this.newID(),Ce.name,null!==(Ke=Ce.priority)&&void 0!==Ke?Ke:0,!!Ce.disableScroll)}createBlocker(Ce={}){return new L(this,this.newID(),Ce.disable,!!Ce.disableScroll)}start(Ce,Ke,pt){return this.canStart(Ce)?(this.requestedStart.set(Ke,pt),!0):(this.requestedStart.delete(Ke),!1)}capture(Ce,Ke,pt){if(!this.start(Ce,Ke,pt))return!1;const pe=this.requestedStart;let te=-1e4;if(pe.forEach(xe=>{te=Math.max(te,xe)}),te===pt){this.capturedId=Ke,pe.clear();const xe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ce}});return document.dispatchEvent(xe),!0}return pe.delete(Ke),!1}release(Ce){this.requestedStart.delete(Ce),this.capturedId===Ce&&(this.capturedId=void 0)}disableGesture(Ce,Ke){let pt=this.disabledGestures.get(Ce);void 0===pt&&(pt=new Set,this.disabledGestures.set(Ce,pt)),pt.add(Ke)}enableGesture(Ce,Ke){const pt=this.disabledGestures.get(Ce);void 0!==pt&&pt.delete(Ke)}disableScroll(Ce){this.disabledScroll.add(Ce),1===this.disabledScroll.size&&document.body.classList.add(ot)}enableScroll(Ce){this.disabledScroll.delete(Ce),0===this.disabledScroll.size&&document.body.classList.remove(ot)}canStart(Ce){return!(void 0!==this.capturedId||this.isDisabled(Ce))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ce){const Ke=this.disabledGestures.get(Ce);return!!(Ke&&Ke.size>0)}newID(){return this.gestureId++,this.gestureId}}},6411:(hr,tn,fe)=>{"use strict";fe.r(tn),fe.d(tn,{MENU_BACK_BUTTON_PRIORITY:()=>pt,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ke,blockHardwareBackButton:()=>Dt,shouldUseCloseWatcher:()=>zt,startHardwareBackButton:()=>Ce});var E=fe(467),Ae=fe(8476),L=fe(3664);fe(9672);const zt=()=>L.c.get("experimentalCloseWatcher",!1)&&void 0!==Ae.w&&"CloseWatcher"in Ae.w,Dt=()=>{document.addEventListener("backbutton",()=>{})},Ce=()=>{const pe=document;let te=!1;const xe=()=>{if(te)return;let ye=0,Se=[];const rt=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ee,We){Se.push({priority:Ee,handler:We,id:ye++})}}});pe.dispatchEvent(rt);const ke=function(){var Ee=(0,E.A)(function*(We){try{if(null!=We&&We.handler){const we=We.handler(De);null!=we&&(yield we)}}catch(we){console.error(we)}});return function(we){return Ee.apply(this,arguments)}}(),De=()=>{if(Se.length>0){let Ee={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Se.forEach(We=>{We.priority>=Ee.priority&&(Ee=We)}),te=!0,Se=Se.filter(We=>We.id!==Ee.id),ke(Ee).then(()=>te=!1)}};De()};if(zt()){let ye;const Se=()=>{null==ye||ye.destroy(),ye=new Ae.w.CloseWatcher,ye.onclose=()=>{xe(),Se()}};Se()}else pe.addEventListener("backbutton",xe)},Ke=100,pt=99},4920:(hr,tn,fe)=>{"use strict";fe.d(tn,{a:()=>Ke,b:()=>pt,c:()=>L,d:()=>Se,e:()=>We,f:()=>ye,g:()=>pe,h:()=>zt,i:()=>Ce,j:()=>rt,k:()=>ot,l:()=>xe,m:()=>ke,n:()=>Ee,o:()=>we,p:()=>De,r:()=>te,s:()=>at,t:()=>E});const E=(le,Ve=0)=>new Promise(Oe=>{Ae(le,Ve,Oe)}),Ae=(le,Ve=0,Oe)=>{let Ye,At;const ae={passive:!0},gt=()=>{Ye&&Ye()},Ht=Zt=>{(void 0===Zt||le===Zt.target)&&(gt(),Oe(Zt))};return le&&(le.addEventListener("webkitTransitionEnd",Ht,ae),le.addEventListener("transitionend",Ht,ae),At=setTimeout(Ht,Ve+500),Ye=()=>{void 0!==At&&(clearTimeout(At),At=void 0),le.removeEventListener("webkitTransitionEnd",Ht,ae),le.removeEventListener("transitionend",Ht,ae)}),gt},L=(le,Ve)=>{le.componentOnReady?le.componentOnReady().then(Oe=>Ve(Oe)):te(()=>Ve(le))},ot=le=>void 0!==le.componentOnReady,zt=(le,Ve=[])=>{const Oe={};return Ve.forEach(Ye=>{le.hasAttribute(Ye)&&(null!==le.getAttribute(Ye)&&(Oe[Ye]=le.getAttribute(Ye)),le.removeAttribute(Ye))}),Oe},Dt=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ce=(le,Ve)=>{let Oe=Dt;return Ve&&Ve.length>0&&(Oe=Oe.filter(Ye=>!Ve.includes(Ye))),zt(le,Oe)},Ke=(le,Ve,Oe,Ye)=>{var At;if(typeof window<"u"){const ae=window,Ge=null===(At=null==ae?void 0:ae.Ionic)||void 0===At?void 0:At.config;if(Ge){const gt=Ge.get("_ael");if(gt)return gt(le,Ve,Oe,Ye);if(Ge._ael)return Ge._ael(le,Ve,Oe,Ye)}}return le.addEventListener(Ve,Oe,Ye)},pt=(le,Ve,Oe,Ye)=>{var At;if(typeof window<"u"){const ae=window,Ge=null===(At=null==ae?void 0:ae.Ionic)||void 0===At?void 0:At.config;if(Ge){const gt=Ge.get("_rel");if(gt)return gt(le,Ve,Oe,Ye);if(Ge._rel)return Ge._rel(le,Ve,Oe,Ye)}}return le.removeEventListener(Ve,Oe,Ye)},pe=(le,Ve=le)=>le.shadowRoot||Ve,te=le=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(le):"function"==typeof requestAnimationFrame?requestAnimationFrame(le):setTimeout(le),xe=le=>!!le.shadowRoot&&!!le.attachShadow,ye=le=>{if(le.focus(),le.classList.contains("ion-focusable")){const Ve=le.closest("ion-app");Ve&&Ve.setFocus([le])}},Se=(le,Ve,Oe,Ye,At)=>{if(le||xe(Ve)){let ae=Ve.querySelector("input.aux-input");ae||(ae=Ve.ownerDocument.createElement("input"),ae.type="hidden",ae.classList.add("aux-input"),Ve.appendChild(ae)),ae.disabled=At,ae.name=Oe,ae.value=Ye||""}},rt=(le,Ve,Oe)=>Math.max(le,Math.min(Ve,Oe)),ke=(le,Ve)=>{if(!le){const Oe="ASSERT: "+Ve;throw console.error(Oe),new Error(Oe)}},De=le=>{if(le){const Ve=le.changedTouches;if(Ve&&Ve.length>0){const Oe=Ve[0];return{x:Oe.clientX,y:Oe.clientY}}if(void 0!==le.pageX)return{x:le.pageX,y:le.pageY}}return{x:0,y:0}},Ee=le=>{const Ve="rtl"===document.dir;switch(le){case"start":return Ve;case"end":return!Ve;default:throw new Error(`"${le}" is not a valid value for [side]. Use "start" or "end" instead.`)}},We=(le,Ve)=>{const Oe=le._original||le;return{_original:le,emit:we(Oe.emit.bind(Oe),Ve)}},we=(le,Ve=0)=>{let Oe;return(...Ye)=>{clearTimeout(Oe),Oe=setTimeout(le,Ve,...Ye)}},at=(le,Ve)=>{if(null!=le||(le={}),null!=Ve||(Ve={}),le===Ve)return!0;const Oe=Object.keys(le);if(Oe.length!==Object.keys(Ve).length)return!1;for(const Ye of Oe)if(!(Ye in Ve)||le[Ye]!==Ve[Ye])return!1;return!0}},5465:(hr,tn,fe)=>{"use strict";fe.d(tn,{m:()=>ye});var E=fe(467),Ae=fe(8476),L=fe(6411),ot=fe(4929),zt=fe(4920),Dt=fe(3664),Ce=fe(9986);const Ke=Se=>(0,Ce.c)().duration(Se?400:300),pt=Se=>{let rt,ke;const De=Se.width+8,Ee=(0,Ce.c)(),We=(0,Ce.c)();Se.isEndSide?(rt=De+"px",ke="0px"):(rt=-De+"px",ke="0px"),Ee.addElement(Se.menuInnerEl).fromTo("transform",`translateX(${rt})`,`translateX(${ke})`);const at="ios"===(0,Dt.b)(Se),le=at?.2:.25;return We.addElement(Se.backdropEl).fromTo("opacity",.01,le),Ke(at).addAnimation([Ee,We])},pe=Se=>{let rt,ke;const De=(0,Dt.b)(Se),Ee=Se.width;Se.isEndSide?(rt=-Ee+"px",ke=Ee+"px"):(rt=Ee+"px",ke=-Ee+"px");const We=(0,Ce.c)().addElement(Se.menuInnerEl).fromTo("transform",`translateX(${ke})`,"translateX(0px)"),we=(0,Ce.c)().addElement(Se.contentEl).fromTo("transform","translateX(0px)",`translateX(${rt})`),at=(0,Ce.c)().addElement(Se.backdropEl).fromTo("opacity",.01,.32);return Ke("ios"===De).addAnimation([We,we,at])},te=Se=>{const rt=(0,Dt.b)(Se),ke=Se.width*(Se.isEndSide?-1:1)+"px",De=(0,Ce.c)().addElement(Se.contentEl).fromTo("transform","translateX(0px)",`translateX(${ke})`);return Ke("ios"===rt).addAnimation(De)},ye=(()=>{const Se=new Map,rt=[],ke=function(){var D=(0,E.A)(function*(k){const z=yield Ve(k,!0);return!!z&&z.open()});return function(z){return D.apply(this,arguments)}}(),De=function(){var D=(0,E.A)(function*(k){const z=yield void 0!==k?Ve(k,!0):Oe();return void 0!==z&&z.close()});return function(z){return D.apply(this,arguments)}}(),Ee=function(){var D=(0,E.A)(function*(k){const z=yield Ve(k,!0);return!!z&&z.toggle()});return function(z){return D.apply(this,arguments)}}(),We=function(){var D=(0,E.A)(function*(k,z){const se=yield Ve(z);return se&&(se.disabled=!k),se});return function(z,se){return D.apply(this,arguments)}}(),we=function(){var D=(0,E.A)(function*(k,z){const se=yield Ve(z);return se&&(se.swipeGesture=k),se});return function(z,se){return D.apply(this,arguments)}}(),at=function(){var D=(0,E.A)(function*(k){if(null!=k){const z=yield Ve(k);return void 0!==z&&z.isOpen()}return void 0!==(yield Oe())});return function(z){return D.apply(this,arguments)}}(),le=function(){var D=(0,E.A)(function*(k){const z=yield Ve(k);return!!z&&!z.disabled});return function(z){return D.apply(this,arguments)}}(),Ve=function(){var D=(0,E.A)(function*(k,z=!1){if(yield S(),"start"===k||"end"===k){const oe=rt.filter(lt=>lt.side===k&&!lt.disabled);if(oe.length>=1)return oe.length>1&&z&&(0,ot.p)(`menuController queried for a menu on the "${k}" side, but ${oe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,oe.map(lt=>lt.el)),oe[0].el;const qe=rt.filter(lt=>lt.side===k);if(qe.length>=1)return qe.length>1&&z&&(0,ot.p)(`menuController queried for a menu on the "${k}" side, but ${qe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,qe.map(lt=>lt.el)),qe[0].el}else if(null!=k)return H(oe=>oe.menuId===k);return H(oe=>!oe.disabled)||(rt.length>0?rt[0].el:void 0)});return function(z){return D.apply(this,arguments)}}(),Oe=function(){var D=(0,E.A)(function*(){return yield S(),ht()});return function(){return D.apply(this,arguments)}}(),Ye=function(){var D=(0,E.A)(function*(){return yield S(),qt()});return function(){return D.apply(this,arguments)}}(),At=function(){var D=(0,E.A)(function*(){return yield S(),Le()});return function(){return D.apply(this,arguments)}}(),ae=(D,k)=>{Se.set(D,k)},Ht=function(){var D=(0,E.A)(function*(k,z,se){if(Le())return!1;if(z){const oe=yield Oe();oe&&k.el!==oe&&(yield oe.setOpen(!1,!1))}return k._setOpen(z,se)});return function(z,se,oe){return D.apply(this,arguments)}}(),ht=()=>H(D=>D._isOpen),qt=()=>rt.map(D=>D.el),Le=()=>rt.some(D=>D.isAnimating),H=D=>{const k=rt.find(D);if(void 0!==k)return k.el},S=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(D=>new Promise(k=>(0,zt.c)(D,k))));return ae("reveal",te),ae("push",pe),ae("overlay",pt),null==Ae.d||Ae.d.addEventListener("ionBackButton",D=>{const k=ht();k&&D.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>k.close())}),{registerAnimation:ae,get:Ve,getMenus:Ye,getOpen:Oe,isEnabled:le,swipeGesture:we,isAnimating:At,isOpen:at,enable:We,toggle:Ee,close:De,open:ke,_getOpenSync:ht,_createAnimation:(D,k)=>{const z=Se.get(D);if(!z)throw new Error("animation not registered");return z(k)},_register:D=>{rt.indexOf(D)<0&&rt.push(D)},_unregister:D=>{const k=rt.indexOf(D);k>-1&&rt.splice(k,1)},_setOpen:Ht}})()},8607:(hr,tn,fe)=>{"use strict";fe.r(tn),fe.d(tn,{GESTURE_CONTROLLER:()=>E.G,createGesture:()=>pt});var E=fe(1970);const Ae=(ye,Se,rt,ke)=>{const De=L(ye)?{capture:!!ke.capture,passive:!!ke.passive}:!!ke.capture;let Ee,We;return ye.__zone_symbol__addEventListener?(Ee="__zone_symbol__addEventListener",We="__zone_symbol__removeEventListener"):(Ee="addEventListener",We="removeEventListener"),ye[Ee](Se,rt,De),()=>{ye[We](Se,rt,De)}},L=ye=>{if(void 0===ot)try{const Se=Object.defineProperty({},"passive",{get:()=>{ot=!0}});ye.addEventListener("optsTest",()=>{},Se)}catch{ot=!1}return!!ot};let ot;const Ce=ye=>ye instanceof Document?ye:ye.ownerDocument,pt=ye=>{let Se=!1,rt=!1,ke=!0,De=!1;const Ee=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ye),We=Ee.canStart,we=Ee.onWillStart,at=Ee.onStart,le=Ee.onEnd,Ve=Ee.notCaptured,Oe=Ee.onMove,Ye=Ee.threshold,At=Ee.passive,ae=Ee.blurOnStart,Ge={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},gt=((ye,Se,rt)=>{const ke=rt*(Math.PI/180),De="x"===ye,Ee=Math.cos(ke),We=Se*Se;let we=0,at=0,le=!1,Ve=0;return{start(Oe,Ye){we=Oe,at=Ye,Ve=0,le=!0},detect(Oe,Ye){if(!le)return!1;const At=Oe-we,ae=Ye-at,Ge=At*At+ae*ae;if(Ge<We)return!1;const gt=Math.sqrt(Ge),Ht=(De?At:ae)/gt;return Ve=Ht>Ee?1:Ht<-Ee?-1:0,le=!1,!0},isGesture:()=>0!==Ve,getDirection:()=>Ve}})(Ee.direction,Ee.threshold,Ee.maxAngle),Ht=E.G.createGesture({name:ye.gestureName,priority:ye.gesturePriority,disableScroll:ye.disableScroll}),qt=()=>{Se&&(De=!1,Oe&&Oe(Ge))},Le=()=>!!Ht.capture()&&(Se=!0,ke=!1,Ge.startX=Ge.currentX,Ge.startY=Ge.currentY,Ge.startTime=Ge.currentTime,we?we(Ge).then(S):S(),!0),S=()=>{ae&&(()=>{if(typeof document<"u"){const oe=document.activeElement;null!=oe&&oe.blur&&oe.blur()}})(),at&&at(Ge),ke=!0},D=()=>{Se=!1,rt=!1,De=!1,ke=!0,Ht.release()},k=oe=>{const qe=Se,lt=ke;if(D(),lt){if(pe(Ge,oe),qe)return void(le&&le(Ge));Ve&&Ve(Ge)}},z=((ye,Se,rt,ke,De)=>{let Ee,We,we,at,le,Ve,Oe,Ye=0;const At=H=>{Ye=Date.now()+2e3,Se(H)&&(!We&&rt&&(We=Ae(ye,"touchmove",rt,De)),we||(we=Ae(H.target,"touchend",Ge,De)),at||(at=Ae(H.target,"touchcancel",Ge,De)))},ae=H=>{Ye>Date.now()||Se(H)&&(!Ve&&rt&&(Ve=Ae(Ce(ye),"mousemove",rt,De)),Oe||(Oe=Ae(Ce(ye),"mouseup",gt,De)))},Ge=H=>{Ht(),ke&&ke(H)},gt=H=>{Zt(),ke&&ke(H)},Ht=()=>{We&&We(),we&&we(),at&&at(),We=we=at=void 0},Zt=()=>{Ve&&Ve(),Oe&&Oe(),Ve=Oe=void 0},ht=()=>{Ht(),Zt()},qt=(H=!0)=>{H?(Ee||(Ee=Ae(ye,"touchstart",At,De)),le||(le=Ae(ye,"mousedown",ae,De))):(Ee&&Ee(),le&&le(),Ee=le=void 0,ht())};return{enable:qt,stop:ht,destroy:()=>{qt(!1),ke=rt=Se=void 0}}})(Ee.el,oe=>{const qe=xe(oe);return!(rt||!ke||(te(oe,Ge),Ge.startX=Ge.currentX,Ge.startY=Ge.currentY,Ge.startTime=Ge.currentTime=qe,Ge.velocityX=Ge.velocityY=Ge.deltaX=Ge.deltaY=0,Ge.event=oe,We&&!1===We(Ge))||(Ht.release(),!Ht.start()))&&(rt=!0,0===Ye?Le():(gt.start(Ge.startX,Ge.startY),!0))},oe=>{Se?!De&&ke&&(De=!0,pe(Ge,oe),requestAnimationFrame(qt)):(pe(Ge,oe),gt.detect(Ge.currentX,Ge.currentY)&&(!gt.isGesture()||!Le())&&se())},k,{capture:!1,passive:At}),se=()=>{D(),z.stop(),Ve&&Ve(Ge)};return{enable(oe=!0){oe||(Se&&k(void 0),D()),z.enable(oe)},destroy(){Ht.destroy(),z.destroy()}}},pe=(ye,Se)=>{if(!Se)return;const rt=ye.currentX,ke=ye.currentY,De=ye.currentTime;te(Se,ye);const Ee=ye.currentX,We=ye.currentY,at=(ye.currentTime=xe(Se))-De;if(at>0&&at<100){const Ve=(We-ke)/at;ye.velocityX=(Ee-rt)/at*.7+.3*ye.velocityX,ye.velocityY=.7*Ve+.3*ye.velocityY}ye.deltaX=Ee-ye.startX,ye.deltaY=We-ye.startY,ye.event=Se},te=(ye,Se)=>{let rt=0,ke=0;if(ye){const De=ye.changedTouches;if(De&&De.length>0){const Ee=De[0];rt=Ee.clientX,ke=Ee.clientY}else void 0!==ye.pageX&&(rt=ye.pageX,ke=ye.pageY)}Se.currentX=rt,Se.currentY=ke},xe=ye=>ye.timeStamp||Date.now()},9672:(hr,tn,fe)=>{"use strict";fe.d(tn,{B:()=>Dt,a:()=>xi,b:()=>Ud,c:()=>lt,d:()=>dn,e:()=>_c,f:()=>Le,g:()=>un,h:()=>ht,i:()=>cn,j:()=>Jt,k:()=>Ce,r:()=>Tv,w:()=>_l});var E=fe(467);var ot=Object.defineProperty,Dt={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ce=b=>{const P=new URL(b,nr.$resourcesUrl$);return P.origin!==Ma.location.origin?P.href:P.pathname},Ke={},xe=b=>"object"==(b=typeof b)||"function"===b;function ye(b){var P,B,q;return null!=(q=null==(B=null==(P=b.head)?void 0:P.querySelector('meta[name="csp-nonce"]'))?void 0:B.getAttribute("content"))?q:void 0}((b,P)=>{for(var B in P)ot(b,B,{get:P[B],enumerable:!0})})({},{err:()=>ke,map:()=>De,ok:()=>rt,unwrap:()=>Ee,unwrapErr:()=>We});var rt=b=>({isOk:!0,isErr:!1,value:b}),ke=b=>({isOk:!1,isErr:!0,value:b});function De(b,P){if(b.isOk){const B=P(b.value);return B instanceof Promise?B.then(q=>rt(q)):rt(B)}if(b.isErr)return ke(b.value);throw"should never get here"}var Ee=b=>{if(b.isOk)return b.value;throw b.value},We=b=>{if(b.isErr)return b.value;throw b.value},At="s-id",ae="sty-id",Ht="slot-fb{display:contents}slot-fb[hidden]{display:none}",Zt="http://www.w3.org/1999/xlink",ht=(b,P,...B)=>{let q=null,ne=null,J=null,$e=!1,Xe=!1;const He=[],Ze=Gt=>{for(let Wt=0;Wt<Gt.length;Wt++)q=Gt[Wt],Array.isArray(q)?Ze(q):null!=q&&"boolean"!=typeof q&&(($e="function"!=typeof b&&!xe(q))&&(q=String(q)),$e&&Xe?He[He.length-1].$text$+=q:He.push($e?qt(null,q):q),Xe=$e)};if(Ze(B),P){P.key&&(ne=P.key),P.name&&(J=P.name);{const Gt=P.className||P.class;Gt&&(P.class="object"!=typeof Gt?Gt:Object.keys(Gt).filter(Wt=>Gt[Wt]).join(" "))}}if("function"==typeof b)return b(null===P?{}:P,He,S);const Ot=qt(b,null);return Ot.$attrs$=P,He.length>0&&(Ot.$children$=He),Ot.$key$=ne,Ot.$name$=J,Ot},qt=(b,P)=>({$flags$:0,$tag$:b,$text$:P,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Le={},S={forEach:(b,P)=>b.map(D).forEach(P),map:(b,P)=>b.map(D).map(P).map(k)},D=b=>({vattrs:b.$attrs$,vchildren:b.$children$,vkey:b.$key$,vname:b.$name$,vtag:b.$tag$,vtext:b.$text$}),k=b=>{if("function"==typeof b.vtag){const B={...b.vattrs};return b.vkey&&(B.key=b.vkey),b.vname&&(B.name=b.vname),ht(b.vtag,B,...b.vchildren||[])}const P=qt(b.vtag,b.vtext);return P.$attrs$=b.vattrs,P.$children$=b.vchildren,P.$key$=b.vkey,P.$name$=b.vname,P},se=(b,P,B,q,ne,J,$e)=>{let Xe,He,Ze,Ot;if(1===J.nodeType){for(Xe=J.getAttribute("c-id"),Xe&&(He=Xe.split("."),(He[0]===$e||"0"===He[0])&&(Ze={$flags$:0,$hostId$:He[0],$nodeId$:He[1],$depth$:He[2],$index$:He[3],$tag$:J.tagName.toLowerCase(),$elm$:J,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},P.push(Ze),J.removeAttribute("c-id"),b.$children$||(b.$children$=[]),b.$children$[Ze.$index$]=Ze,b=Ze,q&&"0"===Ze.$depth$&&(q[Ze.$index$]=Ze.$elm$))),Ot=J.childNodes.length-1;Ot>=0;Ot--)se(b,P,B,q,ne,J.childNodes[Ot],$e);if(J.shadowRoot)for(Ot=J.shadowRoot.childNodes.length-1;Ot>=0;Ot--)se(b,P,B,q,ne,J.shadowRoot.childNodes[Ot],$e)}else if(8===J.nodeType)He=J.nodeValue.split("."),(He[1]===$e||"0"===He[1])&&(Xe=He[0],Ze={$flags$:0,$hostId$:He[1],$nodeId$:He[2],$depth$:He[3],$index$:He[4],$elm$:J,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Xe?(Ze.$elm$=J.nextSibling,Ze.$elm$&&3===Ze.$elm$.nodeType&&(Ze.$text$=Ze.$elm$.textContent,P.push(Ze),J.remove(),b.$children$||(b.$children$=[]),b.$children$[Ze.$index$]=Ze,q&&"0"===Ze.$depth$&&(q[Ze.$index$]=Ze.$elm$))):Ze.$hostId$===$e&&("s"===Xe?(Ze.$tag$="slot",J["s-sn"]=He[5]?Ze.$name$=He[5]:"",J["s-sr"]=!0,q&&(Ze.$elm$=Or.createElement(Ze.$tag$),Ze.$name$&&Ze.$elm$.setAttribute("name",Ze.$name$),J.parentNode.insertBefore(Ze.$elm$,J),J.remove(),"0"===Ze.$depth$&&(q[Ze.$index$]=Ze.$elm$)),B.push(Ze),b.$children$||(b.$children$=[]),b.$children$[Ze.$index$]=Ze):"r"===Xe&&(q?J.remove():(ne["s-cr"]=J,J["s-cn"]=!0))));else if(b&&"style"===b.$tag$){const Gt=qt(null,J.textContent);Gt.$elm$=J,Gt.$index$="0",b.$children$=[Gt]}},oe=(b,P)=>{if(1===b.nodeType){let B=0;for(;B<b.childNodes.length;B++)oe(b.childNodes[B],P);if(b.shadowRoot)for(B=0;B<b.shadowRoot.childNodes.length;B++)oe(b.shadowRoot.childNodes[B],P)}else if(8===b.nodeType){const B=b.nodeValue.split(".");"o"===B[0]&&(P.set(B[1]+"."+B[2],b),b.nodeValue="",b["s-en"]=B[3])}},lt=b=>jd.push(b),un=b=>so(b).$modeName$,cn=b=>so(b).$hostElement$,dn=(b,P,B)=>{const q=cn(b);return{emit:ne=>Ut(q,P,{bubbles:!!(4&B),composed:!!(2&B),cancelable:!!(1&B),detail:ne})}},Ut=(b,P,B)=>{const q=nr.ce(P,B);return b.dispatchEvent(q),q},er=new WeakMap,Sn=(b,P,B)=>{let q=gc.get(b);jp&&B?(q=q||new CSSStyleSheet,"string"==typeof q?q=P:q.replaceSync(P)):q=P,gc.set(b,q)},On=(b,P,B)=>{var q;const ne=kn(P,B),J=gc.get(ne);if(b=11===b.nodeType?b:Or,J)if("string"==typeof J){let Xe,$e=er.get(b=b.head||b);if($e||er.set(b,$e=new Set),!$e.has(ne)){if(b.host&&(Xe=b.querySelector(`[${ae}="${ne}"]`)))Xe.innerHTML=J;else{Xe=Or.createElement("style"),Xe.innerHTML=J;const He=null!=(q=nr.$nonce$)?q:ye(Or);null!=He&&Xe.setAttribute("nonce",He),b.insertBefore(Xe,b.querySelector("link"))}4&P.$flags$&&(Xe.innerHTML+=Ht),$e&&$e.add(ne)}}else b.adoptedStyleSheets.includes(J)||(b.adoptedStyleSheets=[...b.adoptedStyleSheets,J]);return ne},kn=(b,P)=>"sc-"+(P&&32&b.$flags$?b.$tagName$+"-"+P:b.$tagName$),nt=b=>b.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ne=(b,P,B,q,ne,J)=>{if(B!==q){let $e=$p(b,P),Xe=P.toLowerCase();if("class"===P){const He=b.classList,Ze=Mt(B),Ot=Mt(q);He.remove(...Ze.filter(Gt=>Gt&&!Ot.includes(Gt))),He.add(...Ot.filter(Gt=>Gt&&!Ze.includes(Gt)))}else if("style"===P){for(const He in B)(!q||null==q[He])&&(He.includes("-")?b.style.removeProperty(He):b.style[He]="");for(const He in q)(!B||q[He]!==B[He])&&(He.includes("-")?b.style.setProperty(He,q[He]):b.style[He]=q[He])}else if("key"!==P)if("ref"===P)q&&q(b);else if($e||"o"!==P[0]||"n"!==P[1]){const He=xe(q);if(($e||He&&null!==q)&&!ne)try{if(b.tagName.includes("-"))b[P]=q;else{const Ot=null==q?"":q;"list"===P?$e=!1:(null==B||b[P]!=Ot)&&(b[P]=Ot)}}catch{}let Ze=!1;Xe!==(Xe=Xe.replace(/^xlink\:?/,""))&&(P=Xe,Ze=!0),null==q||!1===q?(!1!==q||""===b.getAttribute(P))&&(Ze?b.removeAttributeNS(Zt,P):b.removeAttribute(P)):(!$e||4&J||ne)&&!He&&(q=!0===q?"":q,Ze?b.setAttributeNS(Zt,P,q):b.setAttribute(P,q))}else if(P="-"===P[2]?P.slice(3):$p(Ma,Xe)?Xe.slice(2):Xe[2]+P.slice(3),B||q){const He=P.endsWith(Pn);P=P.replace(tr,""),B&&nr.rel(b,P,B,He),q&&nr.ael(b,P,q,He)}}},Pe=/\s/,Mt=b=>b?b.split(Pe):[],Pn="Capture",tr=new RegExp(Pn+"$"),jn=(b,P,B)=>{const q=11===P.$elm$.nodeType&&P.$elm$.host?P.$elm$.host:P.$elm$,ne=b&&b.$attrs$||Ke,J=P.$attrs$||Ke;for(const $e of zn(Object.keys(ne)))$e in J||Ne(q,$e,ne[$e],void 0,B,P.$flags$);for(const $e of zn(Object.keys(J)))Ne(q,$e,ne[$e],J[$e],B,P.$flags$)};function zn(b){return b.includes("ref")?[...b.filter(P=>"ref"!==P),"ref"]:b}var An,qn,Wn,_r=!1,Ii=!1,si=!1,fr=!1,Ri=(b,P,B,q)=>{var ne;const J=P.$children$[B];let Xe,He,Ze,$e=0;if(_r||(si=!0,"slot"===J.$tag$&&(An&&q.classList.add(An+"-s"),J.$flags$|=J.$children$?2:1)),null!==J.$text$)Xe=J.$elm$=Or.createTextNode(J.$text$);else if(1&J.$flags$)Xe=J.$elm$=Or.createTextNode("");else{if(fr||(fr="svg"===J.$tag$),Xe=J.$elm$=Or.createElementNS(fr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&J.$flags$?"slot-fb":J.$tag$),fr&&"foreignObject"===J.$tag$&&(fr=!1),jn(null,J,fr),(b=>null!=b)(An)&&Xe["s-si"]!==An&&Xe.classList.add(Xe["s-si"]=An),J.$children$)for($e=0;$e<J.$children$.length;++$e)He=Ri(b,J,$e,Xe),He&&Xe.appendChild(He);"svg"===J.$tag$?fr=!1:"foreignObject"===Xe.tagName&&(fr=!0)}return Xe["s-hn"]=Wn,3&J.$flags$&&(Xe["s-sr"]=!0,Xe["s-cr"]=qn,Xe["s-sn"]=J.$name$||"",Xe["s-rf"]=null==(ne=J.$attrs$)?void 0:ne.ref,Ze=b&&b.$children$&&b.$children$[B],Ze&&Ze.$tag$===J.$tag$&&b.$elm$&&_o(b.$elm$)),Xe},_o=b=>{nr.$flags$|=1;const P=b.closest(Wn.toLowerCase());if(null!=P){const B=Array.from(P.childNodes).find(ne=>ne["s-cr"]),q=Array.from(b.childNodes);for(const ne of B?q.reverse():q)null!=ne["s-sh"]&&(j(P,ne,null!=B?B:null),ne["s-sh"]=void 0,si=!0)}nr.$flags$&=-2},Bn=(b,P)=>{nr.$flags$|=1;const B=Array.from(b.childNodes);if(b["s-sr"]){let q=b;for(;q=q.nextSibling;)q&&q["s-sn"]===b["s-sn"]&&q["s-sh"]===Wn&&B.push(q)}for(let q=B.length-1;q>=0;q--){const ne=B[q];ne["s-hn"]!==Wn&&ne["s-ol"]&&(j(ti(ne),ne,kr(ne)),ne["s-ol"].remove(),ne["s-ol"]=void 0,ne["s-sh"]=void 0,si=!0),P&&Bn(ne,P)}nr.$flags$&=-2},ai=(b,P,B,q,ne,J)=>{let Xe,$e=b["s-cr"]&&b["s-cr"].parentNode||b;for($e.shadowRoot&&$e.tagName===Wn&&($e=$e.shadowRoot);ne<=J;++ne)q[ne]&&(Xe=Ri(null,B,ne,b),Xe&&(q[ne].$elm$=Xe,j($e,Xe,kr(P))))},oo=(b,P,B)=>{for(let q=P;q<=B;++q){const ne=b[q];if(ne){const J=ne.$elm$;K(ne),J&&(Ii=!0,J["s-ol"]?J["s-ol"].remove():Bn(J,!0),J.remove())}}},Cr=(b,P,B=!1)=>b.$tag$===P.$tag$&&("slot"===b.$tag$?b.$name$===P.$name$:!!B||b.$key$===P.$key$),kr=b=>b&&b["s-ol"]||b,ti=b=>(b["s-ol"]?b["s-ol"]:b).parentNode,Pi=(b,P,B=!1)=>{const q=P.$elm$=b.$elm$,ne=b.$children$,J=P.$children$,$e=P.$tag$,Xe=P.$text$;let He;null===Xe?(fr="svg"===$e||"foreignObject"!==$e&&fr,"slot"!==$e||_r?jn(b,P,fr):b.$name$!==P.$name$&&(P.$elm$["s-sn"]=P.$name$||"",_o(P.$elm$.parentElement)),null!==ne&&null!==J?((b,P,B,q,ne=!1)=>{let en,hn,J=0,$e=0,Xe=0,He=0,Ze=P.length-1,Ot=P[0],Gt=P[Ze],Wt=q.length-1,sn=q[0],sr=q[Wt];for(;J<=Ze&&$e<=Wt;)if(null==Ot)Ot=P[++J];else if(null==Gt)Gt=P[--Ze];else if(null==sn)sn=q[++$e];else if(null==sr)sr=q[--Wt];else if(Cr(Ot,sn,ne))Pi(Ot,sn,ne),Ot=P[++J],sn=q[++$e];else if(Cr(Gt,sr,ne))Pi(Gt,sr,ne),Gt=P[--Ze],sr=q[--Wt];else if(Cr(Ot,sr,ne))("slot"===Ot.$tag$||"slot"===sr.$tag$)&&Bn(Ot.$elm$.parentNode,!1),Pi(Ot,sr,ne),j(b,Ot.$elm$,Gt.$elm$.nextSibling),Ot=P[++J],sr=q[--Wt];else if(Cr(Gt,sn,ne))("slot"===Ot.$tag$||"slot"===sr.$tag$)&&Bn(Gt.$elm$.parentNode,!1),Pi(Gt,sn,ne),j(b,Gt.$elm$,Ot.$elm$),Gt=P[--Ze],sn=q[++$e];else{for(Xe=-1,He=J;He<=Ze;++He)if(P[He]&&null!==P[He].$key$&&P[He].$key$===sn.$key$){Xe=He;break}Xe>=0?(hn=P[Xe],hn.$tag$!==sn.$tag$?en=Ri(P&&P[$e],B,Xe,b):(Pi(hn,sn,ne),P[Xe]=void 0,en=hn.$elm$),sn=q[++$e]):(en=Ri(P&&P[$e],B,$e,b),sn=q[++$e]),en&&j(ti(Ot.$elm$),en,kr(Ot.$elm$))}J>Ze?ai(b,null==q[Wt+1]?null:q[Wt+1].$elm$,B,q,$e,Wt):$e>Wt&&oo(P,J,Ze)})(q,ne,P,J,B):null!==J?(null!==b.$text$&&(q.textContent=""),ai(q,null,P,J,0,J.length-1)):null!==ne&&oo(ne,0,ne.length-1),fr&&"svg"===$e&&(fr=!1)):(He=q["s-cr"])?He.parentNode.textContent=Xe:b.$text$!==Xe&&(q.data=Xe)},Qi=b=>{const P=b.childNodes;for(const B of P)if(1===B.nodeType){if(B["s-sr"]){const q=B["s-sn"];B.hidden=!1;for(const ne of P)if(ne!==B)if(ne["s-hn"]!==B["s-hn"]||""!==q){if(1===ne.nodeType&&(q===ne.getAttribute("slot")||q===ne["s-sn"])||3===ne.nodeType&&q===ne["s-sn"]){B.hidden=!0;break}}else if(1===ne.nodeType||3===ne.nodeType&&""!==ne.textContent.trim()){B.hidden=!0;break}}Qi(B)}},Mn=[],vo=b=>{let P,B,q;for(const ne of b.childNodes){if(ne["s-sr"]&&(P=ne["s-cr"])&&P.parentNode){B=P.parentNode.childNodes;const J=ne["s-sn"];for(q=B.length-1;q>=0;q--)if(P=B[q],!(P["s-cn"]||P["s-nr"]||P["s-hn"]===ne["s-hn"]||P["s-sh"]&&P["s-sh"]===ne["s-hn"]))if(Vo(P,J)){let $e=Mn.find(Xe=>Xe.$nodeToRelocate$===P);Ii=!0,P["s-sn"]=P["s-sn"]||J,$e?($e.$nodeToRelocate$["s-sh"]=ne["s-hn"],$e.$slotRefNode$=ne):(P["s-sh"]=ne["s-hn"],Mn.push({$slotRefNode$:ne,$nodeToRelocate$:P})),P["s-sr"]&&Mn.map(Xe=>{Vo(Xe.$nodeToRelocate$,P["s-sn"])&&($e=Mn.find(He=>He.$nodeToRelocate$===P),$e&&!Xe.$slotRefNode$&&(Xe.$slotRefNode$=$e.$slotRefNode$))})}else Mn.some($e=>$e.$nodeToRelocate$===P)||Mn.push({$nodeToRelocate$:P})}1===ne.nodeType&&vo(ne)}},Vo=(b,P)=>1===b.nodeType?null===b.getAttribute("slot")&&""===P||b.getAttribute("slot")===P:b["s-sn"]===P||""===P,K=b=>{b.$attrs$&&b.$attrs$.ref&&b.$attrs$.ref(null),b.$children$&&b.$children$.map(K)},j=(b,P,B)=>{const q=null==b?void 0:b.insertBefore(P,B);return F(P,b),q},M=b=>b?b["s-rsc"]||b["s-si"]||b["s-sc"]||M(b.parentElement):void 0,F=(b,P)=>{var B,q,ne;if(b&&P){const J=b["s-rsc"],$e=M(P);J&&null!=(B=b.classList)&&B.contains(J)&&b.classList.remove(J),$e&&(b["s-rsc"]=$e,(null==(q=b.classList)||!q.contains($e))&&(null==(ne=b.classList)||ne.add($e)))}},ie=(b,P)=>{P&&!b.$onRenderResolve$&&P["s-p"]&&P["s-p"].push(new Promise(B=>b.$onRenderResolve$=B))},Re=(b,P)=>{if(b.$flags$|=16,!(4&b.$flags$))return ie(b,b.$ancestorComponent$),_l(()=>ft(b,P));b.$flags$|=512},ft=(b,P)=>{const q=b.$lazyInstance$;let ne;return P&&(b.$flags$|=256,b.$queuedListeners$&&(b.$queuedListeners$.map(([J,$e])=>Ei(q,J,$e)),b.$queuedListeners$=void 0),ne=Ei(q,"componentWillLoad")),ne=vn(ne,()=>Ei(q,"componentWillRender")),vn(ne,()=>Hn(b,q,P))},vn=(b,P)=>Et(b)?b.then(P):P(),Et=b=>b instanceof Promise||b&&b.then&&"function"==typeof b.then,Hn=function(){var b=(0,E.A)(function*(P,B,q){var ne;const J=P.$hostElement$,Xe=J["s-rc"];q&&(b=>{const P=b.$cmpMeta$,B=b.$hostElement$,q=P.$flags$,J=On(B.shadowRoot?B.shadowRoot:B.getRootNode(),P,b.$modeName$);10&q&&(B["s-sc"]=J,B.classList.add(J+"-h"),2&q&&B.classList.add(J+"-s"))})(P);on(P,B,J,q),Xe&&(Xe.map(Ze=>Ze()),J["s-rc"]=void 0);{const Ze=null!=(ne=J["s-p"])?ne:[],Ot=()=>he(P);0===Ze.length?Ot():(Promise.all(Ze).then(Ot),P.$flags$|=4,Ze.length=0)}});return function(B,q,ne){return b.apply(this,arguments)}}(),on=(b,P,B,q)=>{try{P=P.render&&P.render(),b.$flags$&=-17,b.$flags$|=2,((b,P,B=!1)=>{var q,ne,J,$e,Xe;const He=b.$hostElement$,Ze=b.$cmpMeta$,Ot=b.$vnode$||qt(null,null),Gt=(b=>b&&b.$tag$===Le)(P)?P:ht(null,null,P);if(Wn=He.tagName,Ze.$attrsToReflect$&&(Gt.$attrs$=Gt.$attrs$||{},Ze.$attrsToReflect$.map(([Wt,sn])=>Gt.$attrs$[sn]=He[Wt])),B&&Gt.$attrs$)for(const Wt of Object.keys(Gt.$attrs$))He.hasAttribute(Wt)&&!["key","ref","style","class"].includes(Wt)&&(Gt.$attrs$[Wt]=He[Wt]);if(Gt.$tag$=null,Gt.$flags$|=4,b.$vnode$=Gt,Gt.$elm$=Ot.$elm$=He.shadowRoot||He,An=He["s-sc"],_r=!!(1&Ze.$flags$),qn=He["s-cr"],Ii=!1,Pi(Ot,Gt,B),nr.$flags$|=1,si){vo(Gt.$elm$);for(const Wt of Mn){const sn=Wt.$nodeToRelocate$;if(!sn["s-ol"]){const sr=Or.createTextNode("");sr["s-nr"]=sn,j(sn.parentNode,sn["s-ol"]=sr,sn)}}for(const Wt of Mn){const sn=Wt.$nodeToRelocate$,sr=Wt.$slotRefNode$;if(sr){const en=sr.parentNode;let hn=sr.nextSibling;if(hn&&1===hn.nodeType){let $o=null==(q=sn["s-ol"])?void 0:q.previousSibling;for(;$o;){let ui=null!=(ne=$o["s-nr"])?ne:null;if(ui&&ui["s-sn"]===sn["s-sn"]&&en===ui.parentNode){for(ui=ui.nextSibling;ui===sn||null!=ui&&ui["s-sr"];)ui=null==ui?void 0:ui.nextSibling;if(!ui||!ui["s-nr"]){hn=ui;break}}$o=$o.previousSibling}}(!hn&&en!==sn.parentNode||sn.nextSibling!==hn)&&sn!==hn&&(j(en,sn,hn),1===sn.nodeType&&(sn.hidden=null!=(J=sn["s-ih"])&&J)),sn&&"function"==typeof sr["s-rf"]&&sr["s-rf"](sn)}else 1===sn.nodeType&&(B&&(sn["s-ih"]=null!=($e=sn.hidden)&&$e),sn.hidden=!0)}}if(Ii&&Qi(Gt.$elm$),nr.$flags$&=-2,Mn.length=0,2&Ze.$flags$)for(const Wt of Gt.$elm$.childNodes)Wt["s-hn"]!==Wn&&!Wt["s-sh"]&&(B&&null==Wt["s-ih"]&&(Wt["s-ih"]=null!=(Xe=Wt.hidden)&&Xe),Wt.hidden=!0);qn=void 0})(b,P,q)}catch(ne){li(ne,b.$hostElement$)}return null},he=b=>{const B=b.$hostElement$,ne=b.$lazyInstance$,J=b.$ancestorComponent$;Ei(ne,"componentDidRender"),64&b.$flags$?Ei(ne,"componentDidUpdate"):(b.$flags$|=64,Ra(B),Ei(ne,"componentDidLoad"),b.$onReadyResolve$(B),J||Vr()),b.$onInstanceResolve$(B),b.$onRenderResolve$&&(b.$onRenderResolve$(),b.$onRenderResolve$=void 0),512&b.$flags$&&ia(()=>Re(b,!1)),b.$flags$&=-517},Jt=b=>{{const P=so(b),B=P.$hostElement$.isConnected;return B&&2==(18&P.$flags$)&&Re(P,!1),B}},Vr=b=>{Ra(Or.documentElement),ia(()=>Ut(Ma,"appload",{detail:{namespace:"ionic"}}))},Ei=(b,P,B)=>{if(b&&b[P])try{return b[P](B)}catch(q){li(q)}},Ra=b=>b.classList.add("hydrated"),Vi=(b,P,B)=>{var q;const ne=b.prototype;if(P.$members$){b.watchers&&(P.$watchers$=b.watchers);const J=Object.entries(P.$members$);if(J.map(([$e,[Xe]])=>{31&Xe||2&B&&32&Xe?Object.defineProperty(ne,$e,{get(){return((b,P)=>so(this).$instanceValues$.get(P))(0,$e)},set(He){((b,P,B,q)=>{const ne=so(b);if(!ne)throw new Error(`Couldn't find host element for "${q.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const J=ne.$hostElement$,$e=ne.$instanceValues$.get(P),Xe=ne.$flags$,He=ne.$lazyInstance$;B=((b,P)=>null==b||xe(b)?b:4&P?"false"!==b&&(""===b||!!b):2&P?parseFloat(b):1&P?String(b):b)(B,q.$members$[P][0]);const Ze=Number.isNaN($e)&&Number.isNaN(B);if((!(8&Xe)||void 0===$e)&&B!==$e&&!Ze&&(ne.$instanceValues$.set(P,B),He)){if(q.$watchers$&&128&Xe){const Gt=q.$watchers$[P];Gt&&Gt.map(Wt=>{try{He[Wt](B,$e,P)}catch(sn){li(sn,J)}})}2==(18&Xe)&&Re(ne,!1)}})(this,$e,He,P)},configurable:!0,enumerable:!0}):1&B&&64&Xe&&Object.defineProperty(ne,$e,{value(...He){var Ze;const Ot=so(this);return null==(Ze=null==Ot?void 0:Ot.$onInstancePromise$)?void 0:Ze.then(()=>{var Gt;return null==(Gt=Ot.$lazyInstance$)?void 0:Gt[$e](...He)})}})}),1&B){const $e=new Map;ne.attributeChangedCallback=function(Xe,He,Ze){nr.jmp(()=>{var Ot;const Gt=$e.get(Xe);if(this.hasOwnProperty(Gt))Ze=this[Gt],delete this[Gt];else{if(ne.hasOwnProperty(Gt)&&"number"==typeof this[Gt]&&this[Gt]==Ze)return;if(null==Gt){const Wt=so(this),sn=null==Wt?void 0:Wt.$flags$;if(sn&&!(8&sn)&&128&sn&&Ze!==He){const sr=Wt.$lazyInstance$,en=null==(Ot=P.$watchers$)?void 0:Ot[Xe];null==en||en.forEach(hn=>{null!=sr[hn]&&sr[hn].call(sr,Ze,He,Xe)})}return}}this[Gt]=(null!==Ze||"boolean"!=typeof this[Gt])&&Ze})},b.observedAttributes=Array.from(new Set([...Object.keys(null!=(q=P.$watchers$)?q:{}),...J.filter(([Xe,He])=>15&He[0]).map(([Xe,He])=>{var Ze;const Ot=He[1]||Xe;return $e.set(Ot,Xe),512&He[0]&&(null==(Ze=P.$attrsToReflect$)||Ze.push([Xe,Ot])),Ot})]))}}return b},$i=function(){var b=(0,E.A)(function*(P,B,q,ne){let J;if(!(32&B.$flags$)){if(B.$flags$|=32,q.$lazyBundleId$){if(J=Bp(q),J.then){const Ot=()=>{};J=yield J,Ot()}J.isProxied||(q.$watchers$=J.watchers,Vi(J,q,2),J.isProxied=!0);const Ze=()=>{};B.$flags$|=8;try{new J(B)}catch(Ot){li(Ot)}B.$flags$&=-9,B.$flags$|=128,Ze(),yo(B.$lazyInstance$)}else J=P.constructor,customElements.whenDefined(q.$tagName$).then(()=>B.$flags$|=128);if(J.style){let Ze=J.style;"string"!=typeof Ze&&(Ze=Ze[B.$modeName$=(b=>jd.map(P=>P(b)).find(P=>!!P))(P)]);const Ot=kn(q,B.$modeName$);if(!gc.has(Ot)){const Gt=()=>{};Sn(Ot,Ze,!!(1&q.$flags$)),Gt()}}}const $e=B.$ancestorComponent$,Xe=()=>Re(B,!0);$e&&$e["s-rc"]?$e["s-rc"].push(Xe):Xe()});return function(B,q,ne,J){return b.apply(this,arguments)}}(),yo=b=>{Ei(b,"connectedCallback")},ue=b=>{const P=b["s-cr"]=Or.createComment("");P["s-cn"]=!0,j(b,P,b.firstChild)},Be=b=>{Ei(b,"disconnectedCallback")},kt=function(){var b=(0,E.A)(function*(P){if(!(1&nr.$flags$)){const B=so(P);B.$rmListeners$&&(B.$rmListeners$.map(q=>q()),B.$rmListeners$=void 0),null!=B&&B.$lazyInstance$?Be(B.$lazyInstance$):null!=B&&B.$onReadyPromise$&&B.$onReadyPromise$.then(()=>Be(B.$lazyInstance$))}});return function(B){return b.apply(this,arguments)}}(),X=b=>{const P=b.cloneNode;b.cloneNode=function(B){const q=this,ne=q.shadowRoot&&ra,J=P.call(q,!!ne&&B);if(!ne&&B){let Xe,He,$e=0;const Ze=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-rsc"];for(;$e<q.childNodes.length;$e++)Xe=q.childNodes[$e]["s-nr"],He=Ze.every(Ot=>!q.childNodes[$e][Ot]),Xe&&(J.__appendChild?J.__appendChild(Xe.cloneNode(!0)):J.appendChild(Xe.cloneNode(!0))),He&&J.appendChild(q.childNodes[$e].cloneNode(!0))}return J}},ut=b=>{b.__appendChild=b.appendChild,b.appendChild=function(P){const B=P["s-sn"]=gl(P),q=Mi(this.childNodes,B,this.tagName);if(q){const ne=Bd(q,B),J=ne[ne.length-1],$e=j(J.parentNode,P,J.nextSibling);return Qi(this),$e}return this.__appendChild(P)}},Qt=b=>{b.__removeChild=b.removeChild,b.removeChild=function(P){if(P&&typeof P["s-sn"]<"u"){const B=Mi(this.childNodes,P["s-sn"],this.tagName);if(B){const ne=Bd(B,P["s-sn"]).find(J=>J===P);if(ne)return ne.remove(),void Qi(this)}}return this.__removeChild(P)}},jt=b=>{const P=b.prepend;b.prepend=function(...B){B.forEach(q=>{"string"==typeof q&&(q=this.ownerDocument.createTextNode(q));const ne=q["s-sn"]=gl(q),J=Mi(this.childNodes,ne,this.tagName);if(J){const $e=document.createTextNode("");$e["s-nr"]=q,J["s-cr"].parentNode.__appendChild($e),q["s-ol"]=$e;const He=Bd(J,ne)[0];return j(He.parentNode,q,He.nextSibling)}return 1===q.nodeType&&q.getAttribute("slot")&&(q.hidden=!0),P.call(this,q)})}},cr=b=>{b.append=function(...P){P.forEach(B=>{"string"==typeof B&&(B=this.ownerDocument.createTextNode(B)),this.appendChild(B)})}},Kn=b=>{const P=b.insertAdjacentHTML;b.insertAdjacentHTML=function(B,q){if("afterbegin"!==B&&"beforeend"!==B)return P.call(this,B,q);const ne=this.ownerDocument.createElement("_");let J;if(ne.innerHTML=q,"afterbegin"===B)for(;J=ne.firstChild;)this.prepend(J);else if("beforeend"===B)for(;J=ne.firstChild;)this.append(J)}},Qn=b=>{b.insertAdjacentText=function(P,B){this.insertAdjacentHTML(P,B)}},kp=b=>{const P=b.insertAdjacentElement;b.insertAdjacentElement=function(B,q){return"afterbegin"!==B&&"beforeend"!==B?P.call(this,B,q):"afterbegin"===B?(this.prepend(q),q):("beforeend"===B&&this.append(q),q)}},ml=b=>{const P=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(b,"__textContent",P),Object.defineProperty(b,"textContent",{get(){return" "+gn(this.childNodes).map(ne=>{var J,$e;const Xe=[];let He=ne.nextSibling;for(;He&&He["s-sn"]===ne["s-sn"];)(3===He.nodeType||1===He.nodeType)&&Xe.push(null!=($e=null==(J=He.textContent)?void 0:J.trim())?$e:""),He=He.nextSibling;return Xe.filter(Ze=>""!==Ze).join(" ")}).filter(ne=>""!==ne).join(" ")+" "},set(B){gn(this.childNodes).forEach(ne=>{let J=ne.nextSibling;for(;J&&J["s-sn"]===ne["s-sn"];){const $e=J;J=J.nextSibling,$e.remove()}if(""===ne["s-sn"]){const $e=this.ownerDocument.createTextNode(B);$e["s-sn"]="",j(ne.parentElement,$e,ne.nextSibling)}else ne.remove()})}})},pr=(b,P)=>{class B extends Array{item(ne){return this[ne]}}if(8&P.$flags$){const q=b.__lookupGetter__("childNodes");Object.defineProperty(b,"children",{get(){return this.childNodes.map(ne=>1===ne.nodeType)}}),Object.defineProperty(b,"childElementCount",{get:()=>b.children.length}),Object.defineProperty(b,"childNodes",{get(){const ne=q.call(this);if(!(1&nr.$flags$)&&2&so(this).$flags$){const J=new B;for(let $e=0;$e<ne.length;$e++){const Xe=ne[$e]["s-nr"];Xe&&J.push(Xe)}return J}return B.from(ne)}})}},gn=b=>{const P=[];for(const B of Array.from(b))B["s-sr"]&&P.push(B),P.push(...gn(B.childNodes));return P},gl=b=>b["s-sn"]||1===b.nodeType&&b.getAttribute("slot")||"",Mi=(b,P,B)=>{let ne,q=0;for(;q<b.length;q++)if(ne=b[q],ne["s-sr"]&&ne["s-sn"]===P&&ne["s-hn"]===B||(ne=Mi(ne.childNodes,P,B),ne))return ne;return null},Bd=(b,P)=>{const B=[b];for(;(b=b.nextSibling)&&b["s-sn"]===P;)B.push(b);return B},Ud=(b,P={})=>{var B;const ne=[],J=P.exclude||[],$e=Ma.customElements,Xe=Or.head,He=Xe.querySelector("meta[charset]"),Ze=Or.createElement("style"),Ot=[],Gt=Or.querySelectorAll(`[${ae}]`);let Wt,sn=!0,sr=0;for(Object.assign(nr,P),nr.$resourcesUrl$=new URL(P.resourcesUrl||"./",Or.baseURI).href,nr.$flags$|=2;sr<Gt.length;sr++)Sn(Gt[sr].getAttribute(ae),nt(Gt[sr].innerHTML),!0);let en=!1;if(b.map(hn=>{hn[1].map($o=>{var ui;const ao={$flags$:$o[0],$tagName$:$o[1],$members$:$o[2],$listeners$:$o[3]};4&ao.$flags$&&(en=!0),ao.$members$=$o[2],ao.$listeners$=$o[3],ao.$attrsToReflect$=[],ao.$watchers$=null!=(ui=$o[4])?ui:{};const vc=ao.$tagName$,lu=class extends HTMLElement{constructor(Io){super(Io),mc(Io=this,ao),1&ao.$flags$&&Io.attachShadow({mode:"open",delegatesFocus:!!(16&ao.$flags$)})}connectedCallback(){Wt&&(clearTimeout(Wt),Wt=null),sn?Ot.push(this):nr.jmp(()=>(b=>{if(!(1&nr.$flags$)){const P=so(b),B=P.$cmpMeta$,q=()=>{};if(1&P.$flags$)Op(b,P,B.$listeners$),null!=P&&P.$lazyInstance$?yo(P.$lazyInstance$):null!=P&&P.$onReadyPromise$&&P.$onReadyPromise$.then(()=>yo(P.$lazyInstance$));else{let ne;if(P.$flags$|=1,ne=b.getAttribute(At),ne){if(1&B.$flags$){const J=On(b.shadowRoot,B,b.getAttribute("s-mode"));b.classList.remove(J+"-h",J+"-s")}((b,P,B,q)=>{const J=b.shadowRoot,$e=[],He=J?[]:null,Ze=q.$vnode$=qt(P,null);nr.$orgLocNodes$||oe(Or.body,nr.$orgLocNodes$=new Map),b[At]=B,b.removeAttribute(At),se(Ze,$e,[],He,b,b,B),$e.map(Ot=>{const Gt=Ot.$hostId$+"."+Ot.$nodeId$,Wt=nr.$orgLocNodes$.get(Gt),sn=Ot.$elm$;Wt&&ra&&""===Wt["s-en"]&&Wt.parentNode.insertBefore(sn,Wt.nextSibling),J||(sn["s-hn"]=P,Wt&&(sn["s-ol"]=Wt,sn["s-ol"]["s-nr"]=sn)),nr.$orgLocNodes$.delete(Gt)}),J&&He.map(Ot=>{Ot&&J.appendChild(Ot)})})(b,B.$tagName$,ne,P)}ne||12&B.$flags$&&ue(b);{let J=b;for(;J=J.parentNode||J.host;)if(1===J.nodeType&&J.hasAttribute("s-id")&&J["s-p"]||J["s-p"]){ie(P,P.$ancestorComponent$=J);break}}B.$members$&&Object.entries(B.$members$).map(([J,[$e]])=>{if(31&$e&&b.hasOwnProperty(J)){const Xe=b[J];delete b[J],b[J]=Xe}}),$i(b,P,B)}q()}})(this))}disconnectedCallback(){nr.jmp(()=>kt(this))}componentOnReady(){return so(this).$onReadyPromise$}};2&ao.$flags$&&((b,P)=>{X(b),ut(b),cr(b),jt(b),kp(b),Kn(b),Qn(b),ml(b),pr(b,P),Qt(b)})(lu.prototype,ao),ao.$lazyBundleId$=hn[0],!J.includes(vc)&&!$e.get(vc)&&(ne.push(vc),$e.define(vc,Vi(lu,ao,1)))})}),ne.length>0&&(en&&(Ze.textContent+=Ht),Ze.textContent+=ne+"{visibility:hidden}.hydrated{visibility:inherit}",Ze.innerHTML.length)){Ze.setAttribute("data-styles","");const hn=null!=(B=nr.$nonce$)?B:ye(Or);null!=hn&&Ze.setAttribute("nonce",hn),Xe.insertBefore(Ze,He?He.nextSibling:Xe.firstChild)}sn=!1,Ot.length?Ot.map(hn=>hn.connectedCallback()):nr.jmp(()=>Wt=setTimeout(Vr,30))},Op=(b,P,B,q)=>{B&&B.map(([ne,J,$e])=>{const Xe=Fp(b,ne),He=Ls(P,$e),Ze=Lp(ne);nr.ael(Xe,J,He,Ze),(P.$rmListeners$=P.$rmListeners$||[]).push(()=>nr.rel(Xe,J,He,Ze))})},Ls=(b,P)=>B=>{try{256&b.$flags$?b.$lazyInstance$[P](B):(b.$queuedListeners$=b.$queuedListeners$||[]).push([P,B])}catch(q){li(q)}},Fp=(b,P)=>4&P?Or:8&P?Ma:16&P?Or.body:b,Lp=b=>Up?{passive:!!(1&b),capture:!!(2&b)}:!!(2&b),Pa=new WeakMap,so=b=>Pa.get(b),Tv=(b,P)=>Pa.set(P.$lazyInstance$=b,P),mc=(b,P)=>{const B={$flags$:0,$hostElement$:b,$cmpMeta$:P,$instanceValues$:new Map};return B.$onInstancePromise$=new Promise(q=>B.$onInstanceResolve$=q),B.$onReadyPromise$=new Promise(q=>B.$onReadyResolve$=q),b["s-p"]=[],b["s-rc"]=[],Op(b,B,P.$listeners$),Pa.set(b,B)},$p=(b,P)=>P in b,li=(b,P)=>(0,console.error)(b,P),yn=new Map,Bp=(b,P,B)=>{const q=b.$tagName$.replace(/-/g,"_"),ne=b.$lazyBundleId$,J=yn.get(ne);return J?J[q]:fe(8996)(`./${ne}.entry.js`).then($e=>(yn.set(ne,$e),$e[q]),li)},gc=new Map,jd=[],Ma=typeof window<"u"?window:{},Or=Ma.document||{head:{}},nr={$flags$:0,$resourcesUrl$:"",jmp:b=>b(),raf:b=>requestAnimationFrame(b),ael:(b,P,B,q)=>b.addEventListener(P,B,q),rel:(b,P,B,q)=>b.removeEventListener(P,B,q),ce:(b,P)=>new CustomEvent(b,P)},xi=b=>{Object.assign(nr,b)},ra=!0,Up=(()=>{let b=!1;try{Or.addEventListener("e",null,Object.defineProperty({},"passive",{get(){b=!0}}))}catch{}return b})(),jp=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Vs=!1,xa=[],Na=[],ka=(b,P)=>B=>{b.push(B),Vs||(Vs=!0,P&&4&nr.$flags$?ia(yt):nr.raf(yt))},au=b=>{for(let P=0;P<b.length;P++)try{b[P](performance.now())}catch(B){li(B)}b.length=0},yt=()=>{au(xa),au(Na),(Vs=xa.length>0)&&nr.raf(yt)},ia=b=>Promise.resolve(void 0).then(b),_c=ka(xa,!1),_l=ka(Na,!0)},2725:(hr,tn,fe)=>{"use strict";fe.d(tn,{b:()=>Ke,c:()=>pt,d:()=>pe,e:()=>ht,g:()=>H,l:()=>Ht,s:()=>qt,t:()=>Ee,w:()=>Zt});var E=fe(467),Ae=fe(3664),L=fe(9672),ot=fe(4929),zt=fe(4920);const Ke="ionViewWillLeave",pt="ionViewDidLeave",pe="ionViewWillUnload",te=S=>{S.tabIndex=-1,S.focus()},xe=S=>null!==S.offsetParent,Se="ion-last-focus",De_saveViewFocus=k=>{if(Ae.c.get("focusManagerPriority",!1)){const se=document.activeElement;null!==se&&null!=k&&k.contains(se)&&se.setAttribute(Se,"true")}},De_setViewFocus=k=>{const z=Ae.c.get("focusManagerPriority",!1);if(Array.isArray(z)&&!k.contains(document.activeElement)){const se=k.querySelector(`[${Se}]`);if(se&&xe(se))return void te(se);for(const oe of z)switch(oe){case"content":const qe=k.querySelector('main, [role="main"]');if(qe&&xe(qe))return void te(qe);break;case"heading":const lt=k.querySelector('h1, [role="heading"][aria-level="1"]');if(lt&&xe(lt))return void te(lt);break;case"banner":const un=k.querySelector('header, [role="banner"]');if(un&&xe(un))return void te(un);break;default:(0,ot.p)(`Unrecognized focus manager priority value ${oe}`)}te(k)}},Ee=S=>new Promise((D,k)=>{(0,L.w)(()=>{We(S),we(S).then(z=>{z.animation&&z.animation.destroy(),at(S),D(z)},z=>{at(S),k(z)})})}),We=S=>{const D=S.enteringEl,k=S.leavingEl;De_saveViewFocus(k),Le(D,k,S.direction),S.showGoBack?D.classList.add("can-go-back"):D.classList.remove("can-go-back"),qt(D,!1),D.style.setProperty("pointer-events","none"),k&&(qt(k,!1),k.style.setProperty("pointer-events","none"))},we=function(){var S=(0,E.A)(function*(D){const k=yield le(D);return k&&L.B.isBrowser?Ve(k,D):Oe(D)});return function(k){return S.apply(this,arguments)}}(),at=S=>{const D=S.enteringEl,k=S.leavingEl;D.classList.remove("ion-page-invisible"),D.style.removeProperty("pointer-events"),void 0!==k&&(k.classList.remove("ion-page-invisible"),k.style.removeProperty("pointer-events")),De_setViewFocus(D)},le=function(){var S=(0,E.A)(function*(D){return D.leavingEl&&D.animated&&0!==D.duration?D.animationBuilder?D.animationBuilder:"ios"===D.mode?(yield Promise.resolve().then(fe.bind(fe,8454))).iosTransitionAnimation:(yield Promise.resolve().then(fe.bind(fe,3314))).mdTransitionAnimation:void 0});return function(k){return S.apply(this,arguments)}}(),Ve=function(){var S=(0,E.A)(function*(D,k){yield Ye(k,!0);const z=D(k.baseEl,k);Ge(k.enteringEl,k.leavingEl);const se=yield ae(z,k);return k.progressCallback&&k.progressCallback(void 0),se&&gt(k.enteringEl,k.leavingEl),{hasCompleted:se,animation:z}});return function(k,z){return S.apply(this,arguments)}}(),Oe=function(){var S=(0,E.A)(function*(D){const k=D.enteringEl,z=D.leavingEl,se=Ae.c.get("focusManagerPriority",!1);return yield Ye(D,se),Ge(k,z),gt(k,z),{hasCompleted:!0}});return function(k){return S.apply(this,arguments)}}(),Ye=function(){var S=(0,E.A)(function*(D,k){(void 0!==D.deepWait?D.deepWait:k)&&(yield Promise.all([ht(D.enteringEl),ht(D.leavingEl)])),yield At(D.viewIsReady,D.enteringEl)});return function(k,z){return S.apply(this,arguments)}}(),At=function(){var S=(0,E.A)(function*(D,k){D&&(yield D(k))});return function(k,z){return S.apply(this,arguments)}}(),ae=(S,D)=>{const k=D.progressCallback,z=new Promise(se=>{S.onFinish(oe=>se(1===oe))});return k?(S.progressStart(!0),k(S)):S.play(),z},Ge=(S,D)=>{Ht(D,Ke),Ht(S,"ionViewWillEnter")},gt=(S,D)=>{Ht(S,"ionViewDidEnter"),Ht(D,pt)},Ht=(S,D)=>{if(S){const k=new CustomEvent(D,{bubbles:!1,cancelable:!1});S.dispatchEvent(k)}},Zt=()=>new Promise(S=>(0,zt.r)(()=>(0,zt.r)(()=>S()))),ht=function(){var S=(0,E.A)(function*(D){const k=D;if(k){if(null!=k.componentOnReady){if(null!=(yield k.componentOnReady()))return}else if(null!=k.__registerHost)return void(yield new Promise(se=>(0,zt.r)(se)));yield Promise.all(Array.from(k.children).map(ht))}});return function(k){return S.apply(this,arguments)}}(),qt=(S,D)=>{D?(S.setAttribute("aria-hidden","true"),S.classList.add("ion-page-hidden")):(S.hidden=!1,S.removeAttribute("aria-hidden"),S.classList.remove("ion-page-hidden"))},Le=(S,D,k)=>{void 0!==S&&(S.style.zIndex="back"===k?"99":"101"),void 0!==D&&(D.style.zIndex="100")},H=S=>S.classList.contains("ion-page")?S:S.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||S},4929:(hr,tn,fe)=>{"use strict";fe.d(tn,{a:()=>Ae,b:()=>L,p:()=>E});const E=(ot,...zt)=>console.warn(`[Ionic Warning]: ${ot}`,...zt),Ae=(ot,...zt)=>console.error(`[Ionic Error]: ${ot}`,...zt),L=(ot,...zt)=>console.error(`<${ot.tagName.toLowerCase()}> must be used inside ${zt.join(" or ")}.`)},8476:(hr,tn,fe)=>{"use strict";fe.d(tn,{d:()=>Ae,w:()=>E});const E=typeof window<"u"?window:void 0,Ae=typeof document<"u"?document:void 0},3664:(hr,tn,fe)=>{"use strict";fe.d(tn,{a:()=>te,b:()=>qt,c:()=>L,i:()=>Le});var E=fe(9672);class Ae{constructor(){this.m=new Map}reset(S){this.m=new Map(Object.entries(S))}get(S,D){const k=this.m.get(S);return void 0!==k?k:D}getBoolean(S,D=!1){const k=this.m.get(S);return void 0===k?D:"string"==typeof k?"true"===k:!!k}getNumber(S,D){const k=parseFloat(this.m.get(S));return isNaN(k)?void 0!==D?D:NaN:k}set(S,D){this.m.set(S,D)}}const L=new Ae,pt="ionic-persist-config",te=(H,S)=>("string"==typeof H&&(S=H,H=void 0),(H=>xe(H))(H).includes(S)),xe=(H=window)=>{if(typeof H>"u")return[];H.Ionic=H.Ionic||{};let S=H.Ionic.platforms;return null==S&&(S=H.Ionic.platforms=ye(H),S.forEach(D=>H.document.documentElement.classList.add(`plt-${D}`))),S},ye=H=>{const S=L.get("platform");return Object.keys(Zt).filter(D=>{const k=null==S?void 0:S[D];return"function"==typeof k?k(H):Zt[D](H)})},rt=H=>!!(gt(H,/iPad/i)||gt(H,/Macintosh/i)&&le(H)),Ee=H=>gt(H,/android|sink/i),le=H=>Ht(H,"(any-pointer:coarse)"),Oe=H=>Ye(H)||At(H),Ye=H=>!!(H.cordova||H.phonegap||H.PhoneGap),At=H=>{const S=H.Capacitor;return!(null==S||!S.isNative)},gt=(H,S)=>S.test(H.navigator.userAgent),Ht=(H,S)=>{var D;return null===(D=H.matchMedia)||void 0===D?void 0:D.call(H,S).matches},Zt={ipad:rt,iphone:H=>gt(H,/iPhone/i),ios:H=>gt(H,/iPhone|iPod/i)||rt(H),android:Ee,phablet:H=>{const S=H.innerWidth,D=H.innerHeight,k=Math.min(S,D),z=Math.max(S,D);return k>390&&k<520&&z>620&&z<800},tablet:H=>{const S=H.innerWidth,D=H.innerHeight,k=Math.min(S,D),z=Math.max(S,D);return rt(H)||(H=>Ee(H)&&!gt(H,/mobile/i))(H)||k>460&&k<820&&z>780&&z<1400},cordova:Ye,capacitor:At,electron:H=>gt(H,/electron/i),pwa:H=>{var S;return!!(null!==(S=H.matchMedia)&&void 0!==S&&S.call(H,"(display-mode: standalone)").matches||H.navigator.standalone)},mobile:le,mobileweb:H=>le(H)&&!Oe(H),desktop:H=>!le(H),hybrid:Oe};let ht;const qt=H=>H&&(0,E.g)(H)||ht,Le=(H={})=>{if(typeof window>"u")return;const S=window.document,D=window,k=D.Ionic=D.Ionic||{},z={};H._ael&&(z.ael=H._ael),H._rel&&(z.rel=H._rel),H._ce&&(z.ce=H._ce),(0,E.a)(z);const se=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(H=>{try{const S=H.sessionStorage.getItem(pt);return null!==S?JSON.parse(S):{}}catch{return{}}})(D)),{persistConfig:!1}),k.config),(H=>{const S={};return H.location.search.slice(1).split("&").map(D=>D.split("=")).map(([D,k])=>{try{return[decodeURIComponent(D),decodeURIComponent(k)]}catch{return["",""]}}).filter(([D])=>((H,S)=>H.substr(0,S.length)===S)(D,"ionic:")).map(([D,k])=>[D.slice(6),k]).forEach(([D,k])=>{S[D]=k}),S})(D)),H);L.reset(se),L.getBoolean("persistConfig")&&((H,S)=>{try{H.sessionStorage.setItem(pt,JSON.stringify(S))}catch{return}})(D,se),xe(D),k.config=L,k.mode=ht=L.get("mode",S.documentElement.getAttribute("mode")||(te(D,"ios")?"ios":"md")),L.set("mode",ht),S.documentElement.setAttribute("mode",ht),S.documentElement.classList.add(ht),L.getBoolean("_testing")&&L.set("animated",!1);const oe=lt=>{var un;return null===(un=lt.tagName)||void 0===un?void 0:un.startsWith("ION-")},qe=lt=>["ios","md"].includes(lt);(0,E.c)(lt=>{for(;lt;){const un=lt.mode||lt.getAttribute("mode");if(un){if(qe(un))return un;oe(lt)&&console.warn('Invalid ionic mode: "'+un+'", expected: "ios" or "md"')}lt=lt.parentElement}return ht})}},8454:(hr,tn,fe)=>{"use strict";fe.r(tn),fe.d(tn,{iosTransitionAnimation:()=>Se,shadow:()=>Ke});var E=fe(9986),Ae=fe(2725);fe(8476),fe(3664),fe(9672);const Ce=ke=>document.querySelector(`${ke}.ion-cloned-element`),Ke=ke=>ke.shadowRoot||ke,pt=ke=>{const De="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs"),Ee="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=De){const We=De.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=We?We.querySelector(Ee):null}return ke.querySelector(Ee)},pe=(ke,De)=>{const Ee="ION-TABS"===ke.tagName?ke:ke.querySelector("ion-tabs");let We=[];if(null!=Ee){const we=Ee.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=we&&(We=we.querySelectorAll("ion-buttons"))}else We=ke.querySelectorAll("ion-buttons");for(const we of We){const at=we.closest("ion-header"),le=at&&!at.classList.contains("header-collapse-condense-inactive"),Ve=we.querySelector("ion-back-button"),Oe=we.classList.contains("buttons-collapse");if(null!==Ve&&("start"===we.slot||""===we.slot)&&(Oe&&le&&De||!Oe))return Ve}return null},xe=(ke,De,Ee,We,we,at,le,Ve,Oe)=>{var Ye,At;const ae=De?`calc(100% - ${we.right+4}px)`:we.left-4+"px",Ge=De?"right":"left",gt=De?"left":"right",Ht=De?"right":"left";let Zt=1,ht=1,qt=`scale(${ht})`;const Le="scale(1)";if(at&&le){const Pe=(null===(Ye=at.textContent)||void 0===Ye?void 0:Ye.trim())===(null===(At=Ve.textContent)||void 0===At?void 0:At.trim());Zt=Oe.width/le.width,ht=(Oe.height-rt)/le.height,qt=Pe?`scale(${Zt}, ${ht})`:`scale(${ht})`}const S=Ke(We).querySelector("ion-icon").getBoundingClientRect(),D=De?S.width/2-(S.right-we.right)+"px":we.left-S.width/2+"px",k=De?`-${window.innerWidth-we.right}px`:`${we.left}px`,z=`${Oe.top}px`,se=`${we.top}px`,lt=Ee?[{offset:0,transform:`translate3d(${k}, ${se}, 0)`},{offset:1,transform:`translate3d(${D}, ${z}, 0)`}]:[{offset:0,transform:`translate3d(${D}, ${z}, 0)`},{offset:1,transform:`translate3d(${k}, ${se}, 0)`}],cn=Ee?[{offset:0,opacity:1,transform:Le},{offset:1,opacity:0,transform:qt}]:[{offset:0,opacity:0,transform:qt},{offset:1,opacity:1,transform:Le}],er=Ee?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Sn=(0,E.c)(),On=(0,E.c)(),Tn=(0,E.c)(),kn=Ce("ion-back-button"),nt=Ke(kn).querySelector(".button-text"),Ne=Ke(kn).querySelector("ion-icon");kn.text=We.text,kn.mode=We.mode,kn.icon=We.icon,kn.color=We.color,kn.disabled=We.disabled,kn.style.setProperty("display","block"),kn.style.setProperty("position","fixed"),On.addElement(Ne),Sn.addElement(nt),Tn.addElement(kn),Tn.beforeStyles({position:"absolute",top:"0px",[Ht]:"0px"}).beforeAddWrite(()=>{We.style.setProperty("display","none"),kn.style.setProperty(Ge,ae)}).afterAddWrite(()=>{We.style.setProperty("display",""),kn.style.setProperty("display","none"),kn.style.removeProperty(Ge)}).keyframes(lt),Sn.beforeStyles({"transform-origin":`${Ge} top`}).keyframes(cn),On.beforeStyles({"transform-origin":`${gt} center`}).keyframes(er),ke.addAnimation([Sn,On,Tn])},ye=(ke,De,Ee,We,we,at,le,Ve,Oe)=>{var Ye,At;const ae=De?"right":"left",Ge=De?`calc(100% - ${we.right}px)`:`${we.left}px`,Ht=`${we.top}px`;let ht=De?`-${window.innerWidth-le.right-8}px`:`${le.x+8}px`,qt=.5;const Le="scale(1)";let H=`scale(${qt})`;if(Ve&&Oe){ht=De?`-${window.innerWidth-Oe.right-8}px`:Oe.x-8+"px";const un=(null===(Ye=Ve.textContent)||void 0===Ye?void 0:Ye.trim())===(null===(At=We.textContent)||void 0===At?void 0:At.trim());qt=Oe.height/(at.height-rt),H=un?`scale(${Oe.width/at.width}, ${qt})`:`scale(${qt})`}const k=le.top+le.height/2-we.height*qt/2+"px",oe=Ee?[{offset:0,opacity:0,transform:`translate3d(${ht}, ${k}, 0) ${H}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Ht}, 0) ${Le}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Ht}, 0) ${Le}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ht}, ${k}, 0) ${H}`}],qe=Ce("ion-title"),lt=(0,E.c)();qe.innerText=We.innerText,qe.size=We.size,qe.color=We.color,lt.addElement(qe),lt.beforeStyles({"transform-origin":`${ae} top`,height:`${we.height}px`,display:"",position:"relative",[ae]:Ge}).beforeAddWrite(()=>{We.style.setProperty("opacity","0")}).afterAddWrite(()=>{We.style.setProperty("opacity",""),qe.style.setProperty("display","none")}).keyframes(oe),ke.addAnimation(lt)},Se=(ke,De)=>{var Ee;try{const We="cubic-bezier(0.32,0.72,0,1)",we="opacity",at="transform",le="0%",Oe="rtl"===ke.ownerDocument.dir,Ye=Oe?"-99.5%":"99.5%",At=Oe?"33%":"-33%",ae=De.enteringEl,Ge=De.leavingEl,gt="back"===De.direction,Ht=ae.querySelector(":scope > ion-content"),Zt=ae.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ht=ae.querySelectorAll(":scope > ion-header > ion-toolbar"),qt=(0,E.c)(),Le=(0,E.c)();if(qt.addElement(ae).duration((null!==(Ee=De.duration)&&void 0!==Ee?Ee:0)||540).easing(De.easing||We).fill("both").beforeRemoveClass("ion-page-invisible"),Ge&&null!=ke){const k=(0,E.c)();k.addElement(ke),qt.addAnimation(k)}if(Ht||0!==ht.length||0!==Zt.length?(Le.addElement(Ht),Le.addElement(Zt)):Le.addElement(ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qt.addAnimation(Le),gt?Le.beforeClearStyles([we]).fromTo("transform",`translateX(${At})`,`translateX(${le})`).fromTo(we,.8,1):Le.beforeClearStyles([we]).fromTo("transform",`translateX(${Ye})`,`translateX(${le})`),Ht){const k=Ke(Ht).querySelector(".transition-effect");if(k){const z=k.querySelector(".transition-cover"),se=k.querySelector(".transition-shadow"),oe=(0,E.c)(),qe=(0,E.c)(),lt=(0,E.c)();oe.addElement(k).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),qe.addElement(z).beforeClearStyles([we]).fromTo(we,0,.1),lt.addElement(se).beforeClearStyles([we]).fromTo(we,.03,.7),oe.addAnimation([qe,lt]),Le.addAnimation([oe])}}const H=ae.querySelector("ion-header.header-collapse-condense"),{forward:S,backward:D}=((ke,De,Ee,We,we)=>{const at=pe(We,Ee),le=pt(we),Ve=pt(We),Oe=pe(we,Ee),Ye=null!==at&&null!==le&&!Ee,At=null!==Ve&&null!==Oe&&Ee;if(Ye){const ae=le.getBoundingClientRect(),Ge=at.getBoundingClientRect(),gt=Ke(at).querySelector(".button-text"),Ht=null==gt?void 0:gt.getBoundingClientRect(),ht=Ke(le).querySelector(".toolbar-title").getBoundingClientRect();ye(ke,De,Ee,le,ae,ht,Ge,gt,Ht),xe(ke,De,Ee,at,Ge,gt,Ht,le,ht)}else if(At){const ae=Ve.getBoundingClientRect(),Ge=Oe.getBoundingClientRect(),gt=Ke(Oe).querySelector(".button-text"),Ht=null==gt?void 0:gt.getBoundingClientRect(),ht=Ke(Ve).querySelector(".toolbar-title").getBoundingClientRect();ye(ke,De,Ee,Ve,ae,ht,Ge,gt,Ht),xe(ke,De,Ee,Oe,Ge,gt,Ht,Ve,ht)}return{forward:Ye,backward:At}})(qt,Oe,gt,ae,Ge);if(ht.forEach(k=>{const z=(0,E.c)();z.addElement(k),qt.addAnimation(z);const se=(0,E.c)();se.addElement(k.querySelector("ion-title"));const oe=(0,E.c)(),qe=Array.from(k.querySelectorAll("ion-buttons,[menuToggle]")),lt=k.closest("ion-header"),un=null==lt?void 0:lt.classList.contains("header-collapse-condense-inactive");let wt;wt=qe.filter(gt?Sn=>{const On=Sn.classList.contains("buttons-collapse");return On&&!un||!On}:Sn=>!Sn.classList.contains("buttons-collapse")),oe.addElement(wt);const cn=(0,E.c)();cn.addElement(k.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const dn=(0,E.c)();dn.addElement(Ke(k).querySelector(".toolbar-background"));const Ut=(0,E.c)(),er=k.querySelector("ion-back-button");if(er&&Ut.addElement(er),z.addAnimation([se,oe,cn,dn,Ut]),oe.fromTo(we,.01,1),cn.fromTo(we,.01,1),gt)un||se.fromTo("transform",`translateX(${At})`,`translateX(${le})`).fromTo(we,.01,1),cn.fromTo("transform",`translateX(${At})`,`translateX(${le})`),Ut.fromTo(we,.01,1);else if(H||se.fromTo("transform",`translateX(${Ye})`,`translateX(${le})`).fromTo(we,.01,1),cn.fromTo("transform",`translateX(${Ye})`,`translateX(${le})`),dn.beforeClearStyles([we,"transform"]),(null==lt?void 0:lt.translucent)?dn.fromTo("transform",Oe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):dn.fromTo(we,.01,"var(--opacity)"),S||Ut.fromTo(we,.01,1),er&&!S){const On=(0,E.c)();On.addElement(Ke(er).querySelector(".button-text")).fromTo("transform",Oe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),z.addAnimation(On)}}),Ge){const k=(0,E.c)(),z=Ge.querySelector(":scope > ion-content"),se=Ge.querySelectorAll(":scope > ion-header > ion-toolbar"),oe=Ge.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(z||0!==se.length||0!==oe.length?(k.addElement(z),k.addElement(oe)):k.addElement(Ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qt.addAnimation(k),gt){k.beforeClearStyles([we]).fromTo("transform",`translateX(${le})`,Oe?"translateX(-100%)":"translateX(100%)");const qe=(0,Ae.g)(Ge);qt.afterAddWrite(()=>{"normal"===qt.getDirection()&&qe.style.setProperty("display","none")})}else k.fromTo("transform",`translateX(${le})`,`translateX(${At})`).fromTo(we,1,.8);if(z){const qe=Ke(z).querySelector(".transition-effect");if(qe){const lt=qe.querySelector(".transition-cover"),un=qe.querySelector(".transition-shadow"),wt=(0,E.c)(),cn=(0,E.c)(),dn=(0,E.c)();wt.addElement(qe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),cn.addElement(lt).beforeClearStyles([we]).fromTo(we,.1,0),dn.addElement(un).beforeClearStyles([we]).fromTo(we,.7,.03),wt.addAnimation([cn,dn]),k.addAnimation([wt])}}se.forEach(qe=>{const lt=(0,E.c)();lt.addElement(qe);const un=(0,E.c)();un.addElement(qe.querySelector("ion-title"));const wt=(0,E.c)(),cn=qe.querySelectorAll("ion-buttons,[menuToggle]"),dn=qe.closest("ion-header"),Ut=null==dn?void 0:dn.classList.contains("header-collapse-condense-inactive"),er=Array.from(cn).filter(Ne=>{const Pe=Ne.classList.contains("buttons-collapse");return Pe&&!Ut||!Pe});wt.addElement(er);const Sn=(0,E.c)(),On=qe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");On.length>0&&Sn.addElement(On);const Tn=(0,E.c)();Tn.addElement(Ke(qe).querySelector(".toolbar-background"));const kn=(0,E.c)(),nt=qe.querySelector("ion-back-button");if(nt&&kn.addElement(nt),lt.addAnimation([un,wt,Sn,kn,Tn]),qt.addAnimation(lt),kn.fromTo(we,.99,0),wt.fromTo(we,.99,0),Sn.fromTo(we,.99,0),gt){if(Ut||un.fromTo("transform",`translateX(${le})`,Oe?"translateX(-100%)":"translateX(100%)").fromTo(we,.99,0),Sn.fromTo("transform",`translateX(${le})`,Oe?"translateX(-100%)":"translateX(100%)"),Tn.beforeClearStyles([we,"transform"]),(null==dn?void 0:dn.translucent)?Tn.fromTo("transform","translateX(0px)",Oe?"translateX(-100%)":"translateX(100%)"):Tn.fromTo(we,"var(--opacity)",0),nt&&!D){const Pe=(0,E.c)();Pe.addElement(Ke(nt).querySelector(".button-text")).fromTo("transform",`translateX(${le})`,`translateX(${(Oe?-124:124)+"px"})`),lt.addAnimation(Pe)}}else Ut||un.fromTo("transform",`translateX(${le})`,`translateX(${At})`).fromTo(we,.99,0).afterClearStyles([at,we]),Sn.fromTo("transform",`translateX(${le})`,`translateX(${At})`).afterClearStyles([at,we]),kn.afterClearStyles([we]),un.afterClearStyles([we]),wt.afterClearStyles([we])})}return qt}catch(We){throw We}},rt=10},3314:(hr,tn,fe)=>{"use strict";fe.r(tn),fe.d(tn,{mdTransitionAnimation:()=>Dt});var E=fe(9986),Ae=fe(2725);fe(8476),fe(3664),fe(9672);const Dt=(Ce,Ke)=>{var pt,pe,te;const Se="back"===Ke.direction,ke=Ke.leavingEl,De=(0,Ae.g)(Ke.enteringEl),Ee=De.querySelector("ion-toolbar"),We=(0,E.c)();if(We.addElement(De).fill("both").beforeRemoveClass("ion-page-invisible"),Se?We.duration((null!==(pt=Ke.duration)&&void 0!==pt?pt:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):We.duration((null!==(pe=Ke.duration)&&void 0!==pe?pe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ee){const we=(0,E.c)();we.addElement(Ee),We.addAnimation(we)}if(ke&&Se){We.duration((null!==(te=Ke.duration)&&void 0!==te?te:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const we=(0,E.c)();we.addElement((0,Ae.g)(ke)).onFinish(at=>{1===at&&we.elements.length>0&&we.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),We.addAnimation(we)}return We}},6002:(hr,tn,fe)=>{"use strict";fe.d(tn,{B:()=>cn,F:()=>kn,G:()=>dn,O:()=>Ut,a:()=>De,b:()=>Ee,c:()=>le,d:()=>er,e:()=>Sn,f:()=>S,g:()=>k,h:()=>oe,i:()=>lt,j:()=>Oe,k:()=>Ye,m:()=>we,n:()=>pe,o:()=>Le,q:()=>te,s:()=>wt});var E=fe(467),Ae=fe(8476),L=fe(4920),ot=fe(6411),zt=fe(3664),Dt=fe(8621),Ce=fe(1970),Ke=fe(4929);const pt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',pe=(nt,Ne)=>{const Pe=nt.querySelector(pt);xe(Pe,null!=Ne?Ne:nt)},te=(nt,Ne)=>{const Pe=Array.from(nt.querySelectorAll(pt));xe(Pe.length>0?Pe[Pe.length-1]:null,null!=Ne?Ne:nt)},xe=(nt,Ne)=>{let Pe=nt;const Mt=null==nt?void 0:nt.shadowRoot;Mt&&(Pe=Mt.querySelector(pt)||nt),Pe?(0,L.f)(Pe):Ne.focus()};let ye=0,Se=0;const rt=new WeakMap,ke=nt=>({create:Ne=>At(nt,Ne),dismiss:(Ne,Pe,Mt)=>Zt(document,Ne,Pe,nt,Mt),getTop:()=>(0,E.A)(function*(){return Le(document,nt)})()}),De=ke("ion-alert"),Ee=ke("ion-action-sheet"),we=ke("ion-modal"),le=ke("ion-popover"),Oe=nt=>{typeof document<"u"&&Ht(document);const Ne=ye++;nt.overlayIndex=Ne},Ye=nt=>(nt.hasAttribute("id")||(nt.id="ion-overlay-"+ ++Se),nt.id),At=(nt,Ne)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(nt).then(()=>{const Pe=document.createElement(nt);return Pe.classList.add("overlay-hidden"),Object.assign(Pe,Object.assign(Object.assign({},Ne),{hasController:!0})),z(document).appendChild(Pe),new Promise(Mt=>(0,L.c)(Pe,Mt))}):Promise.resolve(),Ge=(nt,Ne)=>{let Pe=nt;const Mt=null==nt?void 0:nt.shadowRoot;Mt&&(Pe=Mt.querySelector(pt)||nt),Pe?(0,L.f)(Pe):Ne.focus()},Ht=nt=>{0===ye&&(ye=1,nt.addEventListener("focus",Ne=>{((nt,Ne)=>{const Pe=Le(Ne,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),Mt=nt.target;Pe&&Mt&&!Pe.classList.contains(kn)&&(Pe.shadowRoot?(()=>{if(Pe.contains(Mt))Pe.lastFocus=Mt;else if("ION-TOAST"===Mt.tagName)Ge(Pe.lastFocus,Pe);else{const jn=Pe.lastFocus;pe(Pe),jn===Ne.activeElement&&te(Pe),Pe.lastFocus=Ne.activeElement}})():(()=>{if(Pe===Mt)Pe.lastFocus=void 0;else if("ION-TOAST"===Mt.tagName)Ge(Pe.lastFocus,Pe);else{const jn=(0,L.g)(Pe);if(!jn.contains(Mt))return;const zn=jn.querySelector(".ion-overlay-wrapper");if(!zn)return;if(zn.contains(Mt)||Mt===jn.querySelector("ion-backdrop"))Pe.lastFocus=Mt;else{const An=Pe.lastFocus;pe(zn,Pe),An===Ne.activeElement&&te(zn,Pe),Pe.lastFocus=Ne.activeElement}}})())})(Ne,nt)},!0),nt.addEventListener("ionBackButton",Ne=>{const Pe=Le(nt);null!=Pe&&Pe.backdropDismiss&&Ne.detail.register(ot.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Pe.dismiss(void 0,cn)})}),(0,ot.shouldUseCloseWatcher)()||nt.addEventListener("keydown",Ne=>{if("Escape"===Ne.key){const Pe=Le(nt);null!=Pe&&Pe.backdropDismiss&&Pe.dismiss(void 0,cn)}}))},Zt=(nt,Ne,Pe,Mt,Pn)=>{const tr=Le(nt,Mt,Pn);return tr?tr.dismiss(Ne,Pe):Promise.reject("overlay does not exist")},qt=(nt,Ne)=>((nt,Ne)=>(void 0===Ne&&(Ne="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(nt.querySelectorAll(Ne)).filter(Pe=>Pe.overlayIndex>0)))(nt,Ne).filter(Pe=>!(nt=>nt.classList.contains("overlay-hidden"))(Pe)),Le=(nt,Ne,Pe)=>{const Mt=qt(nt,Ne);return void 0===Pe?Mt[Mt.length-1]:Mt.find(Pn=>Pn.id===Pe)},H=(nt=!1)=>{const Pe=z(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Pe&&(nt?Pe.setAttribute("aria-hidden","true"):Pe.removeAttribute("aria-hidden"))},S=function(){var nt=(0,E.A)(function*(Ne,Pe,Mt,Pn,tr){var jn,zn;if(Ne.presented)return;H(!0),document.body.classList.add(Ce.B),On(Ne.el),Ne.presented=!0,Ne.willPresent.emit(),null===(jn=Ne.willPresentShorthand)||void 0===jn||jn.emit();const An=(0,zt.b)(Ne),qn=Ne.enterAnimation?Ne.enterAnimation:zt.c.get(Pe,"ios"===An?Mt:Pn);(yield se(Ne,qn,Ne.el,tr))&&(Ne.didPresent.emit(),null===(zn=Ne.didPresentShorthand)||void 0===zn||zn.emit()),"ION-TOAST"!==Ne.el.tagName&&D(Ne.el),Ne.keyboardClose&&(null===document.activeElement||!Ne.el.contains(document.activeElement))&&Ne.el.focus(),Ne.el.removeAttribute("aria-hidden")});return function(Pe,Mt,Pn,tr,jn){return nt.apply(this,arguments)}}(),D=function(){var nt=(0,E.A)(function*(Ne){let Pe=document.activeElement;if(!Pe)return;const Mt=null==Pe?void 0:Pe.shadowRoot;Mt&&(Pe=Mt.querySelector(pt)||Pe),yield Ne.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Pe.focus()});return function(Pe){return nt.apply(this,arguments)}}(),k=function(){var nt=(0,E.A)(function*(Ne,Pe,Mt,Pn,tr,jn,zn){var An,qn;if(!Ne.presented)return!1;void 0!==Ae.d&&1===qt(Ae.d).length&&(H(!1),document.body.classList.remove(Ce.B)),Ne.presented=!1;try{Ne.el.style.setProperty("pointer-events","none"),Ne.willDismiss.emit({data:Pe,role:Mt}),null===(An=Ne.willDismissShorthand)||void 0===An||An.emit({data:Pe,role:Mt});const _r=(0,zt.b)(Ne),Ii=Ne.leaveAnimation?Ne.leaveAnimation:zt.c.get(Pn,"ios"===_r?tr:jn);Mt!==dn&&(yield se(Ne,Ii,Ne.el,zn)),Ne.didDismiss.emit({data:Pe,role:Mt}),null===(qn=Ne.didDismissShorthand)||void 0===qn||qn.emit({data:Pe,role:Mt}),(rt.get(Ne)||[]).forEach(fr=>fr.destroy()),rt.delete(Ne),Ne.el.classList.add("overlay-hidden"),Ne.el.style.removeProperty("pointer-events"),void 0!==Ne.el.lastFocus&&(Ne.el.lastFocus=void 0)}catch(_r){console.error(_r)}return Ne.el.remove(),Tn(),!0});return function(Pe,Mt,Pn,tr,jn,zn,An){return nt.apply(this,arguments)}}(),z=nt=>nt.querySelector("ion-app")||nt.body,se=function(){var nt=(0,E.A)(function*(Ne,Pe,Mt,Pn){Mt.classList.remove("overlay-hidden");const jn=Pe(Ne.el,Pn);(!Ne.animated||!zt.c.getBoolean("animated",!0))&&jn.duration(0),Ne.keyboardClose&&jn.beforeAddWrite(()=>{const An=Mt.ownerDocument.activeElement;null!=An&&An.matches("input,ion-input, ion-textarea")&&An.blur()});const zn=rt.get(Ne)||[];return rt.set(Ne,[...zn,jn]),yield jn.play(),!0});return function(Pe,Mt,Pn,tr){return nt.apply(this,arguments)}}(),oe=(nt,Ne)=>{let Pe;const Mt=new Promise(Pn=>Pe=Pn);return qe(nt,Ne,Pn=>{Pe(Pn.detail)}),Mt},qe=(nt,Ne,Pe)=>{const Mt=Pn=>{(0,L.b)(nt,Ne,Mt),Pe(Pn)};(0,L.a)(nt,Ne,Mt)},lt=nt=>"cancel"===nt||nt===cn,un=nt=>nt(),wt=(nt,Ne)=>{if("function"==typeof nt)return zt.c.get("_zoneGate",un)(()=>{try{return nt(Ne)}catch(Mt){throw Mt}})},cn="backdrop",dn="gesture",Ut=39,er=nt=>{let Pe,Ne=!1;const Mt=(0,Dt.C)(),Pn=(zn=!1)=>{if(Pe&&!zn)return{delegate:Pe,inline:Ne};const{el:An,hasController:qn,delegate:Wn}=nt;return Ne=null!==An.parentNode&&!qn,Pe=Ne?Wn||Mt:Wn,{inline:Ne,delegate:Pe}};return{attachViewToDom:function(){var zn=(0,E.A)(function*(An){const{delegate:qn}=Pn(!0);if(qn)return yield qn.attachViewToDom(nt.el,An);const{hasController:Wn}=nt;if(Wn&&void 0!==An)throw new Error("framework delegate is missing");return null});return function(qn){return zn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:zn}=Pn();zn&&void 0!==nt.el&&zn.removeViewFromDom(nt.el.parentElement,nt.el)}}},Sn=()=>{let nt;const Ne=()=>{nt&&(nt(),nt=void 0)};return{addClickListener:(Mt,Pn)=>{Ne();const tr=void 0!==Pn?document.getElementById(Pn):null;tr?nt=((zn,An)=>{const qn=()=>{An.present()};return zn.addEventListener("click",qn),()=>{zn.removeEventListener("click",qn)}})(tr,Mt):(0,Ke.p)(`A trigger element with the ID "${Pn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Mt)},removeClickListener:Ne}},On=nt=>{var Ne;if(void 0===Ae.d)return;const Pe=qt(Ae.d);for(let Mt=Pe.length-1;Mt>=0;Mt--){const Pn=Pe[Mt],tr=null!==(Ne=Pe[Mt+1])&&void 0!==Ne?Ne:nt;(tr.hasAttribute("aria-hidden")||"ION-TOAST"!==tr.tagName)&&Pn.setAttribute("aria-hidden","true")}},Tn=()=>{if(void 0===Ae.d)return;const nt=qt(Ae.d);for(let Ne=nt.length-1;Ne>=0;Ne--){const Pe=nt[Ne];if(Pe.removeAttribute("aria-hidden"),"ION-TOAST"!==Pe.tagName)break}},kn="ion-disable-focus-trap"},5330:(hr,tn,fe)=>{"use strict";var E=fe(467);let L=null,zt=1;const Dt=Symbol("SIGNAL");function Ce(t){const e=L;return L=t,e}function Se(t){if((!Oe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==zt)){if(!t.producerMustRecompute(t)&&!we(t))return t.dirty=!1,void(t.lastCleanEpoch=zt);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=zt}}function we(t){Ye(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Se(n),r!==n.version))return!0}return!1}function Ve(t,e){if(function At(t){var e,n;null!==(e=t.liveConsumerNode)&&void 0!==e||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}(t),Ye(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Ve(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ye(i),i.producerIndexOfThis[r]=e}}function Oe(t){var e,n;return t.consumerIsAlwaysLive||(null!==(e=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==e?e:0)>0}function Ye(t){var e,n,r;null!==(e=t.producerNode)&&void 0!==e||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(r=t.producerLastReadVersion)&&void 0!==r||(t.producerLastReadVersion=[])}let qt=null;function Ut(t){return"function"==typeof t}function er(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Sn=er(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function On(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Tn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ut(r))try{r()}catch(o){e=o instanceof Sn?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Ne(o)}catch(s){e=null!=e?e:[],s instanceof Sn?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Sn(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ne(e);else{if(e instanceof Tn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&On(n,e)}remove(e){const{_finalizers:n}=this;n&&On(n,e),e instanceof Tn&&e._removeParent(this)}}Tn.EMPTY=(()=>{const t=new Tn;return t.closed=!0,t})();const kn=Tn.EMPTY;function nt(t){return t instanceof Tn||t&&"closed"in t&&Ut(t.remove)&&Ut(t.add)&&Ut(t.unsubscribe)}function Ne(t){Ut(t)?t():t.unsubscribe()}const Pe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Mt={setTimeout(t,e,...n){const{delegate:r}=Mt;return null!=r&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Mt;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Pn(t){Mt.setTimeout(()=>{const{onUnhandledError:e}=Pe;if(!e)throw t;e(t)})}function tr(){}const jn=qn("C",void 0,void 0);function qn(t,e,n){return{kind:t,value:e,error:n}}let Wn=null;function _r(t){if(Pe.useDeprecatedSynchronousErrorHandling){const e=!Wn;if(e&&(Wn={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Wn;if(Wn=null,n)throw r}}else t()}class si extends Tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nt(e)&&e.add(this)):this.destination=Cr}static create(e,n,r){return new Bn(e,n,r)}next(e){this.isStopped?Er(function An(t){return qn("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Er(function zn(t){return qn("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Er(jn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fr=Function.prototype.bind;function Ri(t,e){return fr.call(t,e)}class _o{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ai(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ai(r)}else ai(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ai(n)}}}class Bn extends si{constructor(e,n,r){let i;if(super(),Ut(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&Pe.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ri(e.next,o),error:e.error&&Ri(e.error,o),complete:e.complete&&Ri(e.complete,o)}):i=e}this.destination=new _o(i)}}function ai(t){Pe.useDeprecatedSynchronousErrorHandling?function Ii(t){Pe.useDeprecatedSynchronousErrorHandling&&Wn&&(Wn.errorThrown=!0,Wn.error=t)}(t):Pn(t)}function Er(t,e){const{onStoppedNotification:n}=Pe;n&&Mt.setTimeout(()=>n(t,e))}const Cr={closed:!0,next:tr,error:function oo(t){throw t},complete:tr},kr="function"==typeof Symbol&&Symbol.observable||"@@observable";function ti(t){return t}function Qi(t){return 0===t.length?ti:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Mn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function K(t){return t&&t instanceof si||function Vo(t){return t&&Ut(t.next)&&Ut(t.error)&&Ut(t.complete)}(t)&&nt(t)}(n)?n:new Bn(n,r,i);return _r(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=vo(r))((i,o)=>{const s=new Bn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[kr](){return this}pipe(...n){return Qi(n)(this)}toPromise(n){return new(n=vo(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function vo(t){var e;return null!==(e=null!=t?t:Pe.Promise)&&void 0!==e?e:Promise}const j=er(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let M=(()=>{class t extends Mn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new F(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new j}next(n){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?kn:(this.currentObservers=null,o.push(n),new Tn(()=>{this.currentObservers=null,On(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Mn;return n.source=this,n}}return t.create=(e,n)=>new F(e,n),t})();class F extends M{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:kn}}class R extends M{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ie(t){return Ut(null==t?void 0:t.lift)}function Re(t){return e=>{if(ie(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(t,e,n,r,i){return new vn(t,e,n,r,i)}class vn extends si{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Et(t,e){return Re((n,r)=>{let i=0;n.subscribe(ft(r,o=>{r.next(t.call(e,o,i++))}))})}const on="https://g.co/ng/security#xss";class he extends Error{constructor(e,n){super(function Jt(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Vi(t){return{toString:t}.toString()}const yo="__parameters__";function kt(t,e,n){return Vi(()=>{const r=function Be(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,d){const p=l.hasOwnProperty(yo)?l[yo]:Object.defineProperty(l,yo,{value:[]})[yo];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const X=globalThis;function jt(t){for(let e in t)if(t[e]===jt)return e;throw Error("Could not find renamed property on target object.")}function cr(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Kn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Kn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Qn(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ml=jt({__forward_ref__:jt});function pr(t){return t.__forward_ref__=pr,t.toString=function(){return Kn(this())},t}function gn(t){return gl(t)?t():t}function gl(t){return"function"==typeof t&&t.hasOwnProperty(ml)&&t.__forward_ref__===pr}function St(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xi(t){return{providers:t.providers||[],imports:t.imports||[]}}function ra(t){return su(t,xa)||su(t,ka)}function su(t,e){return t.hasOwnProperty(e)?t[e]:null}function Vs(t){return t&&(t.hasOwnProperty(Na)||t.hasOwnProperty(au))?t[Na]:null}const xa=jt({\u0275prov:jt}),Na=jt({\u0275inj:jt}),ka=jt({ngInjectableDef:jt}),au=jt({ngInjectorDef:jt});class yt{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=St({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xe(t){return t&&!!t.\u0275providers}const He=jt({\u0275cmp:jt}),Ze=jt({\u0275dir:jt}),Ot=jt({\u0275pipe:jt}),Gt=jt({\u0275mod:jt}),Wt=jt({\u0275fac:jt}),sn=jt({__NG_ELEMENT_ID__:jt}),sr=jt({__NG_ENV_ID__:jt});function en(t){return"string"==typeof t?t:null==t?"":String(t)}function Io(t,e){throw new he(-201,!1)}var Yn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Yn||{});let zp;function uu(){return zp}function Bo(t){const e=zp;return zp=t,e}function zd(t,e,n){const r=ra(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Yn.Optional?null:void 0!==e?e:void Io()}const oa={},Hp="__NG_DI_FLAG__",Hd="ngTempTokenPath",xb=/\n/gm,Av="__source";let sa;function aa(t){const e=sa;return sa=t,e}function Gp(t,e=Yn.Default){if(void 0===sa)throw new he(-203,!1);return null===sa?zd(t,void 0,e):sa.get(t,e&Yn.Optional?null:void 0,e)}function Qe(t,e=Yn.Default){return(uu()||Gp)(gn(t),e)}function Je(t,e=Yn.Default){return Qe(t,du(e))}function du(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hu(t){const e=[];for(let n=0;n<t.length;n++){const r=gn(t[n]);if(Array.isArray(r)){if(0===r.length)throw new he(900,!1);let i,o=Yn.Default;for(let s=0;s<r.length;s++){const a=r[s],l=Dv(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(Qe(i,o))}else e.push(Qe(r))}return e}function fu(t,e){return t[Hp]=e,t.prototype[Hp]=e,t}function Dv(t){return t[Hp]}const lo=fu(kt("Optional"),8),pu=fu(kt("SkipSelf"),4);function la(t,e){return t.hasOwnProperty(Wt)?t[Wt]:null}function ua(t,e){t.forEach(n=>Array.isArray(n)?ua(n,e):e(n))}function qd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ic(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Uo(t,e,n){let r=$s(t,e);return r>=0?t[1|r]=n:(r=~r,function Mv(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Ec(t,e){const n=$s(t,e);if(n>=0)return t[1|n]}function $s(t,e){return function Kd(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const jo={},rr=[],ca=new yt(""),kv=new yt("",-1),bc=new yt("");class Qd{get(e,n=oa){if(n===oa){const r=new Error(`NullInjectorError: No provider for ${Kn(e)}!`);throw r.name="NullInjectorError",r}return n}}var gu=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gu||{}),ps=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ps||{}),wr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(wr||{});function Ov(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Cc(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];Yd(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Fv(t){return 3===t||4===t||6===t}function Yd(t){return 64===t.charCodeAt(0)}function wc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Xd(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Xd(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Lv="ng-template";function Ob(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==Ov(e[i+1].toLowerCase(),n,0))return!0}else if(Tc(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function Tc(t){return 4===t.type&&t.value!==Lv}function Fb(t,e,n){return e===(4!==t.type||n?t.value:Lv)}function Lb(t,e,n){let r=4;const i=t.attrs,o=null!==i?function Qp(t){for(let e=0;e<t.length;e++)if(Fv(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Fb(t,l,n)||""===l&&1===e.length){if(zo(r))return!1;s=!0}}else if(8&r){if(null===i||!Ob(t,i,l,n)){if(zo(r))return!1;s=!0}}else{const u=e[++a],d=Vb(l,i,Tc(t),n);if(-1===d){if(zo(r))return!1;s=!0;continue}if(""!==u){let p;if(p=d>o?"":i[d+1].toLowerCase(),2&r&&u!==p){if(zo(r))return!1;s=!0}}}}else{if(!s&&!zo(r)&&!zo(l))return!1;if(s&&zo(l))continue;s=!1,r=l|1&r}}return zo(r)||s}function zo(t){return!(1&t)}function Vb(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Bb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Zd(t,e,n=!1){for(let r=0;r<e.length;r++)if(Lb(t,e[r],n))return!0;return!1}function Yp(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Vv(t,e){return t?":not("+e.trim()+")":e}function Xp(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!zo(s)&&(e+=Vv(o,i),i=""),r=s,o=o||!zo(r);n++}return""!==i&&(e+=Vv(o,i)),e}function dt(t){return Vi(()=>{var e;const n=$v(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(e=t.signals)&&void 0!==e&&e,data:t.data||{},encapsulation:t.encapsulation||ps.Emulated,styles:t.styles||rr,_:null,schemas:t.schemas||null,tView:null,id:""};Bv(r);const i=t.dependencies;return r.directiveDefs=tm(i,!1),r.pipeDefs=tm(i,!0),r.id=function mM(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(r),r})}function Jp(t){return xn(t)||pi(t)}function jb(t){return null!==t}function uo(t){return Vi(()=>({type:t.type,bootstrap:t.bootstrap||rr,declarations:t.declarations||rr,imports:t.imports||rr,exports:t.exports||rr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function em(t,e){if(null==t)return jo;const n={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];let s,a,l=wr.None;var r;Array.isArray(o)?(l=o[0],s=o[1],a=null!==(r=o[2])&&void 0!==r?r:s):(s=o,a=o),e?(n[s]=l!==wr.None?[i,l]:i,e[s]=a):n[s]=i}return n}function Yt(t){return Vi(()=>{const e=$v(t);return Bv(e),e})}function xn(t){return t[He]||null}function pi(t){return t[Ze]||null}function Bi(t){return t[Ot]||null}function Xi(t,e){const n=t[Gt]||null;if(!n&&!0===e)throw new Error(`Type ${Kn(t)} does not have '\u0275mod' property.`);return n}function $v(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||jo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||rr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:em(t.inputs,e),outputs:em(t.outputs),debugInfo:null}}function Bv(t){var e;null===(e=t.features)||void 0===e||e.forEach(n=>n(t))}function tm(t,e){if(!t)return null;const n=e?Bi:Jp;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(jb)}function da(t){return{\u0275providers:t}}function zb(...t){return{\u0275providers:nm(0,t),\u0275fromNgModule:!0}}function nm(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return ua(e,s=>{const a=s;rm(a,o,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&Hb(i,o),n}function Hb(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Uv(i,o=>{e(o,r)})}}function rm(t,e,n,r){if(!(t=gn(t)))return!1;let i=null,o=Vs(t);const s=!o&&xn(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=Vs(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)rm(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{ua(o.imports,d=>{rm(d,e,n,r)&&(u||(u=[]),u.push(d))})}finally{}void 0!==u&&Hb(u,e)}if(!a){const u=la(i)||(()=>new i);e({provide:i,useFactory:u,deps:rr},i),e({provide:bc,useValue:i,multi:!0},i),e({provide:ca,useValue:()=>Qe(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=t;Uv(l,d=>{e(d,u)})}}}return i!==t&&void 0!==t.providers}function Uv(t,e){for(let n of t)Xe(n)&&(n=n.\u0275providers),Array.isArray(n)?Uv(n,e):e(n)}const gM=jt({provide:String,useValue:jt});function jv(t){return null!==t&&"object"==typeof t&&gM in t}function ha(t){return"function"==typeof t}const im=new yt(""),eh={},_M={};let om;function th(){return void 0===om&&(om=new Qd),om}class ci{}class Va extends ci{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qv(e,s=>this.processProvider(s)),this.records.set(kv,_u(void 0,this)),i.has("environment")&&this.records.set(ci,_u(void 0,this));const o=this.records.get(im);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bc,rr,Yn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=Ce(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=aa(this),r=Bo(void 0);try{return e()}finally{aa(n),Bo(r)}}get(e,n=oa,r=Yn.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sr))return e[sr](this);r=du(r);const o=aa(this),s=Bo(void 0);try{if(!(r&Yn.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function Gv(t){return"function"==typeof t||"object"==typeof t&&t instanceof yt}(e)&&ra(e);l=u&&this.injectableDefInScope(u)?_u(sm(e),eh):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Yn.Self?th():this.parent).get(e,n=r&Yn.Optional&&n===oa?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Hd]=a[Hd]||[]).unshift(Kn(e)),o)throw a;return function kb(t,e,n,r){const i=t[Hd];throw e[Av]&&i.unshift(e[Av]),t.message=function Wp(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Kn(e);if(Array.isArray(e))i=e.map(Kn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Kn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(xb,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Hd]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Bo(s),aa(o)}}resolveInjectorInitializers(){const e=Ce(null),n=aa(this),r=Bo(void 0);try{const o=this.get(ca,rr,Yn.Self);for(const s of o)s()}finally{aa(n),Bo(r),Ce(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Kn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(e){let n=ha(e=gn(e))?e:gn(e&&e.provide);const r=function zv(t){return jv(t)?_u(void 0,t.useValue):_u(Hv(t),eh)}(e);if(!ha(e)&&!0===e.multi){let i=this.records.get(n);i||(i=_u(void 0,eh,!0),i.factory=()=>hu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=Ce(null);try{return n.value===eh&&(n.value=_M,n.value=n.factory()),"object"==typeof n.value&&n.value&&function vM(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ce(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=gn(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function sm(t){const e=ra(t),n=null!==e?e.factory:la(t);if(null!==n)return n;if(t instanceof yt)throw new he(204,!1);if(t instanceof Function)return function nh(t){if(t.length>0)throw new he(204,!1);const n=function jp(t){return t&&(t[xa]||t[ka])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new he(204,!1)}function Hv(t,e,n){let r;if(ha(t)){const i=gn(t);return la(i)||sm(i)}if(jv(t))r=()=>gn(t.useValue);else if(function La(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...hu(t.deps||[]));else if(function Jd(t){return!(!t||!t.useExisting)}(t))r=()=>Qe(gn(t.useExisting));else{const i=gn(t&&(t.useClass||t.provide));if(!function qb(t){return!!t.deps}(t))return la(i)||sm(i);r=()=>new i(...hu(t.deps))}return r}function _u(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qv(t,e){for(const n of t)Array.isArray(n)?qv(n,e):n&&Xe(n)?qv(n.\u0275providers,e):e(n)}function ms(t,e){t instanceof Va&&t.assertNotDestroyed();const r=aa(t),i=Bo(void 0);try{return e()}finally{aa(r),Bo(i)}}function Wv(){return void 0!==uu()||null!=function Nb(){return sa}()}const $r=0,bt=1,fn=2,Gr=3,gs=4,Ni=5,bo=6,vu=7,Rr=8,Ci=9,rs=10,Cn=11,Ac=12,Yv=13,yu=14,qr=15,$a=16,Iu=17,Us=18,Dc=19,sh=20,Ba=21,Sc=22,El=23,Rn=25,ah=1,js=7,Ua=9,di=10;var Pc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Pc||{});function Zi(t){return Array.isArray(t)&&"object"==typeof t[ah]}function ki(t){return Array.isArray(t)&&!0===t[ah]}function am(t){return!!(4&t.flags)}function fa(t){return t.componentOffset>-1}function bl(t){return!(1&~t.flags)}function Ho(t){return!!t.template}function lm(t){return!!(512&t[fn])}class tC{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function dm(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function co(){return hm}function hm(t){return t.type.prototype.ngOnChanges&&(t.setInput=rC),nC}function nC(){const t=sy(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===jo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rC(t,e,n,r,i){const o=this.declaredInputs[r],s=sy(t)||function iC(t,e){return t[ch]=e}(t,{previous:jo,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new tC(u&&u.currentValue,n,l===jo),dm(t,e,i,n)}co.ngInherit=!0;const ch="__ngSimpleChanges__";function sy(t){return t[ch]||null}const zs=function(t,e,n){};let hh=!1;function vr(t){for(;Array.isArray(t);)t=t[$r];return t}function Nc(t,e){return vr(e[t])}function Ji(t,e){return vr(e[t.index])}function bu(t,e){return t.data[e]}function Co(t,e){const n=e[t];return Zi(n)?n:n[$r]}function mm(t){return!(128&~t[fn])}function Hs(t,e){return null==e?null:t[e]}function fh(t){t[Iu]=0}function aC(t){1024&t[fn]||(t[fn]|=1024,mm(t)&&ja(t))}function ph(t){var e;return!!(9216&t[fn]||null!==(e=t[El])&&void 0!==e&&e.dirty)}function gm(t){var e;if(null===(e=t[rs].changeDetectionScheduler)||void 0===e||e.notify(1),ph(t))ja(t);else if(64&t[fn])if(function fm(){return hh}())t[fn]|=1024,ja(t);else{var n;null===(n=t[rs].changeDetectionScheduler)||void 0===n||n.notify()}}function ja(t){var e;null===(e=t[rs].changeDetectionScheduler)||void 0===e||e.notify();let n=Cl(t);for(;null!==n&&!(8192&n[fn])&&(n[fn]|=8192,mm(n));)n=Cl(n)}function mh(t,e){if(!(256&~t[fn]))throw new he(911,!1);null===t[Ba]&&(t[Ba]=[]),t[Ba].push(e)}function Cl(t){const e=t[Gr];return ki(e)?e[Gr]:e}const wn={lFrame:h(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hy(){return wn.bindingsEnabled}function wu(){return null!==wn.skipHydrationRootTNode}function Ue(){return wn.lFrame.lView}function Xn(){return wn.lFrame.tView}function nn(t){return wn.lFrame.contextLView=t,t[Rr]}function rn(t){return wn.lFrame.contextLView=null,t}function dr(){let t=gh();for(;null!==t&&64===t.type;)t=t.parent;return t}function gh(){return wn.lFrame.currentTNode}function is(t,e){const n=wn.lFrame;n.currentTNode=t,n.isParent=e}function ym(){return wn.lFrame.isParent}function _h(){wn.lFrame.isParent=!1}function To(){return wn.lFrame.bindingIndex++}function Gs(t){const e=wn.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function pC(t,e){const n=wn.lFrame;n.bindingIndex=n.bindingRootIndex=t,Em(e)}function Em(t){wn.lFrame.currentDirectiveIndex=t}function bm(t){const e=wn.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function vh(){return wn.lFrame.currentQueryIndex}function yh(t){wn.lFrame.currentQueryIndex=t}function DM(t){const e=t[bt];return 2===e.type?e.declTNode:1===e.type?t[Ni]:null}function yy(t,e,n){if(n&Yn.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Yn.Host||(i=DM(o),null===i||(o=o[yu],10&i.type))););if(null===i)return!1;e=i,t=o}const r=wn.lFrame=c();return r.currentTNode=e,r.lView=t,!0}function m(t){const e=c(),n=t[bt];wn.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function c(){const t=wn.lFrame,e=null===t?null:t.child;return null===e?h(t):e}function h(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function g(){const t=wn.lFrame;return wn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const C=g;function N(){const t=g();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return wn.lFrame.selectedIndex}function et(t){wn.lFrame.selectedIndex=t}function It(){const t=wn.lFrame;return bu(t.tView,t.selectedIndex)}let Cm=!0;function wl(){return Cm}function vs(t){Cm=t}function Tu(t,e){for(let u=e.directiveStart,d=e.directiveEnd;u<d;u++){const _=t.data[u].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:A,ngAfterViewInit:x,ngAfterViewChecked:V,ngOnDestroy:U}=_;var n,r,i,o,s,a,l;I&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-u,I),A&&((null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(u,A),(null!==(i=t.contentCheckHooks)&&void 0!==i?i:t.contentCheckHooks=[]).push(u,A)),x&&(null!==(o=t.viewHooks)&&void 0!==o?o:t.viewHooks=[]).push(-u,x),V&&((null!==(s=t.viewHooks)&&void 0!==s?s:t.viewHooks=[]).push(u,V),(null!==(a=t.viewCheckHooks)&&void 0!==a?a:t.viewCheckHooks=[]).push(u,V)),null!=U&&(null!==(l=t.destroyHooks)&&void 0!==l?l:t.destroyHooks=[]).push(u,U)}}function Fc(t,e,n){wm(t,e,3,n)}function Lc(t,e,n,r){(3&t[fn])===n&&wm(t,e,n,r)}function Vc(t,e){let n=t[fn];(3&n)===e&&(n&=16383,n+=1,t[fn]=n)}function wm(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Iu]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Iu]+=65536),(a<o||-1==o)&&(Tm(t,n,e,l),t[Iu]=(4294901760&t[Iu])+l+2),l++}function Ey(t,e){zs(4,t,e);const n=Ce(null);try{e.call(t)}finally{Ce(n),zs(5,t,e)}}function Tm(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[fn]>>14<t[Iu]>>16&&(3&t[fn])===e&&(t[fn]+=16384,Ey(a,o)):Ey(a,o)}const Au=-1;class Am{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function _C(t){return t!==Au}function Dm(t){return 32767&t}function Sm(t,e){let n=function w5(t){return t>>16}(t),r=e;for(;n>0;)r=r[yu],n--;return r}let vC=!0;function by(t){const e=vC;return vC=t,e}const SM=255,RM=5;let T5=0;const Ha={};function Cy(t,e){const n=PM(t,e);if(-1!==n)return n;const r=e[bt];r.firstCreatePass&&(t.injectorIndex=e.length,yC(r.data,t),yC(e,null),yC(r.blueprint,null));const i=wy(t,e),o=t.injectorIndex;if(_C(i)){const s=Dm(i),a=Sm(i,e),l=a[bt].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function yC(t,e){t.push(0,0,0,0,0,0,0,0,e)}function PM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function wy(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=LM(i),null===r)return Au;if(n++,i=i[yu],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Au}function IC(t,e,n){!function A5(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(sn)&&(r=n[sn]),null==r&&(r=n[sn]=T5++);const i=r&SM;e.data[t+(i>>RM)]|=1<<i}(t,e,n)}function MM(t,e,n){if(n&Yn.Optional||void 0!==t)return t;Io()}function xM(t,e,n,r){if(n&Yn.Optional&&void 0===r&&(r=null),!(n&(Yn.Self|Yn.Host))){const i=t[Ci],o=Bo(void 0);try{return i?i.get(e,r,n&Yn.Optional):zd(e,r,n&Yn.Optional)}finally{Bo(o)}}return MM(r,0,n)}function NM(t,e,n,r=Yn.Default,i){if(null!==t){if(2048&e[fn]&&!(r&Yn.Self)){const s=function M5(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[fn]&&!(512&s[fn]);){const a=kM(o,s,n,r|Yn.Self,Ha);if(a!==Ha)return a;let l=o.parent;if(!l){const u=s[sh];if(u){const d=u.get(n,Ha,r);if(d!==Ha)return d}l=LM(s),s=s[yu]}o=l}return i}(t,e,n,r,Ha);if(s!==Ha)return s}const o=kM(t,e,n,r,Ha);if(o!==Ha)return o}return xM(e,n,r,i)}function kM(t,e,n,r,i){const o=function R5(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(sn)?t[sn]:void 0;return"number"==typeof e?e>=0?e&SM:P5:e}(n);if("function"==typeof o){if(!yy(e,t,r))return r&Yn.Host?MM(i,0,r):xM(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Yn.Optional)return s;Io()}finally{C()}}else if("number"==typeof o){let s=null,a=PM(t,e),l=Au,u=r&Yn.Host?e[qr][Ni]:null;for((-1===a||r&Yn.SkipSelf)&&(l=-1===a?wy(t,e):e[a+8],l!==Au&&FM(r,!1)?(s=e[bt],a=Dm(l),e=Sm(l,e)):a=-1);-1!==a;){const d=e[bt];if(OM(o,a,d.data)){const p=S5(a,e,n,s,r,u);if(p!==Ha)return p}l=e[a+8],l!==Au&&FM(r,e[bt].data[a+8]===u)&&OM(o,a,e)?(s=d,a=Dm(l),e=Sm(l,e)):a=-1}}return i}function S5(t,e,n,r,i,o){const s=e[bt],a=s.data[t+8],d=Ty(a,s,n,null==r?fa(a)&&vC:r!=s&&!!(3&a.type),i&Yn.Host&&o===a);return null!==d?$c(e,s,d,a):Ha}function Ty(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,d=o>>20,_=i?a+d:t.directiveEnd;for(let I=r?a:a+d;I<_;I++){const A=s[I];if(I<l&&n===A||I>=l&&A.type===n)return I}if(i){const I=s[l];if(I&&Ho(I)&&I.type===n)return l}return null}function $c(t,e,n,r){let i=t[n];const o=e.data;if(function I5(t){return t instanceof Am}(i)){const s=i;s.resolving&&function ao(t,e){throw e&&e.join(" > "),new he(-200,t)}(function hn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():en(t)}(o[n]));const a=by(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Bo(s.injectImpl):null;yy(t,r,Yn.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Iy(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){var s,a;const p=hm(e);(null!==(s=n.preOrderHooks)&&void 0!==s?s:n.preOrderHooks=[]).push(t,p),(null!==(a=n.preOrderCheckHooks)&&void 0!==a?a:n.preOrderCheckHooks=[]).push(t,p)}var l,u,d;i&&(null!==(l=n.preOrderHooks)&&void 0!==l?l:n.preOrderHooks=[]).push(0-t,i),o&&((null!==(u=n.preOrderHooks)&&void 0!==u?u:n.preOrderHooks=[]).push(t,o),(null!==(d=n.preOrderCheckHooks)&&void 0!==d?d:n.preOrderCheckHooks=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Bo(u),by(a),s.resolving=!1,C()}}return i}function OM(t,e,n){return!!(n[e+(t>>RM)]&1<<t)}function FM(t,e){return!(t&Yn.Self||t&Yn.Host&&e)}class Ui{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return NM(this._tNode,this._lView,e,du(r),n)}}function P5(){return new Ui(dr(),Ue())}function Wr(t){return Vi(()=>{const e=t.prototype.constructor,n=e[Wt]||EC(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Wt]||EC(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function EC(t){return gl(t)?()=>{const e=EC(gn(t));return e&&e()}:la(t)}function LM(t){const e=t[bt],n=e.type;return 2===n?e.declTNode:1===n?t[Ni]:null}function Tl(t){return function D5(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(Fv(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(dr(),t)}function jM(t,e=null,n=null,r){const i=zM(t,e,n,r);return i.resolveInjectorInitializers(),i}function zM(t,e=null,n=null,r,i=new Set){const o=[n||rr,zb(t)];return r=r||("object"==typeof t?void 0:Kn(t)),new Va(o,e||th(),r||null,i)}let Tr=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return jM({name:""},i,r,"");{var o;const s=null!==(o=r.name)&&void 0!==o?o:"";return jM({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=oa,t.NULL=new Qd,t.\u0275prov=St({token:t,providedIn:"any",factory:()=>Qe(kv)}),t.__NG_ELEMENT_ID__=-1,e})();function CC(t){return t.ngOriginalError}class Ga{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&CC(e);for(;n&&CC(n);)n=CC(n);return n||null}}const GM=new yt("",{providedIn:"root",factory:()=>Je(Ga).handleError.bind(void 0)});let bh=(()=>{var t;class e{}return(t=e).__NG_ELEMENT_ID__=B5,t.__NG_ENV_ID__=n=>n,e})();class $5 extends bh{constructor(e){super(),this._lView=e}onDestroy(e){return mh(this._lView,e),()=>function _m(t,e){if(null===t[Ba])return;const n=t[Ba].indexOf(e);-1!==n&&t[Ba].splice(n,1)}(this._lView,e)}}function B5(){return new $5(Ue())}function U5(){return Ch(dr(),Ue())}function Ch(t,e){return new it(Ji(t,e))}let it=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=U5,e})();function WM(t){return t instanceof it?t.nativeElement:t}function wC(t){return e=>{setTimeout(t,void 0,e)}}const Pr=class j5 extends M{constructor(e=!1){var n;super(),this.destroyRef=void 0,this.__isAsync=e,Wv()&&(this.destroyRef=null!==(n=Je(bh,{optional:!0}))&&void 0!==n?n:void 0)}emit(e){const n=Ce(null);try{super.next(e)}finally{Ce(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){var a,l,u;const p=e;i=null===(a=p.next)||void 0===a?void 0:a.bind(p),o=null===(l=p.error)||void 0===l?void 0:l.bind(p),s=null===(u=p.complete)||void 0===u?void 0:u.bind(p)}this.__isAsync&&(o=wC(o),i&&(i=wC(i)),s&&(s=wC(s)));const d=super.subscribe({next:i,error:o,complete:s});return e instanceof Tn&&e.add(d),d}};function z5(){return this._results[Symbol.iterator]()}class TC{get changes(){var e;return null!==(e=this._changes)&&void 0!==e?e:this._changes=new Pr}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=TC.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=z5)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function Yi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Rv(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){var e;this.dirty=!0,null===(e=this._onDirty)||void 0===e||e.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Dy(t){return!(128&~t.flags)}const AC=new Map;let G5=0;const SC="__ngContext__";function Do(t,e){Zi(e)?(t[SC]=e[Dc],function W5(t){AC.set(t[Dc],t)}(e)):t[SC]=e}function r1(t){return o1(t[Ac])}function i1(t){return o1(t[gs])}function o1(t){for(;null!==t&&!ki(t);)t=t[gs];return t}let RC;function Du(){if(void 0!==RC)return RC;if(typeof document<"u")return document;throw new he(210,!1)}const Py=new yt("",{providedIn:"root",factory:()=>dH}),dH="ng",f1=new yt(""),qs=new yt("",{providedIn:"platform",factory:()=>"unknown"}),p1=new yt(""),m1=new yt("",{providedIn:"root",factory:()=>{var t;return(null===(t=Du().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let g1=()=>null;function kC(t,e,n=!1){return g1(t,e,n)}const E1=new yt("",{providedIn:"root",factory:()=>!1});let Vy,$y;function Dh(t){var e;return(null===(e=function VC(){if(void 0===Vy&&(Vy=null,X.trustedTypes))try{Vy=X.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vy}())||void 0===e?void 0:e.createHTML(t))||t}function $C(){if(void 0===$y&&($y=null,X.trustedTypes))try{$y=X.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $y}function C1(t){var e;return(null===(e=$C())||void 0===e?void 0:e.createHTML(t))||t}function T1(t){var e;return(null===(e=$C())||void 0===e?void 0:e.createScriptURL(t))||t}class Bc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${on})`}}class TH extends Bc{getTypeName(){return"HTML"}}class AH extends Bc{getTypeName(){return"Style"}}class DH extends Bc{getTypeName(){return"Script"}}class SH extends Bc{getTypeName(){return"URL"}}class RH extends Bc{getTypeName(){return"ResourceURL"}}function ys(t){return t instanceof Bc?t.changingThisBreaksApplicationSecurity:t}function qa(t,e){const n=function PH(t){return t instanceof Bc&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${on})`)}return n===e}class FH{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Dh(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class LH{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Dh(e),n}}const $H=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function By(t){return(t=String(t)).match($H)?t:"unsafe:"+t}function Al(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Fm(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const D1=Al("area,br,col,hr,img,wbr"),S1=Al("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),R1=Al("rp,rt"),BC=Fm(D1,Fm(S1,Al("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fm(R1,Al("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fm(R1,S1)),UC=Al("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),P1=Fm(UC,Al("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Al("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),BH=Al("script,style,template");class UH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)i.push(n),n=HH(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=zH(n);if(o){n=o;break}n=i.pop()}return this.buf.join("")}startElement(e){const n=M1(e).toLowerCase();if(!BC.hasOwnProperty(n))return this.sanitizedSomething=!0,!BH.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!P1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;UC[a]&&(l=By(l)),this.buf.push(" ",s,'="',N1(l),'"')}return this.buf.push(">"),!0}endElement(e){const n=M1(e).toLowerCase();BC.hasOwnProperty(n)&&!D1.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(N1(e))}}function zH(t){const e=t.nextSibling;if(e&&t!==e.previousSibling)throw x1(e);return e}function HH(t){const e=t.firstChild;if(e&&function jH(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,e))throw x1(e);return e}function M1(t){const e=t.nodeName;return"string"==typeof e?e:"FORM"}function x1(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const GH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qH=/([^\#-~ |!])/g;function N1(t){return t.replace(/&/g,"&amp;").replace(GH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(qH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uy;function k1(t,e){let n=null;try{Uy=Uy||function A1(t){const e=new LH(t);return function VH(){try{return!!(new window.DOMParser).parseFromString(Dh(""),"text/html")}catch{return!1}}()?new FH(e):e}(t);let r=e?String(e):"";n=Uy.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Uy.getInertBodyElement(r)}while(r!==o);return Dh((new UH).sanitizeChildren(jC(n)||n))}finally{if(n){const r=jC(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function jC(t){return"content"in t&&function WH(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Is=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Is||{});function zC(t){const e=Lm();return e?C1(e.sanitize(Is.HTML,t)||""):qa(t,"HTML")?C1(ys(t)):k1(Du(),en(t))}function Go(t){const e=Lm();return e?e.sanitize(Is.URL,t)||"":qa(t,"URL")?ys(t):By(en(t))}function O1(t){const e=Lm();if(e)return T1(e.sanitize(Is.RESOURCE_URL,t)||"");if(qa(t,"ResourceURL"))return T1(ys(t));throw new he(904,!1)}function Lm(){const t=Ue();return t&&t[rs].sanitizer}const JH=/^>|^->|<!--|-->|--!>|<!-$/g,e6=/(<|>)/g,t6="\u200b$1\u200b";function Es(t){return t instanceof Function?t():t}var Su=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Su||{});let WC;function KC(t,e){return WC(t,e)}function Rh(t,e,n,r,i){if(null!=r){let o,s=!1;ki(r)?o=r:Zi(r)&&(s=!0,r=r[$r]);const a=vr(r);0===t&&null!==n?null==i?K1(e,n,a):Uc(e,n,a,i||null,!0):1===t&&null!==n?Uc(e,n,a,i||null,!0):2===t?function Bm(t,e,n){const r=qy(t,e);r&&function I6(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function C6(t,e,n,r,i){const o=n[js];o!==vr(n)&&Rh(e,t,r,o,i);for(let a=di;a<n.length;a++){const l=n[a];Ky(l[bt],l,t,e,r,o)}}(e,t,o,n,i)}}function YC(t,e){return t.createComment(function L1(t){return t.replace(JH,e=>e.replace(e6,t6))}(e))}function Hy(t,e,n){return t.createElement(e,n)}function G1(t,e){var n;null===(n=e[rs].changeDetectionScheduler)||void 0===n||n.notify(1),Ky(t,e,e[Cn],2,null,null)}function q1(t,e){const n=t[Ua],r=n.indexOf(e);n.splice(r,1)}function Vm(t,e){if(t.length<=di)return;const n=di+e,r=t[n];if(r){const i=r[$a];null!==i&&i!==t&&q1(i,r),e>0&&(t[n-1][gs]=r[gs]);const o=Ic(t,di+e);!function f6(t,e){G1(t,e),e[$r]=null,e[Ni]=null}(r[bt],r);const s=o[Us];null!==s&&s.detachView(o[bt]),r[Gr]=null,r[gs]=null,r[fn]&=-129}return r}function Gy(t,e){if(!(256&e[fn])){const n=e[Cn];n.destroyNode&&Ky(t,e,n,3,null,null),function m6(t){let e=t[Ac];if(!e)return XC(t[bt],t);for(;e;){let n=null;if(Zi(e))n=e[Ac];else{const r=e[di];r&&(n=r)}if(!n){for(;e&&!e[gs]&&e!==t;)Zi(e)&&XC(e[bt],e),e=e[Gr];null===e&&(e=t),Zi(e)&&XC(e[bt],e),n=e&&e[gs]}e=n}}(e)}}function XC(t,e){if(256&e[fn])return;const n=Ce(null);try{e[fn]&=-129,e[fn]|=256,e[El]&&function at(t){if(Ye(t),Oe(t))for(let e=0;e<t.producerNode.length;e++)Ve(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[El]),function y6(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Am)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];zs(4,a,l);try{l.call(a)}finally{zs(5,a,l)}}else{zs(4,i,o);try{o.call(i)}finally{zs(5,i,o)}}}}}(t,e),function v6(t,e){const n=t.cleanup,r=e[vu];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[vu]=null);const i=e[Ba];if(null!==i){e[Ba]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[bt].type&&e[Cn].destroy();const r=e[$a];if(null!==r&&ki(e[Gr])){r!==e[Gr]&&q1(r,e);const i=e[Us];null!==i&&i.detachView(t)}!function K5(t){AC.delete(t[Dc])}(e)}finally{Ce(n)}}function ZC(t,e,n){return function W1(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[$r];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===ps.None||o===ps.Emulated)return null}return Ji(r,n)}}(t,e.parent,n)}function Uc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function K1(t,e,n){t.appendChild(e,n)}function Q1(t,e,n,r,i){null!==r?Uc(t,e,n,r,i):K1(t,e,n)}function qy(t,e){return t.parentNode(e)}function Y1(t,e,n){return Z1(t,e,n)}let JC,Z1=function X1(t,e,n){return 40&t.type?Ji(t,n):null};function Wy(t,e,n,r){const i=ZC(t,r,e),o=e[Cn],a=Y1(r.parent||e[Ni],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Q1(o,i,n[l],a,!1);else Q1(o,i,n,a,!1);void 0!==JC&&JC(o,r,e,n,i)}function $m(t,e){if(null!==e){const n=e.type;if(3&n)return Ji(e,t);if(4&n)return ew(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return $m(t,r);{const i=t[e.index];return ki(i)?ew(-1,i):vr(i)}}if(32&n)return KC(e,t)()||vr(t[e.index]);{const r=ex(t,e);return null!==r?Array.isArray(r)?r[0]:$m(Cl(t[qr]),r):$m(t,e.next)}}return null}function ex(t,e){return null!==e?t[qr][Ni].projection[e.projection]:null}function ew(t,e){const n=di+t+1;if(n<e.length){const r=e[n],i=r[bt].firstChild;if(null!==i)return $m(r,i)}return e[js]}function tw(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&Do(vr(a),r),n.flags|=2),32&~n.flags)if(8&l)tw(t,e,n.child,r,i,o,!1),Rh(e,t,i,a,o);else if(32&l){const u=KC(n,r);let d;for(;d=u();)Rh(e,t,i,d,o);Rh(e,t,i,a,o)}else 16&l?nx(t,e,r,n,i,o):Rh(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ky(t,e,n,r,i,o){tw(n,r,t.firstChild,e,i,o,!1)}function nx(t,e,n,r,i,o){const s=n[qr],l=s[Ni].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Rh(e,t,i,l[u],o);else{let u=l;const d=s[Gr];Dy(r)&&(u.flags|=128),tw(t,e,u,d,i,o,!0)}}function rx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ix(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Cc(t,e,r),null!==i&&rx(t,e,i),null!==o&&function T6(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}const Fn={};function ze(t=1){ox(Xn(),Ue(),ge()+t,!1)}function ox(t,e,n,r){if(!r)if(3&~e[fn]){const o=t.preOrderHooks;null!==o&&Lc(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&Fc(e,o,n)}et(n)}function T(t,e=Yn.Default){const n=Ue();return null===n?Qe(t,e):NM(dr(),n,gn(t),e)}function ax(t,e,n,r,i,o){const s=Ce(null);try{let a=null;i&wr.SignalBased&&(a=e[r][Dt]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&wr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),null!==t.setInput?t.setInput(e,a,o,n,r):dm(e,a,r,o)}finally{Ce(s)}}function Qy(t,e,n,r,i,o,s,a,l,u,d){const p=e.blueprint.slice();return p[$r]=i,p[fn]=204|r,(null!==u||t&&2048&t[fn])&&(p[fn]|=2048),fh(p),p[Gr]=p[yu]=t,p[Rr]=n,p[rs]=s||t&&t[rs],p[Cn]=a||t&&t[Cn],p[Ci]=l||t&&t[Ci]||null,p[Ni]=o,p[Dc]=function q5(){return G5++}(),p[bo]=d,p[sh]=u,p[qr]=2==e.type?t[qr]:p,p}function Ph(t,e,n,r,i){let o=t.data[e];if(null===o)o=function nw(t,e,n,r,i){const o=gh(),s=ym(),l=t.data[e]=function N6(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return wu()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function _y(){return wn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function kc(){const t=wn.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return is(o,!0),o}function Um(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function lx(t,e,n,r,i){const o=ge(),s=2&r;try{et(-1),s&&e.length>Rn&&ox(t,e,Rn,!1),zs(s?2:0,i),n(r,i)}finally{et(o),zs(s?3:1,i)}}function rw(t,e,n){if(am(e)){const r=Ce(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Ce(r)}}}function iw(t,e,n){hy()&&(function B6(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;fa(n)&&function W6(t,e,n){const r=Ji(e,t),i=ux(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Yy(t,Qy(t,i,null,s,r,e,null,t[rs].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Cy(n,e),Do(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],u=$c(e,t,a,n);Do(u,e),null!==s&&K6(0,a-i,u,l,0,s),Ho(l)&&(Co(n.index,e)[Rr]=$c(e,t,a,n))}}(t,e,n,Ji(n,e)),!(64&~n.flags)&&px(t,e,n))}function ow(t,e,n=Ji){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ux(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=sw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function sw(t,e,n,r,i,o,s,a,l,u,d){const p=Rn+r,_=p+i,I=function D6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fn);return n}(p,_),A="function"==typeof u?u():u;return I[bt]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:d}}let cx=()=>null;function dx(t,e,n,r,i){for(let s in e){var o;if(!e.hasOwnProperty(s))continue;const a=e[s];if(void 0===a)continue;null!==(o=r)&&void 0!==o||(r={});let l,u=wr.None;Array.isArray(a)?(l=a[0],u=a[1]):l=a;let d=s;if(null!==i){if(!i.hasOwnProperty(s))continue;d=i[s]}0===t?hx(r,n,d,l,u):hx(r,n,d,l)}return r}function hx(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],void 0!==i&&o.push(i)}function ss(t,e,n,r,i,o,s,a){const l=Ji(e,n);let d,u=e.inputs;!a&&null!=u&&(d=u[r])?(dw(t,n,d,r,i),fa(e)&&function F6(t,e){const n=Co(e,t);16&n[fn]||(n[fn]|=64)}(n,e.index)):3&e.type&&(r=function O6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function aw(t,e,n,r){if(hy()){const i=null===r?null:{"":-1},o=function j6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(Zd(e,a.selectors,!1))if(r||(r=[]),Ho(a))if(null!==a.findHostDirectiveDefs){const l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a),lw(t,e,l.length)}else r.unshift(a),lw(t,e,0);else{var o;i=i||new Map,null===(o=a.findHostDirectiveDefs)||void 0===o||o.call(a,a,r,i),r.push(a)}}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&fx(t,e,n,s,i,a),i&&function z6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new he(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=wc(n.mergedAttrs,n.attrs)}function fx(t,e,n,r,i,o){for(let p=0;p<r.length;p++)IC(Cy(n,e),t,r[p].type);!function G6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let p=0;p<r.length;p++){const _=r[p];_.providersResolver&&_.providersResolver(_)}let s=!1,a=!1,l=Um(t,e,r.length,null);for(let p=0;p<r.length;p++){const _=r[p];n.mergedAttrs=wc(n.mergedAttrs,_.hostAttrs),q6(t,n,e,l,_),H6(l,_,i),null!==_.contentQueries&&(n.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(n.flags|=64);const I=_.type.prototype;var u,d;!s&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((null!==(u=t.preOrderHooks)&&void 0!==u?u:t.preOrderHooks=[]).push(n.index),s=!0),a||!I.ngOnChanges&&!I.ngDoCheck||((null!==(d=t.preOrderCheckHooks)&&void 0!==d?d:t.preOrderCheckHooks=[]).push(n.index),a=!0),l++}!function k6(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,u=null;for(let d=e.directiveStart;d<i;d++){const p=o[d],_=n?n.get(p):null,A=_?_.outputs:null;l=dx(0,p.inputs,d,l,_?_.inputs:null),u=dx(1,p.outputs,d,u,A);const x=null===l||null===s||Tc(e)?null:Q6(l,d,s);a.push(x)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,o)}function px(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function mC(){return wn.lFrame.currentDirectiveIndex}();try{et(o);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];Em(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&U6(l,u)}}finally{et(-1),Em(s)}}function U6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function lw(t,e,n){var r;e.componentOffset=n,(null!==(r=t.components)&&void 0!==r?r:t.components=[]).push(e.index)}function H6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ho(e)&&(n[""]=t)}}function q6(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=la(i.type)),s=new Am(o,Ho(i),T);t.blueprint[r]=s,n[r]=s,function V6(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function $6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Um(t,n,i.hostVars,Fn),i)}function Wa(t,e,n,r,i,o){const s=Ji(t,e);!function uw(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?en(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Cn],s,o,t.value,n,r,i)}function K6(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)ax(r,n,s[a++],s[a++],s[a++],s[a++])}function Q6(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function mx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gx(t,e){const n=t.contentQueries;if(null!==n){const r=Ce(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];yh(n[i]),a.contentQueries(2,e[s],s)}}}finally{Ce(r)}}}function Yy(t,e){return t[Ac]?t[Yv][gs]=e:t[Ac]=e,t[Yv]=e,e}function cw(t,e,n){yh(0);const r=Ce(null);try{e(t,n)}finally{Ce(r)}}function _x(t){return t[vu]||(t[vu]=[])}function vx(t){return t.cleanup||(t.cleanup=[])}function yx(t,e,n){return(null===t||Ho(t))&&(n=function xc(t){for(;Array.isArray(t);){if("object"==typeof t[ah])return t;t=t[$r]}return null}(n[e.index])),n[Cn]}function Xy(t,e){const n=t[Ci],r=n?n.get(Ga,null):null;r&&r.handleError(e)}function dw(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=n[o++];ax(t.data[s],e[s],r,a,l,i)}}function Dl(t,e,n){const r=Nc(e,t);!function H1(t,e,n){t.setValue(e,n)}(t[Cn],r,n)}function Y6(t,e){const n=Co(e,t),r=n[bt];!function X6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[$r];null!==i&&null===n[bo]&&(n[bo]=kC(i,n[Ci])),hw(r,n,n[Rr])}function hw(t,e,n){m(e);try{var r;const i=t.viewQuery;null!==i&&cw(1,i,n);const o=t.template;null!==o&&lx(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(r=e[Us])||void 0===r||r.finishViewCreation(t),t.staticContentQueries&&gx(t,e),t.staticViewQueries&&cw(2,t.viewQuery,n);const s=t.components;null!==s&&function Z6(t,e){for(let n=0;n<e.length;n++)Y6(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[fn]&=-5,N()}}function Mh(t,e){return!e||null===e.firstChild||Dy(t)}function zm(t,e,n,r=!0){const i=e[bt];if(function g6(t,e,n,r){const i=di+r,o=n.length;r>0&&(n[i-1][gs]=e),r<o-di?(e[gs]=n[i],qd(n,di+r,e)):(n.push(e),e[gs]=null),e[Gr]=n;const s=e[$a];null!==s&&n!==s&&function _6(t,e){const n=t[Ua];e[qr]!==e[Gr][Gr][qr]&&(t[fn]|=Pc.HasTransplantedViews),null===n?t[Ua]=[e]:n.push(e)}(s,e);const a=e[Us];null!==a&&a.insertView(t),gm(e),e[fn]|=128}(i,e,t,n),r){const s=ew(n,t),a=e[Cn],l=qy(a,t[js]);null!==l&&function p6(t,e,n,r,i,o){r[$r]=i,r[Ni]=e,Ky(t,r,n,1,i,o)}(i,t[Ni],a,e,l,s)}const o=e[bo];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Hm(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(vr(o)),ki(o)&&Ex(o,r);const s=n.type;if(8&s)Hm(t,e,n.child,r);else if(32&s){const a=KC(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=ex(e,n);if(Array.isArray(a))r.push(...a);else{const l=Cl(e[qr]);Hm(l[bt],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ex(t,e){for(let n=di;n<t.length;n++){const r=t[n],i=r[bt].firstChild;null!==i&&Hm(r[bt],r,i,e)}t[js]!==t[$r]&&e.push(t[js])}let bx=[];const nG={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ja(t.lView)},consumerOnSignalRead(){this.lView[El]=this}},Cx=100;function Zy(t,e=!0,n=0){const r=t[rs],i=r.rendererFactory;var s;null===(s=i.begin)||void 0===s||s.call(i);try{!function rG(t,e){pw(t,e);let n=0;for(;ph(t);){if(n===Cx)throw new he(103,!1);n++,pw(t,1)}}(t,n)}catch(u){throw e&&Xy(t,u),u}finally{var a,l;null===(a=i.end)||void 0===a||a.call(i),null===(l=r.inlineEffectRunner)||void 0===l||l.flush()}}function iG(t,e,n,r){var i;const o=e[fn];if(!(256&~o))return;null===(i=e[rs].inlineEffectRunner)||void 0===i||i.flush(),m(e);let a=null,l=null;(function oG(t){return 2!==t.type})(t)&&(l=function J6(t){var e;return null!==(e=t[El])&&void 0!==e?e:function eG(t){var e;const n=null!==(e=bx.pop())&&void 0!==e?e:Object.create(nG);return n.lView=t,n}(t)}(e),a=function Ee(t){return t&&(t.nextProducerIndex=0),Ce(t)}(l));try{fh(e),function Im(t){return wn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&lx(t,e,n,2,r);const u=!(3&~o);if(u){const _=t.preOrderCheckHooks;null!==_&&Fc(e,_,null)}else{const _=t.preOrderHooks;null!==_&&Lc(e,_,0,null),Vc(e,0)}if(function sG(t){for(let e=r1(t);null!==e;e=i1(e)){if(!(e[fn]&Pc.HasTransplantedViews))continue;const n=e[Ua];for(let r=0;r<n.length;r++){aC(n[r])}}}(e),wx(e,0),null!==t.contentQueries&&gx(t,e),u){const _=t.contentCheckHooks;null!==_&&Fc(e,_)}else{const _=t.contentHooks;null!==_&&Lc(e,_,1),Vc(e,1)}!function A6(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)et(~i);else{const o=i,s=n[++r],a=n[++r];pC(s,o),a(2,e[o])}}}finally{et(-1)}}(t,e);const d=t.components;null!==d&&Ax(e,d,0);const p=t.viewQuery;if(null!==p&&cw(2,p,r),u){const _=t.viewCheckHooks;null!==_&&Fc(e,_)}else{const _=t.viewHooks;null!==_&&Lc(e,_,2),Vc(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Sc]){for(const _ of e[Sc])_();e[Sc]=null}e[fn]&=-73}catch(u){throw ja(e),u}finally{null!==l&&(function We(t,e){if(Ce(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Oe(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ve(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(l,a),function tG(t){t.lView[El]!==t&&(t.lView=null,bx.push(t))}(l)),N()}}function wx(t,e){for(let n=r1(t);null!==n;n=i1(n))for(let r=di;r<n.length;r++)Tx(n[r],e)}function aG(t,e,n){Tx(Co(e,t),n)}function Tx(t,e){mm(t)&&pw(t,e)}function pw(t,e){const r=t[bt],i=t[fn],o=t[El];let s=!!(0===e&&16&i);if(s||(s=!!(64&i&&0===e)),s||(s=!!(1024&i)),s||(s=!(null==o||!o.dirty||!we(o))),o&&(o.dirty=!1),t[fn]&=-9217,s)iG(r,t,r.template,t[Rr]);else if(8192&i){wx(t,1);const a=r.components;null!==a&&Ax(t,a,1)}}function Ax(t,e,n){for(let r=0;r<e.length;r++)aG(t,e[r],n)}function Gm(t){var e;for(null===(e=t[rs].changeDetectionScheduler)||void 0===e||e.notify();t;){t[fn]|=64;const n=Cl(t);if(lm(t)&&!n)return t;t=n}return null}class qm{get rootNodes(){const e=this._lView,n=e[bt];return Hm(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rr]}set context(e){this._lView[Rr]=e}get destroyed(){return!(256&~this._lView[fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Gr];if(ki(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Vm(e,r),Ic(n,r))}this._attachedToViewContainer=!1}Gy(this._lView[bt],this._lView)}onDestroy(e){mh(this._lView,e)}markForCheck(){Gm(this._cdRefInjectingView||this._lView)}detach(){this._lView[fn]&=-129}reattach(){gm(this._lView),this._lView[fn]|=128}detectChanges(){this._lView[fn]|=1024,Zy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,G1(this._lView[bt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=e,gm(this._lView)}}let ga=(()=>{class e{}return e.__NG_ELEMENT_ID__=cG,e})();const lG=ga,uG=class extends lG{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){var e;return(null===(e=this._declarationTContainer.tView)||void 0===e?void 0:e.ssrId)||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function jm(t,e,n,r){const i=Ce(null);try{var o,s,a;const l=e.tView,p=Qy(t,l,n,4096&t[fn]?4096:16,null,e,null,null,null!==(o=null==r?void 0:r.injector)&&void 0!==o?o:null,null!==(s=null==r?void 0:r.embeddedViewInjector)&&void 0!==s?s:null,null!==(a=null==r?void 0:r.dehydratedView)&&void 0!==a?a:null);p[$a]=t[e.index];const I=t[Us];return null!==I&&(p[Us]=I.createEmbeddedView(l)),hw(l,p,n),p}finally{Ce(i)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new qm(i)}};function cG(){return Jy(dr(),Ue())}function Jy(t,e){return 4&t.type?new uG(e,t,Ch(t,e)):null}class o0{}class kG{}class Nx{}class FG{resolveComponentFactory(e){throw function OG(t){const e=Error(`No component factory found for ${Kn(t)}.`);return e.ngComponent=t,e}(e)}}let Xm=(()=>{class e{}return e.NULL=new FG,e})();class Iw{}let Sl=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function LG(){const t=Ue(),n=Co(dr().index,t);return(Zi(n)?n:t)[Cn]}(),e})(),VG=(()=>{var t;class e{}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:()=>null}),e})();const Ew={},Ox=new Set;function Ka(t){var e,n;Ox.has(t)||(Ox.add(t),null===(e=performance)||void 0===e||null===(n=e.mark)||void 0===n||n.call(e,"mark_feature_usage",{detail:{feature:t}}))}function Fx(...t){}class je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pr(!1),this.onMicrotaskEmpty=new Pr(!1),this.onStable=new Pr(!1),this.onError=new Pr(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function $G(){const t="function"==typeof X.requestAnimationFrame;let e=X[t?"requestAnimationFrame":"setTimeout"],n=X[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function jG(t){const e=()=>{!function UG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(X,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cw(t),t.isCheckStableRunning=!0,bw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function zG(t){var e;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(e=t[0].data)||void 0===e?void 0:e.__ignore_ng_zone__)}(a))return n.invokeTask(i,o,s,a);try{return Lx(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Vx(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return Lx(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Vx(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Cw(t),bw(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(je.isInAngularZone())throw new he(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,BG,Fx,Fx);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const BG={};function bw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Cw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Lx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vx(t){t._nesting--,bw(t)}class $x{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pr,this.onMicrotaskEmpty=new Pr,this.onStable=new Pr,this.onError=new Pr}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var jc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(jc||{});const Bx={destroy(){}};function Tw(t,e){var n,r,i;!e&&function rh(t){if(!Wv())throw new he(-203,!1)}();const o=null!==(n=null==e?void 0:e.injector)&&void 0!==n?n:Je(Tr);if(!function ma(t){return"browser"===(null!=t?t:Je(Tr)).get(qs)}(o))return Bx;Ka("NgAfterNextRender");const s=o.get(Zm),a=null!==(r=s.handler)&&void 0!==r?r:s.handler=new jx,l=null!==(i=null==e?void 0:e.phase)&&void 0!==i?i:jc.MixedReadWrite,u=()=>{a.unregister(p),d()},d=o.get(bh).onDestroy(u),p=ms(o,()=>new Ux(l,()=>{u(),t()}));return a.register(p),{destroy:u}}class Ux{constructor(e,n){var r;this.phase=e,this.callbackFn=n,this.zone=Je(je),this.errorHandler=Je(Ga,{optional:!0}),null===(r=Je(o0,{optional:!0}))||void 0===r||r.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){var e;null===(e=this.errorHandler)||void 0===e||e.handleError(n)}}}class jx{constructor(){this.executingCallbacks=!1,this.buckets={[jc.EarlyRead]:new Set,[jc.Write]:new Set,[jc.MixedReadWrite]:new Set,[jc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Zm=(()=>{var t;class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var r;this.executeInternalCallbacks(),null===(r=this.handler)||void 0===r||r.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of r)i()}ngOnDestroy(){var r;null===(r=this.handler)||void 0===r||r.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:()=>new t}),e})();function a0(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Qn(i,a):2==o&&(r=Qn(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class Gx extends Xm{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=xn(e);return new tg(n,this.ngModule)}}function qx(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class l0{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=du(r);const i=this.injector.get(e,Ew,r);return i!==Ew||n===Ew?i:this.parentInjector.get(e,n,r)}}class tg extends Nx{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=qx(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qx(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Ub(t){return t.map(Xp).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){const o=Ce(null);try{var a;let l=(i=i||this.ngModule)instanceof ci?i:null===(a=i)||void 0===a?void 0:a.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const u=l?new l0(e,l):e,d=u.get(Iw,null);if(null===d)throw new he(407,!1);const p=u.get(VG,null),A={rendererFactory:d,sanitizer:p,inlineEffectRunner:null,afterRenderEventManager:u.get(Zm,null),changeDetectionScheduler:u.get(o0,null)},x=d.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",U=r?function S6(t,e,n,r){const o=r.get(E1,!1)||n===ps.ShadowDom,s=t.selectRootElement(e,o);return function R6(t){cx(t)}(s),s}(x,r,this.componentDef.encapsulation,u):Hy(x,V,function KG(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(V));let G=512;this.componentDef.signals?G|=4096:this.componentDef.onPush||(G|=16);let me=null;null!==U&&(me=kC(U,u,!0));const _e=sw(0,null,null,1,0,null,null,null,null,null,null),tt=Qy(null,_e,null,G,null,null,A,x,u,null,me);let _t,Q;m(tt);try{const $=this.componentDef;let W,ee=null;$.findHostDirectiveDefs?(W=[],ee=new Map,$.findHostDirectiveDefs($,W,ee),W.push($)):W=[$];const de=function YG(t,e){const n=t[bt],r=Rn;return t[r]=e,Ph(n,r,2,"#host",null)}(tt,U),be=function XG(t,e,n,r,i,o,s){const a=i[bt];!function ZG(t,e,n,r){for(const i of t)e.mergedAttrs=wc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(a0(e,e.mergedAttrs,!0),null!==n&&ix(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=kC(e,i[Ci]));const u=o.rendererFactory.createRenderer(e,n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const p=Qy(i,ux(n),null,d,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&lw(a,t,r.length-1),Yy(i,p),i[t.index]=p}(de,U,$,W,tt,A,x);Q=bu(_e,Rn),U&&function eq(t,e,n,r){if(r)Cc(t,n,["ng-version","17.3.10"]);else{const{attrs:i,classes:o}=function Zp(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!zo(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Cc(t,n,i),o&&o.length>0&&rx(t,n,o.join(" "))}}(x,$,U,r),void 0!==n&&function tq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Q,this.ngContentSelectors,n),_t=function JG(t,e,n,r,i,o){const s=dr(),a=i[bt],l=Ji(s,i);fx(a,i,s,n,null,r);for(let d=0;d<n.length;d++)Do($c(i,a,s.directiveStart+d,s),i);px(a,i,s),l&&Do(l,i);const u=$c(i,a,s.directiveStart+s.componentOffset,s);if(t[Rr]=i[Rr]=u,null!==o)for(const d of o)d(u,e);return rw(a,s,i),u}(be,$,W,ee,tt,[nq]),hw(_e,tt,null)}finally{N()}return new QG(this.componentType,_t,Ch(Q,tt),tt,Q)}finally{Ce(o)}}}class QG extends kG{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new qm(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){var o;if(null!==(o=this.previousInputValues)&&void 0!==o||(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;dw(s[bt],s,i,e,n),this.previousInputValues.set(e,n),Gm(Co(this._tNode.index,s))}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function nq(){const t=dr();Tu(Ue()[bt],t)}let bs=(()=>{class e{}return e.__NG_ELEMENT_ID__=rq,e})();function rq(){return Qx(dr(),Ue())}const iq=bs,Wx=class extends iq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ch(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const e=wy(this._hostTNode,this._hostLView);if(_C(e)){const n=Sm(e,this._hostLView),r=Dm(e);return new Ui(n[bt].data[r+8],n)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Kx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-di}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,Mh(this._hostTNode,null)),a}createComponent(e,n,r,i,o){var s,l;const u=e&&!function vl(t){return"function"==typeof t}(e);let d;if(u)d=n;else{const U=n||{};d=U.index,r=U.injector,i=U.projectableNodes,o=U.environmentInjector||U.ngModuleRef}const p=u?e:new tg(xn(e)),_=r||this.parentInjector;if(!o&&null==p.ngModule){const G=(u?_:this.parentInjector).get(ci,null);G&&(o=G)}const I=xn(null!==(s=p.componentType)&&void 0!==s?s:{}),A=(null==I?void 0:I.id,null),x=null!==(l=null==A?void 0:A.firstChild)&&void 0!==l?l:null,V=p.create(_,i,x,o);return this.insertImpl(V.hostView,d,Mh(this._hostTNode,A)),V}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function sC(t){return ki(t[Gr])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[Gr],u=new Wx(l,l[Ni],l[Gr]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return zm(s,i,o,r),e.attachToViewContainerRef(),qd(Sw(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Kx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Vm(this._lContainer,n);r&&(Ic(Sw(this._lContainer),n),Gy(r[bt],r))}detach(e){const n=this._adjustIndex(e,-1),r=Vm(this._lContainer,n);return r&&null!=Ic(Sw(this._lContainer),n)?new qm(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function Kx(t){return t[8]}function Sw(t){return t[8]||(t[8]=[])}function Qx(t,e){let n;const r=e[t.index];return ki(r)?n=r:(n=mx(r,e,null,t),e[t.index]=n,Yy(e,n)),Yx(n,e,t,r),new Wx(n,t,e)}let Yx=function Zx(t,e,n,r){if(t[js])return;let i;i=8&n.type?vr(r):function oq(t,e){const n=t[Cn],r=n.createComment(""),i=Ji(e,t);return Uc(n,qy(n,i),r,function E6(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[js]=i},Rw=()=>!1;class Pw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Pw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Mw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==Fw(e,n).matches&&this.queries[n].setDirty()}}class Jx{constructor(e,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof e?function fq(t){return t.split(",").map(e=>e.trim())}(e):e}}class xw{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new xw(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Nw{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Nw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,uq(n,o)),this.matchTNodeWithReadOption(e,n,Ty(n,e,o,!1,!1))}else r===ga?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ty(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===it||i===bs||i===ga&&4&n.type)this.addMatch(n.index,-2);else{const o=Ty(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function uq(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function dq(t,e,n,r){return-1===n?function cq(t,e){return 11&t.type?Ch(t,e):4&t.type?Jy(t,e):null}(e,t):-2===n?function hq(t,e,n){return n===it?Ch(e,t):n===ga?Jy(e,t):n===bs?Qx(e,t):void 0}(t,e,r):$c(t,t[bt],n,e)}function eN(t,e,n,r){const i=e[Us].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const u=s[l];a.push(u<0?null:dq(e,o[u],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function kw(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=eN(t,e,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const u=o[a+1],d=e[-l];for(let p=di;p<d.length;p++){const _=d[p];_[$a]===_[Gr]&&kw(_[bt],_,u,r)}if(null!==d[Ua]){const p=d[Ua];for(let _=0;_<p.length;_++){const I=p[_];kw(I[bt],I,u,r)}}}}}return r}function tN(t,e,n){var r;const i=new TC(!(4&~n));return function x6(t,e,n,r){const i=_x(e);i.push(n),t.firstCreatePass&&vx(t).push(r,i.length-1)}(t,e,i,i.destroy),(null!==(r=e[Us])&&void 0!==r?r:e[Us]=new Mw).queries.push(new Pw(i))-1}function iN(t,e,n){null===t.queries&&(t.queries=new xw),t.queries.track(new Nw(e,n))}function Fw(t,e){return t.queries.getByIndex(e)}function oN(t,e){const n=t[bt],r=Fw(n,e);return r.crossesNgTemplate?kw(n,t,e,[]):eN(n,t,r,e)}function lN(t){return function sN(t){return"function"==typeof t&&void 0!==t[Dt]}(t)&&"function"==typeof t.set}function Ln(t){let e=function yN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ho(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new he(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=c0(t.inputs),s.inputTransforms=c0(t.inputTransforms),s.declaredInputs=c0(t.declaredInputs),s.outputs=c0(t.outputs);const a=i.hostBindings;a&&Rq(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&Dq(t,l),u&&Sq(t,u),Tq(t,i),cr(t.outputs,i.outputs),Ho(i)&&i.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Ln&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Aq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wc(i.hostAttrs,n=wc(n,i.hostAttrs))}}(r)}function Tq(t,e){for(const r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const i=e.inputs[r];if(void 0!==i&&(t.inputs[r]=i,t.declaredInputs[r]=e.declaredInputs[r],null!==e.inputTransforms)){var n;const o=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(o))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[o]=e.inputTransforms[o]}}}function c0(t){return t===jo?{}:t===rr?[]:t}function Dq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Sq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function Rq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function CN(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}class zc{}class wN{}class Vw extends zc{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gx(this);const i=Xi(e);this._bootstrapComponents=Es(i.bootstrap),this._r3Injector=zM(e,n,[{provide:zc,useValue:this},{provide:Xm,useValue:this.componentFactoryResolver},...r],Kn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class $w extends wN{constructor(e){super(),this.moduleType=e}create(e){return new Vw(this.moduleType,e,[])}}class TN extends zc{constructor(e){super(),this.componentFactoryResolver=new Gx(this),this.instance=null;const n=new Va([...e.providers,{provide:zc,useValue:this},{provide:Xm,useValue:this.componentFactoryResolver}],e.parent||th(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function d0(t,e,n=null){return new TN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let kh=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new R(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function f0(t){return!!function Bw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function wi(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function lr(t,e,n,r,i,o,s,a){const l=Ue(),u=Xn(),d=t+Rn,p=u.firstCreatePass?function jq(t,e,n,r,i,o,s,a,l){const u=e.consts,d=Ph(e,t,4,s||null,Hs(u,a));aw(e,n,d,Hs(u,l)),Tu(e,d);const p=d.tView=sw(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}(d,u,l,e,n,r,i,o,s):u.data[d];is(p,!1);const _=AN(u,l,p,t);wl()&&Wy(u,l,_,p),Do(_,l);const I=mx(_,l,_,p);return l[d]=I,Yy(l,I),function Xx(t,e,n){return Rw(t,e,n)}(I,p,l),bl(p)&&iw(u,l,p),null!=s&&ow(l,p,a),lr}let AN=function DN(t,e,n,r){return vs(!0),e[Cn].createComment("")};function So(t,e,n,r){const i=Ue();return wi(i,To(),e)&&(Xn(),Wa(It(),i,t,e,n,r)),So}function jh(t,e,n,r){return wi(t,To(),n)?e+en(n)+r:Fn}function zh(t,e,n,r,i,o){const a=function Hc(t,e,n,r){const i=wi(t,e,n);return wi(t,e+1,r)||i}(t,function _s(){return wn.lFrame.bindingIndex}(),n,i);return Gs(2),a?e+en(n)+r+en(i)+o:Fn}function I0(t,e){return t<<17|e<<2}function xu(t){return t>>17&32767}function Yw(t){return 2|t}function qc(t){return(131068&t)>>2}function Xw(t,e){return-131069&t|e<<2}function Zw(t){return 1|t}function ik(t,e,n,r){const i=t[n+1],o=null===e;let s=r?xu(i):qc(i),a=!1;for(;0!==s&&(!1===a||o);){const u=t[s+1];SW(t[s],e)&&(a=!0,t[s+1]=r?Zw(u):Yw(u)),s=r?xu(u):qc(u)}a&&(t[n+1]=r?Yw(i):Zw(i))}function SW(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&$s(t,e)>=0}const ji={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ok(t){return t.substring(ji.key,ji.keyEnd)}function sk(t,e){const n=ji.textEnd;return n===e?-1:(e=ji.keyEnd=function xW(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ji.key=e,n),Yh(t,e,n))}function Yh(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Rt(t,e,n){const r=Ue();return wi(r,To(),e)&&ss(Xn(),It(),r,t,e,r[Cn],n,!1),Rt}function Jw(t,e,n,r,i){const s=i?"class":"style";dw(t,n,e.inputs[s],s,r)}function Xh(t,e,n){return _a(t,e,n,!1),Xh}function ws(t,e){return _a(t,e,null,!0),ws}function Rl(t){!function va(t,e,n,r){const i=Xn(),o=Gs(2);i.firstUpdatePass&&hk(i,null,o,r);const s=Ue();if(n!==Fn&&wi(s,o,n)){const a=i.data[ge()];if(gk(a,r)&&!dk(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=Qn(l,n||"")),Jw(i,a,s,n,r)}else!function jW(t,e,n,r,i,o,s,a){i===Fn&&(i=rr);let l=0,u=0,d=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;null!==d||null!==p;){const _=l<i.length?i[l+1]:void 0,I=u<o.length?o[u+1]:void 0;let x,A=null;d===p?(l+=2,u+=2,_!==I&&(A=p,x=I)):null===p||null!==d&&d<p?(l+=2,A=d):(u+=2,A=p,x=I),null!==A&&pk(t,e,n,r,A,x,s,a),d=l<i.length?i[l]:null,p=u<o.length?o[u]:null}}(i,a,s,s[Cn],s[o+1],s[o+1]=function BW(t,e,n){if(null==n||""===n)return rr;const r=[],i=ys(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(UW,Xa,t,!0)}function Xa(t,e){for(let n=function PW(t){return function lk(t){ji.key=0,ji.keyEnd=0,ji.value=0,ji.valueEnd=0,ji.textEnd=t.length}(t),sk(t,Yh(t,0,ji.textEnd))}(e);n>=0;n=sk(e,n))Uo(t,ok(e),!0)}function _a(t,e,n,r){const i=Ue(),o=Xn(),s=Gs(2);o.firstUpdatePass&&hk(o,t,s,r),e!==Fn&&wi(i,s,e)&&pk(o,o.data[ge()],i,i[Cn],t,i[s+1]=function zW(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Kn(ys(t)))),t}(e,n),r,s)}function dk(t,e){return e>=t.expandoStartIndex}function hk(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ge()],s=dk(t,n);gk(o,r)&&null===e&&!s&&(e=!1),e=function FW(t,e,n,r){const i=bm(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=lg(n=eT(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=eT(i,t,e,n,r),null===o){let l=function LW(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==qc(r))return t[xu(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=eT(null,t,e,l[1],r),l=lg(l,e.attrs,r),function VW(t,e,n,r){t[xu(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else o=function $W(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=lg(r,t[o].hostAttrs,n);return lg(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function AW(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=xu(s),l=qc(s);t[r]=n;let d,u=!1;if(Array.isArray(n)?(d=n[1],(null===d||$s(n,d)>0)&&(u=!0)):d=n,i)if(0!==l){const _=xu(t[a+1]);t[r+1]=I0(_,a),0!==_&&(t[_+1]=Xw(t[_+1],r)),t[a+1]=function wW(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=I0(a,0),0!==a&&(t[a+1]=Xw(t[a+1],r)),a=r;else t[r+1]=I0(l,0),0===a?a=r:t[l+1]=Xw(t[l+1],r),l=r;u&&(t[r+1]=Yw(t[r+1])),ik(t,d,r,!0),ik(t,d,r,!1),function DW(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&$s(o,e)>=0&&(n[r+1]=Zw(n[r+1]))}(e,d,t,r,o),s=I0(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function eT(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=lg(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function lg(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Uo(t,s,!!n||e[++o]))}return void 0===t?null:t}function UW(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Uo(t,r,n)}function pk(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,u=l[a+1],d=function TW(t){return!(1&~t)}(u)?mk(l,e,n,i,qc(u),s):void 0;E0(d)||(E0(o)||function CW(t){return!(2&~t)}(u)&&(o=mk(l,null,n,i,a,s)),function w6(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Su.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Su.Important),t.setStyle(n,r,i,o))}}(r,s,Nc(ge(),n),i,o))}function mk(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),d=u?l[1]:l,p=null===d;let _=n[i+1];_===Fn&&(_=p?rr:void 0);let I=p?Ec(_,r):d===r?_:void 0;if(u&&!E0(I)&&(I=Ec(l,r)),E0(I)&&(a=I,s))return a;const A=t[i+1];i=s?xu(A):qc(A)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Ec(l,r))}return a}function E0(t){return void 0!==t}function gk(t,e){return!!(t.flags&(e?8:16))}function re(t,e,n,r){const i=Ue(),o=Xn(),s=Rn+t,a=i[Cn],l=o.firstCreatePass?function h9(t,e,n,r,i,o){const s=e.consts,l=Ph(e,t,2,r,Hs(s,i));return aw(e,n,l,Hs(s,o)),null!==l.attrs&&a0(l,l.attrs,!1),null!==l.mergedAttrs&&a0(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],u=Ik(o,i,l,a,e,t);i[s]=u;const d=bl(l);return is(l,!0),ix(a,u,l),!function ig(t){return!(32&~t.flags)}(l)&&wl()&&Wy(o,i,u,l),0===function lC(){return wn.lFrame.elementDepthCount}()&&Do(u,i),function uC(){wn.lFrame.elementDepthCount++}(),d&&(iw(o,i,l),rw(o,l,i)),null!==r&&ow(i,l),re}function ce(){let t=dr();ym()?_h():(t=t.parent,is(t,!1));const e=t;(function cC(t){return wn.skipHydrationRootTNode===t})(e)&&function fC(){wn.skipHydrationRootTNode=null}(),function vm(){wn.lFrame.elementDepthCount--}();const n=Xn();return n.firstCreatePass&&(Tu(n,t),am(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function b5(t){return!!(8&t.flags)}(e)&&Jw(n,e,Ue(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function C5(t){return!!(16&t.flags)}(e)&&Jw(n,e,Ue(),e.stylesWithoutHost,!1),ce}function En(t,e,n,r){return re(t,e,n,r),ce(),En}let Ik=(t,e,n,r,i,o)=>(vs(!0),Hy(r,i,function Oc(){return wn.lFrame.currentNamespace}()));function Zh(t,e,n){const r=Ue(),i=Xn(),o=t+Rn,s=i.firstCreatePass?function m9(t,e,n,r,i){const o=e.consts,s=Hs(o,r),a=Ph(e,t,8,"ng-container",s);return null!==s&&a0(a,s,!0),aw(e,n,a,Hs(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];is(s,!0);const a=Ek(i,r,s,t);return r[o]=a,wl()&&Wy(i,r,a,s),Do(a,r),bl(s)&&(iw(i,r,s),rw(i,s,r)),null!=n&&ow(r,s),Zh}function Jh(){let t=dr();const e=Xn();return ym()?_h():(t=t.parent,is(t,!1)),e.firstCreatePass&&(Tu(e,t),am(t)&&e.queries.elementEnd(t)),Jh}function b0(t,e,n){return Zh(t,e,n),Jh(),b0}let Ek=(t,e,n,r)=>(vs(!0),YC(e[Cn],""));function Ar(){return Ue()}function oT(t,e,n){const r=Ue();if(wi(r,To(),e)){const o=Xn(),s=It();ss(o,s,r,t,e,yx(bm(o.data),s,r),n,!0)}return oT}const tf="en-US";let Tk=tf;function Nt(t,e,n,r){const i=Ue(),o=Xn(),s=dr();return lT(o,i,i[Cn],s,t,e,r),Nt}function lT(t,e,n,r,i,o,s){const a=bl(r),u=t.firstCreatePass&&vx(t),d=e[Rr],p=_x(e);let _=!0;if(3&r.type||s){const x=Ji(r,e),V=s?s(x):x,U=p.length,G=s?_e=>s(vr(_e[r.index])):r.index;let me=null;if(!s&&a&&(me=function g7(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[vu],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==me)(me.__ngLastListenerFn__||me).__ngNextListenerFn__=o,me.__ngLastListenerFn__=o,_=!1;else{o=Jk(r,e,d,o,!1);const _e=n.listen(V,i,o);p.push(o,_e),u&&u.push(i,G,U,U+1)}}else o=Jk(r,e,d,o,!1);const I=r.outputs;let A;if(_&&null!==I&&(A=I[i])){const x=A.length;if(x)for(let V=0;V<x;V+=2){const tt=e[A[V]][A[V+1]].subscribe(o),_t=p.length;p.push(o,tt),u&&u.push(i,r.index,_t,-(_t+1))}}}function Zk(t,e,n,r){const i=Ce(null);try{return zs(6,e,n),!1!==n(r)}catch(o){return Xy(t,o),!1}finally{zs(7,e,n),Ce(i)}}function Jk(t,e,n,r,i){return function o(s){if(s===Function)return r;Gm(t.componentOffset>-1?Co(t.index,e):e);let l=Zk(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=Zk(e,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function mt(t=1){return function Z(t){return(wn.lFrame.contextLView=function cy(t,e){for(;t>0;)e=e[yu],t--;return e}(t,wn.lFrame.contextLView))[Rr]}(t)}function _7(t,e){let n=null;const r=function $b(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Zd(t,o,!0):Yp(r,o))return i}else n=i}return n}function xt(t){const e=Ue()[qr][Ni];if(!e.projection){const r=e.projection=function mu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?_7(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Pt(t,e=0,n){const r=Ue(),i=Xn(),o=Ph(i,Rn+t,16,null,n||null);null===o.projection&&(o.projection=e),_h(),(!r[bo]||wu())&&32&~o.flags&&function b6(t,e,n){nx(e[Cn],0,e,n,ZC(t,n,e),Y1(n.parent||e[Ni],n,e))}(i,r,o)}function uT(t,e,n){return cT(t,"",e,"",n),uT}function cT(t,e,n,r,i){const o=Ue(),s=jh(o,e,n,r);return s!==Fn&&ss(Xn(),It(),o,t,s,o[Cn],i,!1),cT}function nf(t,e,n,r){!function rN(t,e,n,r){const i=Xn();if(i.firstCreatePass){const o=dr();iN(i,new Jx(e,n,r),o.index),function pq(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),!(2&~n)&&(i.staticContentQueries=!0)}return tN(i,Ue(),n)}(t,e,n,r)}function Nu(t,e,n){!function nN(t,e,n){const r=Xn();return r.firstCreatePass&&(iN(r,new Jx(t,e,n),-1),!(2&~e)&&(r.staticViewQueries=!0)),tN(r,Ue(),e)}(t,e,n)}function Ts(t){const e=Ue(),n=Xn(),r=vh();yh(r+1);const i=Fw(n,r);if(t.dirty&&function pm(t){return!(4&~t[fn])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)t.reset([]);else{const o=oN(e,r);t.reset(o,WM),t.notifyOnChanges()}return!0}return!1}function As(){return function Ow(t,e){return t[Us].queries[e].queryList}(Ue(),vh())}function D0(t){return function Cu(t,e){return t[e]}(function py(){return wn.lFrame.contextLView}(),Rn+t)}function vt(t,e=""){const n=Ue(),r=Xn(),i=t+Rn,o=r.firstCreatePass?Ph(r,i,1,e,null):r.data[i],s=_O(r,n,o,e,t);n[i]=s,wl()&&Wy(r,n,s,o),is(o,!1)}let _O=(t,e,n,r,i)=>(vs(!0),function QC(t,e){return t.createText(e)}(e[Cn],r));function zi(t){return Hi("",t,""),zi}function Hi(t,e,n){const r=Ue(),i=jh(r,t,e,n);return i!==Fn&&Dl(r,ge(),i),Hi}function dT(t,e,n,r,i){const o=Ue(),s=zh(o,t,e,n,r,i);return s!==Fn&&Dl(o,ge(),s),dT}function Kc(t,e,n){lN(e)&&(e=e());const r=Ue();return wi(r,To(),e)&&ss(Xn(),It(),r,t,e,r[Cn],n,!1),Kc}function rf(t,e){const n=lN(t);return n&&t.set(e),n}function Qc(t,e){const n=Ue(),r=Xn(),i=dr();return lT(r,n,n[Cn],i,t,e),Qc}function hT(t,e,n,r,i){if(t=gn(t),Array.isArray(t))for(let o=0;o<t.length;o++)hT(t[o],e,n,r,i);else{const o=Xn(),s=Ue(),a=dr();let l=ha(t)?t:gn(t.provide);const u=Hv(t),d=1048575&a.providerIndexes,p=a.directiveStart,_=a.providerIndexes>>20;if(ha(t)||!t.multi){const I=new Am(u,i,T),A=pT(l,e,i?d:d+_,p);-1===A?(IC(Cy(a,s),o,l),fT(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)):(n[A]=I,s[A]=I)}else{const I=pT(l,e,d+_,p),A=pT(l,e,d,d+_),V=A>=0&&n[A];if(i&&!V||!i&&!(I>=0&&n[I])){IC(Cy(a,s),o,l);const U=function F7(t,e,n,r,i){const o=new Am(t,n,T);return o.multi=[],o.index=e,o.componentProviders=0,TO(o,i,r&&!n),o}(i?O7:k7,n.length,i,r,u);!i&&V&&(n[A].providerFactory=U),fT(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(U),s.push(U)}else fT(o,t,I>-1?I:A,TO(n[i?A:I],u,!i&&r));!i&&r&&V&&n[A].componentProviders++}}}function fT(t,e,n,r){const i=ha(e),o=function Gb(t){return!!t.useClass}(e);if(i||o){const l=(o?gn(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const d=u.indexOf(n);-1===d?u.push(n,[r,l]):u[d+1].push(r,l)}else u.push(n,l)}}}function TO(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function pT(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function k7(t,e,n,r){return mT(this.multi,[])}function O7(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=$c(n,n[bt],this.providerFactory.index,r);o=a.slice(0,s),mT(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],mT(i,o);return o}function mT(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function br(t,e=[]){return n=>{n.providersResolver=(r,i)=>function N7(t,e,n){const r=Xn();if(r.firstCreatePass){const i=Ho(t);hT(n,r.data,r.blueprint,i,!0),hT(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let L7=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=nm(0,r.type),o=i.length>0?d0([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=St({token:t,providedIn:"environment",factory:()=>new t(Qe(ci))}),e})();function S0(t){Ka("NgStandalone"),t.getStandaloneInjector=e=>e.get(L7).getOrCreateStandaloneInjector(t)}function ku(t,e,n,r){return function DO(t,e,n,r,i,o){const s=e+n;return wi(t,s,i)?function Qa(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function mg(t,e){const n=t[e];return n===Fn?void 0:n}(t,s+1)}(Ue(),function wo(){const t=wn.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}class lf{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const WO=new lf("17.3.10");let KO=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const ZO=new yt(""),x0=new yt("");let wT,bT=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,wT||(function Q8(t){wT=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(je),Qe(CT),Qe(x0))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})(),CT=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){var o,s;return null!==(o=null===(s=wT)||void 0===s?void 0:s.findTestabilityInTree(this,r,i))&&void 0!==o?o:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function yg(t){return!!t&&"function"==typeof t.then}function JO(t){return!!t&&"function"==typeof t.subscribe}const N0=new yt("");let TT=(()=>{var t;class e{constructor(){var r;this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=null!==(r=Je(N0,{optional:!0}))&&void 0!==r?r:[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(yg(s))r.push(s);else if(JO(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const AT=new yt("");function nF(t,e){return Array.isArray(e)?e.reduce(nF,t):{...t,...e}}let ya=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Je(GM),this.afterRenderEffectManager=Je(Zm),this.externalTestViews=new Set,this.beforeRender=new M,this.afterTick=new M,this.componentTypes=[],this.components=[],this.isStable=Je(kh).hasPendingTasks.pipe(Et(r=>!r)),this._injector=Je(ci)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof Nx;if(!this._injector.get(TT).done)throw!o&&function Fa(t){const e=xn(t)||pi(t)||Bi(t);return null!==e&&e.standalone}(r),new he(405,!1);let a;a=o?r:this._injector.get(Xm).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function Y8(t){return t.isBoundToModule}(a)?void 0:this._injector.get(zc),d=a.create(Tr.NULL,[],i||a.selector,l),p=d.location.nativeElement,_=d.injector.get(ZO,null);return null==_||_.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),k0(this.components,d),null==_||_.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new he(101,!1);const i=Ce(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Ce(i)}}detectChangesInAttachedViews(r){let i=0;const o=this.afterRenderEffectManager;for(;;){if(i===Cx)throw new he(103,!1);if(r){const s=0===i;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)Z8(a,s,l)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>DT(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>DT(s))))break}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;k0(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(AT,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>k0(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new he(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function k0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Z8(t,e,n){!e&&!DT(t)||function J8(t,e,n){let r;n?(r=0,t[fn]|=1024):r=64&t[fn]?0:1,Zy(t,e,r)}(t,n,e)}function DT(t){return ph(t)}class eK{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let rF=(()=>{var t;class e{compileModuleSync(r){return new $w(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Es(Xi(r).declarations).reduce((a,l)=>{const u=xn(l);return u&&a.push(new tg(u)),a},[]);return new eK(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),rK=(()=>{var t;class e{constructor(){this.zone=Je(je),this.applicationRef=Je(ya)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var r;null===(r=this._onMicrotaskEmptySubscription)||void 0===r||r.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function iK(){const t=Je(je),e=Je(Ga);return n=>t.runOutsideAngular(()=>e.handleError(n))}let sK=(()=>{var t;class e{constructor(){this.subscription=new Tn,this.initialized=!1,this.zone=Je(je),this.pendingTasks=Je(kh)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var i;je.assertInAngularZone(),null!==(i=r)&&void 0!==i||(r=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Pl=new yt("",{providedIn:"root",factory:()=>Je(Pl,Yn.Optional|Yn.SkipSelf)||function aK(){return typeof $localize<"u"&&$localize.locale||tf}()}),ST=new yt("");let aF=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function HG(t="zone.js",e){return"noop"===t?new $x:"zone.js"===t?new je(e):t}(null==i?void 0:i.ngZone,function sF(t){var e,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(e=null==t?void 0:t.eventCoalescing)&&void 0!==e&&e,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}({eventCoalescing:null==i?void 0:i.ngZoneEventCoalescing,runCoalescing:null==i?void 0:i.ngZoneRunCoalescing}));return o.run(()=>{const s=function Fq(t,e,n){return new Vw(t,e,n)}(r.moduleType,this.injector,function oF(t){return[{provide:je,useFactory:t},{provide:ca,multi:!0,useFactory:()=>{const e=Je(rK,{optional:!0});return()=>e.initialize()}},{provide:ca,multi:!0,useFactory:()=>{const e=Je(sK);return()=>{e.initialize()}}},{provide:GM,useFactory:iK}]}(()=>o)),a=s.injector.get(Ga,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{k0(this._modules,s),l.unsubscribe()})}),function tF(t,e,n){try{const r=n();return yg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const l=s.injector.get(TT);return l.runInitializers(),l.donePromise.then(()=>(function Ak(t){"string"==typeof t&&(Tk=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Pl,tf)||tf),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=nF({},i);return function nK(t,e,n){const r=new $w(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(ya);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new he(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(ST,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(Tr))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Ou=null;const lF=new yt("");function uF(t,e,n=[]){const r=`Platform: ${e}`,i=new yt(r);return(o=[])=>{let s=RT();if(!s||s.injector.get(lF,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function cK(t){if(Ou&&!Ou.get(lF,!1))throw new he(400,!1);(function eF(){!function H(t){qt=t}(()=>{throw new he(600,!1)})})(),Ou=t;const e=t.get(aF);(function dF(t){const e=t.get(f1,null);null==e||e.forEach(n=>n())})(t)}(function cF(t=[],e){return Tr.create({name:e,providers:[{provide:im,useValue:"platform"},{provide:ST,useValue:new Set([()=>Ou=null])},...t]})}(a,r))}return function dK(t){const e=RT();if(!e)throw new he(401,!1);return e}()}}function RT(){var t,e;return null!==(t=null===(e=Ou)||void 0===e?void 0:e.get(aF))&&void 0!==t?t:null}let Ct=(()=>{class e{}return e.__NG_ELEMENT_ID__=fK,e})();function fK(t){return function pK(t,e,n){if(fa(t)&&!n){const r=Co(t.index,e);return new qm(r,r)}return 47&t.type?new qm(e[qr],e):null}(dr(),Ue(),!(16&~t))}class _F{constructor(){}supports(e){return f0(e)}create(e){return new yK(e)}}const vK=(t,e)=>e;class yK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||vK}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<yF(r,i,o)?n:r,a=yF(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,d=l-i;if(u!=d){for(let _=0;_<u;_++){const I=_<o.length?o[_]:o[_]=0,A=I+_;d<=A&&A<u&&(o[_]=I+1)}o[s.previousIndex]=d-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!f0(e))throw new he(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function Bq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new IK(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new vF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class IK{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class vF{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new EK,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yF(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function EF(){return new kT([new _F])}let kT=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||EF()),deps:[[e,new pu,new lo]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new he(901,!1)}}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:EF}),e})();const AK=uF(null,"core",[]);let DK=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(ya))},t.\u0275mod=uo({type:t}),t.\u0275inj=xi({}),e})();function cf(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function GF(t){const e=xn(t);if(!e)return null;const n=new tg(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}let LT=null;function Fu(){return LT}class cQ{}const eo=new yt("");let VT=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Je(hQ),providedIn:"platform"}),e})();const dQ=new yt("");let hQ=(()=>{var t;class e extends VT{constructor(){super(),this._doc=Je(eo),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fu().getBaseHref(this._doc)}onPopState(r){const i=Fu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Fu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>new t,providedIn:"platform"}),e})();function $T(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function qF(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ml(t){return t&&"?"!==t[0]?"?"+t:t}let xl=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Je(KF),providedIn:"root"}),e})();const WF=new yt("");let KF=(()=>{var t;class e extends xl{constructor(r,i){var o,s,a;super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=null!==(o=null!==(s=null!=i?i:this._platformLocation.getBaseHrefFromDOM())&&void 0!==s?s:null===(a=Je(eo).location)||void 0===a?void 0:a.origin)&&void 0!==o?o:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return $T(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Ml(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Ml(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Ml(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(VT),Qe(WF,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),fQ=(()=>{var t;class e extends xl{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){var i;const o=null!==(i=this._platformLocation.hash)&&void 0!==i?i:"#";return o.length>0?o.substring(1):o}prepareExternalUrl(r){const i=$T(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ml(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ml(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(VT),Qe(WF,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})(),Ks=(()=>{var t;class e{constructor(r){this._subject=new Pr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function gQ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(qF(QF(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var r;null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ml(i))}normalize(r){return e.stripTrailingSlash(function mQ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,QF(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ml(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ml(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){var i,o;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,r)}onUrlChange(r){var i;return this._urlChangeListeners.push(r),null!==(i=this._urlChangeSubscription)&&void 0!==i||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(r);var s;this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(null===(s=this._urlChangeSubscription)||void 0===s||s.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Ml,t.joinWithSlash=$T,t.stripTrailingSlash=qF,t.\u0275fac=function(r){return new(r||t)(Qe(xl))},t.\u0275prov=St({token:t,factory:()=>function pQ(){return new Ks(Qe(xl))}(),providedIn:"root"}),e})();function QF(t){return t.replace(/\/index.html$/,"")}const QT=/\s+/,iL=[];let J0=(()=>{var t;class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=iL,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(QT):iL}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(QT):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(QT).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(it),T(Sl))},t.\u0275dir=Yt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[wr.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class nY{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let eI=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new nY(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),sL(l,o)}});for(let o=0,s=i.length;o<s;o++){const l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{sL(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(T(bs),T(ga),T(kT))},t.\u0275dir=Yt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function sL(t,e){t.context.$implicit=e.item}let Xs=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new rY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){aL("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){aL("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(T(bs),T(ga))},t.\u0275dir=Yt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class rY{constructor(){this.$implicit=null,this.ngIf=null}}function aL(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Kn(e)}'.`)}let ZT=(()=>{var t;class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){var i;const o=this._viewContainerRef;if(this._viewRef&&o.remove(o.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const s=this._createContextForwardProxy();this._viewRef=o.createEmbeddedView(this.ngTemplateOutlet,s,{injector:null!==(i=this.ngTemplateOutletInjector)&&void 0!==i?i:void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,o)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,o),get:(r,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(bs))},t.\u0275dir=Yt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[co]}),e})(),cL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=xi({}),e})();const dL="browser";function tI(t){return"server"===t}let OY=(()=>{var t;class e{}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:()=>function kY(t){return t===dL}(Je(qs))?new FY(Je(eo),window):new VY}),e})();class FY{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function LY(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class VY{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class fX extends cQ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nA extends fX{static makeCurrent(){!function uQ(t){var e;null!==(e=LT)&&void 0!==e||(LT=t)}(new nA)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function pX(){return Dg=Dg||document.querySelector("base"),Dg?Dg.getAttribute("href"):null}();return null==n?null:function mX(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){Dg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function eY(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Dg=null,_X=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const rA=new yt("");let IL=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new he(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(rA),Qe(je))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();class EL{constructor(e){this._doc=e}}const iA="ng-app-id";let bL=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tI(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){var i;const o=this.styleRef;null===(i=o.get(r))||void 0===i||null===(i=i.elements)||void 0===i||i.forEach(s=>s.remove()),o.delete(r)}collectServerRenderedStyles(){var r;const i=null===(r=this.doc.head)||void 0===r?void 0:r.querySelectorAll(`style[${iA}="${this.appId}"]`);if(null!=i&&i.length){const o=new Map;return i.forEach(s=>{null!=s.textContent&&o.set(s.textContent,s)}),o}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=null==o?void 0:o.get(i);if((null==s?void 0:s.parentNode)===r)return o.delete(i),s.removeAttribute(iA),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(iA,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){var o;const s=this.getStyleElement(r,i),a=this.styleRef,l=null===(o=a.get(i))||void 0===o?void 0:o.elements;l?l.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(eo),Qe(Py),Qe(m1,8),Qe(qs))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const oA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sA=/%COMP%/g,EX=new yt("",{providedIn:"root",factory:()=>!0});function wL(t,e){return e.map(n=>n.replace(sA,t))}let aA=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=tI(l),this.defaultRenderer=new lA(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ps.ShadowDom&&(i={...i,encapsulation:ps.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof AL?o.applyToHost(r):o instanceof uA&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,l=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case ps.Emulated:s=new AL(u,d,i,this.appId,p,a,l,_);break;case ps.ShadowDom:return new TX(u,d,r,i,a,l,this.nonce,_);default:s=new uA(u,d,i,p,a,l,_)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(IL),Qe(bL),Qe(Py),Qe(EX),Qe(eo),Qe(qs),Qe(je),Qe(m1))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();class lA{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(oA[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(TL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(TL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new he(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=oA[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=oA[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Su.DashCase|Su.Important)?e.style.setProperty(n,r,i&Su.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Su.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Fu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function TL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class TX extends lA{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=wL(i.id,i.styles);for(const d of u){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class uA extends lA{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?wL(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class AL extends uA{constructor(e,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=function bX(t){return"_ngcontent-%COMP%".replace(sA,t)}(u),this.hostAttr=function CX(t){return"_nghost-%COMP%".replace(sA,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let AX=(()=>{var t;class e extends EL{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(eo))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const DL=["alt","control","meta","shift"],DX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SX={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let RX=(()=>{var t;class e extends EL{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fu().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),DL.forEach(d=>{const p=i.indexOf(d);p>-1&&(i.splice(p,1),a+=d+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=DX[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),DL.forEach(a=>{a!==o&&(0,SX[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(eo))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const NX=uF(AK,"browser",[{provide:qs,useValue:dL},{provide:f1,useValue:function PX(){nA.makeCurrent()},multi:!0},{provide:eo,useFactory:function xX(){return function cH(t){RC=t}(document),document},deps:[]}]),kX=new yt(""),PL=[{provide:x0,useClass:class gX{addToWindow(e){X.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new he(5103,!1);return o},X.getAllAngularTestabilities=()=>e.getAllTestabilities(),X.getAllAngularRootElements=()=>e.getAllRootElements(),X.frameworkStabilizers||(X.frameworkStabilizers=[]),X.frameworkStabilizers.push(r=>{const i=X.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Fu().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}},deps:[]},{provide:ZO,useClass:bT,deps:[je,CT,x0]},{provide:bT,useClass:bT,deps:[je,CT,x0]}],ML=[{provide:im,useValue:"root"},{provide:Ga,useFactory:function MX(){return new Ga},deps:[]},{provide:rA,useClass:AX,multi:!0,deps:[eo,je,qs]},{provide:rA,useClass:RX,multi:!0,deps:[eo]},aA,bL,IL,{provide:Iw,useExisting:aA},{provide:class $Y{},useClass:_X,deps:[]},[]];let xL=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Py,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(kX,12))},t.\u0275mod=uo({type:t}),t.\u0275inj=xi({providers:[...ML,...PL],imports:[cL,DK]}),e})(),OX=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(eo))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),OL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:function(r){let i=null;return i=r?new(r||t):Qe($X),i},providedIn:"root"}),e})(),$X=(()=>{var t;class e extends OL{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case Is.NONE:return i;case Is.HTML:return qa(i,"HTML")?ys(i):k1(this._doc,String(i)).toString();case Is.STYLE:return qa(i,"Style")?ys(i):i;case Is.SCRIPT:if(qa(i,"Script"))return ys(i);throw new he(5200,!1);case Is.URL:return qa(i,"URL")?ys(i):By(String(i));case Is.RESOURCE_URL:if(qa(i,"ResourceURL"))return ys(i);throw new he(5201,!1);default:throw new he(5202,!1)}}bypassSecurityTrustHtml(r){return function MH(t){return new TH(t)}(r)}bypassSecurityTrustStyle(r){return function xH(t){return new AH(t)}(r)}bypassSecurityTrustScript(r){return function NH(t){return new DH(t)}(r)}bypassSecurityTrustUrl(r){return function kH(t){return new SH(t)}(r)}bypassSecurityTrustResourceUrl(r){return function OH(t){return new RH(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(eo))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Tt=fe(1635);const cA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function LL(t){return Ut(null==t?void 0:t.then)}function VL(t){return Ut(t[kr])}function $L(t){return Symbol.asyncIterator&&Ut(null==t?void 0:t[Symbol.asyncIterator])}function BL(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const UL=function UX(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function jL(t){return Ut(null==t?void 0:t[UL])}function zL(t){return(0,Tt.AQ)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Tt.N3)(n.read());if(i)return yield(0,Tt.N3)(void 0);yield yield(0,Tt.N3)(r)}}finally{n.releaseLock()}})}function HL(t){return Ut(null==t?void 0:t.getReader)}function ls(t){if(t instanceof Mn)return t;if(null!=t){if(VL(t))return function jX(t){return new Mn(e=>{const n=t[kr]();if(Ut(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(cA(t))return function zX(t){return new Mn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(LL(t))return function HX(t){return new Mn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Pn)})}(t);if($L(t))return GL(t);if(jL(t))return function GX(t){return new Mn(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(HL(t))return function qX(t){return GL(zL(t))}(t)}throw BL(t)}function GL(t){return new Mn(e=>{(function WX(t,e){var n,r,i,o;return(0,Tt.sH)(this,void 0,void 0,function*(){try{for(n=(0,Tt.xN)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ol(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Fl(t,e=0){return Re((n,r)=>{n.subscribe(ft(r,i=>Ol(r,t,()=>r.next(i),e),()=>Ol(r,t,()=>r.complete(),e),i=>Ol(r,t,()=>r.error(i),e)))})}function Xc(t,e=0){return Re((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function qL(t,e){if(!t)throw new Error("Iterable cannot be null");return new Mn(n=>{Ol(n,e,()=>{const r=t[Symbol.asyncIterator]();Ol(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dr(t,e){return e?function JX(t,e){if(null!=t){if(VL(t))return function KX(t,e){return ls(t).pipe(Xc(e),Fl(e))}(t,e);if(cA(t))return function YX(t,e){return new Mn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(LL(t))return function QX(t,e){return ls(t).pipe(Xc(e),Fl(e))}(t,e);if($L(t))return qL(t,e);if(jL(t))return function XX(t,e){return new Mn(n=>{let r;return Ol(n,e,()=>{r=t[UL](),Ol(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ut(null==r?void 0:r.return)&&r.return()})}(t,e);if(HL(t))return function ZX(t,e){return qL(zL(t),e)}(t,e)}throw BL(t)}(t,e):ls(t)}function dA(t){return t[t.length-1]}function WL(t){return Ut(dA(t))?t.pop():void 0}function Rg(t){return function eZ(t){return t&&Ut(t.schedule)}(dA(t))?t.pop():void 0}function In(...t){return Dr(t,Rg(t))}const{isArray:nZ}=Array,{getPrototypeOf:rZ,prototype:iZ,keys:oZ}=Object;function KL(t){if(1===t.length){const e=t[0];if(nZ(e))return{args:e,keys:null};if(function sZ(t){return t&&"object"==typeof t&&rZ(t)===iZ}(e)){const n=oZ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:aZ}=Array;function hA(t){return Et(e=>function lZ(t,e){return aZ(e)?t(...e):t(e)}(t,e))}function QL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function oI(...t){const e=Rg(t),n=WL(t),{args:r,keys:i}=KL(t);if(0===r.length)return Dr([],e);const o=new Mn(function uZ(t,e,n=ti){return r=>{YL(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)YL(e,()=>{const u=Dr(t[l],e);let d=!1;u.subscribe(ft(r,p=>{o[l]=p,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>QL(i,s):ti));return n?o.pipe(hA(n)):o}function YL(t,e,n){t?Ol(n,t,e):e()}const sI=er(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ho(t,e,n=1/0){return Ut(e)?ho((r,i)=>Et((o,s)=>e(r,o,i,s))(ls(t(r,i))),n):("number"==typeof e&&(n=e),Re((r,i)=>function cZ(t,e,n,r,i,o,s,a){const l=[];let u=0,d=0,p=!1;const _=()=>{p&&!l.length&&!u&&e.complete()},I=x=>u<r?A(x):l.push(x),A=x=>{o&&e.next(x),u++;let V=!1;ls(n(x,d++)).subscribe(ft(e,U=>{null==i||i(U),o?I(U):e.next(U)},()=>{V=!0},void 0,()=>{if(V)try{for(u--;l.length&&u<r;){const U=l.shift();s?Ol(e,s,()=>A(U)):A(U)}_()}catch(U){e.error(U)}}))};return t.subscribe(ft(e,I,()=>{p=!0,_()})),()=>{null==a||a()}}(r,i,t,n)))}function hf(t=1/0){return ho(ti,t)}function fA(...t){return function dZ(){return hf(1)}()(Dr(t,Rg(t)))}function XL(t){return new Mn(e=>{ls(t()).subscribe(e)})}function aI(t,e){const n=Ut(t)?t:()=>t,r=i=>i.error(n());return new Mn(e?i=>e.schedule(r,0,i):r)}const ba=new Mn(t=>t.complete());function pA(){return Re((t,e)=>{let n=null;t._refCount++;const r=ft(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class ZL extends Mn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ie(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tn;const n=this.getSubject();e.add(this.source.subscribe(ft(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tn.EMPTY)}return e}refCount(){return pA()(this)}}function hi(t,e){return Re((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(ft(r,l=>{null==i||i.unsubscribe();let u=0;const d=o++;ls(t(l,d)).subscribe(i=ft(r,p=>r.next(e?e(l,p,d,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ff(t){return t<=0?()=>ba:Re((e,n)=>{let r=0;e.subscribe(ft(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function lI(...t){const e=Rg(t);return Re((n,r)=>{(e?fA(t,n,e):fA(t,n)).subscribe(r)})}function Ss(t,e){return Re((n,r)=>{let i=0;n.subscribe(ft(r,o=>t.call(e,o,i++)&&r.next(o)))})}function uI(t){return Re((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function JL(t=fZ){return Re((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function fZ(){return new sI}function Lu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ss((i,o)=>t(i,o,r)):ti,ff(1),n?uI(e):JL(()=>new sI))}function Pg(t,e){return Ut(e)?ho(t,e,1):ho(t,1)}function Ro(t,e,n){const r=Ut(t)||e||n?{next:t,error:e,complete:n}:t;return r?Re((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ft(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ti}function Zc(t){return Re((e,n)=>{let o,r=null,i=!1;r=e.subscribe(ft(n,void 0,void 0,s=>{o=ls(t(s,Zc(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function cI(t,e){return Re(function pZ(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(ft(s,d=>{const p=u++;l=a?t(l,d,p):(a=!0,d),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}function mA(t){return t<=0?()=>ba:Re((e,n)=>{let r=[];e.subscribe(ft(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function pf(t){return Re((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Vn="primary",Mg=Symbol("RouteTitle");class vZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function mf(t){return new vZ(t)}function yZ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Za(t,e){const n=t?gA(t):void 0,r=e?gA(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eV(t[i],e[i]))return!1;return!0}function gA(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function tV(t){return t.length>0?t[t.length-1]:null}function Vu(t){return function BX(t){return!!t&&(t instanceof Mn||Ut(t.lift)&&Ut(t.subscribe))}(t)?t:yg(t)?Dr(Promise.resolve(t)):In(t)}const EZ={exact:function iV(t,e,n){if(!Jc(t.segments,e.segments)||!dI(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!iV(t.children[r],e.children[r],n))return!1;return!0},subset:oV},nV={exact:function bZ(t,e){return Za(t,e)},subset:function CZ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eV(t[n],e[n]))},ignored:()=>!0};function rV(t,e,n){return EZ[n.paths](t.root,e.root,n.matrixParams)&&nV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function oV(t,e,n){return sV(t,e,e.segments,n)}function sV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Jc(i,n)||e.hasChildren()||!dI(i,n,r))}if(t.segments.length===n.length){if(!Jc(t.segments,n)||!dI(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!oV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Jc(t.segments,i)&&dI(t.segments,i,r)&&t.children[Vn])&&sV(t.children[Vn],e,o,r)}}function dI(t,e,n){return e.every((r,i)=>nV[n](t[i].parameters,r.parameters))}class gf{constructor(e=new Mr([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=mf(this.queryParams)),this._queryParamMap}toString(){return AZ.serialize(this)}}class Mr{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hI(this)}}class xg{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){var e;return null!==(e=this._parameterMap)&&void 0!==e||(this._parameterMap=mf(this.parameters)),this._parameterMap}toString(){return uV(this)}}function Jc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ed=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>new _A,providedIn:"root"}),e})();class _A{parse(e){const n=new LZ(e);return new gf(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ng(e.root,!0)}`,r=function RZ(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${fI(n)}=${fI(i)}`).join("&"):`${fI(n)}=${fI(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function DZ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const AZ=new _A;function hI(t){return t.segments.map(e=>uV(e)).join("/")}function Ng(t,e){if(!t.hasChildren())return hI(t);if(e){const n=t.children[Vn]?Ng(t.children[Vn],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Vn&&r.push(`${i}:${Ng(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function TZ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Vn&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Vn&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Vn?[Ng(t.children[Vn],!1)]:[`${i}:${Ng(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Vn]?`${hI(t)}/${n[0]}`:`${hI(t)}/(${n.join("//")})`}}function aV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fI(t){return aV(t).replace(/%3B/gi,";")}function vA(t){return aV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pI(t){return decodeURIComponent(t)}function lV(t){return pI(t.replace(/\+/g,"%20"))}function uV(t){return`${vA(t.path)}${function SZ(t){return Object.entries(t).map(([e,n])=>`;${vA(e)}=${vA(n)}`).join("")}(t.parameters)}`}const PZ=/^[^\/()?;#]+/;function yA(t){const e=t.match(PZ);return e?e[0]:""}const MZ=/^[^\/()?;=#]+/,NZ=/^[^=?&#]+/,OZ=/^[^&#]+/;class LZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mr([],{}):new Mr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Vn]=new Mr(e,n)),r}parseSegment(){const e=yA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new he(4009,!1);return this.capture(e),new xg(pI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function xZ(t){const e=t.match(MZ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=yA(this.remaining);i&&(r=i,this.capture(r))}e[pI(n)]=pI(r)}parseQueryParam(e){const n=function kZ(t){const e=t.match(NZ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function FZ(t){const e=t.match(OZ);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=lV(n),o=lV(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yA(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new he(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Vn);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Vn]:new Mr([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new he(4011,!1)}}function cV(t){return t.segments.length>0?new Mr([],{[Vn]:t}):t}function dV(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=dV(i);if(r===Vn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function VZ(t){if(1===t.numberOfChildren&&t.children[Vn]){const e=t.children[Vn];return new Mr(t.segments.concat(e.segments),e.children)}return t}(new Mr(t.segments,e))}function _f(t){return t instanceof gf}function hV(t){var e;let n;const o=cV(function r(s){const a={};for(const u of s.children){const d=r(u);a[u.outlet]=d}const l=new Mr(s.url,a);return s===t&&(n=l),l}(t.root));return null!==(e=n)&&void 0!==e?e:o}function fV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return IA(i,i,i,n,r);const o=function BZ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new mV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new mV(n,e,r)}(e);if(o.toRoot())return IA(i,i,new Mr([],{}),n,r);const s=function UZ(t,e,n){if(t.isAbsolute)return new gI(e,!0,0);if(!n)return new gI(e,!1,NaN);if(null===n.parent)return new gI(n,!0,0);const r=mI(t.commands[0])?0:1;return function jZ(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new he(4005,!1);i=r.segments.length}return new gI(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Og(s.segmentGroup,s.index,o.commands):gV(s.segmentGroup,s.index,o.commands);return IA(i,s.segmentGroup,a,n,r)}function mI(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function kg(t){return"object"==typeof t&&null!=t&&t.outlets}function IA(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`}),s=t===e?n:pV(t,e,n);const a=cV(dV(s));return new gf(a,o,i)}function pV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:pV(o,e,n)}),new Mr(t.segments,r)}class mV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&mI(r[0]))throw new he(4003,!1);const i=r.find(kg);if(i&&i!==tV(r))throw new he(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gI{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function gV(t,e,n){var r;if(null!==(r=t)&&void 0!==r||(t=new Mr([],{})),0===t.segments.length&&t.hasChildren())return Og(t,e,n);const i=function HZ(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(kg(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!vV(l,u,s))return o;r+=2}else{if(!vV(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Mr(t.segments.slice(0,i.pathIndex),{});return s.children[Vn]=new Mr(t.segments.slice(i.pathIndex),t.children),Og(s,0,o)}return i.match&&0===o.length?new Mr(t.segments,{}):i.match&&!t.hasChildren()?EA(t,e,n):i.match?Og(t,0,o):EA(t,e,n)}function Og(t,e,n){if(0===n.length)return new Mr(t.segments,{});{const r=function zZ(t){return kg(t[0])?t[0].outlets:{[Vn]:t}}(n),i={};if(Object.keys(r).some(o=>o!==Vn)&&t.children[Vn]&&1===t.numberOfChildren&&0===t.children[Vn].segments.length){const o=Og(t.children[Vn],e,n);return new Mr(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=gV(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Mr(t.segments,i)}}function EA(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(kg(o)){const l=GZ(o.outlets);return new Mr(r,l)}if(0===i&&mI(n[0])){r.push(new xg(t.segments[e].path,_V(n[0]))),i++;continue}const s=kg(o)?o.outlets[Vn]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&mI(a)?(r.push(new xg(s,_V(a))),i+=2):(r.push(new xg(s,{})),i++)}return new Mr(r,{})}function GZ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=EA(new Mr([],{}),0,r))}),e}function _V(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vV(t,e,n){return t==n.path&&Za(e,n.parameters)}const Fg="imperative";var ar=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ar||{});class Ja{constructor(e,n){this.id=e,this.url=n}}class Lg extends Ja{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ar.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ll extends Ja{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ar.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Rs=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Rs||{}),_I=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(_I||{});class vf extends Ja{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ar.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yf extends Ja{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ar.NavigationSkipped}}class vI extends Ja{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ar.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yV extends Ja{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ar.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qZ extends Ja{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ar.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WZ extends Ja{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ar.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KZ extends Ja{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ar.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QZ extends Ja{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ar.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YZ{constructor(e){this.route=e,this.type=ar.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XZ{constructor(e){this.route=e,this.type=ar.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ZZ{constructor(e){this.snapshot=e,this.type=ar.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JZ{constructor(e){this.snapshot=e,this.type=ar.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eJ{constructor(e){this.snapshot=e,this.type=ar.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tJ{constructor(e){this.snapshot=e,this.type=ar.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IV{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ar.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bA{}class CA{constructor(e){this.url=e}}class nJ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new td,this.attachRef=null}}let td=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new nJ,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class EV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=wA(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=wA(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=TA(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return TA(e,this._root).map(n=>n.value)}}function wA(t,e){if(t===e.value)return e;for(const n of e.children){const r=wA(t,n);if(r)return r}return null}function TA(t,e){if(t===e.value)return[e];for(const n of e.children){const r=TA(t,n);if(r.length)return r.unshift(e),r}return[]}class Ca{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function If(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class bV extends EV{constructor(e,n){super(e),this.snapshot=n,SA(this,e)}toString(){return this.snapshot.toString()}}function CV(t){const e=function rJ(t){const o=new DA([],{},{},"",{},Vn,t,null,{});return new wV("",new Ca(o,[]))}(t),n=new R([new xg("",{})]),r=new R({}),i=new R({}),o=new R({}),s=new R(""),a=new el(n,r,o,s,i,Vn,t,e.root);return a.snapshot=e.root,new bV(new Ca(a,[]),e)}class el{constructor(e,n,r,i,o,s,a,l){var u,d;this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=null!==(u=null===(d=this.dataSubject)||void 0===d?void 0:d.pipe(Et(p=>p[Mg])))&&void 0!==u?u:In(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=this.params.pipe(Et(n=>mf(n)))),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=this.queryParams.pipe(Et(n=>mf(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AA(t,e,n="emptyOnly"){var r;let i;const{routeConfig:o}=t;var s;return i=null===e||"always"!==n&&""!==(null==o?void 0:o.path)&&(e.component||null!==(r=e.routeConfig)&&void 0!==r&&r.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...null!==(s=t._resolvedData)&&void 0!==s?s:{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...null==o?void 0:o.data,...t._resolvedData}},o&&AV(o)&&(i.resolve[Mg]=o.title),i}class DA{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[Mg]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=mf(this.params)),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=mf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wV extends EV{constructor(e,n){super(n),this.url=e,SA(this,n)}toString(){return TV(this._root)}}function SA(t,e){e.value._routerState=t,e.children.forEach(n=>SA(t,n))}function TV(t){const e=t.children.length>0?` { ${t.children.map(TV).join(", ")} } `:"";return`${t.value}${e}`}function RA(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Za(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Za(e.params,n.params)||t.paramsSubject.next(n.params),function IZ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Za(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Za(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function PA(t,e){const n=Za(t.params,e.params)&&function wZ(t,e){return Jc(t,e)&&t.every((n,r)=>Za(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||PA(t.parent,e.parent))}function AV(t){return"string"==typeof t.title||null===t.title}let DV=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vn,this.activateEvents=new Pr,this.deactivateEvents=new Pr,this.attachEvents=new Pr,this.detachEvents=new Pr,this.parentContexts=Je(td),this.location=Je(bs),this.changeDetector=Je(Ct),this.environmentInjector=Je(ci),this.inputBinder=Je(yI,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){var r;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(r=this.inputBinder)||void 0===r||r.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){var i;return(null===(i=this.parentContexts.getContext(r))||void 0===i?void 0:i.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);null!=r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){var o;this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var o;if(this.isActivated)throw new he(4013,!1);this._activatedRoute=r;const s=this.location,l=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new MA(r,u,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:d,environmentInjector:null!=i?i:this.environmentInjector}),this.changeDetector.markForCheck(),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Yt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[co]}),e})();class MA{__ngOutletInjector(e){return new MA(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===el?this.route:e===td?this.childContexts:this.parent.get(e,n)}}const yI=new yt("");let SV=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;null===(i=this.outletDataSubscriptions.get(r))||void 0===i||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=oI([i.queryParams,i.params,i.data]).pipe(hi(([s,a,l],u)=>(l={...s,...a,...l},0===u?In(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=GF(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();function Vg(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function oJ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Vg(t,r,i);return Vg(t,r)})}(t,e,n);return new Ca(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Vg(t,a)),s}}const r=function sJ(t){return new el(new R(t.url),new R(t.params),new R(t.queryParams),new R(t.fragment),new R(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Vg(t,o));return new Ca(r,i)}}const RV="ngNavigationCancelingError";function PV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=_f(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=MV(!1,Rs.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function MV(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[RV]=!0,n.cancellationCode=e,n}function xV(t){return!!t&&t[RV]}let NV=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=dt({type:t,selectors:[["ng-component"]],standalone:!0,features:[S0],decls:1,vars:0,template:function(r,i){1&r&&En(0,"router-outlet")},dependencies:[DV],encapsulation:2}),e})();function xA(t){const e=t.children&&t.children.map(xA),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Vn&&(n.component=NV),n}function tl(t){return t.outlet||Vn}function $g(t){var e;if(!t)return null;if(null!==(e=t.routeConfig)&&void 0!==e&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class pJ{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),RA(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=If(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=If(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=If(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=If(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tJ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new JZ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(RA(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),RA(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=$g(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class kV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class II{constructor(e,n){this.component=e,this.route=n}}function mJ(t,e,n){const r=t._root;return Bg(r,e?e._root:null,n,[r.value])}function Ef(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Up(t){return null!==ra(t)}(t)?e.get(t):t:r}function Bg(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=If(e);return t.children.forEach(s=>{(function _J(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function vJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Jc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Jc(t.url,e.url)||!Za(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!PA(t,e)||!Za(t.queryParams,e.queryParams);default:return!PA(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new kV(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Bg(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new II(a.outlet.component,s))}else s&&Ug(e,a,i),i.canActivateChecks.push(new kV(r)),Bg(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ug(a,n.getContext(s),i)),i}function Ug(t,e,n){const r=If(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Ug(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new II(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function jg(t){return"function"==typeof t}function OV(t){return t instanceof sI||"EmptyError"===(null==t?void 0:t.name)}const EI=Symbol("INITIAL_VALUE");function bf(){return hi(t=>oI(t.map(e=>e.pipe(ff(1),lI(EI)))).pipe(Et(e=>{for(const n of e)if(!0!==n){if(n===EI)return EI;if(!1===n||n instanceof gf)return n}return!0}),Ss(e=>e!==EI),ff(1)))}function FV(t){return function Pi(...t){return Qi(t)}(Ro(e=>{if(_f(e))throw PV(0,e)}),Et(e=>!0===e))}class NA{constructor(e){this.segmentGroup=e||null}}class kA extends Error{constructor(e){super(),this.urlTree=e}}function Cf(t){return aI(new NA(t))}class LJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return In(r);if(i.numberOfChildren>1||!i.children[Vn])return aI(new he(4e3,!1));i=i.children[Vn]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new kA(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new gf(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Mr(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new he(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const OA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VJ(t,e,n,r,i){const o=FA(t,e,n);return o.matched?(r=function lJ(t,e){var n;return t.providers&&!t._injector&&(t._injector=d0(t.providers,e,`Route: ${t.path}`)),null!==(n=t._injector)&&void 0!==n?n:e}(e,r),function kJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?In(i.map(s=>{const a=Ef(s,t);return Vu(function wJ(t){return t&&jg(t.canMatch)}(a)?a.canMatch(e,n):ms(t,()=>a(e,n)))})).pipe(bf(),FV()):In(!0)}(r,e,n).pipe(Et(s=>!0===s?o:{...OA}))):In(o)}function FA(t,e,n){var r,i;if("**"===e.path)return function $J(t){return{matched:!0,parameters:t.length>0?tV(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...OA}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||yZ)(n,t,e);if(!s)return{...OA};const a={};Object.entries(null!==(r=s.posParams)&&void 0!==r?r:{}).forEach(([u,d])=>{a[u]=d.path});const l=s.consumed.length>0?{...a,...s.consumed[s.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function LV(t,e,n,r){return n.length>0&&function jJ(t,e,n){return n.some(r=>bI(t,e,r)&&tl(r)!==Vn)}(t,n,r)?{segmentGroup:new Mr(e,UJ(r,new Mr(n,t.children))),slicedSegments:[]}:0===n.length&&function zJ(t,e,n){return n.some(r=>bI(t,e,r))}(t,n,r)?{segmentGroup:new Mr(t.segments,BJ(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Mr(t.segments,t.children),slicedSegments:n}}function BJ(t,e,n,r){const i={};for(const o of n)if(bI(t,e,o)&&!r[tl(o)]){const s=new Mr([],{});i[tl(o)]=s}return{...r,...i}}function UJ(t,e){const n={};n[Vn]=e;for(const r of t)if(""===r.path&&tl(r)!==Vn){const i=new Mr([],{});n[tl(r)]=i}return n}function bI(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class qJ{}class QJ{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new LJ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new he(4002,`'${e.segmentGroup}'`)}recognize(){const e=LV(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Et(n=>{const r=new DA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vn,this.rootComponentType,null,{}),i=new Ca(r,n),o=new wV("",i),s=function $Z(t,e,n=null,r=null){return fV(hV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Vn).pipe(Zc(r=>{if(r instanceof kA)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof NA?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=AA(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Et(o=>o instanceof Ca?[o]:[]))}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Dr(i).pipe(Pg(o=>{const s=r.children[o],a=function hJ(t,e){const n=t.filter(r=>tl(r)===e);return n.push(...t.filter(r=>tl(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),cI((o,s)=>(o.push(...s),o)),uI(null),function mZ(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ss((i,o)=>t(i,o,r)):ti,mA(1),n?uI(e):JL(()=>new sI))}(),ho(o=>{if(null===o)return Cf(r);const s=VV(o);return function YJ(t){t.sort((e,n)=>e.value.outlet===Vn?-1:n.value.outlet===Vn?1:e.value.outlet.localeCompare(n.value.outlet))}(s),In(s)}))}processSegment(e,n,r,i,o,s){return Dr(n).pipe(Pg(a=>{var l;return this.processSegmentAgainstRoute(null!==(l=a._injector)&&void 0!==l?l:e,n,a,r,i,o,s).pipe(Zc(u=>{if(u instanceof NA)return In(null);throw u}))}),Lu(a=>!!a),Zc(a=>{if(OV(a))return function GJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?In(new qJ):Cf(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function HJ(t,e,n,r){return!!(tl(t)===r||r!==Vn&&bI(e,n,t))&&FA(e,t,n).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Cf(i):Cf(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:d}=FA(n,i,o);if(!a)return Cf(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,p).pipe(ho(_=>this.processSegment(e,r,n,_.concat(d),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){const s=VJ(n,r,i,e);return"**"===r.path&&(n.children={}),s.pipe(hi(a=>{var l;return a.matched?(e=null!==(l=r._injector)&&void 0!==l?l:e,this.getChildConfig(e,r,i).pipe(hi(({routes:u})=>{var d,p,_;const I=null!==(d=r._loadedInjector)&&void 0!==d?d:e,{consumedSegments:A,remainingSegments:x,parameters:V}=a,U=new DA(A,V,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ZJ(t){return t.data||{}}(r),tl(r),null!==(p=null!==(_=r.component)&&void 0!==_?_:r._loadedComponent)&&void 0!==p?p:null,r,function JJ(t){return t.resolve||{}}(r)),{segmentGroup:G,slicedSegments:me}=LV(n,A,x,u);if(0===me.length&&G.hasChildren())return this.processChildren(I,u,G).pipe(Et(tt=>null===tt?null:new Ca(U,tt)));if(0===u.length&&0===me.length)return In(new Ca(U,[]));const _e=tl(r)===o;return this.processSegment(I,u,G,me,_e?Vn:o,!0).pipe(Et(tt=>new Ca(U,tt instanceof Ca?[tt]:[])))}))):Cf(n)}))}getChildConfig(e,n,r){return n.children?In({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?In({routes:n._loadedRoutes,injector:n._loadedInjector}):function NJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?In(!0):In(i.map(s=>{const a=Ef(s,t);return Vu(function IJ(t){return t&&jg(t.canLoad)}(a)?a.canLoad(e,n):ms(t,()=>a(e,n)))})).pipe(bf(),FV())}(e,n,r).pipe(ho(i=>i?this.configLoader.loadChildren(e,n).pipe(Ro(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function FJ(t){return aI(MV(!1,Rs.GuardRejected))}())):In({routes:[],injector:e})}}function XJ(t){const e=t.value.routeConfig;return e&&""===e.path}function VV(t){const e=[],n=new Set;for(const r of t){if(!XJ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=VV(r.children);e.push(new Ca(r.value,i))}return e.filter(r=>!n.has(r))}function $V(t){const e=t.children.map(n=>$V(n)).flat();return[t,...e]}function LA(t){return hi(e=>{const n=t(e);return n?Dr(n).pipe(Et(()=>e)):In(e)})}let BV=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;){var s;i=null!==(s=this.getResolvedTitleForRoute(o))&&void 0!==s?s:i,o=o.children.find(a=>a.outlet===Vn)}return i}getResolvedTitleForRoute(r){return r.data[Mg]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Je(oee),providedIn:"root"}),e})(),oee=(()=>{var t;class e extends BV{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(OX))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const wf=new yt("",{providedIn:"root",factory:()=>({})}),Tf=new yt("");let VA=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Je(rF)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return In(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Vu(r.loadComponent()).pipe(Et(UV),Ro(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),pf(()=>{this.componentLoaders.delete(r)})),o=new ZL(i,()=>new M).pipe(pA());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return In({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function see(t,e,n,r){return Vu(t.loadChildren()).pipe(Et(UV),ho(i=>i instanceof wN||Array.isArray(i)?In(i):Dr(e.compileModuleAsync(i))),Et(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Tf,[],{optional:!0,self:!0}).flat()),{routes:s.map(xA),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(pf(()=>{this.childrenLoaders.delete(i)})),a=new ZL(s,()=>new M).pipe(pA());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function UV(t){return function aee(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let $A=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Je(lee),providedIn:"root"}),e})(),lee=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const jV=new yt(""),zV=new yt("");function uee(t,e,n){const r=t.get(zV),i=t.get(eo);return t.get(je).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o;const s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),function cee(t){return new Promise(e=>{Tw(e,{injector:t})})}(t))),{onViewTransitionCreated:l}=r;return l&&ms(t,()=>l({transition:a,from:e,to:n})),s})}let CI=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new M,this.transitionAbortSubject=new M,this.configLoader=Je(VA),this.environmentInjector=Je(ci),this.urlSerializer=Je(ed),this.rootContexts=Je(td),this.location=Je(Ks),this.inputBindingEnabled=null!==Je(yI,{optional:!0}),this.titleStrategy=Je(BV),this.options=Je(wf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Je($A),this.createViewTransition=Je(jV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>In(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new XZ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new YZ(o))}complete(){var r;null===(r=this.transitions)||void 0===r||r.complete()}handleNavigationRequest(r){var i;const o=++this.navigationId;null===(i=this.transitions)||void 0===i||i.next({...this.transitions.value,...r,id:o})}setupNavigations(r,i,o){return this.transitions=new R({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fg,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ss(s=>0!==s.id),Et(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),hi(s=>{let a=!1,l=!1;return In(s).pipe(hi(u=>{var d;if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Rs.SupersededByNewNavigation),ba;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const p=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),_=null!==(d=u.extras.onSameUrlNavigation)&&void 0!==d?d:r.onSameUrlNavigation;if(!p&&"reload"!==_){const I="";return this.events.next(new yf(u.id,this.urlSerializer.serialize(u.rawUrl),I,_I.IgnoredSameUrlNavigation)),u.resolve(null),ba}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return In(u).pipe(hi(I=>{var A,x;const V=null===(A=this.transitions)||void 0===A?void 0:A.getValue();return this.events.next(new Lg(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),V!==(null===(x=this.transitions)||void 0===x?void 0:x.getValue())?ba:Promise.resolve(I)}),function eee(t,e,n,r,i,o){return ho(s=>function WJ(t,e,n,r,i,o,s="emptyOnly"){return new QJ(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Et(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ro(I=>{s.targetSnapshot=I.targetSnapshot,s.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects};const A=new yV(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(A)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:I,extractedUrl:A,source:x,restoredState:V,extras:U}=u,G=new Lg(I,this.urlSerializer.serialize(A),x,V);this.events.next(G);const me=CV(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:me,urlAfterRedirects:A,extras:{...U,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=A,In(s)}{const I="";return this.events.next(new yf(u.id,this.urlSerializer.serialize(u.extractedUrl),I,_I.IgnoredByUrlHandlingStrategy)),u.resolve(null),ba}}),Ro(u=>{const d=new qZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Et(u=>(this.currentTransition=s={...u,guards:mJ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function TJ(t,e){return ho(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?In({...n,guardsResult:!0}):function AJ(t,e,n,r){return Dr(t).pipe(ho(i=>function xJ(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?In(o.map(a=>{var l;const u=null!==(l=$g(e))&&void 0!==l?l:i,d=Ef(a,u);return Vu(function CJ(t){return t&&jg(t.canDeactivate)}(d)?d.canDeactivate(t,e,n,r):ms(u,()=>d(t,e,n,r))).pipe(Lu())})).pipe(bf()):In(!0)}(i.component,i.route,n,e,r)),Lu(i=>!0!==i,!0))}(s,r,i,t).pipe(ho(a=>a&&function yJ(t){return"boolean"==typeof t}(a)?function DJ(t,e,n,r){return Dr(e).pipe(Pg(i=>fA(function RJ(t,e){return null!==t&&e&&e(new ZZ(t)),In(!0)}(i.route.parent,r),function SJ(t,e){return null!==t&&e&&e(new eJ(t)),In(!0)}(i.route,r),function MJ(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function gJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>XL(()=>In(s.guards.map(l=>{var u;const d=null!==(u=$g(s.node))&&void 0!==u?u:n,p=Ef(l,d);return Vu(function bJ(t){return t&&jg(t.canActivateChild)}(p)?p.canActivateChild(r,t):ms(d,()=>p(r,t))).pipe(Lu())})).pipe(bf())));return In(o).pipe(bf())}(t,i.path,n),function PJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return In(!0);const i=r.map(o=>XL(()=>{var s;const a=null!==(s=$g(e))&&void 0!==s?s:n,l=Ef(o,a);return Vu(function EJ(t){return t&&jg(t.canActivate)}(l)?l.canActivate(e,t):ms(a,()=>l(e,t))).pipe(Lu())}));return In(i).pipe(bf())}(t,i.route,n))),Lu(i=>!0!==i,!0))}(r,o,t,e):In(a)),Et(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Ro(u=>{if(s.guardsResult=u.guardsResult,_f(u.guardsResult))throw PV(0,u.guardsResult);const d=new WZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Ss(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",Rs.GuardRejected),!1)),LA(u=>{if(u.guards.canActivateChecks.length)return In(u).pipe(Ro(d=>{const p=new KZ(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),hi(d=>{let p=!1;return In(d).pipe(function tee(t,e){return ho(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return In(n);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const u of $V(l))s.add(u);let a=0;return Dr(s).pipe(Pg(l=>o.has(l)?function nee(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==(null==i?void 0:i.title)&&!AV(i)&&(o[Mg]=i.title),function ree(t,e,n,r){const i=gA(t);if(0===i.length)return In({});const o={};return Dr(i).pipe(ho(s=>function iee(t,e,n,r){var i;const o=null!==(i=$g(e))&&void 0!==i?i:r,s=Ef(t,o);return Vu(s.resolve?s.resolve(e,n):ms(o,()=>s(e,n)))}(t[s],e,n,r).pipe(Lu(),Ro(a=>{o[s]=a}))),mA(1),function gZ(t){return Et(()=>t)}(o),Zc(s=>OV(s)?ba:aI(s)))}(o,t,e,r).pipe(Et(s=>(t._resolvedData=s,t.data=AA(t,t.parent,n).resolve,null)))}(l,r,t,e):(l.data=AA(l,l.parent,t).resolve,In(void 0))),Ro(()=>a++),mA(1),ho(l=>a===s.size?In(n):ba))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ro({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Rs.NoDataFromResolver)}}))}),Ro(d=>{const p=new QZ(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),LA(u=>{const d=p=>{var _;const I=[];null!==(_=p.routeConfig)&&void 0!==_&&_.loadComponent&&!p.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ro(A=>{p.component=A}),Et(()=>{})));for(const A of p.children)I.push(...d(A));return I};return oI(d(u.targetSnapshot.root)).pipe(uI(null),ff(1))}),LA(()=>this.afterPreactivation()),hi(()=>{var u;const{currentSnapshot:d,targetSnapshot:p}=s,_=null===(u=this.createViewTransition)||void 0===u?void 0:u.call(this,this.environmentInjector,d.root,p.root);return _?Dr(_).pipe(Et(()=>s)):In(s)}),Et(u=>{const d=function iJ(t,e,n){const r=Vg(t,e._root,n?n._root:void 0);return new bV(r,e)}(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:d},this.currentNavigation.targetRouterState=d,s}),Ro(()=>{this.events.next(new bA)}),((t,e,n,r)=>Et(i=>(new pJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ff(1),Ro({next:u=>{var d;a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ll(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),null===(d=this.titleStrategy)||void 0===d||d.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function _Z(t){return Re((e,n)=>{ls(t).subscribe(ft(n,()=>n.complete(),tr)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Ro(u=>{throw u}))),pf(()=>{var u;!a&&!l&&this.cancelNavigationTransition(s,"",Rs.SupersededByNewNavigation),(null===(u=this.currentTransition)||void 0===u?void 0:u.id)===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zc(u=>{if(l=!0,xV(u))this.events.next(new vf(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function aJ(t){return xV(t)&&_f(t.url)}(u)?this.events.next(new CA(u.url)):s.resolve(!1);else{var d;this.events.next(new vI(s.id,this.urlSerializer.serialize(s.extractedUrl),u,null!==(d=s.targetSnapshot)&&void 0!==d?d:void 0));try{s.resolve(r.errorHandler(u))}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return ba}))}))}cancelNavigationTransition(r,i,o){const s=new vf(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){var r,i;return(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())!==(null===(i=this.currentTransition)||void 0===i?void 0:i.currentUrlTree.toString())}isUpdatedBrowserUrl(){var r,i;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())&&!(null!==(i=this.currentTransition)&&void 0!==i&&i.extras.skipLocationChange)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function dee(t){return t!==Fg}let HV=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Je(fee),providedIn:"root"}),e})();class hee{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let fee=(()=>{var t;class e extends hee{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),GV=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Je(pee),providedIn:"root"}),e})(),pee=(()=>{var t;class e extends GV{constructor(){super(...arguments),this.location=Je(Ks),this.urlSerializer=Je(ed),this.options=Je(wf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Je($A),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gf,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=CV(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var r,i;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(r=null===(i=this.restoredState())||void 0===i?void 0:i.\u0275routerPageId)&&void 0!==r?r:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{"popstate"===i.type&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Lg)this.stateMemento=this.createStateMemento();else if(r instanceof yf)this.rawUrlTree=i.initialUrl;else if(r instanceof yV){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof bA?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof vf&&(r.code===Rs.GuardRejected||r.code===Rs.NoDataFromResolver)?this.restoreHistory(i):r instanceof vI?this.restoreHistory(i,!0):r instanceof Ll&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&0===s&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){var i;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(i=r.finalUrl)&&void 0!==i?i:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var zg=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(zg||{});function qV(t,e){t.events.pipe(Ss(n=>n instanceof Ll||n instanceof vf||n instanceof vI||n instanceof yf),Et(n=>n instanceof Ll||n instanceof yf?zg.COMPLETE:n instanceof vf&&(n.code===Rs.Redirect||n.code===Rs.SupersededByNewNavigation)?zg.REDIRECTING:zg.FAILED),Ss(n=>n!==zg.REDIRECTING),ff(1)).subscribe(()=>{e()})}function mee(t){throw t}const gee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_ee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{var t;class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var r,i;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Je(KO),this.stateManager=Je(GV),this.options=Je(wf,{optional:!0})||{},this.pendingTasks=Je(kh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Je(CI),this.urlSerializer=Je(ed),this.location=Je(Ks),this.urlHandlingStrategy=Je($A),this._events=new M,this.errorHandler=this.options.errorHandler||mee,this.navigated=!1,this.routeReuseStrategy=Je(HV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(r=null===(i=Je(Tf,{optional:!0}))||void 0===i?void 0:i.flat())&&void 0!==r?r:[],this.componentInputBindingEnabled=!!Je(yI,{optional:!0}),this.eventsSubscription=new Tn,this.isNgZoneEnabled=Je(je)instanceof je&&je.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof vf&&i.code!==Rs.Redirect&&i.code!==Rs.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ll)this.navigated=!0;else if(i instanceof CA){const a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dee(o.source)};this.scheduleNavigation(a,Fg,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function yee(t){return!(t instanceof bA||t instanceof CA)})(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fg,this.stateManager.restoredState())}setUpLocationChangeListener(){var r;null!==(r=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==r||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",o)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=null!=o&&o.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(xA),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:a;let _,p=null;switch(l){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{_=hV(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),_=this.currentUrlTree.root}return fV(_,r,p,null!=d?d:null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=_f(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Fg,null,i)}navigate(r,i={skipLocationChange:!1}){return function vee(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new he(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(o=!0===i?{...gee}:!1===i?{..._ee}:i,_f(r))return rV(this.currentUrlTree,r,o);const s=this.parseUrl(r);return rV(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(null!=s&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,d;a?(l=a.resolve,u=a.reject,d=a.promise):d=new Promise((_,I)=>{l=_,u=I});const p=this.pendingTasks.add();return qV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(_=>Promise.reject(_))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Vl=(()=>{var t;class e{constructor(r,i,o,s,a,l){var u;this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new M,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const d=null===(u=a.nativeElement.tagName)||void 0===u?void 0:u.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=r.events.subscribe(p=>{p instanceof Ll&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var r;null===(r=this.subscription)||void 0===r||r.unsubscribe()}updateHref(){var r;const i=this.urlTree;this.href=null!==i&&this.locationStrategy?null===(r=this.locationStrategy)||void 0===r?void 0:r.prepareExternalUrl(this.router.serializeUrl(i)):null;const o=null===this.href?null:function F1(t,e,n){return function ZH(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?O1:Go}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(zr),T(el),Tl("tabindex"),T(Sl),T(it),T(xl))},t.\u0275dir=Yt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Nt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&So("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[wr.HasDecoratorInputTransform,"preserveFragment","preserveFragment",cf],skipLocationChange:[wr.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",cf],replaceUrl:[wr.HasDecoratorInputTransform,"replaceUrl","replaceUrl",cf],routerLink:"routerLink"},standalone:!0,features:[CN,co]}),e})();class WV{}let bee=(()=>{var t;class e{preload(r,i){return i().pipe(Zc(()=>In(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Cee=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ss(r=>r instanceof Ll),Pg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const u of i){var s,a;u.providers&&!u._injector&&(u._injector=d0(u.providers,r,`Route: ${u.path}`));const d=null!==(s=u._injector)&&void 0!==s?s:r,p=null!==(a=u._loadedInjector)&&void 0!==a?a:d;var l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(p,null!==(l=u.children)&&void 0!==l?l:u._loadedRoutes))}return Dr(o).pipe(hf())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):In(null);const s=o.pipe(ho(a=>{var l;return null===a?In(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(null!==(l=a.injector)&&void 0!==l?l:r,a.routes))}));return i.loadComponent&&!i._loadedComponent?Dr([s,this.loader.loadComponent(i)]).pipe(hf()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(zr),Qe(rF),Qe(ci),Qe(WV),Qe(VA))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const BA=new yt("");let KV=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Je(ci),a.scrollPositionRestoration||(a.scrollPositionRestoration="disabled"),a.anchorScrolling||(a.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Lg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ll?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof yf&&r.code===_I.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof IV&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){var o=this;this.zone.runOutsideAngular((0,E.A)(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Tw(()=>{s()},{injector:o.environmentInjector})}),o.zone.run(()=>{o.transitions.events.next(new IV(r,"popstate"===o.lastSource?o.store[o.restoredId]:null,i))})}))}ngOnDestroy(){var r,i;null===(r=this.routerEventsSubscription)||void 0===r||r.unsubscribe(),null===(i=this.scrollEventsSubscription)||void 0===i||i.unsubscribe()}}return(t=e).\u0275fac=function(r){!function sx(){throw new Error("invalid")}()},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();function nl(t,e){return{\u0275kind:t,\u0275providers:e}}function YV(){const t=Je(Tr);return e=>{var n,r;const i=t.get(ya);if(e!==i.components[0])return;const o=t.get(zr),s=t.get(XV);1===t.get(UA)&&o.initialNavigation(),null===(n=t.get(ZV,null,Yn.Optional))||void 0===n||n.setUpPreloading(),null===(r=t.get(BA,null,Yn.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const XV=new yt("",{factory:()=>new M}),UA=new yt("",{providedIn:"root",factory:()=>1}),ZV=new yt("");function Dee(t){return nl(0,[{provide:ZV,useExisting:Cee},{provide:WV,useExisting:t}])}function Ree(t){return nl(9,[{provide:jV,useValue:uee},{provide:zV,useValue:{skipNextTransition:!(null==t||!t.skipInitialTransition),...t}}])}const JV=new yt("ROUTER_FORROOT_GUARD"),Pee=[Ks,{provide:ed,useClass:_A},zr,td,{provide:el,useFactory:function QV(t){return t.routerState.root},deps:[zr]},VA,[]];let e2=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Pee,[],{provide:Tf,multi:!0,useValue:r},{provide:JV,useFactory:kee,deps:[[zr,new lo,new pu]]},{provide:wf,useValue:i||{}},null!=i&&i.useHash?{provide:xl,useClass:fQ}:{provide:xl,useClass:KF},{provide:BA,useFactory:()=>{const t=Je(OY),e=Je(je),n=Je(wf),r=Je(CI),i=Je(ed);return n.scrollOffset&&t.setOffset(n.scrollOffset),new KV(i,r,t,e,n)}},null!=i&&i.preloadingStrategy?Dee(i.preloadingStrategy).\u0275providers:[],null!=i&&i.initialNavigation?Oee(i):[],null!=i&&i.bindToComponentInputs?nl(8,[SV,{provide:yI,useExisting:SV}]).\u0275providers:[],null!=i&&i.enableViewTransitions?Ree().\u0275providers:[],[{provide:t2,useFactory:YV},{provide:AT,multi:!0,useExisting:t2}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Tf,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(JV,8))},t.\u0275mod=uo({type:t}),t.\u0275inj=xi({}),e})();function kee(t){return"guarded"}function Oee(t){return["disabled"===t.initialNavigation?nl(3,[{provide:N0,multi:!0,useFactory:()=>{const e=Je(zr);return()=>{e.setUpLocationChangeListener()}}},{provide:UA,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?nl(2,[{provide:UA,useValue:0},{provide:N0,multi:!0,deps:[Tr],useFactory:e=>{const n=e.get(dQ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(zr),o=e.get(XV);qV(i,()=>{r(!0)}),e.get(CI).afterPreactivation=()=>(r(!0),o.closed?In(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const t2=new yt("");let n2=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Sl),T(it))},t.\u0275dir=Yt({type:t}),e})(),nd=(()=>{var t;class e extends n2{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275dir=Yt({type:t,features:[Ln]}),e})();const us=new yt(""),$ee={provide:us,useExisting:pr(()=>Hg),multi:!0},Uee=new yt("");let Hg=(()=>{var t;class e extends n2{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Bee(){const t=Fu()?Fu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Sl),T(it),T(Uee,8))},t.\u0275dir=Yt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Nt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[br([$ee]),Ln]}),e})();function $u(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function i2(t){return null!=t&&"number"==typeof t.length}const to=new yt(""),Bu=new yt(""),jee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wa{static min(e){return o2(e)}static max(e){return s2(e)}static required(e){return a2(e)}static requiredTrue(e){return function l2(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return u2(e)}static minLength(e){return function c2(t){return e=>$u(e.value)||!i2(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function d2(t){return e=>i2(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function h2(t){if(!t)return wI;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if($u(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return v2(e)}static composeAsync(e){return y2(e)}}function o2(t){return e=>{if($u(e.value)||$u(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function s2(t){return e=>{if($u(e.value)||$u(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function a2(t){return $u(t.value)?{required:!0}:null}function u2(t){return $u(t.value)||jee.test(t.value)?null:{email:!0}}function wI(t){return null}function f2(t){return null!=t}function p2(t){return yg(t)?Dr(t):t}function m2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function g2(t,e){return e.map(n=>n(t))}function _2(t){return t.map(e=>function zee(t){return!t.validate}(e)?e:n=>e.validate(n))}function v2(t){if(!t)return null;const e=t.filter(f2);return 0==e.length?null:function(n){return m2(g2(n,e))}}function jA(t){return null!=t?v2(_2(t)):null}function y2(t){if(!t)return null;const e=t.filter(f2);return 0==e.length?null:function(n){return function Lee(...t){const e=WL(t),{args:n,keys:r}=KL(t),i=new Mn(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let d=0;d<s;d++){let p=!1;ls(n[d]).subscribe(ft(o,_=>{p||(p=!0,u--),a[d]=_},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?QL(r,a):a),o.complete())}))}});return e?i.pipe(hA(e)):i}(g2(n,e).map(p2)).pipe(Et(m2))}}function zA(t){return null!=t?y2(_2(t)):null}function I2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function E2(t){return t._rawValidators}function b2(t){return t._rawAsyncValidators}function HA(t){return t?Array.isArray(t)?t:[t]:[]}function TI(t,e){return Array.isArray(t)?t.includes(e):t===e}function C2(t,e){const n=HA(e);return HA(t).forEach(i=>{TI(n,i)||n.push(i)}),n}function w2(t,e){return HA(e).filter(n=>!TI(t,n))}class T2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Qo extends T2{get formDirective(){return null}get path(){return null}}class $l extends T2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class A2{constructor(e){this._cd=e}get isTouched(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.touched)}get isUntouched(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.untouched)}get isPristine(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.pristine)}get isDirty(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.dirty)}get isValid(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.valid)}get isInvalid(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.invalid)}get isPending(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let rd=(()=>{var t;class e extends A2{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(T($l,2))},t.\u0275dir=Yt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&ws("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ln]}),e})(),id=(()=>{var t;class e extends A2{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Qo,10))},t.\u0275dir=Yt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&ws("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ln]}),e})();const Gg="VALID",DI="INVALID",Af="PENDING",qg="DISABLED";function WA(t){return(SI(t)?t.validators:t)||null}function KA(t,e){return(SI(e)?e.asyncValidators:t)||null}function SI(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function S2(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new he(1e3,"");if(!r[n])throw new he(1001,"")}function R2(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new he(1002,"")})}class RI{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gg}get invalid(){return this.status===DI}get pending(){return this.status==Af}get disabled(){return this.status===qg}get enabled(){return this.status!==qg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(C2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(C2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(w2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(w2(e,this._rawAsyncValidators))}hasValidator(e){return TI(this._rawValidators,e)}hasAsyncValidator(e){return TI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Af,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=qg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Gg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gg||this.status===Af)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qg:Gg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Af,this._hasOwnPendingAsyncValidator=!0;const n=p2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pr,this.statusChanges=new Pr}_calculateStatus(){return this._allControlsDisabled()?qg:this.errors?DI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Af)?Af:this._anyControlsHaveStatus(DI)?DI:Gg}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){SI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Wee(t){return Array.isArray(t)?jA(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Kee(t){return Array.isArray(t)?zA(t):t||null}(this._rawAsyncValidators)}}class Wg extends RI{constructor(e,n,r){super(WA(n),KA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){R2(this,0,e),Object.keys(e).forEach(r=>{S2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class P2 extends Wg{}const od=new yt("CallSetDisabledState",{providedIn:"root",factory:()=>Kg}),Kg="always";function PI(t,e){return[...e.path,t]}function Qg(t,e,n=Kg){var r,i;QA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&(null===(r=(i=e.valueAccessor).setDisabledState)||void 0===r||r.call(i,t.disabled)),function Yee(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&M2(t,e)})}(t,e),function Zee(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Xee(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&M2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Qee(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function MI(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),NI(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function xI(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function QA(t,e){const n=E2(t);null!==e.validator?t.setValidators(I2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=b2(t);null!==e.asyncValidator?t.setAsyncValidators(I2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();xI(e._rawValidators,i),xI(e._rawAsyncValidators,i)}function NI(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=E2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=b2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return xI(e._rawValidators,r),xI(e._rawAsyncValidators,r),n}function M2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function x2(t,e){QA(t,e)}function XA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function N2(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ZA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Hg?n=o:function tte(t){return Object.getPrototypeOf(t.constructor)===nd}(o)?r=o:i=o}),i||r||n||null}const rte={provide:Qo,useExisting:pr(()=>Df)},Yg=Promise.resolve();let Df=(()=>{var t;class e extends Qo{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pr,this.form=new Wg({},jA(r),zA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Yg.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Qg(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Yg.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Yg.then(()=>{const i=this._findContainer(r.path),o=new Wg({});x2(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Yg.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Yg.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){var i;return this.submitted=!0,N2(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===(null==r||null===(i=r.target)||void 0===i?void 0:i.method)}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(T(to,10),T(Bu,10),T(od,8))},t.\u0275dir=Yt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Nt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[wr.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[br([rte]),Ln]}),e})();function k2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function O2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Xg=class extends RI{constructor(e=null,n,r){super(WA(n),KA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),SI(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=O2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){k2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){k2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){O2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ste={provide:$l,useExisting:pr(()=>Zg)},V2=Promise.resolve();let Zg=(()=>{var t;class e extends $l{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Xg,this._registered=!1,this.name="",this.update=new Pr,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ZA(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),XA(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){V2.then(()=>{var i;this.control.setValue(r,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&cf(i);V2.then(()=>{var s;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(r){return this._parent?PI(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Qo,9),T(to,10),T(Bu,10),T(us,10),T(Ct,8),T(od,8))},t.\u0275dir=Yt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[wr.None,"disabled","isDisabled"],model:[wr.None,"ngModel","model"],options:[wr.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[br([ste]),Ln,co]}),e})(),sd=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Yt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const JA=new yt(""),hte={provide:Qo,useExisting:pr(()=>Sf)};let Sf=(()=>{var t;class e extends Qo{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pr,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(NI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return Qg(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){MI(r.control||null,r,!1),function nte(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){var i;return this.submitted=!0,N2(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===(null==r||null===(i=r.target)||void 0===i?void 0:i.method)}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,o=this.form.get(r.path);i!==o&&(MI(i||null,r),(t=>t instanceof Xg)(o)&&(Qg(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);x2(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function Jee(t,e){return NI(t,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QA(this.form,this),this._oldForm&&NI(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(T(to,10),T(Bu,10),T(od,8))},t.\u0275dir=Yt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Nt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[wr.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[br([hte]),Ln,co]}),e})();const mte={provide:$l,useExisting:pr(()=>Jg)};let Jg=(()=>{var t;class e extends $l{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Pr,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ZA(0,s)}ngOnChanges(r){this._added||this._setUpControl(),XA(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return PI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(T(Qo,13),T(to,10),T(Bu,10),T(us,10),T(JA,8))},t.\u0275dir=Yt({type:t,selectors:[["","formControlName",""]],inputs:{name:[wr.None,"formControlName","name"],isDisabled:[wr.None,"disabled","isDisabled"],model:[wr.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[br([mte]),Ln,co]}),e})();function W2(t){return"number"==typeof t?t:parseFloat(t)}let ad=(()=>{var t;class e{constructor(){this._validator=wI}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):wI,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Yt({type:t,features:[co]}),e})();const bte={provide:to,useExisting:pr(()=>iD),multi:!0};let iD=(()=>{var t;class e extends ad{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>W2(r),this.createValidator=r=>s2(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275dir=Yt({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&So("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[br([bte]),Ln]}),e})();const Cte={provide:to,useExisting:pr(()=>oD),multi:!0};let oD=(()=>{var t;class e extends ad{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>W2(r),this.createValidator=r=>o2(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275dir=Yt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&So("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[br([Cte]),Ln]}),e})();const wte={provide:to,useExisting:pr(()=>Rf),multi:!0};let Rf=(()=>{var t;class e extends ad{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=cf,this.createValidator=r=>a2}enabled(r){return r}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275dir=Yt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&So("required",i._enabled?"":null)},inputs:{required:"required"},features:[br([wte]),Ln]}),e})();const Ate={provide:to,useExisting:pr(()=>e_),multi:!0};let e_=(()=>{var t;class e extends ad{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=cf,this.createValidator=r=>u2}enabled(r){return r}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275dir=Yt({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[br([Ate]),Ln]}),e})(),Z2=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=xi({}),e})();class J2 extends RI{constructor(e,n,r){super(WA(n),KA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){R2(this,0,e),e.forEach((r,i)=>{S2(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){var n;return null!==(n=this.at(e))&&void 0!==n?n:null}}function e$(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let sD=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,i=null){const o=this._reduceControls(r);let s={};return e$(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Wg(o,s)}record(r,i=null){const o=this._reduceControls(r);return new P2(o,i)}control(r,i,o){let s={};return this.useNonNullable?(e$(i)?s=i:(s.validators=i,s.asyncValidators=o),new Xg(r,{...s,nonNullable:!0})):new Xg(r,i,o)}array(r,i,o){const s=r.map(a=>this._createControl(a));return new J2(s,i,o)}_reduceControls(r){const i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){return r instanceof Xg||r instanceof RI?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Pte=(()=>{var t;class e{static withConfig(r){var i;return{ngModule:e,providers:[{provide:od,useValue:null!==(i=r.callSetDisabledState)&&void 0!==i?i:Kg}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=xi({imports:[Z2]}),e})(),Mte=(()=>{var t;class e{static withConfig(r){var i,o;return{ngModule:e,providers:[{provide:JA,useValue:null!==(i=r.warnOnNgModelWithFormControl)&&void 0!==i?i:"always"},{provide:od,useValue:null!==(o=r.callSetDisabledState)&&void 0!==o?o:Kg}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=xi({imports:[Z2]}),e})();var Dn=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Dn||{});const Bl="*";function xte(t,e){return{type:Dn.Trigger,name:t,definitions:e,options:{}}}function t$(t,e=null){return{type:Dn.Animate,styles:e,timings:t}}function t_(t){return{type:Dn.Style,styles:t,offset:null}}function aD(t,e,n){return{type:Dn.State,name:t,styles:e,options:n}}function n$(t,e,n=null){return{type:Dn.Transition,expr:t,animation:e,options:n}}class n_{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class r${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function s$(t){return new he(3e3,!1)}function Uu(t){switch(t.length){case 0:return new n_;case 1:return t[0];default:return new r$(t)}}function a$(t,e,n=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const u=l.get("offset"),d=u==s,p=d&&a||new Map;l.forEach((_,I)=>{let A=I,x=_;if("offset"!==I)switch(A=t.normalizePropertyName(A,i),x){case"!":x=n.get(I);break;case Bl:x=r.get(I);break;default:x=t.normalizeStyleValue(I,A,x,i)}p.set(A,x)}),d||o.push(p),a=p,s=u}),i.length)throw function sne(t){return new he(3502,!1)}();return o}function uD(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&cD(n,"start",t)));break;case"done":t.onDone(()=>r(n&&cD(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&cD(n,"destroy",t)))}}function cD(t,e,n){const r=n.totalTime,o=dD(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(o._data=s),o}function dD(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ps(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function l$(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const vne=typeof document>"u"?null:document.documentElement;function hD(t){const e=t.parentNode||t.host||null;return e===vne?null:e}let ld=null,u$=!1;function c$(t,e){for(;e;){if(e===t)return!0;e=hD(e)}return!1}function d$(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let fD=(()=>{var t;class e{validateStyleProperty(r){return function Ine(t){ld||(ld=function Ene(){return typeof document<"u"?document.body:null}()||{},u$=!!ld.style&&"WebkitAppearance"in ld.style);let e=!0;return ld.style&&!function yne(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in ld.style,!e&&u$&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in ld.style)),e}(r)}matchesElement(r,i){return!1}containsElement(r,i){return c$(r,i)}getParentElement(r){return hD(r)}query(r,i,o){return d$(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,l=[],u){return new n_(o,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();class kI{}kI.NOOP=new fD;class pD{}const Cne=1e3,mD="ng-enter",OI="ng-leave",FI="ng-trigger",LI=".ng-trigger",f$="ng-animating",gD=".ng-animating";function Ul(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_D(parseFloat(e[1]),e[2])}function _D(t,e){return"s"===e?t*Cne:t}function VI(t,e,n){return t.hasOwnProperty("duration")?t:function Tne(t,e,n){let i,o=0,s="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(s$()),{duration:0,delay:0,easing:""};i=_D(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=_D(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(function Vte(){return new he(3100,!1)}()),a=!0),o<0&&(e.push(function $te(){return new he(3101,!1)}()),a=!0),a&&e.splice(l,0,s$())}return{duration:i,delay:o,easing:s}}(t,e,n)}function rl(t,e,n){e.forEach((r,i)=>{const o=yD(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function ud(t,e){e.forEach((n,r)=>{const i=yD(r);t.style[i]=""})}function r_(t){return Array.isArray(t)?1==t.length?t[0]:function Nte(t,e=null){return{type:Dn.Sequence,steps:t,options:e}}(t):t}const vD=new RegExp("{{\\s*(.+?)\\s*}}","g");function m$(t){let e=[];if("string"==typeof t){let n;for(;n=vD.exec(t);)e.push(n[1]);vD.lastIndex=0}return e}function i_(t,e,n){const r=`${t}`,i=r.replace(vD,(o,s)=>{let a=e[s];return null==a&&(n.push(function Ute(t){return new he(3003,!1)}()),a=""),a.toString()});return i==r?t:i}const Sne=/-+([a-z0-9])/g;function yD(t){return t.replace(Sne,(...e)=>e[1].toUpperCase())}function Ms(t,e,n){switch(e.type){case Dn.Trigger:return t.visitTrigger(e,n);case Dn.State:return t.visitState(e,n);case Dn.Transition:return t.visitTransition(e,n);case Dn.Sequence:return t.visitSequence(e,n);case Dn.Group:return t.visitGroup(e,n);case Dn.Animate:return t.visitAnimate(e,n);case Dn.Keyframes:return t.visitKeyframes(e,n);case Dn.Style:return t.visitStyle(e,n);case Dn.Reference:return t.visitReference(e,n);case Dn.AnimateChild:return t.visitAnimateChild(e,n);case Dn.AnimateRef:return t.visitAnimateRef(e,n);case Dn.Query:return t.visitQuery(e,n);case Dn.Stagger:return t.visitStagger(e,n);default:throw function jte(t){return new he(3004,!1)}()}}function ID(t,e){return window.getComputedStyle(t)[e]}const Mne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class g$ extends pD{normalizePropertyName(e,n){return yD(e)}normalizeStyleValue(e,n,r,i){let o="";const s=r.toString().trim();if(Mne.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function zte(t,e){return new he(3005,!1)}())}return s+o}}const $I="*";const BI=new Set(["true","1"]),UI=new Set(["false","0"]);function _$(t,e){const n=BI.has(t)||UI.has(t),r=BI.has(e)||UI.has(e);return(i,o)=>{let s=t==$I||t==i,a=e==$I||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?BI.has(t):UI.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?BI.has(e):UI.has(e)),s&&a}}const One=new RegExp("s*:selfs*,?","g");function ED(t,e,n,r){return new Fne(t).build(e,n,r)}class Fne{constructor(e){this._driver=e}build(e,n,r){const i=new $ne(n);return this._resetContextStyleTimingState(i),Ms(this,r_(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&n.errors.push(function Hte(){return new he(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Dn.State){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,n))}),l.name=u}else if(a.type==Dn.Transition){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,s.push(l)}else n.errors.push(function Gte(){return new he(3007,!1)}())}),{type:Dn.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{m$(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&n.errors.push(function qte(t,e){return new he(3008,!1)}(0,o.values()))}return{type:Dn.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=Ms(this,r_(e.animation),n),i=function xne(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Nne(t,e,n){if(":"==t[0]){const l=function kne(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function nne(t){return new he(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof l)return void e.push(l);t=l}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function tne(t){return new he(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(_$(i,s)),"<"==o[0]&&(i!=$I||s!=$I)&&e.push(_$(s,i))}(r,n,e)):n.push(t),n}(e.expr,n.errors);return{type:Dn.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:cd(e.options)}}visitSequence(e,n){return{type:Dn.Sequence,steps:e.steps.map(r=>Ms(this,r,n)),options:cd(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const o=e.steps.map(s=>{n.currentTime=r;const a=Ms(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:Dn.Group,steps:o,options:cd(e.options)}}visitAnimate(e,n){const r=function Une(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return bD(VI(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=bD(0,0,"");return o.dynamic=!0,o.strValue=n,o}const i=VI(n,e);return bD(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:t_({});if(o.type==Dn.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};r.easing&&(u.easing=r.easing),s=t_(u)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:Dn.Animate,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Bl?r.push(a):n.errors.push(new he(3002,!1)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:Dn.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const u=n.collectedStyles.get(n.currentQuerySelector),d=u.get(l);let p=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(n.errors.push(function Kte(t,e,n,r,i){return new he(3010,!1)}()),p=!1),o=d.startTime),p&&u.set(l,{startTime:o,endTime:i}),n.options&&function Dne(t,e,n){const r=e.params||{},i=m$(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(function Bte(t){return new he(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:Dn.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Qte(){return new he(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,u=0;const d=e.steps.map(U=>{const G=this._makeStyleAst(U,n);let me=null!=G.offset?G.offset:function Bne(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(G.styles),_e=0;return null!=me&&(o++,_e=G.offset=me),l=l||_e<0||_e>1,a=a||_e<u,u=_e,s.push(_e),G});l&&n.errors.push(function Yte(){return new he(3012,!1)}()),a&&n.errors.push(function Xte(){return new he(3200,!1)}());const p=e.steps.length;let _=0;o>0&&o<p?n.errors.push(function Zte(){return new he(3202,!1)}()):0==o&&(_=1/(p-1));const I=p-1,A=n.currentTime,x=n.currentAnimateTimings,V=x.duration;return d.forEach((U,G)=>{const me=_>0?G==I?1:_*G:s[G],_e=me*V;n.currentTime=A+x.delay+_e,x.duration=_e,this._validateStyleAst(U,n),U.offset=me,r.styles.push(U)}),r}visitReference(e,n){return{type:Dn.Reference,animation:Ms(this,r_(e.animation),n),options:cd(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Dn.AnimateChild,options:cd(e.options)}}visitAnimateRef(e,n){return{type:Dn.AnimateRef,animation:this.visitReference(e.animation,n),options:cd(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[o,s]=function Lne(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(One,"")),t=t.replace(/@\*/g,LI).replace(/@\w+/g,n=>LI+"-"+n.slice(1)).replace(/:animating/g,gD),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,Ps(n.collectedStyles,n.currentQuerySelector,new Map);const a=Ms(this,r_(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:Dn.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:cd(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function Jte(){return new he(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:VI(e.timings,n.errors,!0);return{type:Dn.Stagger,animation:Ms(this,r_(e.animation),n),timings:r,options:null}}}class $ne{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function cd(t){return t?(t={...t}).params&&(t.params=function Vne(t){return t?{...t}:null}(t.params)):t={},t}function bD(t,e,n){return{duration:t,delay:e,easing:n}}function CD(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class jI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Hne=new RegExp(":enter","g"),qne=new RegExp(":leave","g");function wD(t,e,n,r,i,o=new Map,s=new Map,a,l,u=[]){return(new Wne).buildKeyframes(t,e,n,r,i,o,s,a,l,u)}class Wne{buildKeyframes(e,n,r,i,o,s,a,l,u,d=[]){u=u||new jI;const p=new TD(e,n,u,i,o,d,[]);p.options=l;const _=l.delay?Ul(l.delay):0;p.currentTimeline.delayNextStep(_),p.currentTimeline.setStyles([s],null,p.errors,l),Ms(this,r,p);const I=p.timelines.filter(A=>A.containsAnimation());if(I.length&&a.size){let A;for(let x=I.length-1;x>=0;x--){const V=I[x];if(V.element===n){A=V;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([a],null,p.errors,l)}return I.length?I.map(A=>A.buildKeyframes()):[CD(n,[],[],[],0,_,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const o of e){const s=null==o?void 0:o.delay;if(s){var i;const a="number"==typeof s?s:Ul(i_(s,null!==(i=null==o?void 0:o.params)&&void 0!==i?i:{},n.errors));r.delayNextStep(a)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime;const s=null!=r.duration?Ul(r.duration):null,a=null!=r.delay?Ul(r.delay):null;return 0!==s&&e.forEach(l=>{const u=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Ms(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){i.previousNode.type==Dn.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zI);const s=Ul(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Ms(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ul(e.options.delay):0;e.steps.forEach(s=>{const a=n.createSubContext(e.options);o&&a.delayNextStep(o),Ms(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return VI(n.params?i_(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;o.type==Dn.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ul(i.delay):0;o&&(n.previousNode.type===Dn.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=zI);let s=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{n.currentQueryIndex=d;const p=n.createSubContext(e.options,u);o&&p.delayNextStep(o),u===n.element&&(l=p.currentTimeline),Ms(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1);let l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const d=n.currentTimeline;l&&d.delayNextStep(l);const p=d.currentTime;Ms(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}}const zI={};class TD{constructor(e,n,r,i,o,s,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new HI(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ul(r.duration)),null!=r.delay&&(i.delay=Ul(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=i_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,o=new TD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=zI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:null!=n?n:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},o=new Kne(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Hne,"."+this._enterClassName)).replace(qne,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&0==a.length&&s.push(function ene(t){return new he(3014,!1)}()),a}}class HI{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new HI(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Bl),this._currentKeyframe.set(n,Bl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const o=i&&i.params||{},s=function Qne(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){var o;null!==(o=r)&&void 0!==o||(r=e.keys());for(let s of r)n.set(s,Bl)}else for(let[s,a]of i)n.set(s,a)}),n}(e,this._globalTimelineStyles);for(let[l,u]of s){const d=i_(u,o,r);var a;this._pendingStyles.set(l,d),this._localTimelineStyles.has(l)||this._backFill.set(l,null!==(a=this._globalTimelineStyles.get(l))&&void 0!==a?a:Bl),this._updateStyle(l,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=new Map([...this._backFill,...a]);u.forEach((d,p)=>{"!"===d?e.add(p):d===Bl&&n.add(p)}),r||u.set("offset",l/this.duration),i.push(u)});const o=[...e.values()],s=[...n.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return CD(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class Kne extends HI{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=r+n,a=n/s,l=new Map(e[0]);l.set("offset",0),o.push(l);const u=new Map(e[0]);u.set("offset",I$(a)),o.push(u);const d=e.length-1;for(let p=1;p<=d;p++){let _=new Map(e[p]);const I=_.get("offset");_.set("offset",I$((n+I*r)/s)),o.push(_)}r=s,n=0,i="",e=o}return CD(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function I$(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}function E$(t,e,n,r,i,o,s,a,l,u,d,p,_){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:p,errors:_}}const AD={};class b${constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function Yne(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(null==e?void 0:e.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,l,u,d){var p;const _=[],I=this.ast.options&&this.ast.options.params||AD,x=this.buildStyles(r,a&&a.params||AD,_),V=l&&l.params||AD,U=this.buildStyles(i,V,_),G=new Set,me=new Map,_e=new Map,tt="void"===i,_t={params:C$(V,I),delay:null===(p=this.ast.options)||void 0===p?void 0:p.delay},Q=d?[]:wD(e,n,this.ast.animation,o,s,x,U,_t,u,_);let $=0;return Q.forEach(W=>{$=Math.max(W.duration+W.delay,$)}),_.length?E$(n,this._triggerName,r,i,tt,x,U,[],[],me,_e,$,_):(Q.forEach(W=>{const ee=W.element,de=Ps(me,ee,new Set);W.preStyleProps.forEach(Y=>de.add(Y));const be=Ps(_e,ee,new Set);W.postStyleProps.forEach(Y=>be.add(Y)),ee!==n&&G.add(ee)}),E$(n,this._triggerName,r,i,tt,x,U,Q,[...G.values()],me,_e,$))}}function C$(t,e){const n={...e};return Object.entries(t).forEach(([r,i])=>{null!=i&&(n[r]=i)}),n}class Xne{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=C$(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=i_(s,i,n));const l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),r.set(a,s)})}),r}}class Jne{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new Xne(i.style,i.options&&i.options.params||{},r))}),w$(this.states,"true","1"),w$(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new b$(e,i,this.states))}),this.fallbackTransition=function ere(t,e,n){return new b$(t,{type:Dn.Transition,animation:{type:Dn.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function w$(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const tre=new jI;class nre{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],o=ED(this._driver,n,r,[]);if(r.length)throw function ane(t){return new he(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,n,r){const i=e.element,o=a$(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=wD(this._driver,n,o,mD,OI,new Map,new Map,r,tre,i),s.forEach(d=>{const p=Ps(a,d.element,new Map);d.postStyleProps.forEach(_=>p.set(_,null))})):(i.push(function lne(){return new he(3300,!1)}()),s=[]),i.length)throw function une(t){return new he(3504,!1)}();a.forEach((d,p)=>{d.forEach((_,I)=>{d.set(I,this._driver.computeStyle(p,I,Bl))})});const u=Uu(s.map(d=>{const p=a.get(d.element);return this._buildPlayer(d,new Map,p)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function cne(t){return new he(3301,!1)}();return n}listen(e,n,r,i){const o=dD(n,"","","");return uD(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const T$="ng-animate-queued",DD="ng-animate-disabled",are=[],A$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ta="__ng_removed";class SD{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function hre(t){return null!=t?t:null}(r?e.value:e),r){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const o_="void",RD=new SD(o_);class ure{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zs(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function dne(t,e){return new he(3302,!1)}();if(null==r||0==r.length)throw function hne(t){return new he(3303,!1)}();if(!function fre(t){return"start"==t||"done"==t}(r))throw function fne(t,e){return new he(3400,!1)}();const o=Ps(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);const a=Ps(this._engine.statesByElement,e,new Map);return a.has(n)||(Zs(e,FI),Zs(e,FI+"-"+n),a.set(n,RD)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function pne(t){return new he(3401,!1)}();return n}trigger(e,n,r,i=!0){const o=this._getTrigger(n),s=new PD(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Zs(e,FI),Zs(e,FI+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n);const u=new SD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(n,u),l||(l=RD),u.value!==o_&&l.value===u.value){if(!function gre(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(l.params,u.params)){const x=[],V=o.matchStyles(l.value,l.params,x),U=o.matchStyles(u.value,u.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{ud(e,V),rl(e,U)})}return}const _=Ps(this._engine.playersByElement,e,[]);_.forEach(x=>{x.namespaceId==this.id&&x.triggerName==n&&x.queued&&x.destroy()});let I=o.matchTransition(l.value,u.value,e,u.params),A=!1;if(!I){if(!i)return;I=o.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:I,fromState:l,toState:u,player:s,isFallbackTransition:A}),A||(Zs(e,T$),s.onStart(()=>{Pf(e,T$)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);const V=this._engine.playersByElement.get(e);if(V){let U=V.indexOf(s);U>=0&&V.splice(U,1)}}),this.players.push(s),_.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,LI,!0);r.forEach(i=>{if(i[Ta])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){const d=this.trigger(e,u,o_,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&Uu(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,u=r.get(s)||RD,d=new SD(o_),p=new PD(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:d,player:p,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const o=e[Ta];(!o||o===A$)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Zs(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=dD(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,uD(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class cre{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new ure(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}return n}trigger(e,n,r,i){if(GI(n)){const o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!GI(n))return;const o=n[Ta];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zs(e,DD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pf(e,DD))}removeNode(e,n,r){if(GI(n)){var i;null===(i=this.scheduler)||void 0===i||i.notify();const o=e?this._fetchNamespace(e):null;o?o.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[Ta]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return GI(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,LI,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,gD,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Uu(this.players).onDone(()=>e());e()})}processLeaveNode(e){var n;const r=e[Ta];if(r&&r.setForRemoval){if(e[Ta]=A$,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}null!==(n=e.classList)&&void 0!==n&&n.contains(DD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Zs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Uu(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function mne(t){return new he(3402,!1)}()}_flushAnimations(e,n){const r=new jI,i=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(Xt=>{d.add(Xt);const ln=this.driver.query(Xt,".ng-animate-queued",!0);for(let _n=0;_n<ln.length;_n++)d.add(ln[_n])});const p=this.bodyNode,_=Array.from(this.statesByElement.keys()),I=R$(_,this.collectedEnterElements),A=new Map;let x=0;I.forEach((Xt,ln)=>{const _n=mD+x++;A.set(ln,_n),Xt.forEach(Gn=>Zs(Gn,_n))});const V=[],U=new Set,G=new Set;for(let Xt=0;Xt<this.collectedLeaveElements.length;Xt++){const ln=this.collectedLeaveElements[Xt],_n=ln[Ta];_n&&_n.setForRemoval&&(V.push(ln),U.add(ln),_n.hasAnimation?this.driver.query(ln,".ng-star-inserted",!0).forEach(Gn=>U.add(Gn)):G.add(ln))}const me=new Map,_e=R$(_,Array.from(U));_e.forEach((Xt,ln)=>{const _n=OI+x++;me.set(ln,_n),Xt.forEach(Gn=>Zs(Gn,_n))}),e.push(()=>{I.forEach((Xt,ln)=>{const _n=A.get(ln);Xt.forEach(Gn=>Pf(Gn,_n))}),_e.forEach((Xt,ln)=>{const _n=me.get(ln);Xt.forEach(Gn=>Pf(Gn,_n))}),V.forEach(Xt=>{this.processLeaveNode(Xt)})});const tt=[],_t=[];for(let Xt=this._namespaceList.length-1;Xt>=0;Xt--)this._namespaceList[Xt].drainQueuedTransitions(n).forEach(_n=>{const Gn=_n.player,Xr=_n.element;if(tt.push(Gn),this.collectedEnterElements.length){const vi=Xr[Ta];if(vi&&vi.setForMove){if(vi.previousTriggersValues&&vi.previousTriggersValues.has(_n.triggerName)){const nu=vi.previousTriggersValues.get(_n.triggerName),fs=this.statesByElement.get(_n.element);if(fs&&fs.has(_n.triggerName)){const ru=fs.get(_n.triggerName);ru.value=nu,fs.set(_n.triggerName,ru)}}return void Gn.destroy()}}const ta=!p||!this.driver.containsElement(p,Xr),_i=me.get(Xr),Zr=A.get(Xr),Jr=this._buildInstruction(_n,r,Zr,_i,ta);if(Jr.errors&&Jr.errors.length)return void _t.push(Jr);if(ta)return Gn.onStart(()=>ud(Xr,Jr.fromStyles)),Gn.onDestroy(()=>rl(Xr,Jr.toStyles)),void i.push(Gn);if(_n.isFallbackTransition)return Gn.onStart(()=>ud(Xr,Jr.fromStyles)),Gn.onDestroy(()=>rl(Xr,Jr.toStyles)),void i.push(Gn);const cc=[];Jr.timelines.forEach(vi=>{vi.stretchStartingKeyframe=!0,this.disabledNodes.has(vi.element)||cc.push(vi)}),Jr.timelines=cc,r.append(Xr,Jr.timelines),s.push({instruction:Jr,player:Gn,element:Xr}),Jr.queriedElements.forEach(vi=>Ps(a,vi,[]).push(Gn)),Jr.preStyleProps.forEach((vi,nu)=>{if(vi.size){let fs=l.get(nu);fs||l.set(nu,fs=new Set),vi.forEach((ru,dc)=>fs.add(dc))}}),Jr.postStyleProps.forEach((vi,nu)=>{let fs=u.get(nu);fs||u.set(nu,fs=new Set),vi.forEach((ru,dc)=>fs.add(dc))})});if(_t.length){const Xt=[];_t.forEach(ln=>{Xt.push(function gne(t,e){return new he(3505,!1)}())}),tt.forEach(ln=>ln.destroy()),this.reportError(Xt)}const Q=new Map,$=new Map;s.forEach(Xt=>{const ln=Xt.element;r.has(ln)&&($.set(ln,ln),this._beforeAnimationBuild(Xt.player.namespaceId,Xt.instruction,Q))}),i.forEach(Xt=>{const ln=Xt.element;this._getPreviousPlayers(ln,!1,Xt.namespaceId,Xt.triggerName,null).forEach(Gn=>{Ps(Q,ln,[]).push(Gn),Gn.destroy()})});const W=V.filter(Xt=>M$(Xt,l,u)),ee=new Map;S$(ee,this.driver,G,u,Bl).forEach(Xt=>{M$(Xt,l,u)&&W.push(Xt)});const be=new Map;I.forEach((Xt,ln)=>{S$(be,this.driver,new Set(Xt),l,"!")}),W.forEach(Xt=>{var ln,_n;const Gn=ee.get(Xt),Xr=be.get(Xt);ee.set(Xt,new Map([...null!==(ln=null==Gn?void 0:Gn.entries())&&void 0!==ln?ln:[],...null!==(_n=null==Xr?void 0:Xr.entries())&&void 0!==_n?_n:[]]))});const Y=[],ea=[],uc={};s.forEach(Xt=>{const{element:ln,player:_n,instruction:Gn}=Xt;if(r.has(ln)){if(d.has(ln))return _n.onDestroy(()=>rl(ln,Gn.toStyles)),_n.disabled=!0,_n.overrideTotalTime(Gn.totalTime),void i.push(_n);let Xr=uc;if($.size>1){let _i=ln;const Zr=[];for(;_i=_i.parentNode;){const Jr=$.get(_i);if(Jr){Xr=Jr;break}Zr.push(_i)}Zr.forEach(Jr=>$.set(Jr,Xr))}const ta=this._buildAnimation(_n.namespaceId,Gn,Q,o,be,ee);if(_n.setRealPlayer(ta),Xr===uc)Y.push(_n);else{const _i=this.playersByElement.get(Xr);_i&&_i.length&&(_n.parentPlayer=Uu(_i)),i.push(_n)}}else ud(ln,Gn.fromStyles),_n.onDestroy(()=>rl(ln,Gn.toStyles)),ea.push(_n),d.has(ln)&&i.push(_n)}),ea.forEach(Xt=>{const ln=o.get(Xt.element);if(ln&&ln.length){const _n=Uu(ln);Xt.setRealPlayer(_n)}}),i.forEach(Xt=>{Xt.parentPlayer?Xt.syncPlayerEvents(Xt.parentPlayer):Xt.destroy()});for(let Xt=0;Xt<V.length;Xt++){const ln=V[Xt],_n=ln[Ta];if(Pf(ln,OI),_n&&_n.hasAnimation)continue;let Gn=[];if(a.size){let ta=a.get(ln);ta&&ta.length&&Gn.push(...ta);let _i=this.driver.query(ln,gD,!0);for(let Zr=0;Zr<_i.length;Zr++){let Jr=a.get(_i[Zr]);Jr&&Jr.length&&Gn.push(...Jr)}}const Xr=Gn.filter(ta=>!ta.destroyed);Xr.length?pre(this,ln,Xr):this.processLeaveNode(ln)}return V.length=0,Y.forEach(Xt=>{this.players.push(Xt),Xt.onDone(()=>{Xt.destroy();const ln=this.players.indexOf(Xt);this.players.splice(ln,1)}),Xt.play()}),Y}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==o_;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){const o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const u=l.element,d=u!==o,p=Ps(r,u,[]);this._getPreviousPlayers(u,d,s,a,n.toState).forEach(I=>{const A=I.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),I.destroy(),p.push(I)})}ud(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){const a=n.triggerName,l=n.element,u=[],d=new Set,p=new Set,_=n.timelines.map(A=>{const x=A.element;d.add(x);const V=x[Ta];if(V&&V.removedBeforeQueried)return new n_(A.duration,A.delay);const U=x!==l,G=function mre(t){const e=[];return P$(t,e),e}((r.get(x)||are).map(Q=>Q.getRealPlayer())).filter(Q=>!!Q.element&&Q.element===x),me=o.get(x),_e=s.get(x),tt=a$(this._normalizer,A.keyframes,me,_e),_t=this._buildPlayer(A,tt,G);if(A.subTimeline&&i&&p.add(x),U){const Q=new PD(e,a,x);Q.setRealPlayer(_t),u.push(Q)}return _t});u.forEach(A=>{Ps(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function dre(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,A.element,A))}),d.forEach(A=>Zs(A,f$));const I=Uu(_);return I.onDestroy(()=>{d.forEach(A=>Pf(A,f$)),rl(l,n.toStyles)}),p.forEach(A=>{Ps(i,A,[]).push(I)}),I}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new n_(e.duration,e.delay)}}class PD{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new n_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>uD(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Ps(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function GI(t){return t&&1===t.nodeType}function D$(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function S$(t,e,n,r,i){const o=[];n.forEach(l=>o.push(D$(l)));const s=[];r.forEach((l,u)=>{const d=new Map;l.forEach(p=>{const _=e.computeStyle(u,p,i);d.set(p,_),(!_||0==_.length)&&(u[Ta]=lre,s.push(u))}),t.set(u,d)});let a=0;return n.forEach(l=>D$(l,o[a++])),s}function R$(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=n.has(u)?u:i.has(u)?1:s(u),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&n.get(l).push(a)}),n}function Zs(t,e){var n;null===(n=t.classList)||void 0===n||n.add(e)}function Pf(t,e){var n;null===(n=t.classList)||void 0===n||n.remove(e)}function pre(t,e,n){Uu(n).onDone(()=>t.processLeaveNode(e))}function P$(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof r$?P$(r.players,e):e.push(r)}}function M$(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}class s_{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new cre(e.body,n,r,i),this._timelineEngine=new nre(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],d=ED(this._driver,o,l,[]);if(l.length)throw function one(t,e){return new he(3404,!1)}();a=function Zne(t,e,n){return new Jne(t,e,n)}(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[o,s]=l$(r);this._timelineEngine.command(o,n,s,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if("@"==r.charAt(0)){const[s,a]=l$(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class Mf{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Mf.initialStylesByElement.get(e);i||Mf.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&rl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rl(this._element,this._initialStyles),this._endStyles&&(rl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Mf.initialStylesByElement.delete(this._element),this._startStyles&&(ud(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ud(this._element,this._endStyles),this._endStyles=null),rl(this._element,this._initialStyles),this._state=3)}}function MD(t){let e=null;return t.forEach((n,r)=>{(function vre(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}Mf.initialStylesByElement=new WeakMap;class x${constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){var e;return+(null!==(e=this.domPlayer.currentTime)&&void 0!==e?e:0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:ID(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class N${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return c$(e,n)}getParentElement(e){return hD(e)}query(e,n,r){return d$(e,n,r)}computeStyle(e,n,r){return ID(e,n)}animate(e,n,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const u=new Map,d=s.filter(I=>I instanceof x$);(function Rne(t,e){return 0===t||0===e})(r,i)&&d.forEach(I=>{I.currentSnapshot.forEach((A,x)=>u.set(x,A))});let p=function Ane(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}(n).map(I=>new Map(I));p=function Pne(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,ID(t,a)))}}return e}(e,p,u);const _=function _re(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=MD(e[0]),e.length>1&&(r=MD(e[e.length-1]))):e instanceof Map&&(n=MD(e)),n||r?new Mf(t,n,r):null}(e,p);return new x$(e,p,l,_)}}const k$="@.disabled";class O${constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){var n,r;null===(n=(r=this.delegate).destroyNode)||void 0===n||n.call(r,e)}destroy(){var e;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),null===(e=this._onDestroy)||void 0===e||e.call(this)}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==k$?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class yre extends O${constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==k$?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function Ire(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=n.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Ere(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}class bre{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{const s=null==o?void 0:o.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){var r;const o=this.delegate.createRenderer(e,n);if(!e||null==n||null===(r=n.data)||void 0===r||!r.animation){const d=this._rendererCache;let p=d.get(o);return p||(p=new O$("",o,this.engine,()=>d.delete(o)),d.set(o,p)),p}const s=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(s,a,e,d.name,d)};return n.data.animation.forEach(l),new yre(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>n(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const F$=[{provide:pD,useFactory:function wre(){return new g$}},{provide:s_,useClass:(()=>{var t;class e extends s_{constructor(r,i,o){super(r,i,o,Je(o0,{optional:!0}))}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(eo),Qe(kI),Qe(pD))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})()},{provide:Iw,useFactory:function Tre(t,e,n){return new bre(t,e,n)},deps:[aA,s_,je]}],xD=[{provide:kI,useFactory:()=>new N$},{provide:p1,useValue:"BrowserAnimations"},...F$],L$=[{provide:kI,useClass:fD},{provide:p1,useValue:"NoopAnimations"},...F$];let Are=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?L$:xD}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=xi({providers:xD,imports:[xL]}),e})();function a_(t){return(a_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function v(t,e,n){return(e=function Sre(t){var e=function Dre(t,e){if("object"!=a_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a_(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V$=fe(5531),l_=fe(4442);const Fre=["addListener","removeListener"],Lre=["addEventListener","removeEventListener"],Vre=["on","off"];function WI(t,e,n,r){if(Ut(n)&&(r=n,n=void 0),r)return WI(t,e,n).pipe(hA(r));const[i,o]=function Ure(t){return Ut(t.addEventListener)&&Ut(t.removeEventListener)}(t)?Lre.map(s=>a=>t[s](e,a,n)):function $re(t){return Ut(t.addListener)&&Ut(t.removeListener)}(t)?Fre.map($$(t,e)):function Bre(t){return Ut(t.on)&&Ut(t.off)}(t)?Vre.map($$(t,e)):[];if(!i&&cA(t))return ho(s=>WI(s,e,n))(ls(t));if(!i)throw new TypeError("Invalid event target");return new Mn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function $$(t,e){return n=>r=>t[n](e,r)}function B$(t,e=ti){return t=null!=t?t:jre,Re((n,r)=>{let i,o=!0;n.subscribe(ft(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function jre(t,e){return t===e}class Hre{constructor(e){v(this,"menuController",void 0),this.menuController=e}open(e){return this.menuController.open(e)}close(e){return this.menuController.close(e)}toggle(e){return this.menuController.toggle(e)}enable(e,n){return this.menuController.enable(e,n)}swipeGesture(e,n){return this.menuController.swipeGesture(e,n)}isOpen(e){return this.menuController.isOpen(e)}isEnabled(e){return this.menuController.isEnabled(e)}get(e){return this.menuController.get(e)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(e,n){return this.menuController.registerAnimation(e,n)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(e,n){return this.menuController._createAnimation(e,n)}_register(e){return this.menuController._register(e)}_unregister(e){return this.menuController._unregister(e)}_setOpen(e,n,r){return this.menuController._setOpen(e,n,r)}}let Gre=(()=>{var t;class e{constructor(r,i){v(this,"doc",void 0),v(this,"_readyPromise",void 0),v(this,"win",void 0),v(this,"backButton",new M),v(this,"keyboardDidShow",new M),v(this,"keyboardDidHide",new M),v(this,"pause",new M),v(this,"resume",new M),v(this,"resize",new M),this.doc=r,i.run(()=>{var o;let s;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(a,l){return this.subscribe(u=>u.register(a,d=>i.run(()=>l(d))))},xf(this.pause,r,"pause",i),xf(this.resume,r,"resume",i),xf(this.backButton,r,"ionBackButton",i),xf(this.resize,this.win,"resize",i),xf(this.keyboardDidShow,this.win,"ionKeyboardDidShow",i),xf(this.keyboardDidHide,this.win,"ionKeyboardDidHide",i),this._readyPromise=new Promise(a=>{s=a}),null!==(o=this.win)&&void 0!==o&&o.cordova?r.addEventListener("deviceready",()=>{s("cordova")},{once:!0}):s("dom")})}is(r){return(0,V$.a)(this.win,r)}platforms(){return(0,V$.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return qre(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){var r,i;return null===(r=(i=this.win).matchMedia)||void 0===r?void 0:r.call(i,"(orientation: portrait)").matches}testUserAgent(r){const i=this.win.navigator;return!!(null!=i&&i.userAgent&&i.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(eo),Qe(je))}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();const qre=(t,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},xf=(t,e,n,r)=>{e&&e.addEventListener(n,i=>{r.run(()=>{t.next(null!=i?i.detail:void 0)})})};let Nf=(()=>{var t;class e{constructor(r,i,o,s){v(this,"location",void 0),v(this,"serializer",void 0),v(this,"router",void 0),v(this,"topOutlet",void 0),v(this,"direction",U$),v(this,"animated",j$),v(this,"animationBuilder",void 0),v(this,"guessDirection","forward"),v(this,"guessAnimation",void 0),v(this,"lastNavId",-1),this.location=i,this.serializer=o,this.router=s,s&&s.events.subscribe(a=>{if(a instanceof Lg){const l=a.restoredState?a.restoredState.navigationId:a.id;this.guessDirection=this.guessAnimation=l<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?a.id:l}}),r.backButton.subscribeWithPriority(0,a=>{this.pop(),a()})}navigateForward(r,i={}){return this.setDirection("forward",i.animated,i.animationDirection,i.animation),this.navigate(r,i)}navigateBack(r,i={}){return this.setDirection("back",i.animated,i.animationDirection,i.animation),this.navigate(r,i)}navigateRoot(r,i={}){return this.setDirection("root",i.animated,i.animationDirection,i.animation),this.navigate(r,i)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,E.A)(function*(){let i=r.topOutlet;for(;i;){if(yield i.pop())return!0;i=i.parentOutlet}return!1})()}setDirection(r,i,o,s){this.direction=r,this.animated=Wre(r,i,o),this.animationBuilder=s}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let i,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,i=this.guessAnimation):(i=this.animated,r=this.direction),this.direction=U$,this.animated=j$,this.animationBuilder=void 0,{direction:r,animation:i,animationBuilder:o}}navigate(r,i){if(Array.isArray(r))return this.router.navigate(r,i);{const o=this.serializer.parse(r.toString());return void 0!==i.queryParams&&(o.queryParams={...i.queryParams}),void 0!==i.fragment&&(o.fragment=i.fragment),this.router.navigateByUrl(o,i)}}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(Gre),Qe(Ks),Qe(ed),Qe(zr,8))}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();const Wre=(t,e,n)=>{if(!1!==e){if(void 0!==n)return n;if("forward"===t||"back"===t)return t;if("root"===t&&!0===e)return"forward"}},U$="auto",j$=void 0;let ND=(()=>{var t;class e{get(r,i){const o=OD();return o?o.get(r,i):null}getBoolean(r,i){const o=OD();return!!o&&o.getBoolean(r,i)}getNumber(r,i){const o=OD();return o?o.getNumber(r,i):0}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();const kD=new yt("USERCONFIG"),OD=()=>{if(typeof window<"u"){const t=window.Ionic;if(null!=t&&t.config)return t.config}return null};class z${constructor(e={}){v(this,"data",void 0),this.data=e,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(e){return this.data[e]}}let u_=(()=>{var t;class e{constructor(){v(this,"zone",Je(je)),v(this,"applicationRef",Je(ya)),v(this,"config",Je(kD))}create(r,i,o){var s;return new Kre(r,i,this.applicationRef,this.zone,o,null!==(s=this.config.useSetInputAPI)&&void 0!==s&&s)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac})),e})();class Kre{constructor(e,n,r,i,o,s){v(this,"environmentInjector",void 0),v(this,"injector",void 0),v(this,"applicationRef",void 0),v(this,"zone",void 0),v(this,"elementReferenceKey",void 0),v(this,"enableSignalsSupport",void 0),v(this,"elRefMap",new WeakMap),v(this,"elEventsMap",new WeakMap),this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=o,this.enableSignalsSupport=s}attachViewToDom(e,n,r,i){return this.zone.run(()=>new Promise(o=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),o(Qre(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,s,i,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(e,n){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);const o=this.elEventsMap.get(n);o&&(o(),this.elEventsMap.delete(n))}r()}))}}const Qre=(t,e,n,r,i,o,s,a,l,u,d,p)=>{const I=function lQ(t,e){const n=xn(t),r=e.elementInjector||th();return new tg(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}(a,{environmentInjector:e,elementInjector:Tr.create({providers:Xre(l),parent:n})}),A=I.instance,x=I.location.nativeElement;if(l)if(d&&void 0!==A[d]&&console.error(`[Ionic Error]: ${d} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${d}" property from ${a.name}.`),!0===p&&void 0!==I.setInput){const{modal:U,popover:G,...me}=l;for(const _e in me)I.setInput(_e,me[_e]);void 0!==U&&Object.assign(A,{modal:U}),void 0!==G&&Object.assign(A,{popover:G})}else Object.assign(A,l);if(u)for(const U of u)x.classList.add(U);const V=H$(t,A,x);return s.appendChild(x),r.attachView(I.hostView),i.set(x,I),o.set(x,V),x},Yre=[l_.L,l_.a,l_.b,l_.c,l_.d],H$=(t,e,n)=>t.run(()=>{const r=Yre.filter(i=>"function"==typeof e[i]).map(i=>{const o=s=>e[i](s.detail);return n.addEventListener(i,o),()=>n.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),G$=new yt("NavParamsToken"),Xre=t=>[{provide:G$,useValue:t},{provide:z$,useFactory:Zre,deps:[G$]}],Zre=t=>new z$(t),Jre=(t,e)=>{const n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)}})})},eie=(t,e)=>{const n=t.prototype;e.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})};function KI(t){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=t;return void 0!==r&&r(),i&&Jre(n,i),o&&eie(n,o),n}}const iie=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],oie=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let sie=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"template",void 0),v(this,"isCmpOpen",!1),v(this,"el",void 0),this.z=o,this.el=i.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,r.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,r.detectChanges()}),((t,e,n)=>{n.forEach(r=>t[r]=WI(e,r))})(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275dir",Yt({type:t,selectors:[["ion-modal"]],contentQueries:function(r,i,o){if(1&r&&nf(o,ga,5),2&r){let s;Ts(s=As())&&(i.template=s.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),t);return e=(0,Tt.Cg)([KI({inputs:iie,methods:oie})],e),e})();const q$=(t,e)=>((t=t.filter(n=>n.stackId!==e.stackId)).push(e),t),LD=(t,e)=>{const n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},W$=(t,e)=>!e||t.stackId!==e.stackId,cie=(t,e)=>{if(!t)return;const n=K$(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},K$=t=>t.split("/").map(e=>e.trim()).filter(e=>""!==e),Q$=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class die{constructor(e,n,r,i,o,s){v(this,"containerEl",void 0),v(this,"router",void 0),v(this,"navCtrl",void 0),v(this,"zone",void 0),v(this,"location",void 0),v(this,"views",[]),v(this,"runningTask",void 0),v(this,"skipTransition",!1),v(this,"tabsPrefix",void 0),v(this,"activeView",void 0),v(this,"nextId",0),this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=o,this.location=s,this.tabsPrefix=void 0!==e?K$(e):void 0}createView(e,n){var r;const i=LD(this.router,n),o=null==e||null===(r=e.location)||void 0===r?void 0:r.nativeElement,s=H$(this.zone,e.instance,o);return{id:this.nextId++,stackId:cie(this.tabsPrefix,i),unlistenEvents:s,element:o,ref:e,url:i}}getExistingView(e){const n=LD(this.router,e),r=this.views.find(i=>i.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var n,r;const i=this.navCtrl.consumeTransition();let{direction:o,animation:s,animationBuilder:a}=i;const l=this.activeView,u=W$(e,l);u&&(o="back",s=void 0);const d=this.views.slice();let p;const _=this.router;_.getCurrentNavigation?p=_.getCurrentNavigation():null!==(n=_.navigations)&&void 0!==n&&n.value&&(p=_.navigations.value),null!==(r=p)&&void 0!==r&&null!==(r=r.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const I=this.views.includes(e),A=this.insertView(e,o);I||e.ref.changeDetectorRef.detectChanges();const x=e.animationBuilder;return void 0===a&&"back"===o&&!u&&void 0!==x&&(a=x),l&&(l.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(l&&l.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,l,s,this.canGoBack(1),!1,a).then(()=>hie(e,A,d,this.location,this.zone)).then(()=>({enteringView:e,direction:o,animation:s,tabSwitch:u})))))}canGoBack(e,n=this.getActiveStackId()){return this.getStack(n).length>e}pop(e,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=e)return Promise.resolve(!1);const i=r[r.length-e-1];let o=i.url;const s=i.savedData;if(s){var a;const u=s.get("primary");null!=u&&null!==(a=u.route)&&void 0!==a&&null!==(a=a._routerState)&&void 0!==a&&a.snapshot.url&&(o=u.route._routerState.snapshot.url)}const{animationBuilder:l}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(o,{...i.savedExtras,animation:l}).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const n=this.getStack(e.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Y$(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const n=this.getStack(e);return n.length>0?n[n.length-1]:void 0}getRootUrl(e){const n=this.getStack(e);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Q$),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(n=>n.stackId===e)}insertView(e,n){return this.activeView=e,this.views=((t,e,n)=>"root"===n?q$(t,e):"forward"===n?((t,e)=>(t.indexOf(e)>=0?t=t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):t.push(e),t))(t,e):((t,e)=>t.indexOf(e)>=0?t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):q$(t,e))(t,e))(this.views,e,n),this.views.slice()}transition(e,n,r,i,o,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===e)return Promise.resolve(!1);const a=e?e.element:void 0,l=n?n.element:void 0,u=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),u.commit)?u.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:o,animationBuilder:s}):Promise.resolve(!1)}wait(e){var n=this;return(0,E.A)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=e();return r.finally(()=>n.runningTask=void 0),r})()}}const hie=(t,e,n,r,i)=>"function"==typeof requestAnimationFrame?new Promise(o=>{requestAnimationFrame(()=>{Y$(t,e,n,r,i),o()})}):Promise.resolve(),Y$=(t,e,n,r,i)=>{i.run(()=>n.filter(o=>!e.includes(o)).forEach(Q$)),e.forEach(o=>{const a=r.path().split("?")[0].split("#")[0];if(o!==t&&o.url!==a){const l=o.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),o.ref.changeDetectorRef.detach()}})};let X$=(()=>{var t;class e{get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:i=>this.stackCtrl.endBackTransition(i)}:void 0}constructor(r,i,o,s,a,l,u,d){v(this,"parentOutlet",void 0),v(this,"nativeEl",void 0),v(this,"activatedView",null),v(this,"tabsPrefix",void 0),v(this,"_swipeGesture",void 0),v(this,"stackCtrl",void 0),v(this,"proxyMap",new WeakMap),v(this,"currentActivatedRoute$",new R(null)),v(this,"activated",null),v(this,"_activatedRoute",null),v(this,"name",Vn),v(this,"stackWillChange",new Pr),v(this,"stackDidChange",new Pr),v(this,"activateEvents",new Pr),v(this,"deactivateEvents",new Pr),v(this,"parentContexts",Je(td)),v(this,"location",Je(bs)),v(this,"environmentInjector",Je(ci)),v(this,"inputBinder",Je(Z$,{optional:!0})),v(this,"supportsBindingToComponentInputs",!0),v(this,"config",Je(ND)),v(this,"navCtrl",Je(Nf)),this.parentOutlet=d,this.nativeEl=s.nativeElement,this.name=r||Vn,this.tabsPrefix="true"===i?LD(a,u):void 0,this.stackCtrl=new die(this.tabsPrefix,this.nativeEl,a,this.navCtrl,l,o),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var r;this.stackCtrl.destroy(),null===(r=this.inputBinder)||void 0===r||r.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();null!=r&&r.route&&this.activateWith(r.route,r.injector)}new Promise(r=>((t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):(t=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t)})(()=>e(t))})(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,i){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const i=this.getContext();this.activatedView.savedData=new Map(i.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&i.route&&(o.route={...i.route}),this.activatedView.savedExtras={},i.route){const s=i.route.snapshot;this.activatedView.savedExtras.queryParams=s.queryParams,this.activatedView.savedExtras.fragment=s.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let s,a=this.stackCtrl.getExistingView(r);if(a){s=this.activated=a.ref;const d=a.savedData;d&&(this.getContext().children.contexts=d),this.updateActivatedRouteProxy(s.instance,r)}else{var l;const d=r._futureSnapshot,p=this.parentContexts.getOrCreateContext(this.name).children,_=new R(null),I=this.createActivatedRouteProxy(_,r),A=new fie(I,p,this.location.injector),x=null!==(l=d.routeConfig.component)&&void 0!==l?l:d.component;s=this.activated=this.outletContent.createComponent(x,{index:this.outletContent.length,injector:A,environmentInjector:null!=i?i:this.environmentInjector}),_.next(s.instance),a=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(s.instance,I),this.currentActivatedRoute$.next({component:s.instance,activatedRoute:r})}null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.activatedView=a,this.navCtrl.setTopOutlet(this);const u=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:a,tabSwitch:W$(a,u)}),this.stackCtrl.setActive(a).then(d=>{this.activateEvents.emit(s.instance),this.stackDidChange.emit(d)})}canGoBack(r=1,i){return this.stackCtrl.canGoBack(r,i)}pop(r=1,i){return this.stackCtrl.pop(r,i)}getLastUrl(r){const i=this.stackCtrl.getLastUrl(r);return i?i.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,i){const o=new el;return o._futureSnapshot=i._futureSnapshot,o._routerState=i._routerState,o.snapshot=i.snapshot,o.outlet=i.outlet,o.component=i.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,i){return r.pipe(Ss(o=>!!o),hi(o=>this.currentActivatedRoute$.pipe(Ss(s=>null!==s&&s.component===o),hi(s=>s&&s.activatedRoute[i]),B$())))}updateActivatedRouteProxy(r,i){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=i._futureSnapshot,o._routerState=i._routerState,o.snapshot=i.snapshot,o.outlet=i.outlet,o.component=i.component,this.currentActivatedRoute$.next({component:r,activatedRoute:i})}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Tl("name"),Tl("tabs"),T(Ks),T(it),T(zr),T(je),T(el),T(t,12))}),v(e,"\u0275dir",Yt({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),e})();class fie{constructor(e,n,r){v(this,"route",void 0),v(this,"childContexts",void 0),v(this,"parent",void 0),this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===el?this.route:e===td?this.childContexts:this.parent.get(e,n)}}const Z$=new yt("");let pie=(()=>{var t;class e{constructor(){v(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;null===(i=this.outletDataSubscriptions.get(r))||void 0===i||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=oI([i.queryParams,i.params,i.data]).pipe(hi(([s,a,l],u)=>(l={...s,...a,...l},0===u?In(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=GF(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac})),e})();function gie(t){return null!=t&&t.componentInputBindingEnabled?new pie:null}let yie=(()=>{var t;class e{constructor(r,i,o,s,a){v(this,"locationStrategy",void 0),v(this,"navCtrl",void 0),v(this,"elementRef",void 0),v(this,"router",void 0),v(this,"routerLink",void 0),v(this,"routerDirection","forward"),v(this,"routerAnimation",void 0),this.locationStrategy=r,this.navCtrl=i,this.elementRef=o,this.router=s,this.routerLink=a}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var r;if(null!==(r=this.routerLink)&&void 0!==r&&r.urlTree){const i=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=i}}onClick(r){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),r.preventDefault()}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T(xl),T(Nf),T(it),T(zr),T(Vl,8))}),v(e,"\u0275dir",Yt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(r,i){1&r&&Nt("click",function(s){return i.onClick(s)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[co]})),e})(),Iie=(()=>{var t;class e{constructor(r,i,o,s,a){v(this,"locationStrategy",void 0),v(this,"navCtrl",void 0),v(this,"elementRef",void 0),v(this,"router",void 0),v(this,"routerLink",void 0),v(this,"routerDirection","forward"),v(this,"routerAnimation",void 0),this.locationStrategy=r,this.navCtrl=i,this.elementRef=o,this.router=s,this.routerLink=a}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var r;if(null!==(r=this.routerLink)&&void 0!==r&&r.urlTree){const i=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=i}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T(xl),T(Nf),T(it),T(zr),T(Vl,8))}),v(e,"\u0275dir",Yt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(r,i){1&r&&Nt("click",function(){return i.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[co]})),e})();const J$=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);let QI=(()=>{var t;class e{constructor(r,i){v(this,"injector",void 0),v(this,"elementRef",void 0),v(this,"onChange",()=>{}),v(this,"onTouched",()=>{}),v(this,"lastValue",void 0),v(this,"statusChanges",void 0),this.injector=r,this.elementRef=i}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,kf(this.elementRef)}handleValueChange(r,i){r===this.elementRef.nativeElement&&(i!==this.lastValue&&(this.lastValue=i,this.onChange(i)),kf(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),kf(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get($l)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>kf(this.elementRef)));const i=r.control;i&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(s=>{if(typeof i[s]<"u"){const a=i[s].bind(i);i[s]=(...l)=>{a(...l),kf(this.elementRef)}}})}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T(Tr),T(it))}),v(e,"\u0275dir",Yt({type:t,hostBindings:function(r,i){1&r&&Nt("ionBlur",function(s){return i._handleBlurEvent(s.target)})}})),e})();const kf=t=>{J$(()=>{const e=t.nativeElement,n=null!=e.value&&e.value.toString().length>0,r=Tie(e);VD(e,r);const i=e.closest("ion-item");i&&VD(i,n?[...r,"item-has-value"]:r)})},Tie=t=>{const e=t.classList,n=[];for(let r=0;r<e.length;r++){const i=e.item(r);null!==i&&Aie(i,"ng-")&&n.push(`ion-${i.substring(3)}`)}return n},VD=(t,e)=>{const n=t.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add(...e)},Aie=(t,e)=>t.substring(0,e.length)===e;class Die{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,n){}retrieve(e){return null}shouldReuseRoute(e,n){if(e.routeConfig!==n.routeConfig)return!1;const r=e.params,i=n.params,o=Object.keys(r),s=Object.keys(i);if(o.length!==s.length)return!1;for(const a of o)if(i[a]!==r[a])return!1;return!0}}class YI{constructor(e){v(this,"ctrl",void 0),this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}}fe(9986),fe(2725),fe(8454),fe(3314),fe(8607);var Sie=fe(3664),Rie=fe(464),Pie=fe(5465),XI=fe(6002),Mie=(fe(8476),fe(9672));fe(1970),fe(6411);const Nie=Sie.i,kie=function(){var t=(0,E.A)(function*(e,n){if(!(typeof window>"u"))return yield Nie(),(0,Mie.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),n)});return function(n,r){return t.apply(this,arguments)}}(),Ft=["*"],Oie=["outletContent"];function $ie(t,e){if(1&t&&(re(0,"div",1),b0(1,2),ce()),2&t){const n=mt();ze(),Rt("ngTemplateOutlet",n.template)}}let c_=(()=>{var t;class e extends QI{constructor(r,i){super(r,i)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T(Tr),T(it))}),v(e,"\u0275dir",Yt({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(r,i){1&r&&Nt("ionInput",function(s){return i._handleInputEvent(s.target)})},features:[br([{provide:us,useExisting:t,multi:!0}]),Ln]})),e})();const Hie=(t,e)=>{const n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},Gie=(t,e)=>{const n=t.prototype;e.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},mr=(t,e,n)=>{n.forEach(r=>t[r]=WI(e,r))};function Lt(t){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=t;return void 0!==r&&r(),i&&Hie(n,i),o&&Gie(n,o),n}}let eB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,mr(this,this.el,["ionAlertDidPresent","ionAlertWillPresent","ionAlertWillDismiss","ionAlertDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-alert"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",buttons:"buttons",cssClass:"cssClass",enterAnimation:"enterAnimation",header:"header",htmlAttributes:"htmlAttributes",inputs:"inputs",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",subHeader:"subHeader",translucent:"translucent",trigger:"trigger"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["animated","backdropDismiss","buttons","cssClass","enterAnimation","header","htmlAttributes","inputs","isOpen","keyboardClose","leaveAnimation","message","mode","subHeader","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],e),e})(),tB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-app"]],ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({})],e),e})(),nB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-avatar"]],ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({})],e),e})(),ju=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,mr(this,this.el,["ionFocus","ionBlur"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),d_=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["collapse"]})],e),e})(),Of=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,mr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),Ff=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["collapse","mode","translucent"]})],e),e})(),dd=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),ZI=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,mr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),$D=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-input-password-toggle"]],inputs:{color:"color",hideIcon:"hideIcon",mode:"mode",showIcon:"showIcon"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["color","hideIcon","mode","showIcon"]})],e),e})(),BD=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),Lf=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["color","mode","position"]})],e),e})(),UD=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),rB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,mr(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],e),e})(),iB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["autoHide","color","disabled","menu","mode","type"]})],e),e})(),JI=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["color","duration","name","paused"]})],e),e})(),h_=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),jD=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),oB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,mr(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],e),e})(),jl=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["color","size"]})],e),e})(),Vf=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Ct),T(it),T(je))}),v(t,"\u0275cmp",dt({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ft,decls:1,vars:0,template:function(r,i){1&r&&(xt(),Pt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Tt.Cg)([Lt({inputs:["color","mode"]})],e),e})(),f_=(()=>{var t;class e extends X${constructor(r,i,o,s,a,l,u,d){super(r,i,o,s,a,l,u,d),v(this,"parentOutlet",void 0),v(this,"outletContent",void 0),this.parentOutlet=d}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Tl("name"),Tl("tabs"),T(Ks),T(it),T(zr),T(je),T(el),T(t,12))}),v(e,"\u0275cmp",dt({type:t,selectors:[["ion-router-outlet"]],viewQuery:function(r,i){if(1&r&&Nu(Oie,7,bs),2&r){let o;Ts(o=As())&&(i.outletContent=o.first)}},features:[Ln],ngContentSelectors:Ft,decls:3,vars:0,consts:[["outletContent",""]],template:function(r,i){1&r&&(xt(),Zh(0,null,0),Pt(2),Jh())},encapsulation:2})),e})(),zD=(()=>{var t;class e extends yie{}return t=e,v(e,"\u0275fac",(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})()),v(e,"\u0275dir",Yt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],features:[Ln]})),e})(),HD=(()=>{var t;class e extends Iie{}return t=e,v(e,"\u0275fac",(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})()),v(e,"\u0275dir",Yt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[Ln]})),e})(),eE=(()=>{var t;class e extends sie{}return t=e,v(e,"\u0275fac",(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})()),v(e,"\u0275cmp",dt({type:t,selectors:[["ion-modal"]],features:[Ln],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(r,i){1&r&&lr(0,$ie,2,1,"div",0),2&r&&Rt("ngIf",i.isCmpOpen||i.keepContentsMounted)},dependencies:[Xs,ZT],encapsulation:2,changeDetection:0})),e})();const nse={provide:to,useExisting:pr(()=>sB),multi:!0};let sB=(()=>{var t;class e extends iD{}return t=e,v(e,"\u0275fac",(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})()),v(e,"\u0275dir",Yt({type:t,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&So("max",i._enabled?i.max:null)},features:[br([nse]),Ln]})),e})();const rse={provide:to,useExisting:pr(()=>aB),multi:!0};let aB=(()=>{var t;class e extends oD{}return t=e,v(e,"\u0275fac",(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})()),v(e,"\u0275dir",Yt({type:t,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&So("min",i._enabled?i.min:null)},features:[br([rse]),Ln]})),e})(),GD=(()=>{var t;class e extends YI{constructor(){super(XI.a)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})(),qD=(()=>{var t;class e extends YI{constructor(){super(XI.b)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})(),ise=(()=>{var t;class e extends Hre{constructor(){super(Pie.m)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})(),ose=(()=>{var t;class e extends YI{constructor(){super(XI.m),v(this,"angularDelegate",Je(u_)),v(this,"injector",Je(Tr)),v(this,"environmentInjector",Je(ci))}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac})),e})();class sse extends YI{constructor(){super(XI.c),v(this,"angularDelegate",Je(u_)),v(this,"injector",Je(Tr)),v(this,"environmentInjector",Je(ci))}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const ase=(t,e,n)=>()=>{const r=e.defaultView;if(r&&typeof window<"u"){(0,Rie.s)({...t,_zoneGate:o=>n.run(o)});const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function xie(){var t=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&t.push(fe.e(7278).then(fe.t.bind(fe,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(fe.e(9329).then(fe.t.bind(fe,7783,23)))}return Promise.all(t)}().then(()=>kie(r,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:J$,jmp:o=>n.runOutsideAngular(o),ael(o,s,a,l){o[i](s,a,l)},rel(o,s,a,l){o.removeEventListener(s,a,l)}}))}};let lse=(()=>{var t;class e{static forRoot(r={}){return{ngModule:e,providers:[{provide:kD,useValue:r},{provide:N0,useFactory:ase,multi:!0,deps:[kD,eo,je]},u_,{provide:Z$,useFactory:gie,deps:[zr]}]}}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275mod",uo({type:t})),v(e,"\u0275inj",xi({providers:[ose,sse],imports:[cL]})),e})();const lB=["toast-component",""];function use(t,e){if(1&t){const n=Ar();re(0,"button",5),Nt("click",function(){return nn(n),rn(mt().remove())}),re(1,"span",6),vt(2,"\xd7"),ce()()}}function cse(t,e){if(1&t&&(Zh(0),vt(1),Jh()),2&t){const n=mt(2);ze(),Hi("[",n.duplicatesCount+1,"]")}}function dse(t,e){if(1&t&&(re(0,"div"),vt(1),lr(2,cse,2,1,"ng-container",4),ce()),2&t){const n=mt();Rl(n.options.titleClass),So("aria-label",n.title),ze(),Hi(" ",n.title," "),ze(),Rt("ngIf",n.duplicatesCount)}}function hse(t,e){if(1&t&&En(0,"div",7),2&t){const n=mt();Rl(n.options.messageClass),Rt("innerHTML",n.message,zC)}}function fse(t,e){if(1&t&&(re(0,"div",8),vt(1),ce()),2&t){const n=mt();Rl(n.options.messageClass),So("aria-label",n.message),ze(),Hi(" ",n.message," ")}}function pse(t,e){if(1&t&&(re(0,"div"),En(1,"div",9),ce()),2&t){const n=mt();ze(),Xh("width",n.width+"%")}}class Ese{constructor(e,n){v(this,"_attachedHost",void 0),v(this,"component",void 0),v(this,"viewContainerRef",void 0),v(this,"injector",void 0),this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class bse{constructor(){v(this,"_attachedPortal",void 0),v(this,"_disposeFn",void 0)}attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class Cse{constructor(e){v(this,"_overlayRef",void 0),v(this,"componentInstance",void 0),v(this,"duplicatesCount",0),v(this,"_afterClosed",new M),v(this,"_activate",new M),v(this,"_manualClose",new M),v(this,"_resetTimeout",new M),v(this,"_countDuplicate",new M),this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class tE{constructor(e,n,r,i,o,s){v(this,"toastId",void 0),v(this,"config",void 0),v(this,"message",void 0),v(this,"title",void 0),v(this,"toastType",void 0),v(this,"toastRef",void 0),v(this,"_onTap",new M),v(this,"_onAction",new M),this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const cB=new yt("ToastConfig");class wse extends bse{constructor(e,n,r){super(),v(this,"_hostDomElement",void 0),v(this,"_componentFactoryResolver",void 0),v(this,"_appRef",void 0),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Tse=(()=>{var t;class e{constructor(){v(this,"_document",Je(eo)),v(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const r=this._document.createElement("div");r.classList.add("overlay-container"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),this._containerElement=r}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();class Ase{constructor(e){v(this,"_portalHost",void 0),this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}}let Dse=(()=>{var t;class e{constructor(){v(this,"_overlayContainer",Je(Tse)),v(this,"_componentFactoryResolver",Je(Xm)),v(this,"_appRef",Je(ya)),v(this,"_document",Je(eo)),v(this,"_paneElements",new Map)}create(r,i){return this._createOverlayRef(this.getPaneElement(r,i))}getPaneElement(r="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[r]||(this._paneElements.get(i)[r]=this._createPaneElement(r,i)),this._paneElements.get(i)[r]}_createPaneElement(r,i){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(r),o.classList.add("toast-container"),i?i.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(r){return new wse(r,this._componentFactoryResolver,this._appRef)}_createOverlayRef(r){return new Ase(this._createPortalHost(r))}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})(),zu=(()=>{var t;class e{constructor(r,i,o,s,a){v(this,"overlay",void 0),v(this,"_injector",void 0),v(this,"sanitizer",void 0),v(this,"ngZone",void 0),v(this,"toastrConfig",void 0),v(this,"currentlyActive",0),v(this,"toasts",[]),v(this,"overlayContainer",void 0),v(this,"previousToastMessage",void 0),v(this,"index",0),this.overlay=i,this._injector=o,this.sanitizer=s,this.ngZone=a,this.toastrConfig={...r.default,...r.config},r.config.iconClasses&&(this.toastrConfig.iconClasses={...r.default.iconClasses,...r.config.iconClasses})}show(r,i,o={},s=""){return this._preBuildNotification(s,r,i,this.applyConfig(o))}success(r,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",r,i,this.applyConfig(o))}error(r,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",r,i,this.applyConfig(o))}info(r,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",r,i,this.applyConfig(o))}warning(r,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",r,i,this.applyConfig(o))}clear(r){for(const i of this.toasts)if(void 0!==r){if(i.toastId===r)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(r){const i=this._findToast(r);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(r="",i="",o,s){const{includeTitleDuplicates:a}=this.toastrConfig;for(const l of this.toasts)if((!a||a&&l.title===r)&&l.message===i)return l.toastRef.onDuplicate(o,s),l;return null}applyConfig(r={}){return{...this.toastrConfig,...r}}_findToast(r){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===r)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(r,i,o,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(r,i,o,s)):this._buildNotification(r,i,o,s)}_buildNotification(r,i,o,s){if(!s.toastComponent)throw new Error("toastComponent required");const a=this.findDuplicate(o,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||i)&&this.toastrConfig.preventDuplicates&&null!==a)return a;this.previousToastMessage=i;let l=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(l=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let d=i;i&&s.enableHtml&&(d=this.sanitizer.sanitize(Is.HTML,i));const p=new Cse(u),_=new tE(this.index,s,d,o,r,p),A=Tr.create({providers:[{provide:tE,useValue:_}],parent:this._injector}),x=new Ese(s.toastComponent,A),V=u.attach(x,s.newestOnTop);p.componentInstance=V.instance;const U={toastId:this.index,title:o||"",message:i||"",toastRef:p,onShown:p.afterActivate(),onHidden:p.afterClosed(),onTap:_.onTap(),onAction:_.onAction(),portal:V};return l||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{U.toastRef.activate()})),this.toasts.push(U),U}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(cB),Qe(Dse),Qe(Tr),Qe(OL),Qe(je))}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();const Sse={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{var t;class e{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(r,i,o){v(this,"toastrService",void 0),v(this,"toastPackage",void 0),v(this,"ngZone",void 0),v(this,"message",void 0),v(this,"title",void 0),v(this,"options",void 0),v(this,"duplicatesCount",void 0),v(this,"originalTimeout",void 0),v(this,"width",-1),v(this,"toastClasses",""),v(this,"state",void 0),v(this,"timeout",void 0),v(this,"intervalId",void 0),v(this,"hideTime",void 0),v(this,"sub",void 0),v(this,"sub1",void 0),v(this,"sub2",void 0),v(this,"sub3",void 0),this.toastrService=r,this.toastPackage=i,this.ngZone=o,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const r=(new Date).getTime();this.width=(this.hideTime-r)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(r,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(r),i)):this.timeout=setTimeout(()=>r(),i)}outsideInterval(r,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(r),i)):this.intervalId=setInterval(()=>r(),i)}runInsideAngular(r){this.ngZone?this.ngZone.run(()=>r()):r()}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T(zu),T(tE),T(je))}),v(e,"\u0275cmp",dt({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&Nt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(oT("@flyInOut",i.state),Rl(i.toastClasses),Xh("display",i.displayStyle))},standalone:!0,features:[S0],attrs:lB,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&lr(0,use,3,0,"button",0)(1,dse,3,5,"div",1)(2,hse,1,3,"div",2)(3,fse,2,4,"div",3)(4,pse,2,2,"div",4),2&r&&(Rt("ngIf",i.options.closeButton),ze(),Rt("ngIf",i.title),ze(),Rt("ngIf",i.message&&i.options.enableHtml),ze(),Rt("ngIf",i.message&&!i.options.enableHtml),ze(),Rt("ngIf",i.options.progressBar))},dependencies:[Xs],encapsulation:2,data:{animation:[xte("flyInOut",[aD("inactive",t_({opacity:0})),aD("active",t_({opacity:1})),aD("removed",t_({opacity:0})),n$("inactive => active",t$("{{ easeTime }}ms {{ easing }}")),n$("active => removed",t$("{{ easeTime }}ms {{ easing }}"))])]}})),e})()},Rse=(t={})=>da([{provide:cB,useValue:{default:Sse,config:t}}]);let Pse=(()=>{var t;class e{static forRoot(r={}){return{ngModule:e,providers:[Rse(r)]}}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275mod",uo({type:t})),v(e,"\u0275inj",xi({})),e})();fe(2438);var qi=fe(7852);(0,qi.registerVersion)("firebase","10.12.1","app");class Nse extends Tn{constructor(e,n){super()}schedule(e,n=0){return this}}const nE={setInterval(t,e,...n){const{delegate:r}=nE;return null!=r&&r.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=nE;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class dB extends Nse{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return nE.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&nE.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,On(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const WD={now:()=>(WD.delegate||Date).now(),delegate:void 0};class p_{constructor(e,n=p_.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}p_.now=WD.now;class hB extends p_{constructor(e,n=p_.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Fse=new class Ose extends hB{}(class kse extends dB{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),KD=new hB(dB),$f=new lf("ANGULARFIRE2_VERSION");const QD=(t,e)=>{const n=e?[e]:(0,qi.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class rE{constructor(){return QD(Lse)}}const Lse="app-check";function Bf(){}class pB{constructor(e,n=Fse){v(this,"zone",void 0),v(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class Vse{constructor(e){v(this,"zone",void 0),v(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bf,{},Bf,Bf)),n.pipe(Ro({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let m_=(()=>{var t;class e{constructor(r){v(this,"ngZone",void 0),v(this,"outsideAngular",void 0),v(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new pB(Zone.current)),this.insideAngular=r.run(()=>new pB(Zone.current,KD)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(je))}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Uf(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function hd(t){return Uf().ngZone.run(()=>t())}function mB(t){return t.pipe(Fl(Uf().outsideAngular))}function Yo(t){return function Bse(t){return function(n){return(n=n.lift(new Vse(t.ngZone))).pipe(Xc(t.outsideAngular),Fl(t.insideAngular))}}(Uf())(t)}const Use=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),hd(()=>t.apply(void 0,r))},jse=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=hd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bf,{},Bf,Bf)))),r[o]=Use(r[o],n));const i=function $se(t){return Uf().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Mn){const o=Uf();return i.pipe(Xc(o.outsideAngular),Fl(o.insideAngular))}return hd(()=>i)}return i instanceof Mn?i.pipe(Yo):i instanceof Promise?hd(()=>new Promise((o,s)=>i.then(a=>hd(()=>o(a)),a=>hd(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:hd(()=>i)};var zl=fe(3345);zl.A.registerVersion("firebase","10.12.1","app-compat");const Gse=["ngOnDestroy"];class gB{constructor(e){return e}}const g_=new yt("angularfire2.app.options"),__=new yt("angularfire2.app.name");function iE(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=zl.A.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>zl.A.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;Kse("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new gB(s)}const Kse=(t,...e)=>{},Qse={provide:gB,useFactory:iE,deps:[g_,je,[new lo,__]]};let Yse=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:g_,useValue:r},{provide:__,useValue:i}]}}constructor(r){zl.A.registerVersion("angularfire",$f.full,"core"),zl.A.registerVersion("angularfire",$f.full,"app-compat"),zl.A.registerVersion("angular",WO.full,r.toString())}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(qs))}),v(e,"\u0275mod",uo({type:t})),v(e,"\u0275inj",xi({providers:[Qse]})),e})();function YD(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function Xse(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(_B("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Zse?" You may need to reload as Firebase is not HMR aware.":""}`),_B("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const Zse=typeof module<"u"&&!!module.hot,_B=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class eae extends M{constructor(e=1/0,n=1/0,r=WD){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function XD(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Bn({next:()=>{r.unsubscribe(),t()}});return ls(e(...n)).subscribe(r)}function vB(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=null!=t?t:1/0,function tae(t={}){const{connector:e=(()=>new M),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,d=!1,p=!1;const _=()=>{null==a||a.unsubscribe(),a=void 0},I=()=>{_(),s=l=void 0,d=p=!1},A=()=>{const x=s;I(),null==x||x.unsubscribe()};return Re((x,V)=>{u++,!p&&!d&&_();const U=l=null!=l?l:e();V.add(()=>{u--,0===u&&!p&&!d&&(a=XD(A,i))}),U.subscribe(V),!s&&u>0&&(s=new Bn({next:G=>U.next(G),error:G=>{p=!0,_(),a=XD(I,n,G),U.error(G)},complete:()=>{d=!0,_(),a=XD(I,r),U.complete()}}),ls(x).subscribe(s))})(o)}}({connector:()=>new eae(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function yB(t,e){return Ut(e)?hi(()=>t,e):hi(()=>t)}const IB=new yt("angularfire2.auth.use-emulator"),EB=new yt("angularfire2.auth.settings"),bB=new yt("angularfire2.auth.tenant-id"),CB=new yt("angularfire2.auth.langugage-code"),wB=new yt("angularfire2.auth.use-device-language"),TB=new yt("angularfire.auth.persistence"),AB=(t,e,n,r,i,o,s,a)=>YD(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(const[u,d]of Object.entries(s))l.settings[u]=d;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]);let Aa=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,d,p,_,I,A){v(this,"authState",void 0),v(this,"idToken",void 0),v(this,"user",void 0),v(this,"idTokenResult",void 0),v(this,"credential",void 0);const x=new M,V=In(void 0).pipe(Fl(a.outsideAngular),hi(()=>s.runOutsideAngular(()=>Promise.resolve().then(fe.bind(fe,2438)))),Et(()=>iE(r,s,i)),Et(U=>AB(U,s,l,d,p,_,u,I)),vB({bufferSize:1,refCount:!1}));if(tI(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=In(null);else{V.pipe(Lu()).subscribe();const U=V.pipe(hi(_e=>_e.getRedirectResult().then(tt=>tt,()=>null)),Yo,vB({bufferSize:1,refCount:!1})),G=V.pipe(hi(_e=>new Mn(tt=>({unsubscribe:s.runOutsideAngular(()=>_e.onAuthStateChanged(_t=>tt.next(_t),_t=>tt.error(_t),()=>tt.complete()))})))),me=V.pipe(hi(_e=>new Mn(tt=>({unsubscribe:s.runOutsideAngular(()=>_e.onIdTokenChanged(_t=>tt.next(_t),_t=>tt.error(_t),()=>tt.complete()))}))));this.authState=U.pipe(yB(G),Xc(a.outsideAngular),Fl(a.insideAngular)),this.user=U.pipe(yB(me),Xc(a.outsideAngular),Fl(a.insideAngular)),this.idToken=this.user.pipe(hi(_e=>_e?Dr(_e.getIdToken()):In(null))),this.idTokenResult=this.user.pipe(hi(_e=>_e?Dr(_e.getIdTokenResult()):In(null))),this.credential=function Jse(...t){const e=Rg(t),n=function tZ(t,e){return"number"==typeof dA(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ls(r[0]):hf(n)(Dr(r,e)):ba}(U,x,this.authState.pipe(Ss(_e=>!_e))).pipe(Et(_e=>null!=_e&&_e.user?_e:null),Xc(a.outsideAngular),Fl(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var s;if(t[o])return null!=r&&null!==(s=r.spy)&&void 0!==s&&s.get&&r.spy.get(o,t[o]),t[o];if(Gse.indexOf(o)>-1)return()=>{};const a=e.toPromise().then(l=>{const u=null==l?void 0:l[o];return"function"==typeof u?u.bind(l):null!=u&&u.then?u.then(d=>n.run(()=>d)):n.run(()=>u)});return new Proxy(()=>{},{get:(l,u)=>a[u],apply:(l,u,d)=>a.then(p=>{var _;const I=null==p?void 0:p(...d);return null!=r&&null!==(_=r.spy)&&void 0!==_&&_.apply&&r.spy.apply(o,d,I),I})})})}))(this,V,s,{spy:{apply:(U,G,me)=>{(U.startsWith("signIn")||U.startsWith("createUser"))&&me.then(_e=>x.next(_e))}}})}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(g_),Qe(__,8),Qe(qs),Qe(je),Qe(m_),Qe(IB,8),Qe(EB,8),Qe(bB,8),Qe(CB,8),Qe(wB,8),Qe(TB,8),Qe(rE,8))}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),rae=(()=>{var t;class e{constructor(){zl.A.registerVersion("angularfire",$f.full,"auth-compat")}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275mod",uo({type:t})),v(e,"\u0275inj",xi({providers:[Aa]})),e})();function ZD(){return Re((t,e)=>{let n,r=!1;t.subscribe(ft(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}var fd,RB,oE=fe(1362),il=fe(8041),$n=fe(1076),DB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},SB={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(Q,$,W){W||(W=0);var ee=Array(16);if("string"==typeof $)for(var de=0;16>de;++de)ee[de]=$.charCodeAt(W++)|$.charCodeAt(W++)<<8|$.charCodeAt(W++)<<16|$.charCodeAt(W++)<<24;else for(de=0;16>de;++de)ee[de]=$[W++]|$[W++]<<8|$[W++]<<16|$[W++]<<24;var be=Q.g[3],Y=($=Q.g[0])+(be^(W=Q.g[1])&((de=Q.g[2])^be))+ee[0]+3614090360&4294967295;Y=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=(W=(de=(be=($=W+(Y<<7&4294967295|Y>>>25))+((Y=be+(de^$&(W^de))+ee[1]+3905402710&4294967295)<<12&4294967295|Y>>>20))+((Y=de+(W^be&($^W))+ee[2]+606105819&4294967295)<<17&4294967295|Y>>>15))+((Y=W+($^de&(be^$))+ee[3]+3250441966&4294967295)<<22&4294967295|Y>>>10))+((Y=$+(be^W&(de^be))+ee[4]+4118548399&4294967295)<<7&4294967295|Y>>>25))+((Y=be+(de^$&(W^de))+ee[5]+1200080426&4294967295)<<12&4294967295|Y>>>20))+((Y=de+(W^be&($^W))+ee[6]+2821735955&4294967295)<<17&4294967295|Y>>>15))+((Y=W+($^de&(be^$))+ee[7]+4249261313&4294967295)<<22&4294967295|Y>>>10))+((Y=$+(be^W&(de^be))+ee[8]+1770035416&4294967295)<<7&4294967295|Y>>>25))+((Y=be+(de^$&(W^de))+ee[9]+2336552879&4294967295)<<12&4294967295|Y>>>20))+((Y=de+(W^be&($^W))+ee[10]+4294925233&4294967295)<<17&4294967295|Y>>>15))+((Y=W+($^de&(be^$))+ee[11]+2304563134&4294967295)<<22&4294967295|Y>>>10))+((Y=$+(be^W&(de^be))+ee[12]+1804603682&4294967295)<<7&4294967295|Y>>>25))+((Y=be+(de^$&(W^de))+ee[13]+4254626195&4294967295)<<12&4294967295|Y>>>20))+((Y=de+(W^be&($^W))+ee[14]+2792965006&4294967295)<<17&4294967295|Y>>>15))+((Y=W+($^de&(be^$))+ee[15]+1236535329&4294967295)<<22&4294967295|Y>>>10))+((Y=$+(de^be&(W^de))+ee[1]+4129170786&4294967295)<<5&4294967295|Y>>>27))+((Y=be+(W^de&($^W))+ee[6]+3225465664&4294967295)<<9&4294967295|Y>>>23))+((Y=de+($^W&(be^$))+ee[11]+643717713&4294967295)<<14&4294967295|Y>>>18))+((Y=W+(be^$&(de^be))+ee[0]+3921069994&4294967295)<<20&4294967295|Y>>>12))+((Y=$+(de^be&(W^de))+ee[5]+3593408605&4294967295)<<5&4294967295|Y>>>27))+((Y=be+(W^de&($^W))+ee[10]+38016083&4294967295)<<9&4294967295|Y>>>23))+((Y=de+($^W&(be^$))+ee[15]+3634488961&4294967295)<<14&4294967295|Y>>>18))+((Y=W+(be^$&(de^be))+ee[4]+3889429448&4294967295)<<20&4294967295|Y>>>12))+((Y=$+(de^be&(W^de))+ee[9]+568446438&4294967295)<<5&4294967295|Y>>>27))+((Y=be+(W^de&($^W))+ee[14]+3275163606&4294967295)<<9&4294967295|Y>>>23))+((Y=de+($^W&(be^$))+ee[3]+4107603335&4294967295)<<14&4294967295|Y>>>18))+((Y=W+(be^$&(de^be))+ee[8]+1163531501&4294967295)<<20&4294967295|Y>>>12))+((Y=$+(de^be&(W^de))+ee[13]+2850285829&4294967295)<<5&4294967295|Y>>>27))+((Y=be+(W^de&($^W))+ee[2]+4243563512&4294967295)<<9&4294967295|Y>>>23))+((Y=de+($^W&(be^$))+ee[7]+1735328473&4294967295)<<14&4294967295|Y>>>18))+((Y=W+(be^$&(de^be))+ee[12]+2368359562&4294967295)<<20&4294967295|Y>>>12))+((Y=$+(W^de^be)+ee[5]+4294588738&4294967295)<<4&4294967295|Y>>>28))+((Y=be+($^W^de)+ee[8]+2272392833&4294967295)<<11&4294967295|Y>>>21))+((Y=de+(be^$^W)+ee[11]+1839030562&4294967295)<<16&4294967295|Y>>>16))+((Y=W+(de^be^$)+ee[14]+4259657740&4294967295)<<23&4294967295|Y>>>9))+((Y=$+(W^de^be)+ee[1]+2763975236&4294967295)<<4&4294967295|Y>>>28))+((Y=be+($^W^de)+ee[4]+1272893353&4294967295)<<11&4294967295|Y>>>21))+((Y=de+(be^$^W)+ee[7]+4139469664&4294967295)<<16&4294967295|Y>>>16))+((Y=W+(de^be^$)+ee[10]+3200236656&4294967295)<<23&4294967295|Y>>>9))+((Y=$+(W^de^be)+ee[13]+681279174&4294967295)<<4&4294967295|Y>>>28))+((Y=be+($^W^de)+ee[0]+3936430074&4294967295)<<11&4294967295|Y>>>21))+((Y=de+(be^$^W)+ee[3]+3572445317&4294967295)<<16&4294967295|Y>>>16))+((Y=W+(de^be^$)+ee[6]+76029189&4294967295)<<23&4294967295|Y>>>9))+((Y=$+(W^de^be)+ee[9]+3654602809&4294967295)<<4&4294967295|Y>>>28))+((Y=be+($^W^de)+ee[12]+3873151461&4294967295)<<11&4294967295|Y>>>21))+((Y=de+(be^$^W)+ee[15]+530742520&4294967295)<<16&4294967295|Y>>>16))+((Y=W+(de^be^$)+ee[2]+3299628645&4294967295)<<23&4294967295|Y>>>9))+((Y=$+(de^(W|~be))+ee[0]+4096336452&4294967295)<<6&4294967295|Y>>>26))+((Y=be+(W^($|~de))+ee[7]+1126891415&4294967295)<<10&4294967295|Y>>>22))+((Y=de+($^(be|~W))+ee[14]+2878612391&4294967295)<<15&4294967295|Y>>>17))+((Y=W+(be^(de|~$))+ee[5]+4237533241&4294967295)<<21&4294967295|Y>>>11))+((Y=$+(de^(W|~be))+ee[12]+1700485571&4294967295)<<6&4294967295|Y>>>26))+((Y=be+(W^($|~de))+ee[3]+2399980690&4294967295)<<10&4294967295|Y>>>22))+((Y=de+($^(be|~W))+ee[10]+4293915773&4294967295)<<15&4294967295|Y>>>17))+((Y=W+(be^(de|~$))+ee[1]+2240044497&4294967295)<<21&4294967295|Y>>>11))+((Y=$+(de^(W|~be))+ee[8]+1873313359&4294967295)<<6&4294967295|Y>>>26))+((Y=be+(W^($|~de))+ee[15]+4264355552&4294967295)<<10&4294967295|Y>>>22))+((Y=de+($^(be|~W))+ee[6]+2734768916&4294967295)<<15&4294967295|Y>>>17))+((Y=W+(be^(de|~$))+ee[13]+1309151649&4294967295)<<21&4294967295|Y>>>11))+((be=($=W+((Y=$+(de^(W|~be))+ee[4]+4149444226&4294967295)<<6&4294967295|Y>>>26))+((Y=be+(W^($|~de))+ee[11]+3174756917&4294967295)<<10&4294967295|Y>>>22))^((de=be+((Y=de+($^(be|~W))+ee[2]+718787259&4294967295)<<15&4294967295|Y>>>17))|~$))+ee[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+$&4294967295,Q.g[1]=Q.g[1]+(de+(Y<<21&4294967295|Y>>>11))&4294967295,Q.g[2]=Q.g[2]+de&4294967295,Q.g[3]=Q.g[3]+be&4294967295}function s(Q,$){this.h=$;for(var W=[],ee=!0,de=Q.length-1;0<=de;de--){var be=0|Q[de];ee&&be==$||(W[de]=be,ee=!1)}this.g=W}(function e(Q,$){function W(){}W.prototype=$.prototype,Q.D=$.prototype,Q.prototype=new W,Q.prototype.constructor=Q,Q.C=function(ee,de,be){for(var Y=Array(arguments.length-2),ea=2;ea<arguments.length;ea++)Y[ea-2]=arguments[ea];return $.prototype[de].apply(ee,Y)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(Q,$){void 0===$&&($=Q.length);for(var W=$-this.blockSize,ee=this.B,de=this.h,be=0;be<$;){if(0==de)for(;be<=W;)i(this,Q,be),be+=this.blockSize;if("string"==typeof Q){for(;be<$;)if(ee[de++]=Q.charCodeAt(be++),de==this.blockSize){i(this,ee),de=0;break}}else for(;be<$;)if(ee[de++]=Q[be++],de==this.blockSize){i(this,ee),de=0;break}}this.h=de,this.o+=$},r.prototype.v=function(){var Q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Q[0]=128;for(var $=1;$<Q.length-8;++$)Q[$]=0;var W=8*this.o;for($=Q.length-8;$<Q.length;++$)Q[$]=255&W,W/=256;for(this.u(Q),Q=Array(16),$=W=0;4>$;++$)for(var ee=0;32>ee;ee+=8)Q[W++]=this.g[$]>>>ee&255;return Q};var a={};function l(Q){return-128<=Q&&128>Q?function o(Q,$){var W=a;return Object.prototype.hasOwnProperty.call(W,Q)?W[Q]:W[Q]=$(Q)}(Q,function($){return new s([0|$],0>$?-1:0)}):new s([0|Q],0>Q?-1:0)}function u(Q){if(isNaN(Q)||!isFinite(Q))return p;if(0>Q)return V(u(-Q));for(var $=[],W=1,ee=0;Q>=W;ee++)$[ee]=Q/W|0,W*=4294967296;return new s($,0)}var p=l(0),_=l(1),I=l(16777216);function A(Q){if(0!=Q.h)return!1;for(var $=0;$<Q.g.length;$++)if(0!=Q.g[$])return!1;return!0}function x(Q){return-1==Q.h}function V(Q){for(var $=Q.g.length,W=[],ee=0;ee<$;ee++)W[ee]=~Q.g[ee];return new s(W,~Q.h).add(_)}function U(Q,$){return Q.add(V($))}function G(Q,$){for(;(65535&Q[$])!=Q[$];)Q[$+1]+=Q[$]>>>16,Q[$]&=65535,$++}function me(Q,$){this.g=Q,this.h=$}function _e(Q,$){if(A($))throw Error("division by zero");if(A(Q))return new me(p,p);if(x(Q))return $=_e(V(Q),$),new me(V($.g),V($.h));if(x($))return $=_e(Q,V($)),new me(V($.g),$.h);if(30<Q.g.length){if(x(Q)||x($))throw Error("slowDivide_ only works with positive integers.");for(var W=_,ee=$;0>=ee.l(Q);)W=tt(W),ee=tt(ee);var de=_t(W,1),be=_t(ee,1);for(ee=_t(ee,2),W=_t(W,2);!A(ee);){var Y=be.add(ee);0>=Y.l(Q)&&(de=de.add(W),be=Y),ee=_t(ee,1),W=_t(W,1)}return $=U(Q,de.j($)),new me(de,$)}for(de=p;0<=Q.l($);){for(W=Math.max(1,Math.floor(Q.m()/$.m())),ee=48>=(ee=Math.ceil(Math.log(W)/Math.LN2))?1:Math.pow(2,ee-48),Y=(be=u(W)).j($);x(Y)||0<Y.l(Q);)Y=(be=u(W-=ee)).j($);A(be)&&(be=_),de=de.add(be),Q=U(Q,Y)}return new me(de,Q)}function tt(Q){for(var $=Q.g.length+1,W=[],ee=0;ee<$;ee++)W[ee]=Q.i(ee)<<1|Q.i(ee-1)>>>31;return new s(W,Q.h)}function _t(Q,$){var W=$>>5;$%=32;for(var ee=Q.g.length-W,de=[],be=0;be<ee;be++)de[be]=0<$?Q.i(be+W)>>>$|Q.i(be+W+1)<<32-$:Q.i(be+W);return new s(de,Q.h)}(t=s.prototype).m=function(){if(x(this))return-V(this).m();for(var Q=0,$=1,W=0;W<this.g.length;W++){var ee=this.i(W);Q+=(0<=ee?ee:4294967296+ee)*$,$*=4294967296}return Q},t.toString=function(Q){if(2>(Q=Q||10)||36<Q)throw Error("radix out of range: "+Q);if(A(this))return"0";if(x(this))return"-"+V(this).toString(Q);for(var $=u(Math.pow(Q,6)),W=this,ee="";;){var de=_e(W,$).g,be=((0<(W=U(W,de.j($))).g.length?W.g[0]:W.h)>>>0).toString(Q);if(A(W=de))return be+ee;for(;6>be.length;)be="0"+be;ee=be+ee}},t.i=function(Q){return 0>Q?0:Q<this.g.length?this.g[Q]:this.h},t.l=function(Q){return x(Q=U(this,Q))?-1:A(Q)?0:1},t.abs=function(){return x(this)?V(this):this},t.add=function(Q){for(var $=Math.max(this.g.length,Q.g.length),W=[],ee=0,de=0;de<=$;de++){var be=ee+(65535&this.i(de))+(65535&Q.i(de)),Y=(be>>>16)+(this.i(de)>>>16)+(Q.i(de)>>>16);ee=Y>>>16,W[de]=(Y&=65535)<<16|(be&=65535)}return new s(W,-2147483648&W[W.length-1]?-1:0)},t.j=function(Q){if(A(this)||A(Q))return p;if(x(this))return x(Q)?V(this).j(V(Q)):V(V(this).j(Q));if(x(Q))return V(this.j(V(Q)));if(0>this.l(I)&&0>Q.l(I))return u(this.m()*Q.m());for(var $=this.g.length+Q.g.length,W=[],ee=0;ee<2*$;ee++)W[ee]=0;for(ee=0;ee<this.g.length;ee++)for(var de=0;de<Q.g.length;de++){var be=this.i(ee)>>>16,Y=65535&this.i(ee),ea=Q.i(de)>>>16,uc=65535&Q.i(de);W[2*ee+2*de]+=Y*uc,G(W,2*ee+2*de),W[2*ee+2*de+1]+=be*uc,G(W,2*ee+2*de+1),W[2*ee+2*de+1]+=Y*ea,G(W,2*ee+2*de+1),W[2*ee+2*de+2]+=be*ea,G(W,2*ee+2*de+2)}for(ee=0;ee<$;ee++)W[ee]=W[2*ee+1]<<16|W[2*ee];for(ee=$;ee<2*$;ee++)W[ee]=0;return new s(W,0)},t.A=function(Q){return _e(this,Q).h},t.and=function(Q){for(var $=Math.max(this.g.length,Q.g.length),W=[],ee=0;ee<$;ee++)W[ee]=this.i(ee)&Q.i(ee);return new s(W,this.h&Q.h)},t.or=function(Q){for(var $=Math.max(this.g.length,Q.g.length),W=[],ee=0;ee<$;ee++)W[ee]=this.i(ee)|Q.i(ee);return new s(W,this.h|Q.h)},t.xor=function(Q){for(var $=Math.max(this.g.length,Q.g.length),W=[],ee=0;ee<$;ee++)W[ee]=this.i(ee)^Q.i(ee);return new s(W,this.h^Q.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RB=SB.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=function d(Q,$){if(0==Q.length)throw Error("number format error: empty string");if(2>($=$||10)||36<$)throw Error("radix out of range: "+$);if("-"==Q.charAt(0))return V(d(Q.substring(1),$));if(0<=Q.indexOf("-"))throw Error('number format error: interior "-" character');for(var W=u(Math.pow($,8)),ee=p,de=0;de<Q.length;de+=8){var be=Math.min(8,Q.length-de),Y=parseInt(Q.substring(de,de+be),$);8>be?(be=u(Math.pow($,be)),ee=ee.j(be).add(u(Y))):ee=(ee=ee.j(W)).add(u(Y))}return ee},fd=SB.Integer=s}).apply(typeof DB<"u"?DB:typeof self<"u"?self:typeof window<"u"?window:{});var PB,MB,v_,xB,aE,JD,NB,kB,OB,sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hl={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,y,w){return f==Array.prototype||f==Object.prototype||(f[y]=w.value),f},r=function n(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof sE&&sE];for(var y=0;y<f.length;++y){var w=f[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}(this);!function i(f,y){if(y)e:{var w=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var ve=f[O];if(!(ve in w))break e;w=w[ve]}(y=y(O=w[f=f[f.length-1]]))!=O&&null!=y&&e(w,f,{configurable:!0,writable:!0,value:y})}}("Array.prototype.values",function(f){return f||function(){return function o(f,y){f instanceof String&&(f+="");var w=0,O=!1,ve={next:function(){if(!O&&w<f.length){var Fe=w++;return{value:y(Fe,f[Fe]),done:!1}}return O=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}(this,function(y,w){return w})}});var s=s||{},a=this||self;function l(f){var y=typeof f;return"array"==(y="object"!=y?y:f?Array.isArray(f)?"array":y:"null")||"object"==y&&"number"==typeof f.length}function u(f){var y=typeof f;return"object"==y&&null!=f||"function"==y}function d(f,y,w){return f.call.apply(f.bind,arguments)}function p(f,y,w){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,O),f.apply(y,ve)}}return function(){return f.apply(y,arguments)}}function _(f,y,w){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:p).apply(null,arguments)}function I(f,y){var w=Array.prototype.slice.call(arguments,1);return function(){var O=w.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function A(f,y){function w(){}w.prototype=y.prototype,f.aa=y.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(O,ve,Fe){for(var $t=Array(arguments.length-2),Lr=2;Lr<arguments.length;Lr++)$t[Lr-2]=arguments[Lr];return y.prototype[ve].apply(O,$t)}}function x(f){const y=f.length;if(0<y){const w=Array(y);for(let O=0;O<y;O++)w[O]=f[O];return w}return[]}function V(f,y){for(let w=1;w<arguments.length;w++){const O=arguments[w];if(l(O)){const ve=f.length||0,Fe=O.length||0;f.length=ve+Fe;for(let $t=0;$t<Fe;$t++)f[ve+$t]=O[$t]}else f.push(O)}}function G(f){return/^[\s\xa0]*$/.test(f)}function me(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function _e(f){return _e[" "](f),f}_e[" "]=function(){};var tt=!(-1==me().indexOf("Gecko")||-1!=me().toLowerCase().indexOf("webkit")&&-1==me().indexOf("Edge")||-1!=me().indexOf("Trident")||-1!=me().indexOf("MSIE")||-1!=me().indexOf("Edge"));function _t(f,y,w){for(const O in f)y.call(w,f[O],O,f)}function $(f){const y={};for(const w in f)y[w]=f[w];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(f,y){let w,O;for(let ve=1;ve<arguments.length;ve++){for(w in O=arguments[ve],O)f[w]=O[w];for(let Fe=0;Fe<W.length;Fe++)w=W[Fe],Object.prototype.hasOwnProperty.call(O,w)&&(f[w]=O[w])}}function de(f){var y=1;f=f.split(":");const w=[];for(;0<y&&f.length;)w.push(f.shift()),y--;return f.length&&w.push(f.join(":")),w}function be(f){a.setTimeout(()=>{throw f},0)}function Y(){var f=Gn;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}var uc=new class U{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}(()=>new Xt,f=>f.reset());class Xt{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ln,_n=!1,Gn=new class ea{constructor(){this.h=this.g=null}add(y,w){const O=uc.get();O.set(y,w),this.h?this.h.next=O:this.g=O,this.h=O}},Xr=()=>{const f=a.Promise.resolve(void 0);ln=()=>{f.then(ta)}};var ta=()=>{for(var f;f=Y();){try{f.h.call(f.g)}catch(w){be(w)}var y=uc;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}_n=!1};function _i(){this.s=this.s,this.C=this.C}function Zr(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}_i.prototype.s=!1,_i.prototype.ma=function(){this.s||(this.s=!0,this.N())},_i.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Zr.prototype.h=function(){this.defaultPrevented=!0};var Jr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};a.addEventListener("test",w,y),a.removeEventListener("test",w,y)}catch{}return f}();function cc(f,y){if(Zr.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(tt){e:{try{_e(y.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(y=null)}}else"mouseover"==w?y=f.fromElement:"mouseout"==w&&(y=f.toElement);this.relatedTarget=y,O?(this.clientX=void 0!==O.clientX?O.clientX:O.pageX,this.clientY=void 0!==O.clientY?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:zP[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&cc.aa.h.call(this)}}A(cc,Zr);var zP={2:"touch",3:"pen",4:"mouse"};cc.prototype.h=function(){cc.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var vi="closure_listenable_"+(1e6*Math.random()|0),nu=0;function fs(f,y,w,O,ve){this.listener=f,this.proxy=null,this.src=y,this.type=w,this.capture=!!O,this.ha=ve,this.key=++nu,this.da=this.fa=!1}function ru(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function dc(f){this.src=f,this.g={},this.h=0}function HP(f,y){var w=y.type;if(w in f.g){var Fe,O=f.g[w],ve=Array.prototype.indexOf.call(O,y,void 0);(Fe=0<=ve)&&Array.prototype.splice.call(O,ve,1),Fe&&(ru(y),0==f.g[w].length&&(delete f.g[w],f.h--))}}function GP(f,y,w,O){for(var ve=0;ve<f.length;++ve){var Fe=f[ve];if(!Fe.da&&Fe.listener==y&&Fe.capture==!!w&&Fe.ha==O)return ve}return-1}dc.prototype.add=function(f,y,w,O,ve){var Fe=f.toString();(f=this.g[Fe])||(f=this.g[Fe]=[],this.h++);var $t=GP(f,y,O,ve);return-1<$t?(y=f[$t],w||(y.fa=!1)):((y=new fs(y,this.src,Fe,!!O,ve)).fa=w,f.push(y)),y};var qP="closure_lm_"+(1e6*Math.random()|0),WP={};function yz(f,y,w,O,ve){if(O&&O.once)return Ez(f,y,w,O,ve);if(Array.isArray(y)){for(var Fe=0;Fe<y.length;Fe++)yz(f,y[Fe],w,O,ve);return null}return w=XP(w),f&&f[vi]?f.K(y,w,u(O)?!!O.capture:!!O,ve):Iz(f,y,w,!1,O,ve)}function Iz(f,y,w,O,ve,Fe){if(!y)throw Error("Invalid event type");var $t=u(ve)?!!ve.capture:!!ve,Lr=QP(f);if(Lr||(f[qP]=Lr=new dc(f)),(w=Lr.add(y,w,O,$t,Fe)).proxy)return w;if(O=function kpe(){const y=Ope;return function f(w){return y.call(f.src,f.listener,w)}}(),w.proxy=O,O.src=f,O.listener=w,f.addEventListener)Jr||(ve=$t),void 0===ve&&(ve=!1),f.addEventListener(y.toString(),O,ve);else if(f.attachEvent)f.attachEvent(Cz(y.toString()),O);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(O)}return w}function Ez(f,y,w,O,ve){if(Array.isArray(y)){for(var Fe=0;Fe<y.length;Fe++)Ez(f,y[Fe],w,O,ve);return null}return w=XP(w),f&&f[vi]?f.L(y,w,u(O)?!!O.capture:!!O,ve):Iz(f,y,w,!0,O,ve)}function bz(f,y,w,O,ve){if(Array.isArray(y))for(var Fe=0;Fe<y.length;Fe++)bz(f,y[Fe],w,O,ve);else O=u(O)?!!O.capture:!!O,w=XP(w),f&&f[vi]?(f=f.i,(y=String(y).toString())in f.g&&-1<(w=GP(Fe=f.g[y],w,O,ve))&&(ru(Fe[w]),Array.prototype.splice.call(Fe,w,1),0==Fe.length&&(delete f.g[y],f.h--))):f&&(f=QP(f))&&(y=f.g[y.toString()],f=-1,y&&(f=GP(y,w,O,ve)),(w=-1<f?y[f]:null)&&KP(w))}function KP(f){if("number"!=typeof f&&f&&!f.da){var y=f.src;if(y&&y[vi])HP(y.i,f);else{var w=f.type,O=f.proxy;y.removeEventListener?y.removeEventListener(w,O,f.capture):y.detachEvent?y.detachEvent(Cz(w),O):y.addListener&&y.removeListener&&y.removeListener(O),(w=QP(y))?(HP(w,f),0==w.h&&(w.src=null,y[qP]=null)):ru(f)}}}function Cz(f){return f in WP?WP[f]:WP[f]="on"+f}function Ope(f,y){if(f.da)f=!0;else{y=new cc(y,this);var w=f.listener,O=f.ha||f.src;f.fa&&KP(f),f=w.call(O,y)}return f}function QP(f){return(f=f[qP])instanceof dc?f:null}var YP="__closure_events_fn_"+(1e9*Math.random()>>>0);function XP(f){return"function"==typeof f?f:(f[YP]||(f[YP]=function(y){return f.handleEvent(y)}),f[YP])}function Oo(){_i.call(this),this.i=new dc(this),this.M=this,this.F=null}function ts(f,y){var w,O=f.F;if(O)for(w=[];O;O=O.F)w.push(O);if(f=f.M,O=y.type||y,"string"==typeof y)y=new Zr(y,f);else if(y instanceof Zr)y.target=y.target||f;else{var ve=y;ee(y=new Zr(O,f),ve)}if(ve=!0,w)for(var Fe=w.length-1;0<=Fe;Fe--){var $t=y.g=w[Fe];ve=gb($t,O,!0,y)&&ve}if(ve=gb($t=y.g=f,O,!0,y)&&ve,ve=gb($t,O,!1,y)&&ve,w)for(Fe=0;Fe<w.length;Fe++)ve=gb($t=y.g=w[Fe],O,!1,y)&&ve}function gb(f,y,w,O){if(!(y=f.i.g[String(y)]))return!0;y=y.concat();for(var ve=!0,Fe=0;Fe<y.length;++Fe){var $t=y[Fe];if($t&&!$t.da&&$t.capture==w){var Lr=$t.listener,go=$t.ha||$t.src;$t.fa&&HP(f.i,$t),ve=!1!==Lr.call(go,O)&&ve}}return ve&&!O.defaultPrevented}function wz(f,y,w){if("function"==typeof f)w&&(f=_(f,w));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=_(f.handleEvent,f)}return 2147483647<Number(y)?-1:a.setTimeout(f,y||0)}function Tz(f){f.g=wz(()=>{f.g=null,f.i&&(f.i=!1,Tz(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}A(Oo,_i),Oo.prototype[vi]=!0,Oo.prototype.removeEventListener=function(f,y,w,O){bz(this,f,y,w,O)},Oo.prototype.N=function(){if(Oo.aa.N.call(this),this.i){var y,f=this.i;for(y in f.g){for(var w=f.g[y],O=0;O<w.length;O++)ru(w[O]);delete f.g[y],f.h--}}this.F=null},Oo.prototype.K=function(f,y,w,O){return this.i.add(String(f),y,!1,w,O)},Oo.prototype.L=function(f,y,w,O){return this.i.add(String(f),y,!0,w,O)};class Fpe extends _i{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Tz(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dv(f){_i.call(this),this.h=f,this.g={}}A(dv,_i);var Az=[];function Dz(f){_t(f.g,function(y,w){this.g.hasOwnProperty(w)&&KP(y)},f),f.g={}}dv.prototype.N=function(){dv.aa.N.call(this),Dz(this)},dv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ZP=a.JSON.stringify,Lpe=a.JSON.parse,Vpe=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function JP(){}function Rz(){}JP.prototype.h=null;var hv={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eM(){Zr.call(this,"d")}function tM(){Zr.call(this,"c")}A(eM,Zr),A(tM,Zr);var Fd={},Pz=null;function _b(){return Pz=Pz||new Oo}function Mz(f){Zr.call(this,Fd.La,f)}function fv(f){const y=_b();ts(y,new Mz(y))}function xz(f,y){Zr.call(this,Fd.STAT_EVENT,f),this.stat=y}function ns(f){const y=_b();ts(y,new xz(y,f))}function Nz(f,y){Zr.call(this,Fd.Ma,f),this.size=y}function pv(f,y){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},y)}function mv(){this.g=!0}function Pp(f,y,w,O){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+function jpe(f,y){if(!f.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w)for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var O=w[f];if(!(2>O.length)){var ve=O[1];if(Array.isArray(ve)&&!(1>ve.length)){var Fe=ve[0];if("noop"!=Fe&&"stop"!=Fe&&"close"!=Fe)for(var $t=1;$t<ve.length;$t++)ve[$t]=""}}}return ZP(w)}catch{return y}}(f,w)+(O?" "+O:"")})}Fd.La="serverreachability",A(Mz,Zr),Fd.STAT_EVENT="statevent",A(xz,Zr),Fd.Ma="timingevent",A(Nz,Zr),mv.prototype.xa=function(){this.g=!1},mv.prototype.info=function(){};var nM,vb={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kz={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function yb(){}function hc(f,y,w,O){this.j=f,this.i=y,this.l=w,this.R=O||1,this.U=new dv(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oz}function Oz(){this.i=null,this.g="",this.h=!1}A(yb,JP),yb.prototype.g=function(){return new XMLHttpRequest},yb.prototype.i=function(){return{}},nM=new yb;var Fz={},rM={};function iM(f,y,w){f.L=1,f.v=Cb(iu(y)),f.m=w,f.P=!0,Lz(f,null)}function Lz(f,y){f.F=Date.now(),Ib(f),f.A=iu(f.v);var w=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),Xz(w.i,"t",O),f.C=0,w=f.j.J,f.h=new Oz,f.g=m5(f.j,w?y:null,!f.m),0<f.O&&(f.M=new Fpe(_(f.Y,f,f.g),f.O)),y=f.U,w=f.g,O=f.ca;var ve="readystatechange";Array.isArray(ve)||(ve&&(Az[0]=ve.toString()),ve=Az);for(var Fe=0;Fe<ve.length;Fe++){var $t=yz(w,ve[Fe],O||y.handleEvent,!1,y.h||y);if(!$t)break;y.g[$t.key]=$t}y=f.H?$(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),fv(),function $pe(f,y,w,O,ve,Fe){f.info(function(){if(f.g)if(Fe)for(var $t="",Lr=Fe.split("&"),go=0;go<Lr.length;go++){var gr=Lr[go].split("=");if(1<gr.length){var Fo=gr[0];gr=gr[1];var Lo=Fo.split("_");$t=2<=Lo.length&&"type"==Lo[1]?$t+(Fo+"=")+gr+"&":$t+(Fo+"=redacted&")}}else $t=null;else $t=Fe;return"XMLHTTP REQ ("+O+") [attempt "+ve+"]: "+y+"\n"+w+"\n"+$t})}(f.i,f.u,f.A,f.l,f.R,f.m)}function Vz(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function zpe(f,y){var w=f.C,O=y.indexOf("\n",w);return-1==O?rM:(w=Number(y.substring(w,O)),isNaN(w)?Fz:(O+=1)+w>y.length?rM:(y=y.slice(O,O+w),f.C=O+w,y))}function Ib(f){f.S=Date.now()+f.I,$z(f,f.I)}function $z(f,y){if(null!=f.B)throw Error("WatchDog timer not null");f.B=pv(_(f.ba,f),y)}function oM(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function gv(f){0==f.j.G||f.J||d5(f.j,f)}function Ld(f){oM(f);var y=f.M;y&&"function"==typeof y.ma&&y.ma(),f.M=null,Dz(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function sM(f,y){try{var w=f.j;if(0!=w.G&&(w.g==f||aM(w.h,f)))if(!f.K&&aM(w.h,f)&&3==w.G){try{var O=w.Da.g.parse(y)}catch{O=null}if(Array.isArray(O)&&3==O.length){var ve=O;if(0==ve[0]){e:if(!w.u){if(w.g){if(!(w.g.F+3e3<f.F))break e;Sb(w),Ab(w)}dM(w),ns(18)}}else w.za=ve[1],0<w.za-w.T&&37500>ve[2]&&w.F&&0==w.v&&!w.C&&(w.C=pv(_(w.Za,w),6e3));if(1>=jz(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else $d(w,11)}else if((f.K||w.g==f)&&Sb(w),!G(y))for(ve=w.Da.g.parse(y),y=0;y<ve.length;y++){let gr=ve[y];if(w.T=gr[0],gr=gr[1],2==w.G)if("c"==gr[0]){w.K=gr[1],w.ia=gr[2];const Fo=gr[3];null!=Fo&&(w.la=Fo,w.j.info("VER="+w.la));const Lo=gr[4];null!=Lo&&(w.Aa=Lo,w.j.info("SVER="+w.Aa));const Np=gr[5];null!=Np&&"number"==typeof Np&&0<Np&&(w.L=O=1.5*Np,w.j.info("backChannelRequestTimeoutMs_="+O)),O=w;const Sa=f.g;if(Sa){const Pb=Sa.g?Sa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pb){var Fe=O.h;Fe.g||-1==Pb.indexOf("spdy")&&-1==Pb.indexOf("quic")&&-1==Pb.indexOf("h2")||(Fe.j=Fe.l,Fe.g=new Set,Fe.h&&(lM(Fe,Fe.h),Fe.h=null))}if(O.D){const fM=Sa.g?Sa.g.getResponseHeader("X-HTTP-Session-Id"):null;fM&&(O.ya=fM,ei(O.I,O.D,fM))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms"));var $t=f;if((O=w).qa=p5(O,O.J?O.ia:null,O.W),$t.K){zz(O.h,$t);var Lr=$t,go=O.L;go&&(Lr.I=go),Lr.B&&(oM(Lr),Ib(Lr)),O.g=$t}else u5(O);0<w.i.length&&Db(w)}else"stop"!=gr[0]&&"close"!=gr[0]||$d(w,7);else 3==w.G&&("stop"==gr[0]||"close"==gr[0]?"stop"==gr[0]?$d(w,7):cM(w):"noop"!=gr[0]&&w.l&&w.l.ta(gr),w.v=0)}fv()}catch{}}hc.prototype.ca=function(f){f=f.target;const y=this.M;y&&3==ou(f)?y.j():this.Y(f)},hc.prototype.Y=function(f){try{if(f==this.g)e:{const Lo=ou(this.g);var y=this.g.Ba();if(this.g.Z(),!(3>Lo)&&(3!=Lo||this.g&&(this.h.h||this.g.oa()||i5(this.g)))){this.J||4!=Lo||7==y||fv(),oM(this);var w=this.g.Z();this.X=w;t:if(Vz(this)){var O=i5(this.g);f="";var ve=O.length,Fe=4==ou(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ld(this),gv(this);var $t="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ve;y++)this.h.h=!0,f+=this.h.i.decode(O[y],{stream:!(Fe&&y==ve-1)});O.length=0,this.h.g+=f,this.C=0,$t=this.h.g}else $t=this.g.oa();if(this.o=200==w,function Bpe(f,y,w,O,ve,Fe,$t){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+ve+"]: "+y+"\n"+w+"\n"+Fe+" "+$t})}(this.i,this.u,this.A,this.l,this.R,Lo,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Lr,go=this.g;if((Lr=go.g?go.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Lr)){var gr=Lr;break t}}gr=null}if(!(w=gr)){this.o=!1,this.s=3,ns(12),Ld(this),gv(this);break e}Pp(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sM(this,w)}if(this.P){let Sa;for(w=!0;!this.J&&this.C<$t.length;){if(Sa=zpe(this,$t),Sa==rM){4==Lo&&(this.s=4,ns(14),w=!1),Pp(this.i,this.l,null,"[Incomplete Response]");break}if(Sa==Fz){this.s=4,ns(15),Pp(this.i,this.l,$t,"[Invalid Chunk]"),w=!1;break}Pp(this.i,this.l,Sa,null),sM(this,Sa)}if(Vz(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Lo||0!=$t.length||this.h.h||(this.s=1,ns(16),w=!1),this.o=this.o&&w,w){if(0<$t.length&&!this.W){this.W=!0;var Fo=this.j;Fo.g==this&&Fo.ba&&!Fo.M&&(Fo.j.info("Great, no buffering proxy detected. Bytes received: "+$t.length),hM(Fo),Fo.M=!0,ns(11))}}else Pp(this.i,this.l,$t,"[Invalid Chunked Response]"),Ld(this),gv(this)}else Pp(this.i,this.l,$t,null),sM(this,$t);4==Lo&&Ld(this),this.o&&!this.J&&(4==Lo?d5(this.j,this):(this.o=!1,Ib(this)))}else(function sme(f){const y={};f=(f.g&&2<=ou(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let O=0;O<f.length;O++){if(G(f[O]))continue;var w=de(f[O]);const ve=w[0];if("string"!=typeof(w=w[1]))continue;w=w.trim();const Fe=y[ve]||[];y[ve]=Fe,Fe.push(w)}!function Q(f,y){for(const w in f)y.call(void 0,f[w],w,f)}(y,function(O){return O.join(", ")})})(this.g),400==w&&0<$t.indexOf("Unknown SID")?(this.s=3,ns(12)):(this.s=0,ns(13)),Ld(this),gv(this)}}}catch{}},hc.prototype.cancel=function(){this.J=!0,Ld(this)},hc.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function Upe(f,y){f.info(function(){return"TIMEOUT: "+y})}(this.i,this.A),2!=this.L&&(fv(),ns(17)),Ld(this),this.s=2,gv(this)):$z(this,this.S-f)};var Hpe=class{constructor(f,y){this.g=f,this.map=y}};function Bz(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uz(f){return!!f.h||!!f.g&&f.g.size>=f.j}function jz(f){return f.h?1:f.g?f.g.size:0}function aM(f,y){return f.h?f.h==y:!!f.g&&f.g.has(y)}function lM(f,y){f.g?f.g.add(y):f.h=y}function zz(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}function Hz(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let y=f.i;for(const w of f.g.values())y=y.concat(w.D);return y}return x(f.i)}function Gz(f,y){if(f.forEach&&"function"==typeof f.forEach)f.forEach(y,void 0);else if(l(f)||"string"==typeof f)Array.prototype.forEach.call(f,y,void 0);else for(var w=function qpe(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||"string"==typeof f){var y=[];f=f.length;for(var w=0;w<f;w++)y.push(w);return y}y=[],w=0;for(const O in f)y[w++]=O;return y}}}(f),O=function Gpe(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(l(f)){for(var y=[],w=f.length,O=0;O<w;O++)y.push(f[O]);return y}for(O in y=[],w=0,f)y[w++]=f[O];return y}(f),ve=O.length,Fe=0;Fe<ve;Fe++)y.call(void 0,O[Fe],w&&w[Fe],f)}Bz.prototype.cancel=function(){if(this.i=Hz(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var qz=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vd(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Vd){this.h=f.h,Eb(this,f.j),this.o=f.o,this.g=f.g,bb(this,f.s),this.l=f.l;var y=f.i,w=new yv;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Wz(this,w),this.m=f.m}else f&&(y=String(f).match(qz))?(this.h=!1,Eb(this,y[1]||"",!0),this.o=_v(y[2]||""),this.g=_v(y[3]||"",!0),bb(this,y[4]),this.l=_v(y[5]||"",!0),Wz(this,y[6]||"",!0),this.m=_v(y[7]||"")):(this.h=!1,this.i=new yv(null,this.h))}function iu(f){return new Vd(f)}function Eb(f,y,w){f.j=w?_v(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function bb(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Wz(f,y,w){y instanceof yv?(f.i=y,function Jpe(f,y){y&&!f.j&&(fc(f),f.i=null,f.g.forEach(function(w,O){var ve=O.toLowerCase();O!=ve&&(Qz(this,O),Xz(this,ve,w))},f)),f.j=y}(f.i,f.h)):(w||(y=vv(y,Xpe)),f.i=new yv(y,f.h))}function ei(f,y,w){f.i.set(y,w)}function Cb(f){return ei(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function _v(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function vv(f,y,w){return"string"==typeof f?(f=encodeURI(f).replace(y,Kpe),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Kpe(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}Vd.prototype.toString=function(){var f=[],y=this.j;y&&f.push(vv(y,Kz,!0),":");var w=this.g;return(w||"file"==y)&&(f.push("//"),(y=this.o)&&f.push(vv(y,Kz,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(w=this.s)&&f.push(":",String(w))),(w=this.l)&&(this.g&&"/"!=w.charAt(0)&&f.push("/"),f.push(vv(w,"/"==w.charAt(0)?Ype:Qpe,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",vv(w,Zpe)),f.join("")};var Kz=/[#\/\?@]/g,Qpe=/[#\?:]/g,Ype=/[#\?]/g,Xpe=/[#\?@]/g,Zpe=/#/g;function yv(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function fc(f){f.g||(f.g=new Map,f.h=0,f.i&&function Wpe(f,y){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var O=f[w].indexOf("="),ve=null;if(0<=O){var Fe=f[w].substring(0,O);ve=f[w].substring(O+1)}else Fe=f[w];y(Fe,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}(f.i,function(y,w){f.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}function Qz(f,y){fc(f),y=Mp(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Yz(f,y){return fc(f),y=Mp(f,y),f.g.has(y)}function Xz(f,y,w){Qz(f,y),0<w.length&&(f.i=null,f.g.set(Mp(f,y),x(w)),f.h+=w.length)}function Mp(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function pc(f,y,w,O,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),O(w)}catch{}}function nme(){this.g=new Vpe}function rme(f,y,w){const O=w||"";try{Gz(f,function(ve,Fe){let $t=ve;u(ve)&&($t=ZP(ve)),y.push(O+Fe+"="+encodeURIComponent($t))})}catch(ve){throw y.push(O+"type="+encodeURIComponent("_badmap")),ve}}function Iv(f){this.l=f.Ub||null,this.j=f.eb||!1}function wb(f,y){Oo.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Zz(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function Ev(f){f.readyState=4,f.l=null,f.j=null,f.v=null,bv(f)}function bv(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function Jz(f){let y="";return _t(f,function(w,O){y+=O,y+=":",y+=w,y+="\r\n"}),y}function uM(f,y,w){e:{for(O in w){var O=!1;break e}O=!0}O||(w=Jz(w),"string"==typeof f?null!=w&&encodeURIComponent(String(w)):ei(f,y,w))}function yi(f){Oo.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=yv.prototype).add=function(f,y){fc(this),this.i=null,f=Mp(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(y),this.h+=1,this},t.forEach=function(f,y){fc(this),this.g.forEach(function(w,O){w.forEach(function(ve){f.call(y,ve,O,this)},this)},this)},t.na=function(){fc(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let O=0;O<y.length;O++){const ve=f[O];for(let Fe=0;Fe<ve.length;Fe++)w.push(y[O])}return w},t.V=function(f){fc(this);let y=[];if("string"==typeof f)Yz(this,f)&&(y=y.concat(this.g.get(Mp(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)y=y.concat(f[w])}return y},t.set=function(f,y){return fc(this),this.i=null,Yz(this,f=Mp(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f&&0<(f=this.V(f)).length?String(f[0]):y},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var O=y[w];const Fe=encodeURIComponent(String(O)),$t=this.V(O);for(O=0;O<$t.length;O++){var ve=Fe;""!==$t[O]&&(ve+="="+encodeURIComponent(String($t[O]))),f.push(ve)}}return this.i=f.join("&")},A(Iv,JP),Iv.prototype.g=function(){return new wb(this.l,this.j)},Iv.prototype.i=function(f){return function(){return f}}({}),A(wb,Oo),(t=wb.prototype).open=function(f,y){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,bv(this)},t.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ev(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,bv(this)),this.g&&(this.readyState=3,bv(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zz(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Ev(this):bv(this),3==this.readyState&&Zz(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ev(this))},t.Qa=function(f){this.g&&(this.response=f,Ev(this))},t.ga=function(){this.g&&Ev(this)},t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var w=y.next();!w.done;)f.push((w=w.value)[0]+": "+w[1]),w=y.next();return f.join("\r\n")},Object.defineProperty(wb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),A(yi,Oo);var ime=/^https?$/i,ome=["POST","PUT"];function e5(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,t5(f),Tb(f)}function t5(f){f.A||(f.A=!0,ts(f,"complete"),ts(f,"error"))}function n5(f){if(f.h&&typeof s<"u"&&(!f.v[1]||4!=ou(f)||2!=f.Z()))if(f.u&&4==ou(f))wz(f.Ea,0,f);else if(ts(f,"readystatechange"),4==ou(f)){f.h=!1;try{const $t=f.Z();e:switch($t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var O;if(O=0===$t){var ve=String(f.D).match(qz)[1]||null;!ve&&a.self&&a.self.location&&(ve=a.self.location.protocol.slice(0,-1)),O=!ime.test(ve?ve.toLowerCase():"")}w=O}if(w)ts(f,"complete"),ts(f,"success");else{f.m=6;try{var Fe=2<ou(f)?f.g.statusText:""}catch{Fe=""}f.l=Fe+" ["+f.Z()+"]",t5(f)}}finally{Tb(f)}}}function Tb(f,y){if(f.g){r5(f);const w=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||ts(f,"ready");try{w.onreadystatechange=O}catch{}}}function r5(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function ou(f){return f.g?f.g.readyState:0}function i5(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Cv(f,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||y}function o5(f){this.Aa=0,this.i=[],this.j=new mv,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cv("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cv("baseRetryDelayMs",5e3,f),this.cb=Cv("retryDelaySeedMs",1e4,f),this.Wa=Cv("forwardChannelMaxRetries",2,f),this.wa=Cv("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Bz(f&&f.concurrentRequestLimit),this.Da=new nme,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function cM(f){if(s5(f),3==f.G){var y=f.U++,w=iu(f.I);if(ei(w,"SID",f.K),ei(w,"RID",y),ei(w,"TYPE","terminate"),wv(f,w),(y=new hc(f,f.j,y)).L=2,y.v=Cb(iu(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&a.Image&&((new Image).src=y.v,w=!0),w||(y.g=m5(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ib(y)}f5(f)}function Ab(f){f.g&&(hM(f),f.g.cancel(),f.g=null)}function s5(f){Ab(f),f.u&&(a.clearTimeout(f.u),f.u=null),Sb(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function Db(f){if(!Uz(f.h)&&!f.s){f.s=!0;var y=f.Ga;ln||Xr(),_n||(ln(),_n=!0),Gn.add(y,f),f.B=0}}function a5(f,y){var w;w=y?y.l:f.U++;const O=iu(f.I);ei(O,"SID",f.K),ei(O,"RID",w),ei(O,"AID",f.T),wv(f,O),f.m&&f.o&&uM(O,f.m,f.o),w=new hc(f,f.j,w,f.B+1),null===f.m&&(w.H=f.o),y&&(f.i=y.D.concat(f.i)),y=l5(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),lM(f.h,w),iM(w,O,y)}function wv(f,y){f.H&&_t(f.H,function(w,O){ei(y,O,w)}),f.l&&Gz({},function(w,O){ei(y,O,w)})}function l5(f,y,w){w=Math.min(f.i.length,w);var O=f.l?_(f.l.Na,f.l,f):null;e:{var ve=f.i;let Fe=-1;for(;;){const $t=["count="+w];-1==Fe?0<w?(Fe=ve[0].g,$t.push("ofs="+Fe)):Fe=0:$t.push("ofs="+Fe);let Lr=!0;for(let go=0;go<w;go++){let gr=ve[go].g;const Fo=ve[go].map;if(gr-=Fe,0>gr)Fe=Math.max(0,ve[go].g-100),Lr=!1;else try{rme(Fo,$t,"req"+gr+"_")}catch{O&&O(Fo)}}if(Lr){O=$t.join("&");break e}}}return f=f.i.splice(0,w),y.D=f,O}function u5(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ln||Xr(),_n||(ln(),_n=!0),Gn.add(y,f),f.v=0}}function dM(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=pv(_(f.Fa,f),h5(f,f.v)),f.v++,0))}function hM(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function c5(f){f.g=new hc(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var y=iu(f.qa);ei(y,"RID","rpc"),ei(y,"SID",f.K),ei(y,"AID",f.T),ei(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&ei(y,"TO",f.ja),ei(y,"TYPE","xmlhttp"),wv(f,y),f.m&&f.o&&uM(y,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=Cb(iu(y)),w.m=null,w.P=!0,Lz(w,f)}function Sb(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function d5(f,y){var w=null;if(f.g==y){Sb(f),hM(f),f.g=null;var O=2}else{if(!aM(f.h,y))return;w=y.D,zz(f.h,y),O=1}if(0!=f.G)if(y.o)if(1==O){w=y.m?y.m.length:0,y=Date.now()-y.F;var ve=f.B;ts(O=_b(),new Nz(O,w)),Db(f)}else u5(f);else if(3==(ve=y.s)||0==ve&&0<y.X||!(1==O&&function ame(f,y){return!(jz(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=y.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=pv(_(f.Ga,f,y),h5(f,f.B)),f.B++,0)))}(f,y)||2==O&&dM(f)))switch(w&&0<w.length&&(y=f.h,y.i=y.i.concat(w)),ve){case 1:$d(f,5);break;case 4:$d(f,10);break;case 3:$d(f,6);break;default:$d(f,2)}}function h5(f,y){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*y}function $d(f,y){if(f.j.info("Error code "+y),2==y){var w=_(f.fb,f),O=f.Xa;const ve=!O;O=new Vd(O||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Eb(O,"https"),Cb(O),ve?function eme(f,y){const w=new mv;if(a.Image){const O=new Image;O.onload=I(pc,w,"TestLoadImage: loaded",!0,y,O),O.onerror=I(pc,w,"TestLoadImage: error",!1,y,O),O.onabort=I(pc,w,"TestLoadImage: abort",!1,y,O),O.ontimeout=I(pc,w,"TestLoadImage: timeout",!1,y,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else y(!1)}(O.toString(),w):function tme(f,y){new mv;const O=new AbortController,ve=setTimeout(()=>{O.abort(),pc(0,0,!1,y)},1e4);fetch(f,{signal:O.signal}).then(Fe=>{clearTimeout(ve),pc(0,0,!!Fe.ok,y)}).catch(()=>{clearTimeout(ve),pc(0,0,!1,y)})}(O.toString(),w)}else ns(2);f.G=0,f.l&&f.l.sa(y),f5(f),s5(f)}function f5(f){if(f.G=0,f.ka=[],f.l){const y=Hz(f.h);(0!=y.length||0!=f.i.length)&&(V(f.ka,y),V(f.ka,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.ra()}}function p5(f,y,w){var O=w instanceof Vd?iu(w):new Vd(w);if(""!=O.g)y&&(O.g=y+"."+O.g),bb(O,O.s);else{var ve=a.location;O=ve.protocol,y=y?y+"."+ve.hostname:ve.hostname,ve=+ve.port;var Fe=new Vd(null);O&&Eb(Fe,O),y&&(Fe.g=y),ve&&bb(Fe,ve),w&&(Fe.l=w),O=Fe}return y=f.ya,(w=f.D)&&y&&ei(O,w,y),ei(O,"VER",f.la),wv(f,O),O}function m5(f,y,w){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(y=new yi(f.Ca&&!f.pa?new Iv({eb:w}):f.pa)).Ha(f.J),y}function g5(){}function Rb(){}function Os(f,y){Oo.call(this),this.g=new o5(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!G(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,null!==(f=this.h)&&y in f&&y in(f=this.h)&&delete f[y]),this.j=new xp(this)}function _5(f){eM.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const w in y){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,y=null!==y&&f in y?y[f]:void 0),this.data=y}else this.data=f}function v5(){tM.call(this),this.status=1}function xp(f){this.g=f}(t=yi.prototype).Ha=function(f){this.J=f},t.ea=function(f,y,w,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nM.g(),this.v=function Sz(f){return f.h||(f.h=f.i())}(this.o?this.o:nM),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Fe){return void e5(this,Fe)}if(f=w||"",w=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var ve in O)w.set(ve,O[ve]);else{if("function"!=typeof O.keys||"function"!=typeof O.get)throw Error("Unknown input type for opt_headers: "+String(O));for(const Fe of O.keys())w.set(Fe,O.get(Fe))}O=Array.from(w.keys()).find(Fe=>"content-type"==Fe.toLowerCase()),ve=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ome,y,void 0))||O||ve||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Fe,$t]of w)this.g.setRequestHeader(Fe,$t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{r5(this),this.u=!0,this.g.send(f),this.u=!1}catch(Fe){e5(this,Fe)}},t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ts(this,"complete"),ts(this,"abort"),Tb(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tb(this,!0)),yi.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?n5(this):this.bb())},t.bb=function(){n5(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<ou(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&0==y.indexOf(f)&&(y=y.substring(f.length)),Lpe(y)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=o5.prototype).la=8,t.G=1,t.connect=function(f,y,w,O){ns(0),this.W=f,this.H=y||{},w&&void 0!==O&&(this.H.OSID=w,this.H.OAID=O),this.F=this.X,this.I=p5(this,null,this.W),Db(this)},t.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ve=new hc(this,this.j,f);let Fe=this.o;if(this.S&&(Fe?(Fe=$(Fe),ee(Fe,this.S)):Fe=this.S),null!==this.m||this.O||(ve.H=Fe,Fe=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){var O=this.i[w];if(void 0===(O="__data__"in O.map&&"string"==typeof(O=O.map.__data__)?O.length:void 0))break;if(4096<(y+=O)){y=w;break e}if(4096===y||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=l5(this,ve,y),ei(w=iu(this.I),"RID",f),ei(w,"CVER",22),this.D&&ei(w,"X-HTTP-Session-Id",this.D),wv(this,w),Fe&&(this.O?y="headers="+encodeURIComponent(String(Jz(Fe)))+"&"+y:this.m&&uM(w,this.m,Fe)),lM(this.h,ve),this.Ua&&ei(w,"TYPE","init"),this.P?(ei(w,"$req",y),ei(w,"SID","null"),ve.T=!0,iM(ve,w,null)):iM(ve,w,y),this.G=2}}else 3==this.G&&(f?a5(this,f):0==this.i.length||Uz(this.h)||a5(this))},t.Fa=function(){if(this.u=null,c5(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=pv(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ns(10),Ab(this),c5(this))},t.Za=function(){null!=this.C&&(this.C=null,Ab(this),dM(this),ns(19))},t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ns(2)):(this.j.info("Failed to ping google.com"),ns(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=g5.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},Rb.prototype.g=function(f,y){return new Os(f,y)},A(Os,Oo),Os.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Os.prototype.close=function(){cM(this.g)},Os.prototype.o=function(f){var y=this.g;if("string"==typeof f){var w={};w.__data__=f,f=w}else this.u&&((w={}).__data__=ZP(f),f=w);y.i.push(new Hpe(y.Ya++,f)),3==y.G&&Db(y)},Os.prototype.N=function(){this.g.l=null,delete this.j,cM(this.g),delete this.g,Os.aa.N.call(this)},A(_5,eM),A(v5,tM),A(xp,g5),xp.prototype.ua=function(){ts(this.g,"a")},xp.prototype.ta=function(f){ts(this.g,new _5(f))},xp.prototype.sa=function(f){ts(this.g,new v5)},xp.prototype.ra=function(){ts(this.g,"b")},Rb.prototype.createWebChannel=Rb.prototype.g,Os.prototype.send=Os.prototype.o,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,OB=Hl.createWebChannelTransport=function(){return new Rb},kB=Hl.getStatEventTarget=function(){return _b()},NB=Hl.Event=Fd,JD=Hl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vb.NO_ERROR=0,vb.TIMEOUT=8,vb.HTTP_ERROR=6,aE=Hl.ErrorCode=vb,kz.COMPLETE="complete",xB=Hl.EventType=kz,Rz.EventType=hv,hv.OPEN="a",hv.CLOSE="b",hv.ERROR="c",hv.MESSAGE="d",Oo.prototype.listen=Oo.prototype.K,v_=Hl.WebChannel=Rz,MB=Hl.FetchXmlHttpFactory=Iv,yi.prototype.listenOnce=yi.prototype.L,yi.prototype.getLastError=yi.prototype.Ka,yi.prototype.getLastErrorCode=yi.prototype.Ba,yi.prototype.getStatus=yi.prototype.Z,yi.prototype.getResponseJson=yi.prototype.Oa,yi.prototype.getResponseText=yi.prototype.oa,yi.prototype.send=yi.prototype.ea,yi.prototype.setWithCredentials=yi.prototype.Ha,PB=Hl.XhrIo=yi}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});const FB="@firebase/firestore";class no{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}no.UNAUTHENTICATED=new no(null),no.GOOGLE_CREDENTIALS=new no("google-credentials-uid"),no.FIRST_PARTY=new no("first-party-uid"),no.MOCK_USER=new no("mock-user");let jf="10.12.1";const Hu=new il.Vy("@firebase/firestore");function zf(){return Hu.logLevel}function ct(t,...e){if(Hu.logLevel<=il.$b.DEBUG){const n=e.map(eS);Hu.debug(`Firestore (${jf}): ${t}`,...n)}}function Di(t,...e){if(Hu.logLevel<=il.$b.ERROR){const n=e.map(eS);Hu.error(`Firestore (${jf}): ${t}`,...n)}}function cs(t,...e){if(Hu.logLevel<=il.$b.WARN){const n=e.map(eS);Hu.warn(`Firestore (${jf}): ${t}`,...n)}}function eS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Kt(t="Unexpected state"){const e=`FIRESTORE (${jf}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function an(t,e){t||Kt()}function Vt(t,e){return t}const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends $n.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class LB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(no.UNAUTHENTICATED))}shutdown(){}}class aae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lae{constructor(e){this.t=e,this.currentUser=no.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,E.A)(function*(){yield u.promise,yield o(r.currentUser)}))},l=u=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(an("string"==typeof r.accessToken),new LB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return an(null===e||"string"==typeof e),new no(e)}}class uae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=no.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(no.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ct("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(an("string"==typeof n.token),this.R=n.token,new VB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class $B{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=hae(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Nn(t,e){return t<e?-1:t>e?1:0}function Hf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function BB(t){return t+"\0"}class ni{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new st(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new st(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ni(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nn(this.nanoseconds,e.nanoseconds):Nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mn(e)}static min(){return new mn(new ni(0,0))}static max(){return new mn(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class y_{constructor(e,n,r){void 0===n?n=0:n>e.length&&Kt(),void 0===r?r=e.length-n:r>e.length-n&&Kt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===y_.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof y_?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ir extends y_{construct(e,n,r){return new ir(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(Me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ir(n)}static emptyPath(){return new ir([])}}const fae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends y_{construct(e,n,r){return new Kr(e,n,r)}static isValidIdentifier(e){return fae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new st(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new st(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new st(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new st(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(n)}static emptyPath(){return new Kr([])}}class Bt{constructor(e){this.path=e}static fromPath(e){return new Bt(ir.fromString(e))}static fromName(e){return new Bt(ir.fromString(e).popFirst(5))}static empty(){return new Bt(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ir.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ir.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bt(new ir(e.slice()))}}class Gf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function tS(t){return t.fields.find(e=>2===e.kind)}function pd(t){return t.fields.filter(e=>2!==e.kind)}Gf.UNKNOWN_ID=-1;class md{constructor(e,n){this.fieldPath=e,this.kind=n}}class qf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new qf(0,xs.min())}}function UB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=mn.fromTimestamp(1e9===r?new ni(n+1,0):new ni(n,r));return new xs(i,Bt.empty(),e)}function jB(t){return new xs(t.readTime,t.key,-1)}class xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(mn.min(),Bt.empty(),-1)}static max(){return new xs(mn.max(),Bt.empty(),-1)}}function nS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Bt.comparator(t.documentKey,e.documentKey),0!==n?n:Nn(t.largestBatchId,e.largestBatchId))}const zB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gu(t){return rS.apply(this,arguments)}function rS(){return(rS=(0,E.A)(function*(t){if(t.code!==Me.FAILED_PRECONDITION||t.message!==zB)throw t;ct("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ie((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ie?n:Ie.resolve(n)}catch(n){return Ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.reject(n)}static resolve(e){return new Ie((n,r)=>{n(e)})}static reject(e){return new Ie((n,r)=>{r(e)})}static waitFor(e){return new Ie((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Ie.resolve(!1);for(const r of e)n=n.next(i=>i?Ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Ie((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new Ie((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class lE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Wi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new I_(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=iS(r.target.error);this.V.reject(new I_(e,i))}}static open(e,n,r,i){try{return new lE(n,e.transaction(i,r))}catch(o){throw new I_(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ct("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new _ae(n)}}class ol{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===ol.S((0,$n.ZQ)())&&Di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ct("SimpleDb","Removing database:",e),gd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,$n.zW)())return!1;if(ol.C())return!0;const e=(0,$n.ZQ)(),n=ol.S(e),r=0<n&&n<10,i=GB(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){var n=this;return(0,E.A)(function*(){return n.db||(ct("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new I_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new st(Me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new st(Me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new I_(e,a))},o.onupgradeneeded=s=>{ct("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.O(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{ct("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.N&&(n.db.onversionchange=r=>n.N(r)),n.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,E.A)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.M(e);const l=lE.open(o.db,e,s?"readonly":"readwrite",r),u=i(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),Ie.reject(d))).toPromise();return u.catch(()=>{}),yield l.m,u}catch(l){const u=l,d="FirebaseError"!==u.name&&a<3;if(ct("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),o.close(),!d)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function GB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class gae{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return gd(this.B.delete())}}class I_ extends st{constructor(e,n){super(Me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function qu(t){return"IndexedDbTransactionError"===t.name}class _ae{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(ct("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ct("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),gd(r)}add(e){return ct("SimpleDb","ADD",this.store.name,e,e),gd(this.store.add(e))}get(e){return gd(this.store.get(e)).next(n=>(void 0===n&&(n=null),ct("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ct("SimpleDb","DELETE",this.store.name,e),gd(this.store.delete(e))}count(){return ct("SimpleDb","COUNT",this.store.name),gd(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new Ie((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new Ie((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){ct("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new Ie((r,i)=>{n.onerror=o=>{const s=iS(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){const r=[];return new Ie((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new gae(a),u=n(a.primaryKey,a.value,l);if(u instanceof Ie){const d=u.catch(p=>(l.done(),Ie.reject(p)));r.push(d)}l.isDone?i():null===l.K?a.continue():a.continue(l.K)}}).next(()=>Ie.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function gd(t){return new Ie((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=iS(r.target.error);n(i)}})}let qB=!1;function iS(t){const e=ol.S((0,$n.ZQ)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qB||(qB=!0,setTimeout(()=>{throw r},0)),r}}return t}class vae{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var n=this;ct("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,E.A)(function*(){n.task=null;try{ct("IndexBackfiller",`Documents written: ${yield n.Z.ee()}`)}catch(r){qu(r)?ct("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield Gu(r)}yield n.X(6e4)}))}}class yae{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){var n=this;return(0,E.A)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.te(r,e))})()}te(e,n){const r=new Set;let i=n,o=!0;return Ie.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return ct("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(ct("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=jB(o);nS(s,r)>0&&(r=s)}),new xs(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Ns=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function E_(t){return null==t}function b_(t){return 0===t&&1/t==-1/0}function WB(t){return"number"==typeof t&&Number.isInteger(t)&&!b_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Po(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KB(e)),e=Iae(t.get(n),e);return KB(e)}function Iae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function KB(t){return t+"\x01\x01"}function sl(t){const e=t.length;if(an(e>=2),2===e)return an("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ir.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Kt(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Kt()}o=s+2}return new ir(r)}const QB=["userId","batchId"];function uE(t,e){return[t,Po(e)]}function YB(t,e,n){return[t,Po(e),n]}const Eae={},bae=["prefixPath","collectionGroup","readTime","documentId"],Cae=["prefixPath","collectionGroup","documentId"],wae=["collectionGroup","readTime","prefixPath","documentId"],Tae=["canonicalId","targetId"],Aae=["targetId","path"],Dae=["path","targetId"],Sae=["collectionId","parent"],Rae=["indexId","uid"],Pae=["uid","sequenceNumber"],Mae=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xae=["indexId","uid","orderedDocumentKey"],Nae=["userId","collectionPath","documentId"],kae=["userId","collectionPath","largestBatchId"],Oae=["userId","collectionGroup","largestBatchId"],XB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fae=[...XB,"documentOverlays"],ZB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],JB=ZB,eU=[...JB,"indexConfiguration","indexState","indexEntries"],Lae=eU;class oS extends HB{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function ro(t,e){const n=Vt(t);return ol.F(n._e,e)}function tU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Hr{constructor(e,n){this.comparator=e,this.root=n||fo.EMPTY}insert(e,n){return new Hr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fo.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cE(this.root,e,this.comparator,!1)}getReverseIterator(){return new cE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cE(this.root,e,this.comparator,!0)}}class cE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fo{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:fo.RED,this.left=null!=i?i:fo.EMPTY,this.right=null!=o?o:fo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new fo(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return fo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const e=this.left.check();if(e!==this.right.check())throw Kt();return e+(this.isRed()?0:1)}}fo.EMPTY=null,fo.RED=!0,fo.BLACK=!1,fo.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new fo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iU(this.data.getIterator())}getIteratorFrom(e){return new iU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xr(this.comparator);return n.data=e,n}}class iU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wf(t){return t.hasNext()?t.getNext():void 0}class ds{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new ds([])}unionWith(e){let n=new xr(Kr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class oU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ki{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oU("Invalid base64 string: "+o):o}}(e);return new Ki(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ki(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ki.EMPTY_BYTE_STRING=new Ki("");const $ae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gl(t){if(an(!!t),"string"==typeof t){let e=0;const n=$ae.exec(t);if(an(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gi(t.seconds),nanos:gi(t.nanos)}}function gi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ql(t){return"string"==typeof t?Ki.fromBase64String(t):Ki.fromUint8Array(t)}function dE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hE(t){const e=t.mapValue.fields.__previous_value__;return dE(e)?hE(e):e}function C_(t){const e=Gl(t.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}class Bae{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ku{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}const Qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fE={nullValue:"NULL_VALUE"};function Yu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dE(t)?4:uU(t)?9007199254740991:10:Kt()}function al(t,e){if(t===e)return!0;const n=Yu(t);if(n!==Yu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return C_(t).isEqual(C_(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Gl(i.timestampValue),a=Gl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,ql(t.bytesValue).isEqual(ql(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return gi(i.geoPointValue.latitude)===gi(o.geoPointValue.latitude)&&gi(i.geoPointValue.longitude)===gi(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return gi(i.integerValue)===gi(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=gi(i.doubleValue),a=gi(o.doubleValue);return s===a?b_(s)===b_(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Hf(t.arrayValue.values||[],e.arrayValue.values||[],al);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(tU(s)!==tU(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!al(s[l],a[l])))return!1;return!0}(t,e);default:return Kt()}var o}function w_(t,e){return void 0!==(t.values||[]).find(n=>al(n,e))}function Xu(t,e){if(t===e)return 0;const n=Yu(t),r=Yu(e);if(n!==r)return Nn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nn(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=gi(o.integerValue||o.doubleValue),l=gi(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return sU(t.timestampValue,e.timestampValue);case 4:return sU(C_(t),C_(e));case 5:return Nn(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ql(o),l=ql(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Nn(a[u],l[u]);if(0!==d)return d}return Nn(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Nn(gi(o.latitude),gi(s.latitude));return 0!==a?a:Nn(gi(o.longitude),gi(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=Xu(a[u],l[u]);if(d)return d}return Nn(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Qu.mapValue&&s===Qu.mapValue)return 0;if(o===Qu.mapValue)return 1;if(s===Qu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const _=Nn(l[p],d[p]);if(0!==_)return _;const I=Xu(a[l[p]],u[d[p]]);if(0!==I)return I}return Nn(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Kt()}}function sU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Nn(t,e);const n=Gl(t),r=Gl(e),i=Nn(n.seconds,r.seconds);return 0!==i?i:Nn(n.nanos,r.nanos)}function Kf(t){return sS(t)}function sS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ql(t.bytesValue).toBase64():"referenceValue"in t?Bt.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=sS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${sS(n.fields[s])}`;return i+"}"}(t.mapValue):Kt()}function _d(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function aS(t){return!!t&&"integerValue"in t}function T_(t){return!!t&&"arrayValue"in t}function aU(t){return!!t&&"nullValue"in t}function lU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mE(t){return!!t&&"mapValue"in t}function A_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=A_(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=A_(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Uae(t){return"nullValue"in t?fE:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?_d(Ku.empty(),Bt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Kt()}function jae(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?_d(Ku.empty(),Bt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Qu:Kt()}function cU(t,e){const n=Xu(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function dU(t,e){const n=Xu(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class po{constructor(e){this.value=e}static empty(){return new po({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mE(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=A_(n)}setAll(e){let n=Kr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=A_(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());mE(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return al(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wu(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new po(A_(this.value))}}function hU(t){const e=[];return Wu(t.fields,(n,r)=>{const i=new Kr([n]);if(mE(r)){const o=hU(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ds(e)}class Qr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Qr(e,0,mn.min(),mn.min(),mn.min(),po.empty(),0)}static newFoundDocument(e,n,r,i){return new Qr(e,1,n,mn.min(),r,i,0)}static newNoDocument(e,n){return new Qr(e,2,n,mn.min(),mn.min(),po.empty(),0)}static newUnknownDocument(e,n){return new Qr(e,3,n,mn.min(),mn.min(),po.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=po.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=po.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zu{constructor(e,n){this.position=e,this.inclusive=n}}function fU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Bt.comparator(Bt.fromName(s.referenceValue),n.key):Xu(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function pU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!al(t.position[n],e.position[n]))return!1;return!0}class D_{constructor(e,n="asc"){this.field=e,this.dir=n}}function zae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class mU{}class or extends mU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Hae(e,n,r):"array-contains"===n?new Wae(e,r):"in"===n?new EU(e,r):"not-in"===n?new Kae(e,r):"array-contains-any"===n?new Qae(e,r):new or(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Gae(e,r):new qae(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Xu(n,this.value)):null!==n&&Yu(this.value)===Yu(n)&&this.matchesComparison(Xu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends mU{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Sr(e,n)}matches(e){return Qf(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qf(t){return"and"===t.op}function lS(t){return"or"===t.op}function uS(t){return gU(t)&&Qf(t)}function gU(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function cS(t){if(t instanceof or)return t.field.canonicalString()+t.op.toString()+Kf(t.value);if(uS(t))return t.filters.map(e=>cS(e)).join(",");{const e=t.filters.map(n=>cS(n)).join(",");return`${t.op}(${e})`}}function _U(t,e){return t instanceof or?(r=t,(i=e)instanceof or&&r.op===i.op&&r.field.isEqual(i.field)&&al(r.value,i.value)):t instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&_U(s,i.filters[a]),!0)}(t,e):void Kt();var r,i}function vU(t,e){const n=t.filters.concat(e);return Sr.create(n,t.op)}function yU(t){return t instanceof or?`${(n=t).field.canonicalString()} ${n.op} ${Kf(n.value)}`:t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(yU).join(" ,")+"}"}(t):"Filter";var n}class Hae extends or{constructor(e,n,r){super(e,n,r),this.key=Bt.fromName(r.referenceValue)}matches(e){const n=Bt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gae extends or{constructor(e,n){super(e,"in",n),this.keys=IU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qae extends or{constructor(e,n){super(e,"not-in",n),this.keys=IU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Bt.fromName(r.referenceValue))}class Wae extends or{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return T_(n)&&w_(n.arrayValue,this.value)}}class EU extends or{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&w_(this.value.arrayValue,n)}}class Kae extends or{constructor(e,n){super(e,"not-in",n)}matches(e){if(w_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!w_(this.value.arrayValue,n)}}class Qae extends or{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!T_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>w_(this.value.arrayValue,r))}}class Yae{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function dS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Yae(t,e,n,r,i,o,s)}function vd(t){const e=Vt(t);if(null===e.ue){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),E_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Kf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Kf(r)).join(",")),e.ue=n}return e.ue}function S_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_U(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pU(t.startAt,e.startAt)&&pU(t.endAt,e.endAt)}function gE(t){return Bt.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function _E(t,e){return t.filters.filter(n=>n instanceof or&&n.field.isEqual(e))}function bU(t,e,n){let r=fE,i=!0;for(const o of _E(t,e)){let s=fE,a=!0;switch(o.op){case"<":case"<=":s=Uae(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=fE}cU({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];cU({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function CU(t,e,n){let r=Qu,i=!0;for(const o of _E(t,e)){let s=Qu,a=!0;switch(o.op){case">=":case">":s=jae(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Qu}dU({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];dU({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class Wl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function wU(t,e,n,r,i,o,s,a){return new Wl(t,e,n,r,i,o,s,a)}function Yf(t){return new Wl(t)}function TU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function hS(t){return null!==t.collectionGroup}function Xf(t){const e=Vt(t);if(null===e.ce){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new xr(Kr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new D_(o,r))}),n.has(Kr.keyField().canonicalString())||e.ce.push(new D_(Kr.keyField(),r))}return e.ce}function Mo(t){const e=Vt(t);return e.le||(e.le=function DU(t,e){if("F"===t.limitType)return dS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new D_(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Zu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zu(t.startAt.position,t.startAt.inclusive):null;return dS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Xf(t))),e.le}function fS(t,e){const n=t.filters.concat([e]);return new Wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vE(t,e,n){return new Wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function R_(t,e){return S_(Mo(t),Mo(e))&&t.limitType===e.limitType}function SU(t){return`${vd(Mo(t))}|lt:${t.limitType}`}function Zf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yU(i)).join(", ")}]`),E_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Kf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Kf(i)).join(",")),`Target(${r})`}(Mo(t))}; limitType=${t.limitType})`}function P_(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Bt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Xf(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,l){const u=fU(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Xf(r),i)||r.endAt&&!function(s,a,l){const u=fU(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Xf(r),i)));var r,i}function RU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PU(t){return(e,n)=>{let r=!1;for(const i of Xf(t)){const o=Xae(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Xae(t,e,n){const r=t.field.isKeyField()?Bt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return null!==l&&null!==u?Xu(l,u):Kt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Kt()}}class Kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wu(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return rU(this.inner)}size(){return this.innerSize}}const Zae=new Hr(Bt.comparator);function hs(){return Zae}const MU=new Hr(Bt.comparator);function M_(...t){let e=MU;for(const n of t)e=e.insert(n.key,n);return e}function xU(t){let e=MU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ll(){return x_()}function NU(){return x_()}function x_(){return new Kl(t=>t.toString(),(t,e)=>t.isEqual(e))}const Jae=new Hr(Bt.comparator),ele=new xr(Bt.comparator);function Un(...t){let e=ele;for(const n of t)e=e.add(n);return e}const tle=new xr(Nn);function pS(){return tle}function kU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b_(e)?"-0":e}}function OU(t){return{integerValue:""+t}}function FU(t,e){return WB(e)?OU(e):kU(t,e)}class yE{constructor(){this._=void 0}}function nle(t,e,n){return t instanceof Jf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dE(o)&&(o=hE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof yd?VU(t,e):t instanceof Id?$U(t,e):function(i,o){const s=LU(i,o),a=BU(s)+BU(i.Pe);return aS(s)&&aS(i.Pe)?OU(a):kU(i.serializer,a)}(t,e)}function rle(t,e,n){return t instanceof yd?VU(t,e):t instanceof Id?$U(t,e):n}function LU(t,e){return t instanceof ep?aS(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Jf extends yE{}class yd extends yE{constructor(e){super(),this.elements=e}}function VU(t,e){const n=UU(e);for(const r of t.elements)n.some(i=>al(i,r))||n.push(r);return{arrayValue:{values:n}}}class Id extends yE{constructor(e){super(),this.elements=e}}function $U(t,e){let n=UU(e);for(const r of t.elements)n=n.filter(i=>!al(i,r));return{arrayValue:{values:n}}}class ep extends yE{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function BU(t){return gi(t.integerValue||t.doubleValue)}function UU(t){return T_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class N_{constructor(e,n){this.field=e,this.transform=n}}class ole{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function IE(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class EE{}function jU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new np(t.key,ri.none()):new tp(t.key,t.data,ri.none());{const n=t.data,r=po.empty();let i=new xr(Kr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ql(t.key,r,new ds(i.toArray()),ri.none())}}function sle(t,e,n){t instanceof tp?function(i,o,s){const a=i.value.clone(),l=GU(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ql?function(i,o,s){if(!IE(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=GU(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(HU(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function k_(t,e,n,r){return t instanceof tp?function(o,s,a,l){if(!IE(o.precondition,s))return a;const u=o.value.clone(),d=qU(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ql?function(o,s,a,l){if(!IE(o.precondition,s))return a;const u=qU(o.fieldTransforms,l,s),d=s.data;return d.setAll(HU(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):(a=n,IE(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function ale(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=LU(r.transform,i||null);null!=o&&(null===n&&(n=po.empty()),n.set(r.field,o))}return n||null}function zU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Hf(r,i,(o,s)=>function ile(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof yd&&i instanceof yd||r instanceof Id&&i instanceof Id?Hf(r.elements,i.elements,al):r instanceof ep&&i instanceof ep?al(r.Pe,i.Pe):r instanceof Jf&&i instanceof Jf);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class tp extends EE{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ql extends EE{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GU(t,e,n){const r=new Map;an(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,rle(s,a,n[i]))}return r}function qU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,nle(o,s,e))}return r}class np extends EE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mS extends EE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&sle(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=k_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=k_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NU();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=jU(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(mn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Un())}isEqual(e){return this.batchId===e.batchId&&Hf(this.mutations,e.mutations,(n,r)=>zU(n,r))&&Hf(this.baseMutations,e.baseMutations,(n,r)=>zU(n,r))}}class _S{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){an(e.mutations.length===r.length);let i=function(){return Jae}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _S(e,n,r,i)}}class vS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lle{constructor(e,n){this.count=e,this.unchangedNames=n}}var Li,ur;function KU(t){switch(t){default:return Kt();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function QU(t){if(void 0===t)return Di("GRPC error has no .code"),Me.UNKNOWN;switch(t){case Li.OK:return Me.OK;case Li.CANCELLED:return Me.CANCELLED;case Li.UNKNOWN:return Me.UNKNOWN;case Li.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case Li.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case Li.INTERNAL:return Me.INTERNAL;case Li.UNAVAILABLE:return Me.UNAVAILABLE;case Li.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case Li.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case Li.NOT_FOUND:return Me.NOT_FOUND;case Li.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case Li.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case Li.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case Li.ABORTED:return Me.ABORTED;case Li.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case Li.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case Li.DATA_LOSS:return Me.DATA_LOSS;default:return Kt()}}(ur=Li||(Li={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";function YU(){return new TextEncoder}const ule=new fd([4294967295,4294967295],0);function XU(t){const e=YU().encode(t),n=new RB;return n.update(e),new Uint8Array(n.digest())}function ZU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fd([n,r],0),new fd([i,o],0)]}class yS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new O_(`Invalid padding: ${n}`);if(r<0)throw new O_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new O_(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new O_(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=fd.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(fd.fromNumber(r)));return 1===i.compare(ule)&&(i=new fd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const n=XU(e),[r,i]=ZU(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new yS(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const n=XU(e),[r,i]=ZU(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class O_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class F_{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,L_.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new F_(mn.min(),i,new Hr(Nn),hs(),Un())}}class L_{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new L_(r,n,Un(),Un(),Un())}}class CE{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class JU{constructor(e,n){this.targetId=e,this.me=n}}class ej{constructor(e,n,r=Ki.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tj{constructor(){this.fe=0,this.ge=rj(),this.pe=Ki.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Un(),n=Un(),r=Un();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Kt()}}),new L_(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=rj()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,an(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cle{constructor(e){this.Le=e,this.Be=new Map,this.ke=hs(),this.qe=nj(),this.Qe=new Hr(Nn)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Kt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(gE(o))if(0===r){const s=new Bt(o.path);this.Ue(n,s,Qr.newNoDocument(s,mn.min()))}else an(1===r);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;0!==l&&(this.je(n),this.Qe=this.Qe.insert(n,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ql(r).toUint8Array()}catch(l){if(l instanceof oU)return cs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new yS(s,i,o)}catch(l){return cs(l instanceof O_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&gE(a.target)){const l=new Bt(a.target.path);null!==this.ke.get(l)||this.it(s,l)||this.Ue(s,l,Qr.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=Un();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new F_(e,n,this.Qe,this.ke,r);return this.ke=hs(),this.qe=nj(),this.Qe=new Hr(Nn),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new tj,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xr(Nn),this.qe=this.qe.insert(e,n)),n}ze(e){const n=null!==this.Je(e);return n||ct("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new tj),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function nj(){return new Hr(Bt.comparator)}function rj(){return new Hr(Bt.comparator)}const dle={asc:"ASCENDING",desc:"DESCENDING"},hle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fle={and:"AND",or:"OR"};class ple{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function IS(t,e){return t.useProto3Json||E_(e)?e:{value:e}}function rp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ij(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mle(t,e){return rp(t,e.toTimestamp())}function Si(t){return an(!!t),mn.fromTimestamp(function(n){const r=Gl(n);return new ni(r.seconds,r.nanos)}(t))}function ES(t,e){return bS(t,e).canonicalString()}function bS(t,e){const n=(i=t,new ir(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function oj(t){const e=ir.fromString(t);return an(gj(e)),e}function V_(t,e){return ES(t.databaseId,e.path)}function ul(t,e){const n=oj(e);if(n.get(1)!==t.databaseId.projectId)throw new st(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new st(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Bt(lj(n))}function sj(t,e){return ES(t.databaseId,e)}function aj(t){const e=oj(t);return 4===e.length?ir.emptyPath():lj(e)}function CS(t){return new ir(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lj(t){return an(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function uj(t,e,n){return{name:V_(t,e),fields:n.value.mapValue.fields}}function cj(t,e,n){const r=ul(t,e.name),i=Si(e.updateTime),o=e.createTime?Si(e.createTime):mn.min(),s=new po({mapValue:{fields:e.fields}}),a=Qr.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function $_(t,e){let n;if(e instanceof tp)n={update:uj(t,e.key,e.value)};else if(e instanceof np)n={delete:V_(t,e.key)};else if(e instanceof Ql)n={update:uj(t,e.key,e.data),updateMask:Cle(e.fieldMask)};else{if(!(e instanceof mS))return Kt();n={verify:V_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Jf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Id)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ep)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Kt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:mle(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Kt()),n;var o}function wS(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?ri.updateTime(Si(o.updateTime)):void 0!==o.exists?ri.exists(o.exists):ri.none():ri.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;"setToServerValue"in a?(an("REQUEST_TIME"===a.setToServerValue),l=new Jf):"appendMissingElements"in a?l=new yd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Id(a.removeAllFromArray.values||[]):"increment"in a?l=new ep(s,a.increment):Kt();const u=Kr.fromServerFormat(a.fieldPath);return new N_(u,l)}(t,i)):[];var o;if(e.update){const i=ul(t,e.update.name),o=new po({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new ds((e.updateMask.fieldPaths||[]).map(d=>Kr.fromServerFormat(d)));return new Ql(i,o,s,n,r)}return new tp(i,o,n,r)}if(e.delete){const i=ul(t,e.delete);return new np(i,n)}if(e.verify){const i=ul(t,e.verify);return new mS(i,n)}return Kt()}function dj(t,e){return{documents:[sj(t,e.path)]}}function wE(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sj(t,i);const o=function(u){if(0!==u.length)return mj(Sr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(0!==u.length)return u.map(d=>{return{field:Ju((_=d).field),direction:Ile(_.dir)};var _})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=IS(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i};var u}function fj(t){let e=aj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){an(1===r);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(p){const _=pj(p);return _ instanceof Sr&&uS(_)?_.getFilters():[_]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(_=>{return new D_(ip((A=_).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let a=null;n.limit&&(a=function(p){let _;return _="object"==typeof p?p.value:p,E_(_)?null:_}(n.limit));let l=null;var p;n.startAt&&(l=new Zu((p=n.startAt).values||[],!!p.before));let u=null;return n.endAt&&(u=function(p){return new Zu(p.values||[],!p.before)}(n.endAt)),wU(e,i,s,o,a,"F",l,u)}function pj(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ip(n.unaryFilter.field);return or.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ip(n.unaryFilter.field);return or.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ip(n.unaryFilter.field);return or.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ip(n.unaryFilter.field);return or.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}}(t):void 0!==t.fieldFilter?or.create(ip((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Sr.create(n.compositeFilter.filters.map(r=>pj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Kt()}}(n.compositeFilter.op))}(t):Kt();var n}function Ile(t){return dle[t]}function Ele(t){return hle[t]}function ble(t){return fle[t]}function Ju(t){return{fieldPath:t.canonicalString()}}function ip(t){return Kr.fromServerFormat(t.fieldPath)}function mj(t){return t instanceof or?function(n){if("=="===n.op){if(lU(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NAN"}};if(aU(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(lU(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NOT_NAN"}};if(aU(n.value))return{unaryFilter:{field:Ju(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ju(n.field),op:Ele(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const r=n.getFilters().map(i=>mj(i));return 1===r.length?r[0]:{compositeFilter:{op:ble(n.op),filters:r}}}(t):Kt()}function Cle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gj(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Yl{constructor(e,n,r,i,o=mn.min(),s=mn.min(),a=Ki.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _j{constructor(e){this.ct=e}}function vj(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:TE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:V_(o=t.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:rp(o,s.version.toTimestamp()),createTime:rp(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ed(e.version)};else{if(!e.isUnknownDocument())return Kt();r.unknownDocument={path:n.path.toArray(),version:Ed(e.version)}}var o,s;return r}function TE(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ed(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bd(t){const e=new ni(t.seconds,t.nanoseconds);return mn.fromTimestamp(e)}function Cd(t,e){const n=(e.baseMutations||[]).map(o=>wS(t.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>wS(t.ct,o)),i=ni.fromMillis(e.localWriteTimeMs);return new gS(e.batchId,i,n,r)}function B_(t){const e=bd(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?bd(t.lastLimboFreeSnapshotVersion):mn.min();let r;return r=void 0!==t.query.documents?(an(1===(o=t.query).documents.length),Mo(Yf(aj(o.documents[0])))):function(o){return Mo(fj(o))}(t.query),new Yl(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ki.fromBase64String(t.resumeToken));var o}function yj(t,e){const n=Ed(e.snapshotVersion),r=Ed(e.lastLimboFreeSnapshotVersion);let i;i=gE(e.target)?dj(t.ct,e.target):wE(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vd(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function TS(t){const e=fj({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?vE(e,e.limit,"L"):e}function AS(t,e){return new vS(e.largestBatchId,wS(t.ct,e.overlayMutation))}function Ij(t,e){const n=e.path.lastSegment();return[t,Po(e.path.popLast()),n]}function Ej(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ed(r.readTime),documentKey:Po(r.documentKey.path),largestBatchId:r.largestBatchId}}class Tle{getBundleMetadata(e,n){return bj(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:bd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return bj(e).put({bundleId:(i=n).id,createTime:Ed(Si(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return Cj(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:TS(o.bundledQuery),readTime:bd(o.readTime)};var o})}saveNamedQuery(e,n){return Cj(e).put({name:(i=n).name,readTime:Ed(Si(i.readTime)),bundledQuery:i.bundledQuery});var i}}function bj(t){return ro(t,"bundles")}function Cj(t){return ro(t,"namedQueries")}class AE{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new AE(e,n.uid||"")}getOverlay(e,n){return U_(e).get(Ij(this.userId,n)).next(r=>r?AS(this.serializer,r):null)}getOverlays(e,n){const r=ll();return Ie.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new vS(n,s);i.push(this.ht(e,a))}),Ie.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Po(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(U_(e).j("collectionPathOverlayIndex",a))}),Ie.waitFor(o)}getOverlaysForCollection(e,n,r){const i=ll(),o=Po(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return U_(e).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=AS(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=ll();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return U_(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,d)=>{const p=AS(this.serializer,u);o.size()<i||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):d.done()}).next(()=>o)}ht(e,n){return U_(e).put(function(i,o,s){const[a,l,u]=Ij(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:$_(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function U_(t){return ro(t,"documentOverlays")}class wd{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(gi(e.integerValue));else if("doubleValue"in e){const r=gi(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),b_(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),"string"==typeof r&&(r=Gl(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ql(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?uU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Kt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Bt.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function Ale(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function wj(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=Ale(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}wd.bt=new wd;class Dle{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=wj(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=wj(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Sle{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Rle{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class j_{constructor(){this.Gt=new Dle,this.zt=new Sle(this.Gt),this.jt=new Rle(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Td{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Td(this.indexId,this.documentKey,this.arrayValue,r)}}function ec(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=Tj(t.arrayValue,e.arrayValue),0!==n?n:(n=Tj(t.directionalValue,e.directionalValue),0!==n?n:Bt.comparator(t.documentKey,e.documentKey)))}function Tj(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class Aj{constructor(e){this.Yt=new xr((n,r)=>Kr.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(an(e.collectionGroup===this.collectionId),this.en)return!1;const n=tS(e);if(void 0!==n&&!this.nn(n))return!1;const r=pd(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],r[o]))return!1;return!0}on(){if(this.en)return null;let e=new xr(Kr.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new md(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new md(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new md(r.field,"asc"===r.dir?0:1)));return new Gf(Gf.UNKNOWN_ID,this.collectionId,n,qf.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Dj(t){var e,n;if(an(t instanceof or||t instanceof Sr),t instanceof or){if(t instanceof EU){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>or.create(t.field,"==",o)))||[];return Sr.create(i,"or")}return t}const r=t.filters.map(i=>Dj(i));return Sr.create(r,t.op)}function Ple(t){if(0===t.getFilters().length)return[];const e=RS(Dj(t));return an(Sj(e)),DS(e)||SS(e)?[e]:e.getFilters()}function DS(t){return t instanceof or}function SS(t){return t instanceof Sr&&uS(t)}function Sj(t){return DS(t)||SS(t)||function(n){if(n instanceof Sr&&lS(n)){for(const r of n.getFilters())if(!DS(r)&&!SS(r))return!1;return!0}return!1}(t)}function RS(t){if(an(t instanceof or||t instanceof Sr),t instanceof or)return t;if(1===t.filters.length)return RS(t.filters[0]);const e=t.filters.map(r=>RS(r));let n=Sr.create(e,t.op);return n=DE(n),Sj(n)?n:(an(n instanceof Sr),an(Qf(n)),an(n.filters.length>1),n.filters.reduce((r,i)=>PS(r,i)))}function PS(t,e){let n;return an(t instanceof or||t instanceof Sr),an(e instanceof or||e instanceof Sr),n=t instanceof or?e instanceof or?Sr.create([t,e],"and"):Rj(t,e):e instanceof or?Rj(e,t):function(i,o){if(an(i.filters.length>0&&o.filters.length>0),Qf(i)&&Qf(o))return vU(i,o.getFilters());const s=lS(i)?i:o,a=lS(i)?o:i,l=s.filters.map(u=>PS(u,a));return Sr.create(l,"or")}(t,e),DE(n)}function Rj(t,e){if(Qf(e))return vU(e,t.getFilters());{const n=e.filters.map(r=>PS(t,r));return Sr.create(n,"or")}}function DE(t){if(an(t instanceof or||t instanceof Sr),t instanceof or)return t;const e=t.getFilters();if(1===e.length)return DE(e[0]);if(gU(t))return t;const n=e.map(i=>DE(i)),r=[];return n.forEach(i=>{i instanceof or?r.push(i):i instanceof Sr&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Sr.create(r,t.op)}class Mle{constructor(){this._n=new MS}addToCollectionParentIndex(e,n){return this._n.add(n),Ie.resolve()}getCollectionParents(e,n){return Ie.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Ie.resolve()}deleteFieldIndex(e,n){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,n){return Ie.resolve()}getDocumentsMatchingTarget(e,n){return Ie.resolve(null)}getIndexType(e,n){return Ie.resolve(0)}getFieldIndexes(e,n){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,n){return Ie.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return Ie.resolve(xs.min())}updateCollectionGroup(e,n,r){return Ie.resolve()}updateIndexEntries(e,n){return Ie.resolve()}}class MS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xr(ir.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xr(ir.comparator)).toArray()}}const SE=new Uint8Array(0);class xle{constructor(e,n){this.databaseId=n,this.an=new MS,this.un=new Kl(r=>vd(r),(r,i)=>S_(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const o={collectionId:r,parent:Po(i)};return Pj(e).put(o)}return Ie.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[BB(n),""],!1,!0);return Pj(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(sl(s.parent))}return r})}addFieldIndex(e,n){const r=z_(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=sp(e);return o.next(a=>{s.put(Ej(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=z_(e),i=sp(e),o=op(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=z_(e),r=op(e),i=sp(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return Ie.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new Aj(r).on();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=op(e);let i=!0;const o=new Map;return Ie.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Un();const a=[];return Ie.forEach(o,(l,u)=>{var me;ct("IndexedDbIndexManager",`Using index ${me=l,`id=${me.indexId}|cg=${me.collectionGroup}|f=${me.fields.map(_e=>`${_e.fieldPath}:${_e.kind}`).join(",")}`} to execute ${vd(n)}`);const d=function(me,_e){const tt=tS(_e);if(void 0===tt)return null;for(const _t of _E(me,tt.fieldPath))switch(_t.op){case"array-contains-any":return _t.value.arrayValue.values||[];case"array-contains":return[_t.value]}return null}(u,l),p=function(me,_e){const tt=new Map;for(const _t of pd(_e))for(const Q of _E(me,_t.fieldPath))switch(Q.op){case"==":case"in":tt.set(_t.fieldPath.canonicalString(),Q.value);break;case"not-in":case"!=":return tt.set(_t.fieldPath.canonicalString(),Q.value),Array.from(tt.values())}return null}(u,l),_=function(me,_e){const tt=[];let _t=!0;for(const Q of pd(_e)){const $=0===Q.kind?bU(me,Q.fieldPath,me.startAt):CU(me,Q.fieldPath,me.startAt);tt.push($.value),_t&&(_t=$.inclusive)}return new Zu(tt,_t)}(u,l),I=function(me,_e){const tt=[];let _t=!0;for(const Q of pd(_e)){const $=0===Q.kind?CU(me,Q.fieldPath,me.endAt):bU(me,Q.fieldPath,me.endAt);tt.push($.value),_t&&(_t=$.inclusive)}return new Zu(tt,_t)}(u,l),A=this.hn(l,u,_),x=this.hn(l,u,I),V=this.Pn(l,u,p),U=this.In(l.indexId,d,A,_.inclusive,x,I.inclusive,V);return Ie.forEach(U,G=>r.G(G,n.limit).next(me=>{me.forEach(_e=>{const tt=Bt.fromSegments(_e.documentKey);s.has(tt)||(s=s.add(tt),a.push(tt))})}))}).next(()=>a)}return Ie.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:Ple(Sr.create(e.filters,"and")).map(r=>dS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){const l=(null!=n?n.length:1)*Math.max(r.length,o.length),u=l/(null!=n?n.length:1),d=[];for(let p=0;p<l;++p){const _=n?this.Tn(n[p/u]):SE,I=this.En(e,_,r[p%u],i),A=this.dn(e,_,o[p%u],s),x=a.map(V=>this.En(e,_,V,!0));d.push(...this.createRange(I,A,x))}return d}En(e,n,r,i){const o=new Td(e,Bt.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){const o=new Td(e,Bt.empty(),n,r);return i?o.Jt():o}ln(e,n){const r=new Aj(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return Ie.forEach(i,o=>this.ln(e,o).next(s=>{s?0!==r&&s.fields.length<function(l){let u=new xr(Kr.comparator),d=!1;for(const p of l.filters)for(const _ of p.getFlattenedFilters())_.field.isKeyField()||("array-contains"===_.op||"array-contains-any"===_.op?d=!0:u=u.add(_.field));for(const p of l.orderBy)p.field.isKeyField()||(u=u.add(p.field));return u.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}An(e,n){const r=new j_;for(const i of pd(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.Ht(i.kind);wd.bt.Pt(o,s)}return r.Wt()}Tn(e){const n=new j_;return wd.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new j_;return wd.bt.Pt(_d(this.databaseId,n),r.Ht(function(o){const s=pd(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(null===r)return[];let i=[];i.push(new j_);let o=0;for(const s of pd(e)){const a=r[o++];for(const l of i)if(this.Vn(n,s.fieldPath)&&T_(a))i=this.mn(i,s,a);else{const u=l.Ht(s.kind);wd.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new j_;l.seed(a.Wt()),wd.bt.Pt(s,l.Ht(n.kind)),o.push(l)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof or&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=z_(e),i=sp(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const s=[];return Ie.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(d,p){const _=p?new qf(p.sequenceNumber,new xs(bd(p.readTime),new Bt(sl(p.documentKey)),p.largestBatchId)):qf.empty(),I=d.fields.map(([A,x])=>new md(Kr.fromServerFormat(A),x));return new Gf(d.indexId,d.collectionGroup,I,_)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Nn(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=z_(e),o=sp(e);return this.gn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>Ie.forEach(a,l=>o.put(Ej(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return Ie.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?Ie.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Ie.forEach(a,l=>this.pn(e,i,l).next(u=>{const d=this.yn(o,l);return u.isEqual(d)?Ie.resolve():this.wn(e,o,l,u,d)}))))})}Sn(e,n,r,i){return op(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return op(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=op(e);let o=new xr(ec);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new Td(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new xr(ec);const i=this.An(n,e);if(null==i)return r;const o=tS(n);if(null!=o){const s=e.data.field(o.fieldPath);if(T_(s))for(const a of s.arrayValue.values||[])r=r.add(new Td(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Td(n.indexId,e.key,SE,i));return r}wn(e,n,r,i,o){ct("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,u,d,p,_){const I=l.getIterator(),A=u.getIterator();let x=Wf(I),V=Wf(A);for(;x||V;){let U=!1,G=!1;if(x&&V){const me=d(x,V);me<0?G=!0:me>0&&(U=!0)}else null!=x?G=!0:U=!0;U?(p(V),V=Wf(A)):G?(_(x),x=Wf(I)):(x=Wf(I),V=Wf(A))}}(i,o,ec,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),Ie.waitFor(s)}gn(e){let n=1;return sp(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>ec(s,a)).filter((s,a,l)=>!a||0!==ec(s,l[a-1]));const i=[];i.push(e);for(const s of r){const a=ec(s,e),l=ec(s,n);if(0===a)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,SE,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,SE,[]]))}return o}Dn(e,n){return ec(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Mj)}getMinOffset(e,n){return Ie.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Kt())).next(Mj)}}function Pj(t){return ro(t,"collectionParents")}function op(t){return ro(t,"indexEntries")}function z_(t){return ro(t,"indexConfiguration")}function sp(t){return ro(t,"indexState")}function Mj(t){an(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;nS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new xs(e.readTime,e.documentKey,n)}const xj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xo{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xo(e,xo.DEFAULT_COLLECTION_PERCENTILE,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Nj(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},(d,p,_)=>(a++,_.delete()));o.push(l.next(()=>{an(1===a)}));const u=[];for(const d of n.mutations){const p=YB(e,d.key.path,n.batchId);o.push(i.delete(p)),u.push(d.key)}return Ie.waitFor(o).next(()=>u)}function RE(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Kt();e=t.noDocument}return JSON.stringify(e).length}xo.DEFAULT_COLLECTION_PERCENTILE=10,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xo.DEFAULT=new xo(41943040,xo.DEFAULT_COLLECTION_PERCENTILE,xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xo.DISABLED=new xo(-1,0,0);class PE{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){an(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new PE(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tc(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=ap(e),s=tc(e);return s.add({}).next(a=>{an("number"==typeof a);const l=new gS(a,n,r,i),u=function(I,A,x){const V=x.baseMutations.map(G=>$_(I.ct,G)),U=x.mutations.map(G=>$_(I.ct,G));return{userId:A,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:V,mutations:U}}(this.serializer,this.userId,l),d=[];let p=new xr((_,I)=>Nn(_.canonicalString(),I.canonicalString()));for(const _ of i){const I=YB(this.userId,_.key.path,a);p=p.add(_.key.path.popLast()),d.push(s.put(u)),d.push(o.put(I,Eae))}return p.forEach(_=>{d.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),Ie.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return tc(e).get(n).next(r=>r?(an(r.userId===this.userId),Cd(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?Ie.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return tc(e).J({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(an(a.batchId>=r),o=Cd(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return tc(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tc(e).U("userMutationsIndex",n).next(r=>r.map(i=>Cd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=uE(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return ap(e).J({range:i},(s,a,l)=>{const[u,d,p]=s,_=sl(d);if(u===this.userId&&n.path.isEqual(_))return tc(e).get(p).next(I=>{if(!I)throw Kt();an(I.userId===this.userId),o.push(Cd(this.serializer,I))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xr(Nn);const i=[];return n.forEach(o=>{const s=uE(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=ap(e).J({range:a},(u,d,p)=>{const[_,I,A]=u,x=sl(I);_===this.userId&&o.path.isEqual(x)?r=r.add(A):p.done()});i.push(l)}),Ie.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=uE(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new xr(Nn);return ap(e).J({range:s},(l,u,d)=>{const[p,_,I]=l,A=sl(_);p===this.userId&&r.isPrefixOf(A)?A.length===i&&(a=a.add(I)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(tc(e).get(o).next(s=>{if(null===s)throw Kt();an(s.userId===this.userId),r.push(Cd(this.serializer,s))}))}),Ie.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Nj(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),Ie.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ie.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return ap(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=sl(o[1]);i.push(l)}else a.done()}).next(()=>{an(0===i.length)})})}containsKey(e,n){return kj(e,this.userId,n)}xn(e){return Oj(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kj(t,e,n){const r=uE(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return ap(t).J({range:o,H:!0},(a,l,u)=>{const[d,p,_]=a;d===e&&p===i&&(s=!0),u.done()}).next(()=>s)}function tc(t){return ro(t,"mutations")}function ap(t){return ro(t,"documentMutations")}function Oj(t){return ro(t,"mutationQueues")}class Ad{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ad(0)}static Ln(){return new Ad(-1)}}class Nle{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Ad(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>mn.fromTimestamp(new ni(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>lp(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(an(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return lp(e).J((s,a)=>{const l=B_(a);l.sequenceNumber<=n&&null===r.get(l.targetId)&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>Ie.waitFor(o)).next(()=>i)}forEachTarget(e,n){return lp(e).J((r,i)=>{const o=B_(i);n(o)})}Bn(e){return Fj(e).get("targetGlobalKey").next(n=>(an(null!==n),n))}kn(e,n){return Fj(e).put("targetGlobalKey",n)}qn(e,n){return lp(e).put(yj(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=vd(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return lp(e).J({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=B_(a);S_(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=nc(e);return n.forEach(s=>{const a=Po(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),Ie.waitFor(i)}removeMatchingKeys(e,n,r){const i=nc(e);return Ie.forEach(n,o=>{const s=Po(o.path);return Ie.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=nc(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=nc(e);let o=Un();return i.J({range:r,H:!0},(s,a,l)=>{const u=sl(s[1]),d=new Bt(u);o=o.add(d)}).next(()=>o)}containsKey(e,n){const r=Po(n.path),i=IDBKeyRange.bound([r],[BB(r)],!1,!0);let o=0;return nc(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],l,u)=>{0!==s&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return lp(e).get(n).next(r=>r?B_(r):null)}}function lp(t){return ro(t,"targets")}function Fj(t){return ro(t,"targetGlobal")}function nc(t){return ro(t,"targetDocuments")}function Lj([t,e],[n,r]){const i=Nn(t,n);return 0===i?Nn(e,r):i}class kle{constructor(e){this.Kn=e,this.buffer=new xr(Lj),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Lj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;ct("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,E.A)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){qu(r)?ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Gu(r)}yield n.zn(3e5)}))}}class Ole{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return Ie.resolve(Ns.oe);const r=new kle(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(xj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xj):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),zf()<=il.$b.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${p} documents in `+(u-l)+`ms\nTotal Duration: ${u-d}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}class Fle{constructor(e,n){this.db=e,this.garbageCollector=function $j(t,e){return new Ole(t,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return ME(e,r)}removeReference(e,n,r){return ME(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return ME(e,n)}er(e,n){return function(i,o){let s=!1;return Oj(i).Y(a=>kj(i,a,o).next(l=>(l&&(s=!0),Ie.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=n){const l=this.er(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,mn.min()),nc(e).delete([0,Po(s.path)])))});i.push(l)}}).next(()=>Ie.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return ME(e,n)}Xn(e,n){const r=nc(e);let i,o=Ns.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{0===s?(o!==Ns.oe&&n(new Bt(sl(i)),o),o=u,i=l):o=Ns.oe}).next(()=>{o!==Ns.oe&&n(new Bt(sl(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ME(t,e){return nc(t).put((i=t.currentSequenceNumber,{targetId:0,path:Po(e.path),sequenceNumber:i}));var i}class Bj{constructor(){this.changes=new Kl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?Ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lle{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Dd(e).put(r)}removeEntry(e,n,r){return Dd(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],TE(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Qr.newInvalidDocument(n);return Dd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(H_(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:Qr.newInvalidDocument(n)};return Dd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(H_(n))},(i,o)=>{r={document:this.nr(n,o),size:RE(o)}}).next(()=>r)}getEntries(e,n){let r=hs();return this.ir(e,n,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=hs(),i=new Hr(Bt.comparator);return this.ir(e,n,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,RE(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return Ie.resolve();let i=new xr(Hj);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(H_(i.first()),H_(i.last())),s=i.getIterator();let a=s.getNext();return Dd(e).J({index:"documentKeyIndex",range:o},(l,u,d)=>{const p=Bt.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&Hj(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?d.$(H_(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),TE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dd(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{null==o||o.incrementDocumentReadCount(u.length);let d=hs();for(const p of u){const _=this.nr(Bt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);_.isFoundDocument()&&(P_(n,_)||i.has(_.key))&&(d=d.insert(_.key,_))}return d})}getAllFromCollectionGroup(e,n,r,i){let o=hs();const s=zj(n,r),a=zj(n,xs.max());return Dd(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,d)=>{const p=this.nr(Bt.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(p.key,p),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new Vle(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return jj(e).get("remoteDocumentGlobalKey").next(n=>(an(!!n),n))}tr(e,n){return jj(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=function wle(t,e){let n;if(e.document)n=cj(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Bt.fromSegments(e.noDocument.path),i=bd(e.noDocument.readTime);n=Qr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Kt();{const r=Bt.fromSegments(e.unknownDocument.path),i=bd(e.unknownDocument.version);n=Qr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new ni(i[0],i[1]);return mn.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(mn.min()))return r}return Qr.newInvalidDocument(e)}}function Uj(t){return new Lle(t)}class Vle extends Bj{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Kl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new xr((o,s)=>Nn(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=vj(this.ar.serializer,s);i=i.add(o.path.popLast());const u=RE(l);r+=u-a.size,n.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=vj(this.ar.serializer,s.convertToNoDocument(mn.min()));n.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),Ie.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function jj(t){return ro(t,"remoteDocumentGlobal")}function Dd(t){return ro(t,"remoteDocumentsV14")}function H_(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zj(t,e){const n=e.documentKey.path.toArray();return[t,TE(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Hj(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Nn(n[o],r[o]),i)return i;return i=Nn(n.length,r.length),i||(i=Nn(n[n.length-2],r[r.length-2]),i||Nn(n[n.length-1],r[r.length-1]))}class $le{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Gj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&k_(r.mutation,i,ds.empty(),ni.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Un()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Un()){const i=ll();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=M_();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ll();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Un()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=hs();const s=x_(),a=x_();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(void 0===d||d.mutation instanceof Ql)?o=o.insert(u.key,u):void 0!==d?(s.set(u.key,d.mutation.getFieldMask()),k_(d.mutation,u,d.mutation.getFieldMask(),ni.now())):s.set(u.key,ds.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new $le(d,null!==(p=s.get(u))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=x_();let i=new Hr((s,a)=>s-a),o=Un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(null===u)return;let d=r.get(l)||ds.empty();d=a.applyToLocalView(u,d),r.set(l,d);const p=(i.get(a.batchId)||Un()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,p=NU();d.forEach(_=>{if(!o.has(_)){const I=jU(n.get(_),r.get(_));null!==I&&p.set(_,I),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return Ie.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return Bt.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):hS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ie.resolve(ll());let a=-1,l=o;return s.next(u=>Ie.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(d)?Ie.resolve():this.remoteDocumentCache.getEntry(e,d).next(_=>{l=l.insert(d,_)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Un())).next(d=>({batchId:a,changes:xU(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Bt(n)).next(r=>{let i=M_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=M_();return this.indexManager.getCollectionParents(e,o).next(a=>Ie.forEach(a,l=>{const u=(p=n,_=l.child(o),new Wl(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,_;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,_)=>{s=s.insert(p,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const d=u.getKey();null===s.get(d)&&(s=s.insert(d,Qr.newInvalidDocument(d)))});let a=M_();return s.forEach((l,u)=>{const d=o.get(l);void 0!==d&&k_(d.mutation,u,ds.empty(),ni.now()),P_(n,u)&&(a=a.insert(l,u))}),a})}}class Ble{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Ie.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:Si(i.createTime)}),Ie.resolve();var i}getNamedQuery(e,n){return Ie.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:TS(i.bundledQuery),readTime:Si(i.readTime)}),Ie.resolve();var i}}class Ule{constructor(){this.overlays=new Hr(Bt.comparator),this.hr=new Map}getOverlay(e,n){return Ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ll();return Ie.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),Ie.resolve()}getOverlaysForCollection(e,n,r){const i=ll(),o=n.length+1,s=new Bt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Hr((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);null===d&&(d=ll(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ll(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return Ie.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vS(n,r));let o=this.hr.get(n);void 0===o&&(o=Un(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}class xS{constructor(){this.Pr=new xr(io.Ir),this.Tr=new xr(io.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new io(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new io(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Bt(new ir([])),r=new io(n,e),i=new io(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Bt(new ir([])),r=new io(n,e),i=new io(n,e+1);let o=Un();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new io(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class io{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Bt.comparator(e.key,n.key)||Nn(e.pr,n.pr)}static Er(e,n){return Nn(e.pr,n.pr)||Bt.comparator(e.key,n.key)}}class jle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xr(io.Ir)}checkEmpty(e){return Ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++;const s=new gS(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new io(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ie.resolve(s)}lookupMutationBatch(e,n){return Ie.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),o=i<0?0:i;return Ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new io(n,0),i=new io(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),Ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xr(Nn);return n.forEach(i=>{const o=new io(i,0),s=new io(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),Ie.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Bt.isDocumentKey(o)||(o=o.child(""));const s=new io(new Bt(o),0);let a=new xr(Nn);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),Ie.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){an(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return Ie.forEach(n.mutations,i=>{const o=new io(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new io(n,0),i=this.wr.firstAfterOrEqual(r);return Ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return Ie.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zle{constructor(e){this.vr=e,this.docs=new Hr(Bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ie.resolve(r?r.document.mutableCopy():Qr.newInvalidDocument(n))}getEntries(e,n){let r=hs();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qr.newInvalidDocument(i))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hs();const s=n.path,a=new Bt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||nS(jB(d),r)<=0||(i.has(d.key)||P_(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Ie.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Kt()}Fr(e,n){return Ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Hle(this)}getSize(e){return Ie.resolve(this.size)}}class Hle extends Bj{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Ie.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class Gle{constructor(e){this.persistence=e,this.Mr=new Kl(n=>vd(n),S_),this.lastRemoteSnapshotVersion=mn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new xS,this.targetCount=0,this.Lr=Ad.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Ie.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ad(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Ie.resolve()}updateTargetData(e,n){return this.qn(n),Ie.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ie.waitFor(o).next(()=>i)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Ie.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Ie.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ie.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Ie.resolve(r)}containsKey(e,n){return Ie.resolve(this.Nr.containsKey(n))}}class NS{constructor(e,n){this.Br={},this.overlays={},this.kr=new Ns(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Gle(this),this.indexManager=new Mle,this.remoteDocumentCache=new zle(r=>this.referenceDelegate.Kr(r)),this.serializer=new _j(n),this.$r=new Ble(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ule,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new jle(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ct("MemoryPersistence","Starting transaction:",e);const i=new qle(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return Ie.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class qle extends HB{constructor(e){super(),this.currentSequenceNumber=e}}class xE{constructor(e){this.persistence=e,this.zr=new xS,this.jr=null}static Hr(e){return new xE(e)}get Jr(){if(this.jr)return this.jr;throw Kt()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Ie.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Ie.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Jr,r=>{const i=Bt.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,mn.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Ie.or([()=>Ie.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class Wle{constructor(e){this.serializer=e}O(e,n,r,i){const o=new lE("createOrUpgrade",n);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QB,{unique:!0}),l.createObjectStore("documentMutations"),qj(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=Ie.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),qj(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mn.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QB,{unique:!0});const p=u.store("mutations"),_=d.map(I=>p.put(I));return Ie.waitFor(_)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Nae});u.createIndex("collectionPathOverlayIndex",kae,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Oae,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:bae});u.createIndex("documentKeyIndex",Cae),u.createIndex("collectionGroupIndex",wae)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Rae}).createIndex("sequenceNumberIndex",Pae,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Mae}).createIndex("documentKeyIndex",xae,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),s}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=RE(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>Ie.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>Ie.forEach(a,l=>{an(l.userId===o.userId);const u=Cd(this.serializer,l);return Nj(e,o.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const l=new ir(s),u=[0,Po(l)];o.push(n.get(u).next(d=>d?Ie.resolve():n.put({targetId:0,path:Po(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ie.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Sae});const r=n.store("collectionParents"),i=new MS,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:Po(l)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new ir(s);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,l],u)=>{const d=sl(a);return o(d.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const o=B_(i),s=yj(this.serializer,o);return n.put(s)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=n.store("remoteDocumentsV14"),l=(p=s,p.document?new Bt(ir.fromString(p.document.name).popFirst(5)):p.noDocument?Bt.fromSegments(p.noDocument.path):p.unknownDocument?Bt.fromSegments(p.unknownDocument.path):Kt()).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;i.push(a.put(u))}).next(()=>Ie.waitFor(i))}si(e,n){const r=n.store("mutations"),i=Uj(this.serializer),o=new NS(xE.Hr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(l=>{var u;let d=null!==(u=a.get(l.userId))&&void 0!==u?u:Un();Cd(this.serializer,l).keys().forEach(p=>d=d.add(p)),a.set(l.userId,d)}),Ie.forEach(a,(l,u)=>{const d=new no(u),p=AE.lt(this.serializer,d),_=o.getIndexManager(d),I=PE.lt(d,this.serializer,_,o.referenceDelegate);return new Gj(i,I,p,_).recalculateAndSaveOverlaysForDocumentKeys(new oS(n,Ns.oe),l).next()})})}}function qj(t){t.createObjectStore("targetDocuments",{keyPath:Aae}).createIndex("documentTargetsIndex",Dae,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tae,{unique:!0}),t.createObjectStore("targetGlobal")}const kS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class OS{constructor(e,n,r,i,o,s,a,l,u,d,p=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=u,this.ai=d,this.ui=p,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=_=>Promise.resolve(),!OS.D())throw new st(Me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fle(this,i),this.Ti=n+"main",this.serializer=new _j(l),this.Ei=new ol(this.Ti,this.ui,new Wle(this.serializer)),this.Qr=new Nle(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Uj(this.serializer),this.$r=new Tle,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===d&&Di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Me.FAILED_PRECONDITION,kS);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ns(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var r=(0,E.A)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var n=(0,E.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,E.A)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(qu(e))return ct("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return G_(e).get("owner").next(n=>Ie.resolve(this.Si(n)))}bi(e){return kE(e).delete(this.clientId)}Di(){var e=this;return(0,E.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ro(r,"clientMetadata");return i.U().next(o=>{const s=e.vi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return Ie.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of n)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Ie.resolve(!0):G_(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new st(Me.FAILED_PRECONDITION,kS);return!1}}return!(!this.networkEnabled||!this.inForeground)||kE(e).U().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&ct("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,E.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new oS(n,Ns.oe);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Li()})()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>kE(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return PE.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xle(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return AE.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){ct("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=16===(l=this.ui)?Lae:15===l?eU:14===l?JB:13===l?ZB:12===l?Fae:11===l?XB:void Kt();var l;let s;return this.Ei.runTransaction(e,i,o,a=>(s=new oS(a,this.kr?this.kr.next():Ns.oe),"readwrite-primary"===n?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw Di(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new st(Me.FAILED_PRECONDITION,zB);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return G_(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new st(Me.FAILED_PRECONDITION,kS)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return G_(e).put("owner",n)}static D(){return ol.D()}yi(e){const n=G_(e);return n.get("owner").next(r=>this.Si(r)?(ct("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ie.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n||e>r&&(Di(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,$n.nr)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return ct("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Di("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Di("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function G_(t){return ro(t,"owner")}function kE(t){return ro(t,"clientMetadata")}function FS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class LS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Un(),i=Un();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new LS(e,n.fromCache,r,i)}}class Kle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Wj{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,$n.nr)()?8:GB((0,$n.ZQ)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Kle;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(zf()<=il.$b.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Zf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ie.resolve()):(zf()<=il.$b.DEBUG&&ct("QueryEngine","Query:",Zf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(zf()<=il.$b.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Zf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mo(n))):Ie.resolve())}ji(e,n){if(TU(n))return Ie.resolve(null);let r=Mo(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=vE(n,null,"F"),r=Mo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Un(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,vE(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return TU(n)||i.isEqual(mn.min())?Ie.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?Ie.resolve(null):(zf()<=il.$b.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zf(n)),this.es(e,s,n,UB(i,-1)).next(a=>a))})}Zi(e,n){let r=new xr(PU(e));return n.forEach((i,o)=>{P_(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return zf()<=il.$b.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Zf(n)),this.zi.getDocumentsMatchingQuery(e,n,xs.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Qle{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Hr(Nn),this.rs=new Kl(o=>vd(o),S_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gj(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Kj(t,e,n,r){return new Qle(t,e,n,r)}function Qj(t,e){return VS.apply(this,arguments)}function VS(){return(VS=(0,E.A)(function*(t,e){const n=Vt(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Un();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function Yj(t){const e=Vt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Xj(t,e,n){let r=Un(),i=Un();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=hs();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(mn.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ct("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function Zle(t,e){const n=Vt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function up(t,e){const n=Vt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,Ie.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Yl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function cp(t,e,n){return $S.apply(this,arguments)}function $S(){return($S=(0,E.A)(function*(t,e,n){const r=Vt(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!qu(s))throw s;ct("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})).apply(this,arguments)}function OE(t,e,n){const r=Vt(t);let i=mn.min(),o=Un();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const p=Vt(l),_=p.rs.get(d);return void 0!==_?Ie.resolve(p.ns.get(_)):p.Qr.getTargetData(u,d)}(r,s,Mo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:mn.min(),n?o:Un())).next(a=>(e4(r,RU(e),a),{documents:a,hs:o})))}function Zj(t,e){const n=Vt(t),r=Vt(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function Jj(t,e){const n=Vt(t),r=n.ss.get(e)||mn.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,UB(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(e4(n,e,i),i))}function e4(t,e,n){let r=t.ss.get(e)||mn.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function BS(){return(BS=(0,E.A)(function*(t,e,n,r){const i=Vt(t);let o=Un(),s=hs();for(const u of n){const d=e.Ps(u.metadata.name);u.document&&(o=o.add(d));const p=e.Is(u);p.setReadTime(e.Ts(u.metadata.readTime)),s=s.insert(d,p)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=yield up(i,(d=r,Mo(Yf(ir.fromString(`__bundle__/docs/${d}`)))));var d;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>Xj(u,a,s).next(d=>(a.apply(u),d)).next(d=>i.Qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Qr.addMatchingKeys(u,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.cs,d.ls)).next(()=>d.cs)))})).apply(this,arguments)}function eue(t,e){return US.apply(this,arguments)}function US(){return(US=(0,E.A)(function*(t,e,n=Un()){const r=yield up(t,Mo(TS(e.bundledQuery))),i=Vt(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Si(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(o,e);const a=r.withResumeToken(Ki.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(o,a).next(()=>i.Qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.$r.saveNamedQuery(o,e))})})).apply(this,arguments)}function t4(t,e){return`firestore_clients_${t}_${e}`}function n4(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jS(t,e){return`firestore_targets_${t}_${e}`}class FE{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new st(i.error.code,i.error.message))),s?new FE(e,n,i.state,o):(Di("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class q_{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new st(r.error.code,r.error.message))),o?new q_(e,r.state,i):(Di("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class LE{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=pS();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=WB(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new LE(e,o):(Di("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class zS{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new zS(n.clientId,n.onlineState):(Di("SharedClientState",`Failed to parse online state: ${e}`),null)}}class HS{constructor(){this.activeTargetIds=pS()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GS{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Hr(Nn),this.started=!1,this.ys=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=t4(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new HS),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,E.A)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Vs)continue;const o=e.getItem(t4(e.persistenceKey,i));if(o){const s=LE.Es(i,o);s&&(e.ps=e.ps.insert(s.clientId,s))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(jS(this.persistenceKey,e));if(r){const i=q_.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jS(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ct("SharedClientState","READ",e,n),n}setItem(e,n){ct("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ct("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(ct("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void Di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,E.A)(function*(){if(n.started){if(null!==r.key)if(n.bs.test(r.key)){if(null==r.newValue){const i=n.$s(r.key);return n.Us(i,null)}{const i=n.Ws(r.key,r.newValue);if(i)return n.Us(i.clientId,i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.Gs(r.key,r.newValue);if(i)return n.zs(i)}}else if(n.Cs.test(r.key)){if(null!==r.newValue){const i=n.js(r.key,r.newValue);if(i)return n.Hs(i)}}else if(r.key===n.vs){if(null!==r.newValue){const i=n.xs(r.newValue);if(i)return n.Os(i)}}else if(r.key===n.Ss){const i=function(s){let a=Ns.oe;if(null!=s)try{const l=JSON.parse(s);an("number"==typeof l),a=l}catch(l){Di("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==Ns.oe&&n.sequenceNumberHandler(i)}else if(r.key===n.Fs){const i=n.Js(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Ys(o)))}}else n.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new FE(this.currentUser,e,n,r),o=n4(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Bs(e){const n=n4(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,r){const i=jS(this.persistenceKey,e),o=new q_(e,n,r);this.setItem(i,o.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return LE.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return FE.Es(new no(void 0!==r[2]?r[2]:null),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return q_.Es(i,n)}xs(e){return zS.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,E.A)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);ct("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=pS();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class r4{constructor(){this.no=new HS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new HS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tue{io(e){}shutdown(){}}class i4{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let VE=null;function qS(){return null===VE?VE=268435456+Math.round(2147483648*Math.random()):VE++,"0x"+VE.toString(16)}const nue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rue{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const No="WebChannelConnection";class iue extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const a=qS(),l=this.vo(n,r.toUriEncodedString());ct("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,o,s),this.Mo(n,l,u,i).then(d=>(ct("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw cs("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+jf,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){return`${this.wo}/v1/${r}:${nue[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=qS();return new Promise((s,a)=>{const l=new PB;l.setWithCredentials(!0),l.listenOnce(xB.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case aE.NO_ERROR:const d=l.getResponseJson();ct(No,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case aE.TIMEOUT:ct(No,`RPC '${e}' ${o} timed out`),a(new st(Me.DEADLINE_EXCEEDED,"Request time out"));break;case aE.HTTP_ERROR:const p=l.getStatus();if(ct(No,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);const I=null==_?void 0:_.error;if(I&&I.status&&I.message){const A=function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(U)>=0?U:Me.UNKNOWN}(I.status);a(new st(A,I.message))}else a(new st(Me.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new st(Me.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{ct(No,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ct(No,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=qS(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=OB(),a=kB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new MB({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");ct(No,`Creating RPC '${e}' stream ${i}: ${d}`,l);const p=s.createWebChannel(d,l);let _=!1,I=!1;const A=new rue({lo:V=>{I?ct(No,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(_||(ct(No,`Opening RPC '${e}' stream ${i} transport.`),p.open(),_=!0),ct(No,`RPC '${e}' stream ${i} sending:`,V),p.send(V))},ho:()=>p.close()}),x=(V,U,G)=>{V.listen(U,me=>{try{G(me)}catch(_e){setTimeout(()=>{throw _e},0)}})};return x(p,v_.EventType.OPEN,()=>{I||(ct(No,`RPC '${e}' stream ${i} transport opened.`),A.mo())}),x(p,v_.EventType.CLOSE,()=>{I||(I=!0,ct(No,`RPC '${e}' stream ${i} transport closed`),A.po())}),x(p,v_.EventType.ERROR,V=>{I||(I=!0,cs(No,`RPC '${e}' stream ${i} transport errored:`,V),A.po(new st(Me.UNAVAILABLE,"The operation could not be completed")))}),x(p,v_.EventType.MESSAGE,V=>{var U;if(!I){const G=V.data[0];an(!!G);const _e=G.error||(null===(U=G[0])||void 0===U?void 0:U.error);if(_e){ct(No,`RPC '${e}' stream ${i} received error:`,_e);const tt=_e.status;let _t=function(W){const ee=Li[W];if(void 0!==ee)return QU(ee)}(tt),Q=_e.message;void 0===_t&&(_t=Me.INTERNAL,Q="Unknown error status: "+tt+" with message "+_e.message),I=!0,A.po(new st(_t,Q)),p.close()}else ct(No,`RPC '${e}' stream ${i} received:`,G),A.yo(G)}}),x(a,NB.STAT_EVENT,V=>{V.stat===JD.PROXY?ct(No,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===JD.NOPROXY&&ct(No,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}}function o4(){return typeof window<"u"?window:null}function $E(){return typeof document<"u"?document:null}function W_(t){return new ple(t,!0)}class WS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&ct("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class s4{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new WS(e,n)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,E.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,E.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){var r=this;return(0,E.A)(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==e?r.Yo.reset():n&&n.code===Me.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):n&&n.code===Me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ao(n)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new st(Me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){var e=this;this.state=5,this.Yo.$o((0,E.A)(function*(){e.state=0,e.start()}))}c_(e){return ct("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oue extends s4{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=function _le(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Kt(),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(an(void 0===d||"string"==typeof d),Ki.fromBase64String(d||"")):(an(void 0===d||d instanceof Buffer||d instanceof Uint8Array),Ki.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=void 0===u.code?Me.UNKNOWN:QU(u.code);return new st(d,u.message||"")}(s);n=new ej(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ul(t,r.document.name),o=Si(r.document.updateTime),s=r.document.createTime?Si(r.document.createTime):mn.min(),a=new po({mapValue:{fields:r.document.fields}}),l=Qr.newFoundDocument(i,o,s,a);n=new CE(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=ul(t,r.document),o=r.readTime?Si(r.readTime):mn.min(),s=Qr.newNoDocument(i,o);n=new CE([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=ul(t,r.document);n=new CE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Kt();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new lle(i,o);n=new JU(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return mn.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?mn.min():s.readTime?Si(s.readTime):mn.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=CS(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=gE(l)?{documents:dj(o,l)}:{query:wE(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ij(o,s.resumeToken);const u=IS(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(mn.min())>0){a.readTime=rp(o,s.snapshotVersion.toTimestamp());const u=IS(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function yle(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=CS(this.serializer),n.removeTarget=e,this.i_(n)}}class sue extends s4{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(an(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=function vle(t,e){return t&&t.length>0?(an(void 0!==e),t.map(n=>function(i,o){let s=Si(i.updateTime?i.updateTime:o);return s.isEqual(mn.min())&&(s=Si(o)),new ole(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.A_(r,n)}return an(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=CS(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$_(this.serializer,r))};this.i_(n)}}class aue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new st(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,bS(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new st(Me.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,bS(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new st(Me.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class lue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Di(n),this.y_=!1):ct("OnlineStateTracker",n)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class uue{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{r.enqueueAndForget((0,E.A)(function*(){var l;rc(s)&&(ct("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,E.A)(function*(d){const p=Vt(d);p.M_.add(4),yield dp(p),p.N_.set("Unknown"),p.M_.delete(4),yield K_(p)}),function u(d){return l.apply(this,arguments)})(s))}))}),this.N_=new lue(r,i)}}function K_(t){return KS.apply(this,arguments)}function KS(){return(KS=(0,E.A)(function*(t){if(rc(t))for(const e of t.x_)yield e(!0)})).apply(this,arguments)}function dp(t){return QS.apply(this,arguments)}function QS(){return(QS=(0,E.A)(function*(t){for(const e of t.x_)yield e(!1)})).apply(this,arguments)}function BE(t,e){const n=Vt(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),ZS(n)?XS(n):pp(n).Xo()&&YS(n,e))}function hp(t,e){const n=Vt(t),r=pp(n);n.F_.delete(e),r.Xo()&&a4(n,e),0===n.F_.size&&(r.Xo()?r.n_():rc(n)&&n.N_.set("Unknown"))}function YS(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pp(t).P_(e)}function a4(t,e){t.L_.xe(e),pp(t).I_(e)}function XS(t){t.L_=new cle({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pp(t).start(),t.N_.w_()}function ZS(t){return rc(t)&&!pp(t).Zo()&&t.F_.size>0}function rc(t){return 0===Vt(t).M_.size}function l4(t){t.L_=void 0}function cue(t){return JS.apply(this,arguments)}function JS(){return(JS=(0,E.A)(function*(t){t.N_.set("Online")})).apply(this,arguments)}function due(t){return eR.apply(this,arguments)}function eR(){return(eR=(0,E.A)(function*(t){t.F_.forEach((e,n)=>{YS(t,e)})})).apply(this,arguments)}function hue(t,e){return tR.apply(this,arguments)}function tR(){return(tR=(0,E.A)(function*(t,e){l4(t),ZS(t)?(t.N_.D_(e),XS(t)):t.N_.set("Unknown")})).apply(this,arguments)}function fue(t,e,n){return nR.apply(this,arguments)}function nR(){return nR=(0,E.A)(function*(t,e,n){if(t.N_.set("Online"),e instanceof ej&&2===e.state&&e.cause)try{yield(r=(0,E.A)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.F_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.F_.delete(l),o.L_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){ct("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield UE(t,r)}else if(e instanceof CE?t.L_.Ke(e):e instanceof JU?t.L_.He(e):t.L_.We(e),!n.isEqual(mn.min()))try{const r=yield Yj(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.F_.get(u);d&&o.F_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=o.F_.get(l);if(!d)return;o.F_.set(l,d.withResumeToken(Ki.EMPTY_BYTE_STRING,d.snapshotVersion)),a4(o,l);const p=new Yl(d.target,l,u,d.sequenceNumber);YS(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ct("RemoteStore","Failed to raise snapshot:",r),yield UE(t,r)}var r}),nR.apply(this,arguments)}function UE(t,e,n){return rR.apply(this,arguments)}function rR(){return(rR=(0,E.A)(function*(t,e,n){if(!qu(e))throw e;t.M_.add(1),yield dp(t),t.N_.set("Offline"),n||(n=()=>Yj(t.localStore)),t.asyncQueue.enqueueRetryable((0,E.A)(function*(){ct("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield K_(t)}))})).apply(this,arguments)}function u4(t,e){return e().catch(n=>UE(t,n,e))}function fp(t){return iR.apply(this,arguments)}function iR(){return(iR=(0,E.A)(function*(t){const e=Vt(t),n=ic(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;pue(e);)try{const i=yield Zle(e.localStore,r);if(null===i){0===e.v_.length&&n.n_();break}r=i.batchId,mue(e,i)}catch(i){yield UE(e,i)}c4(e)&&d4(e)})).apply(this,arguments)}function pue(t){return rc(t)&&t.v_.length<10}function mue(t,e){t.v_.push(e);const n=ic(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function c4(t){return rc(t)&&!ic(t).Zo()&&t.v_.length>0}function d4(t){ic(t).start()}function gue(t){return oR.apply(this,arguments)}function oR(){return(oR=(0,E.A)(function*(t){ic(t).V_()})).apply(this,arguments)}function _ue(t){return sR.apply(this,arguments)}function sR(){return(sR=(0,E.A)(function*(t){const e=ic(t);for(const n of t.v_)e.d_(n.mutations)})).apply(this,arguments)}function vue(t,e,n){return aR.apply(this,arguments)}function aR(){return(aR=(0,E.A)(function*(t,e,n){const r=t.v_.shift(),i=_S.from(r,e,n);yield u4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield fp(t)})).apply(this,arguments)}function yue(t,e){return lR.apply(this,arguments)}function lR(){return lR=(0,E.A)(function*(t,e){var n;e&&ic(t).E_&&(yield(n=(0,E.A)(function*(i,o){if(KU(a=o.code)&&a!==Me.ABORTED){const s=i.v_.shift();ic(i).t_(),yield u4(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield fp(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),c4(t)&&d4(t)}),lR.apply(this,arguments)}function h4(t,e){return uR.apply(this,arguments)}function uR(){return(uR=(0,E.A)(function*(t,e){const n=Vt(t);n.asyncQueue.verifyOperationInProgress(),ct("RemoteStore","RemoteStore received new credentials");const r=rc(n);n.M_.add(3),yield dp(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield K_(n)})).apply(this,arguments)}function cR(t,e){return dR.apply(this,arguments)}function dR(){return(dR=(0,E.A)(function*(t,e){const n=Vt(t);e?(n.M_.delete(2),yield K_(n)):e||(n.M_.add(2),yield dp(n),n.N_.set("Unknown"))})).apply(this,arguments)}function pp(t){return t.B_||(t.B_=function(n,r,i){const o=Vt(n);return o.f_(),new oue(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:cue.bind(null,t),To:due.bind(null,t),Ao:hue.bind(null,t),h_:fue.bind(null,t)}),t.x_.push(function(){var e=(0,E.A)(function*(n){n?(t.B_.t_(),ZS(t)?XS(t):t.N_.set("Unknown")):(yield t.B_.stop(),l4(t))});return function(n){return e.apply(this,arguments)}}())),t.B_}function ic(t){return t.k_||(t.k_=function(n,r,i){const o=Vt(n);return o.f_(),new sue(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:gue.bind(null,t),Ao:yue.bind(null,t),R_:_ue.bind(null,t),A_:vue.bind(null,t)}),t.x_.push(function(){var e=(0,E.A)(function*(n){n?(t.k_.t_(),yield fp(t)):(yield t.k_.stop(),t.v_.length>0&&(ct("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))});return function(n){return e.apply(this,arguments)}}())),t.k_}class hR{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new hR(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(t,e){if(Di("AsyncQueue",`${e}: ${t}`),qu(t))return new st(Me.UNAVAILABLE,`${e}: ${t}`);throw t}class gp{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Bt.comparator(n.key,r.key):(n,r)=>Bt.comparator(n.key,r.key),this.keyedMap=M_(),this.sortedSet=new Hr(this.comparator)}static emptySet(e){return new gp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new gp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class f4{constructor(){this.q_=new Hr(Bt.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(n,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(n):1===e.type&&2===r.type?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Kt():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _p{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new _p(e,n,gp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&R_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Iue{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Eue{constructor(){this.queries=new Kl(e=>SU(e),R_),this.onlineState="Unknown",this.z_=new Set}}function fR(t,e){return pR.apply(this,arguments)}function pR(){return(pR=(0,E.A)(function*(t,e){const n=Vt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new Iue,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield n.onListen(i,!0);break;case 1:o.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=mp(s,`Initialization of query '${Zf(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&_R(n)})).apply(this,arguments)}function mR(t,e){return gR.apply(this,arguments)}function gR(){return(gR=(0,E.A)(function*(t,e){const n=Vt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),0===o.U_.length?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function bue(t,e){const n=Vt(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&_R(n)}function Cue(t,e,n){const r=Vt(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function _R(t){t.z_.forEach(e=>{e.next()})}var vR,p4;(p4=vR||(vR={})).J_="default",p4.Cache="cache";class yR{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new _p(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=_p.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==vR.Cache}}class wue{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}class m4{constructor(e){this.serializer=e}Ps(e){return ul(this.serializer,e)}Is(e){return e.metadata.exists?cj(this.serializer,e.document,!1):Qr.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Si(e)}}class Tue{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=g4(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=ir.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new m4(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Ps(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||Un()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,E.A)(function*(){const n=yield function Jle(t,e,n,r){return BS.apply(this,arguments)}(e.localStore,new m4(e.serializer),e.documents,e.oa.id),r=e.aa(e.documents);for(const i of e.queries)yield eue(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:n}})()}}function g4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class _4{constructor(e){this.key=e}}class v4{constructor(e){this.key=e}}class y4{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Un(),this.mutatedKeys=Un(),this.Ia=PU(e),this.Ta=new gp(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new f4,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const _=i.get(d),I=P_(this.query,p)?p:null,A=!!_&&this.mutatedKeys.has(_.key),x=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;_&&I?_.data.isEqual(I.data)?A!==x&&(r.track({type:3,doc:I}),V=!0):this.Ra(_,I)||(r.track({type:2,doc:I}),V=!0,(l&&this.Ia(I,l)>0||u&&this.Ia(I,u)<0)&&(a=!0)):!_&&I?(r.track({type:0,doc:I}),V=!0):_&&!I&&(r.track({type:1,doc:_}),V=!0,(l||u)&&(a=!0)),V&&(I?(s=s.add(I),o=x?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((d,p)=>function(I,A){const x=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return x(I)-x(A)}(d.type,p.type)||this.Ia(d.doc,p.doc)),this.Va(r),i=null!=i&&i;const a=n&&!i?this.ma():[],l=0===this.Pa.size&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,0!==s.length||u?{snapshot:new _p(this.query,e.Ta,o,s,e.mutatedKeys,0===l,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new f4,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Un(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new v4(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new _4(r))}),n}pa(e){this.la=e.hs,this.Pa=Un();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return _p.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Aue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Due{constructor(e){this.key=e,this.wa=!1}}class Sue{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Kl(a=>SU(a),R_),this.Da=new Map,this.Ca=new Set,this.va=new Hr(Bt.comparator),this.Fa=new Map,this.Ma=new xS,this.xa={},this.Oa=new Map,this.Na=Ad.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Rue(t,e){return IR.apply(this,arguments)}function IR(){return(IR=(0,E.A)(function*(t,e,n=!0){const r=jE(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield I4(r,e,n,!0),i})).apply(this,arguments)}function Pue(t,e){return ER.apply(this,arguments)}function ER(){return(ER=(0,E.A)(function*(t,e){const n=jE(t);yield I4(n,e,!0,!1)})).apply(this,arguments)}function I4(t,e,n,r){return bR.apply(this,arguments)}function bR(){return(bR=(0,E.A)(function*(t,e,n,r){const i=yield up(t.localStore,Mo(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=yield CR(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&BE(t.remoteStore,i),a})).apply(this,arguments)}function CR(t,e,n,r,i){return wR.apply(this,arguments)}function wR(){return wR=(0,E.A)(function*(t,e,n,r,i){t.Ba=(p,_,I)=>{return(A=(0,E.A)(function*(V,U,G,me){let _e=U.view.da(G);_e.Xi&&(_e=yield OE(V.localStore,U.query,!1).then(({documents:$})=>U.view.da($,_e)));const tt=me&&me.targetChanges.get(U.targetId),_t=me&&null!=me.targetMismatches.get(U.targetId),Q=U.view.applyChanges(_e,V.isPrimaryClient,tt,_t);return OR(V,U.targetId,Q.fa),Q.snapshot}),function x(V,U,G,me){return A.apply(this,arguments)})(t,p,_,I);var A};const o=yield OE(t.localStore,e,!0),s=new y4(e,o.hs),a=s.da(o.documents),l=L_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,l);OR(t,n,u.fa);const d=new Aue(e,n,s);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}),wR.apply(this,arguments)}function Mue(t,e,n){return TR.apply(this,arguments)}function TR(){return(TR=(0,E.A)(function*(t,e,n){const r=Vt(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!R_(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield cp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hp(r.remoteStore,i.targetId),vp(r,i.targetId)}).catch(Gu))):(vp(r,i.targetId),yield cp(r.localStore,i.targetId,!0))})).apply(this,arguments)}function xue(t,e){return AR.apply(this,arguments)}function AR(){return(AR=(0,E.A)(function*(t,e){const n=Vt(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hp(n.remoteStore,r.targetId))})).apply(this,arguments)}function DR(){return(DR=(0,E.A)(function*(t,e,n){const r=qR(t);try{const i=yield function(s,a){const l=Vt(s),u=ni.now(),d=a.reduce((I,A)=>I.add(A.key),Un());let p,_;return l.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=hs(),x=Un();return l.os.getEntries(I,d).next(V=>{A=V,A.forEach((U,G)=>{G.isValidDocument()||(x=x.add(U))})}).next(()=>l.localDocuments.getOverlayedDocuments(I,A)).next(V=>{p=V;const U=[];for(const G of a){const me=ale(G,p.get(G.key).overlayedDocument);null!=me&&U.push(new Ql(G.key,me,hU(me.value.mapValue),ri.exists(!0)))}return l.mutationQueue.addMutationBatch(I,u,U,a)}).next(V=>{_=V;const U=V.applyToLocalDocumentSet(p,x);return l.documentOverlayCache.saveOverlays(I,V.batchId,U)})}).then(()=>({batchId:_.batchId,changes:xU(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new Hr(Nn)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Xl(r,i.changes),yield fp(r.remoteStore)}catch(i){const o=mp(i,"Failed to persist write");n.reject(o)}})).apply(this,arguments)}function E4(t,e){return SR.apply(this,arguments)}function SR(){return(SR=(0,E.A)(function*(t,e){const n=Vt(t);try{const r=yield function Xle(t,e){const n=Vt(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,p)=>{const _=i.get(p);if(!_)return;a.push(n.Qr.removeMatchingKeys(o,d.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,d.addedDocuments,p)));let I=_.withSequenceNumber(o.currentSequenceNumber);var x,V,U;null!==e.targetMismatches.get(p)?I=I.withResumeToken(Ki.EMPTY_BYTE_STRING,mn.min()).withLastLimboFreeSnapshotVersion(mn.min()):d.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(d.resumeToken,r)),i=i.insert(p,I),V=I,U=d,(0===(x=_).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(o,I))});let l=hs(),u=Un();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(Xj(o,s,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!r.isEqual(mn.min())){const d=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return Ie.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(an(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?an(s.wa):i.removedDocuments.size>0&&(an(s.wa),s.wa=!1))}),yield Xl(n,r,e)}catch(r){yield Gu(r)}})).apply(this,arguments)}function b4(t,e,n){const r=Vt(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Vt(s);l.onlineState=a;let u=!1;l.queries.forEach((d,p)=>{for(const _ of p.U_)_.j_(a)&&(u=!0)}),u&&_R(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kue(t,e,n){return RR.apply(this,arguments)}function RR(){return(RR=(0,E.A)(function*(t,e,n){const r=Vt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Hr(Bt.comparator);s=s.insert(o,Qr.newNoDocument(o,mn.min()));const a=Un().add(o),l=new F_(mn.min(),new Map,new Hr(Nn),s,a);yield E4(r,l),r.va=r.va.remove(o),r.Fa.delete(e),FR(r)}else yield cp(r.localStore,e,!1).then(()=>vp(r,e,n)).catch(Gu)})).apply(this,arguments)}function Oue(t,e){return PR.apply(this,arguments)}function PR(){return(PR=(0,E.A)(function*(t,e){const n=Vt(t),r=e.batch.batchId;try{const i=yield function Yle(t,e){const n=Vt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const p=u.batch,_=p.keys();let I=Ie.resolve();return _.forEach(A=>{I=I.next(()=>d.getEntry(l,A)).next(x=>{const V=u.docVersions.get(A);an(null!==V),x.version.compareTo(V)<0&&(p.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Un();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);kR(n,r,null),NR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Xl(n,i)}catch(i){yield Gu(i)}})).apply(this,arguments)}function Fue(t,e,n){return MR.apply(this,arguments)}function MR(){return(MR=(0,E.A)(function*(t,e,n){const r=Vt(t);try{const i=yield function(s,a){const l=Vt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(an(null!==p),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);kR(r,e,n),NR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Xl(r,i)}catch(i){yield Gu(i)}})).apply(this,arguments)}function xR(){return(xR=(0,E.A)(function*(t,e){const n=Vt(t);rc(n.remoteStore)||ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=Vt(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(-1===r)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=mp(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})).apply(this,arguments)}function NR(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function kR(t,e,n){const r=Vt(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function vp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||C4(t,r)})}function C4(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);null!==n&&(hp(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),FR(t))}function OR(t,e,n){for(const r of n)r instanceof _4?(t.Ma.addReference(r.key,e),Vue(t,r)):r instanceof v4?(ct("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||C4(t,r.key)):Kt()}function Vue(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ct("SyncEngine","New document in limbo: "+n),t.Ca.add(r),FR(t))}function FR(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Bt(ir.fromString(e)),r=t.Na.next();t.Fa.set(r,new Due(n)),t.va=t.va.insert(n,r),BE(t.remoteStore,new Yl(Mo(Yf(n.path)),r,"TargetPurposeLimboResolution",Ns.oe))}}function Xl(t,e,n){return LR.apply(this,arguments)}function LR(){return LR=(0,E.A)(function*(t,e,n){const r=Vt(t),i=[],o=[],s=[];var a;r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u&&!u.fromCache?"current":"not-current"),u){i.push(u);const d=LS.Ki(l.targetId,u);o.push(d)}}))}),yield Promise.all(s),r.Sa.h_(i),yield(a=(0,E.A)(function*(u,d){const p=Vt(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Ie.forEach(d,I=>Ie.forEach(I.qi,A=>p.persistence.referenceDelegate.addReference(_,I.targetId,A)).next(()=>Ie.forEach(I.Qi,A=>p.persistence.referenceDelegate.removeReference(_,I.targetId,A)))))}catch(_){if(!qu(_))throw _;ct("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of d){const I=_.targetId;if(!_.fromCache){const A=p.ns.get(I),V=A.withLastLimboFreeSnapshotVersion(A.snapshotVersion);p.ns=p.ns.insert(I,V)}}}),function l(u,d){return a.apply(this,arguments)})(r.localStore,o))}),LR.apply(this,arguments)}function $ue(t,e){return VR.apply(this,arguments)}function VR(){return(VR=(0,E.A)(function*(t,e){const n=Vt(t);if(!n.currentUser.isEqual(e)){ct("SyncEngine","User change. New user:",e.toKey());const r=yield Qj(n.localStore,e);n.currentUser=e,(o=n).Oa.forEach(a=>{a.forEach(l=>{l.reject(new st(Me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Oa.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xl(n,r.us)}var o})).apply(this,arguments)}function Bue(t,e){const n=Vt(t),r=n.Fa.get(e);if(r&&r.wa)return Un().add(r.key);{let i=Un();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function Uue(t,e){return $R.apply(this,arguments)}function $R(){return($R=(0,E.A)(function*(t,e){const n=Vt(t),r=yield OE(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&OR(n,e.targetId,i.fa),i})).apply(this,arguments)}function jue(t,e){return BR.apply(this,arguments)}function BR(){return(BR=(0,E.A)(function*(t,e){const n=Vt(t);return Jj(n.localStore,e).then(r=>Xl(n,r))})).apply(this,arguments)}function zue(t,e,n,r){return UR.apply(this,arguments)}function UR(){return(UR=(0,E.A)(function*(t,e,n,r){const i=Vt(t),o=yield function(a,l){const u=Vt(a),d=Vt(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",p=>d.vn(p,l).next(_=>_?u.localDocuments.getDocuments(p,_):Ie.resolve(null)))}(i.localStore,e);var l;null!==o?("pending"===n?yield fp(i.remoteStore):"acknowledged"===n||"rejected"===n?(kR(i,e,r||null),NR(i,e),l=e,Vt(Vt(i.localStore).mutationQueue).Mn(l)):Kt(),yield Xl(i,o)):ct("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function jR(){return(jR=(0,E.A)(function*(t,e){const n=Vt(t);if(jE(n),qR(n),!0===e&&!0!==n.La){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield w4(n,r.toArray());n.La=!0,yield cR(n.remoteStore,!0);for(const o of i)BE(n.remoteStore,o)}else if(!1===e&&!1!==n.La){const r=[];let i=Promise.resolve();n.Da.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(vp(n,s),cp(n.localStore,s,!0))),hp(n.remoteStore,s)}),yield i,yield w4(n,r),function(s){const a=Vt(s);a.Fa.forEach((l,u)=>{hp(a.remoteStore,u)}),a.Ma.mr(),a.Fa=new Map,a.va=new Hr(Bt.comparator)}(n),n.La=!1,yield cR(n.remoteStore,!1)}})).apply(this,arguments)}function w4(t,e,n){return zR.apply(this,arguments)}function zR(){return(zR=(0,E.A)(function*(t,e,n){const r=Vt(t),i=[],o=[];for(const s of e){let a;const l=r.Da.get(s);if(l&&0!==l.length){a=yield up(r.localStore,Mo(l[0]));for(const u of l){const d=r.ba.get(u),p=yield Uue(r,d);p.snapshot&&o.push(p.snapshot)}}else{const u=yield Zj(r.localStore,s);a=yield up(r.localStore,u),yield CR(r,T4(u),s,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(o),i})).apply(this,arguments)}function T4(t){return wU(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Gue(t){return n=Vt(t).localStore,Vt(Vt(n).persistence).Bi();var n}function que(t,e,n,r){return HR.apply(this,arguments)}function HR(){return(HR=(0,E.A)(function*(t,e,n,r){const i=Vt(t);if(i.La)return void ct("SyncEngine","Ignoring unexpected query state notification.");const o=i.Da.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield Jj(i.localStore,RU(o[0])),a=F_.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ki.EMPTY_BYTE_STRING);yield Xl(i,s,a);break}case"rejected":yield cp(i.localStore,e,!0),vp(i,e,r);break;default:Kt()}})).apply(this,arguments)}function Wue(t,e,n){return GR.apply(this,arguments)}function GR(){return(GR=(0,E.A)(function*(t,e,n){const r=jE(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ct("SyncEngine","Adding an already active target "+i);continue}const o=yield Zj(r.localStore,i),s=yield up(r.localStore,o);yield CR(r,T4(o),s.targetId,!1,s.resumeToken),BE(r.remoteStore,s)}for(const i of n)r.Da.has(i)&&(yield cp(r.localStore,i,!1).then(()=>{hp(r.remoteStore,i),vp(r,i)}).catch(Gu))}})).apply(this,arguments)}function jE(t){const e=Vt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=E4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kue.bind(null,e),e.Sa.h_=bue.bind(null,e.eventManager),e.Sa.ka=Cue.bind(null,e.eventManager),e}function qR(t){const e=Vt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fue.bind(null,e),e}class yp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,E.A)(function*(){n.serializer=W_(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Kj(this.persistence,new Wj,e.initialUser,this.serializer)}createPersistence(e){return new NS(xE.Hr,this.serializer)}createSharedClientState(e){return new r4}terminate(){var e=this;return(0,E.A)(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class WR extends yp{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,E.A)(function*(){yield n().call(r,e),yield r.Qa.initialize(r,e),yield qR(r.Qa.syncEngine),yield fp(r.Qa.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Kj(this.persistence,new Wj,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Vj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new yae(n,this.persistence);return new vae(e.asyncQueue,r)}createPersistence(e){const n=FS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?xo.withCacheSize(this.cacheSizeBytes):xo.DEFAULT;return new OS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,o4(),$E(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new r4}}class A4 extends WR{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,E.A)(function*(){yield n().call(r,e);const i=r.Qa.syncEngine;r.sharedClientState instanceof GS&&(r.sharedClientState.syncEngine={Zs:zue.bind(null,i),Xs:que.bind(null,i),eo:Wue.bind(null,i),Bi:Gue.bind(null,i),Ys:jue.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var o=(0,E.A)(function*(s){yield function Hue(t,e){return jR.apply(this,arguments)}(r.Qa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=o4();if(!GS.D(n))throw new st(Me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=FS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new GS(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ip{initialize(e,n){var r=this;return(0,E.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>b4(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$ue.bind(null,r.syncEngine),yield cR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Eue}createDatastore(e){const n=W_(e.databaseInfo.databaseId),r=new iue(e.databaseInfo);return new aue(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>b4(this.syncEngine,n,0),a=i4.D()?new i4:new tue,new uue(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,l,u,d){const p=new Sue(i,o,s,a,l,u);return d&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,E.A)(function*(){var n,r;yield(r=(0,E.A)(function*(o){const s=Vt(o);ct("RemoteStore","RemoteStore shutting down."),s.M_.add(5),yield dp(s),s.O_.shutdown(),s.N_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function D4(t,e=10240){let n=0;return{read:()=>(0,E.A)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,E.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class zE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Yue{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Wi,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,E.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,E.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,E.A)(function*(){const n=yield e.za();if(null===n)return null;const r=e.Wa.decode(n),i=Number(r);isNaN(i)&&e.ja(`length string (${r}) is not valid number`);const o=yield e.Ha(i);return new wue(JSON.parse(o),n.length+i)})()}Ja(){return this.buffer.findIndex(e=>123===e)}za(){var e=this;return(0,E.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const n=e.Ja();n<0&&e.ja("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ha(e){var n=this;return(0,E.A)(function*(){for(;n.buffer.length<e;)(yield n.Ya())&&n.ja("Reached the end of bundle when more is expected.");const r=n.Wa.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,E.A)(function*(){const n=yield e.Ua.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Xue{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,E.A)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new st(Me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const r=yield(i=(0,E.A)(function*(s,a){const l=Vt(s),u={documents:a.map(I=>V_(l.serializer,I))},d=yield l.xo("BatchGetDocuments",l.serializer.databaseId,ir.emptyPath(),u,a.length),p=new Map;d.forEach(I=>{const A=function gle(t,e){return"found"in e?function(r,i){an(!!i.found);const o=ul(r,i.found.name),s=Si(i.found.updateTime),a=i.found.createTime?Si(i.found.createTime):mn.min(),l=new po({mapValue:{fields:i.found.fields}});return Qr.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){an(!!i.missing),an(!!i.readTime);const o=ul(r,i.missing),s=Si(i.readTime);return Qr.newNoDocument(o,s)}(t,e):Kt()}(l.serializer,I);p.set(A.key.toString(),A)});const _=[];return a.forEach(I=>{const A=p.get(I.toString());an(!!A),_.push(A)}),_}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new np(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,E.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=Bt.fromPath(i);e.mutations.push(new mS(o,e.precondition(o)))}),yield(r=(0,E.A)(function*(o,s){const a=Vt(o),l={writes:s.map(u=>$_(a.serializer,u))};yield a.Co("Commit",a.serializer.databaseId,ir.emptyPath(),l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Kt();n=mn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new st(Me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(mn.min())?ri.exists(!1):ri.updateTime(n):ri.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(mn.min()))throw new st(Me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ri.updateTime(n)}return ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Zue{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Za=r.maxAttempts,this.Yo=new WS(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,E.A)(function*(){const n=new Xue(e.datastore),r=e.tu(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.nu(o)}))}).catch(i=>{e.nu(i)})}))}tu(e){try{const n=this.updateFunction(e);return!E_(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!KU(n)}return!1}}class Jue{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=no.UNAUTHENTICATED,this.clientId=$B.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,E.A)(function*(a){ct("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(ct("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(Me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,E.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=mp(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function HE(t,e){return KR.apply(this,arguments)}function KR(){return KR=(0,E.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ct("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,E.A)(function*(o){r.isEqual(o)||(yield Qj(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),KR.apply(this,arguments)}function QR(t,e){return YR.apply(this,arguments)}function YR(){return(YR=(0,E.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield XR(t);ct("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>h4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>h4(e.remoteStore,i)),t._onlineComponents=e})).apply(this,arguments)}function S4(t){return"FirebaseError"===t.name?t.code===Me.FAILED_PRECONDITION||t.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function XR(t){return ZR.apply(this,arguments)}function ZR(){return(ZR=(0,E.A)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ct("FirestoreClient","Using user provided OfflineComponentProvider");try{yield HE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!S4(n))throw n;cs("Error using user provided cache. Falling back to memory cache: "+n),yield HE(t,new yp)}}else ct("FirestoreClient","Using default OfflineComponentProvider"),yield HE(t,new yp);return t._offlineComponents})).apply(this,arguments)}function GE(t){return JR.apply(this,arguments)}function JR(){return(JR=(0,E.A)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ct("FirestoreClient","Using user provided OnlineComponentProvider"),yield QR(t,t._uninitializedComponentsProvider._online)):(ct("FirestoreClient","Using default OnlineComponentProvider"),yield QR(t,new Ip))),t._onlineComponents})).apply(this,arguments)}function R4(t){return XR(t).then(e=>e.persistence)}function Ep(t){return XR(t).then(e=>e.localStore)}function P4(t){return GE(t).then(e=>e.remoteStore)}function eP(t){return GE(t).then(e=>e.syncEngine)}function bp(t){return tP.apply(this,arguments)}function tP(){return(tP=(0,E.A)(function*(t){const e=yield GE(t),n=e.eventManager;return n.onListen=Rue.bind(null,e.syncEngine),n.onUnlisten=Mue.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Pue.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xue.bind(null,e.syncEngine),n})).apply(this,arguments)}function x4(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function(o,s,a,l,u){const d=new zE({next:_=>{s.enqueueAndForget(()=>mR(o,p));const I=_.docs.has(a);!I&&_.fromCache?u.reject(new st(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&l&&"server"===l.source?u.reject(new st(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(_)},error:_=>u.reject(_)}),p=new yR(Yf(a.path),d,{includeMetadataChanges:!0,ra:!0});return fR(o,p)}(yield bp(t),t.asyncQueue,e,n,r)})),r.promise}function N4(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function(o,s,a,l,u){const d=new zE({next:_=>{s.enqueueAndForget(()=>mR(o,p)),_.fromCache&&"server"===l.source?u.reject(new st(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(_)},error:_=>u.reject(_)}),p=new yR(a,d,{includeMetadataChanges:!0,ra:!0});return fR(o,p)}(yield bp(t),t.asyncQueue,e,n,r)})),r.promise}function k4(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const O4=new Map;function nP(t,e,n){if(!n)throw new st(Me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function F4(t,e,n,r){if(!0===e&&!0===r)throw new st(Me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L4(t){if(!Bt.isDocumentKey(t))throw new st(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V4(t){if(Bt.isDocumentKey(t))throw new st(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Kt()}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new st(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qE(t);throw new st(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $4(t,e){if(e<=0)throw new st(Me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class B4{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new st(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=k4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new st(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new st(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new st(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Q_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new st(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B4(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new sae;switch(r.type){case"firstParty":return new cae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=O4.get(n);r&&(ct("ComponentProvider","Removing Datastore"),O4.delete(n),r.terminate())}(this),Promise.resolve()}}class mo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class Yr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}}class cl extends mo{constructor(e,n,r){super(e,n,Yf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new Bt(e))}withConverter(e){return new cl(this.firestore,e,this._path)}}function j4(t,e,...n){if(t=(0,$n.Ku)(t),nP("collection","path",e),t instanceof Q_){const r=ir.fromString(e,...n);return V4(r),new cl(t,null,r)}{if(!(t instanceof Yr||t instanceof cl))throw new st(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ir.fromString(e,...n));return V4(r),new cl(t.firestore,null,r)}}function WE(t,e,...n){if(t=(0,$n.Ku)(t),1===arguments.length&&(e=$B.newId()),nP("doc","path",e),t instanceof Q_){const r=ir.fromString(e,...n);return L4(r),new Yr(t,null,new Bt(r))}{if(!(t instanceof Yr||t instanceof cl))throw new st(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ir.fromString(e,...n));return L4(r),new Yr(t.firestore,t instanceof cl?t.converter:null,new Bt(r))}}function z4(t,e){return t=(0,$n.Ku)(t),e=(0,$n.Ku)(e),(t instanceof Yr||t instanceof cl)&&(e instanceof Yr||e instanceof cl)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function rP(t,e){return t=(0,$n.Ku)(t),e=(0,$n.Ku)(e),t instanceof mo&&e instanceof mo&&t.firestore===e.firestore&&R_(t._query,e._query)&&t.converter===e.converter}class hce{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new WS(this,"async_queue_retry"),this.hu=()=>{const n=$E();n&&ct("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=$E();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=$E();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Wi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,E.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(n){if(!qu(n))throw n;ct("AsyncQueue","Operation failed with retryable error: "+n)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,Di("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=hR.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Kt()}verifyOperationInProgress(){}du(){var e=this;return(0,E.A)(function*(){let n;do{n=e.iu,yield n}while(n!==e.iu)})()}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function iP(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class fce{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Nr extends Q_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hce,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||H4(this),this._firestoreClient.terminate()}}function ii(t){return t._firestoreClient||H4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function H4(t){var e,n,r;const i=t._freezeSettings(),o=(l=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Bae(t._databaseId,l,t._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,k4(d.experimentalLongPollingOptions),d.useFetchStreams));var l,d;t._firestoreClient=new Jue(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function G4(t,e,n){const r=new Wi;return t.asyncQueue.enqueue((0,E.A)(function*(){try{yield HE(t,n),yield QR(t,e),r.resolve()}catch(i){const o=i;if(!S4(o))throw o;cs("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function q4(t){if(t._initialized||t._terminated)throw new st(Me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(Ki.fromBase64String(e))}catch(n){throw new st(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dl(Ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new st(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sd{constructor(e){this._methodName=e}}class KE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new st(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new st(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nn(this._lat,e._lat)||Nn(this._long,e._long)}}const wce=/^__.*__$/;class Tce{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ql(e,this.data,this.fieldMask,n,this.fieldTransforms):new tp(e,this.data,n,this.fieldTransforms)}}class W4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ql(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function K4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class QE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new QE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ZE(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(K4(this.fu)&&wce.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Ace{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||W_(e)}Fu(e,n,r,i=!1){return new QE({fu:e,methodName:n,vu:r,path:Kr.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rd(t){const e=t._freezeSettings(),n=W_(t._databaseId);return new Ace(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YE(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);dP("Data must be an object, but it was:",s,r);const a=X4(r,s);let l,u;if(o.merge)l=new ds(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const _=Z_(e,p,n);if(!s.contains(_))throw new st(Me.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);J4(d,_)||d.push(_)}l=new ds(d),u=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=s.fieldTransforms;return new Tce(new po(a),l,u)}class X_ extends Sd{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X_}}function Q4(t,e,n){return new QE({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class oP extends Sd{_toFieldTransform(e){return new N_(e.path,new Jf)}isEqual(e){return e instanceof oP}}class sP extends Sd{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=Q4(this,e,!0),r=this.Mu.map(o=>Pd(o,n)),i=new yd(r);return new N_(e.path,i)}isEqual(e){return e instanceof sP&&(0,$n.bD)(this.Mu,e.Mu)}}class aP extends Sd{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=Q4(this,e,!0),r=this.Mu.map(o=>Pd(o,n)),i=new Id(r);return new N_(e.path,i)}isEqual(e){return e instanceof aP&&(0,$n.bD)(this.Mu,e.Mu)}}class lP extends Sd{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new ep(e.serializer,FU(e.serializer,this.xu));return new N_(e.path,n)}isEqual(e){return e instanceof lP&&this.xu===e.xu}}function uP(t,e,n,r){const i=t.Fu(1,e,n);dP("Data must be an object, but it was:",i,r);const o=[],s=po.empty();Wu(r,(l,u)=>{const d=XE(e,l,n);u=(0,$n.Ku)(u);const p=i.Su(d);if(u instanceof X_)o.push(d);else{const _=Pd(u,p);null!=_&&(o.push(d),s.set(d,_))}});const a=new ds(o);return new W4(s,a,i.fieldTransforms)}function cP(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[Z_(e,r,n)],l=[i];if(o.length%2!=0)throw new st(Me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(Z_(e,o[_])),l.push(o[_+1]);const u=[],d=po.empty();for(let _=a.length-1;_>=0;--_)if(!J4(u,a[_])){const I=a[_];let A=l[_];A=(0,$n.Ku)(A);const x=s.Su(I);if(A instanceof X_)u.push(I);else{const V=Pd(A,x);null!=V&&(u.push(I),d.set(I,V))}}const p=new ds(u);return new W4(d,p,s.fieldTransforms)}function Y4(t,e,n,r=!1){return Pd(n,t.Fu(r?4:3,e))}function Pd(t,e){if(Z4(t=(0,$n.Ku)(t)))return dP("Unsupported field value:",e,t),X4(t,e);if(t instanceof Sd)return function(r,i){if(!K4(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Pd(a,i.bu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,$n.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return FU(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=ni.fromDate(r);return{timestampValue:rp(i.serializer,o)}}if(r instanceof ni){const o=new ni(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rp(i.serializer,o)}}if(r instanceof KE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dl)return{bytesValue:ij(i.serializer,r._byteString)};if(r instanceof Yr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ES(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${qE(r)}`)}(t,e)}function X4(t,e){const n={};return rU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wu(t,(r,i)=>{const o=Pd(i,e.pu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function Z4(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ni||t instanceof KE||t instanceof dl||t instanceof Yr||t instanceof Sd)}function dP(t,e,n){if(!Z4(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=qE(n);throw e.Du("an object"===r?t+" a custom object":t+" "+r)}var i}function Z_(t,e,n){if((e=(0,$n.Ku)(e))instanceof Zl)return e._internalPath;if("string"==typeof e)return XE(t,e);throw ZE("Field path arguments must be of type string or ",t,!1,void 0,n)}const Dce=new RegExp("[~\\*/\\[\\]]");function XE(t,e,n){if(e.search(Dce)>=0)throw ZE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zl(...e.split("."))._internalPath}catch{throw ZE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ZE(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new st(Me.INVALID_ARGUMENT,a+t+l)}function J4(t,e){return t.some(n=>n.isEqual(e))}class J_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(JE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Sce extends J_{data(){return super.data()}}function JE(t,e){return"string"==typeof e?XE(t,e):e instanceof Zl?e._internalPath:e._delegate._internalPath}function e3(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new st(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hP{}class ev extends hP{}function oc(t,e,...n){let r=[];e instanceof hP&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Cp).length,a=o.filter(l=>l instanceof tv).length;if(s>1||s>0&&a>0)throw new st(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class tv extends ev{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tv(e,n,r)}_apply(e){const n=this._parse(e);return i3(e._query,n),new mo(e.firestore,e.converter,fS(e._query,n))}_parse(e){const n=Rd(e.firestore);return function(o,s,a,l,u,d,p){let _;if(u.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new st(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){r3(p,d);const I=[];for(const A of p)I.push(n3(l,o,A));_={arrayValue:{values:I}}}else _=n3(l,o,p)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||r3(p,d),_=Y4(a,"where",p,"in"===d||"not-in"===d);return or.create(u,d,_)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Cp extends hP{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)i3(s,l),s=fS(s,l)}(e._query,n),new mo(e.firestore,e.converter,fS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fP extends ev{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fP(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new st(Me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new st(Me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new D_(o,s)}(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Wl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class eb extends ev{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new eb(e,n,r)}_apply(e){return new mo(e.firestore,e.converter,vE(e._query,this._limit,this._limitType))}}class tb extends ev{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new tb(e,n,r)}_apply(e){const n=t3(e,this.type,this._docOrFields,this._inclusive);return new mo(e.firestore,e.converter,(o=n,new Wl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class nb extends ev{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new nb(e,n,r)}_apply(e){const n=t3(e,this.type,this._docOrFields,this._inclusive);return new mo(e.firestore,e.converter,(o=n,new Wl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function t3(t,e,n,r){if(n[0]=(0,$n.Ku)(n[0]),n[0]instanceof J_)return function(o,s,a,l,u){if(!l)throw new st(Me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const p of Xf(o))if(p.field.isKeyField())d.push(_d(s,l.key));else{const _=l.data.field(p.field);if(dE(_))throw new st(Me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_){const I=p.field.canonicalString();throw new st(Me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}d.push(_)}return new Zu(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Rd(t.firestore);return function(s,a,l,u,d,p){const _=s.explicitOrderBy;if(d.length>_.length)throw new st(Me.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let A=0;A<d.length;A++){const x=d[A];if(_[A].field.isKeyField()){if("string"!=typeof x)throw new st(Me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof x}`);if(!hS(s)&&-1!==x.indexOf("/"))throw new st(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${x}' contains a slash.`);const V=s.path.child(ir.fromString(x));if(!Bt.isDocumentKey(V))throw new st(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const U=new Bt(V);I.push(_d(a,U))}else{const V=Y4(l,u,x);I.push(V)}}return new Zu(I,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function n3(t,e,n){if("string"==typeof(n=(0,$n.Ku)(n))){if(""===n)throw new st(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hS(e)&&-1!==n.indexOf("/"))throw new st(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ir.fromString(n));if(!Bt.isDocumentKey(r))throw new st(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _d(t,new Bt(r))}if(n instanceof Yr)return _d(t,n._key);throw new st(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qE(n)}.`)}function r3(t,e){if(!Array.isArray(t)||0===t.length)throw new st(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i3(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new st(Me.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pP{convertValue(e,n="none"){switch(Yu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ql(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Kt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wu(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new KE(gi(e.latitude),gi(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hE(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(C_(e));default:return null}}convertTimestamp(e){const n=Gl(e);return new ni(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ir.fromString(e);an(gj(r));const i=new Ku(r.get(1),r.get(3)),o=new Bt(r.popFirst(5));return i.isEqual(n)||Di(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function rb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Lce extends pP{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,n)}}class Md{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jl extends J_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(JE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nv extends Jl{data(e={}){return super.data(e)}}class sc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Md(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nv(this._firestore,this._userDataWriter,r.key,r,new Md(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new nv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Md(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new nv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Md(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:$ce(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $ce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}function s3(t,e){return t instanceof Jl&&e instanceof Jl?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof sc&&e instanceof sc&&t._firestore===e._firestore&&rP(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class ac extends pP{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,n)}}function a3(t,e,n){t=Jn(t,Yr);const r=Jn(t.firestore,Nr),i=rb(t.converter,e,n);return wp(r,[YE(Rd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ri.none())])}function l3(t,e,n,...r){t=Jn(t,Yr);const i=Jn(t.firestore,Nr),o=Rd(i);let s;return s="string"==typeof(e=(0,$n.Ku)(e))||e instanceof Zl?cP(o,"updateDoc",t._key,e,n,r):uP(o,"updateDoc",t._key,e),wp(i,[s.toMutation(t._key,ri.exists(!0))])}function u3(t,...e){var n,r,i;t=(0,$n.Ku)(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||iP(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(iP(e[s])){const p=e[s];e[s]=null===(n=p.next)||void 0===n?void 0:n.bind(p),e[s+1]=null===(r=p.error)||void 0===r?void 0:r.bind(p),e[s+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}let l,u,d;if(t instanceof Yr)u=Jn(t.firestore,Nr),d=Yf(t._key.path),l={next:p=>{e[s]&&e[s](mP(u,t,p))},error:e[s+1],complete:e[s+2]};else{const p=Jn(t,mo);u=Jn(p.firestore,Nr),d=p._query;const _=new ac(u);l={next:I=>{e[s]&&e[s](new sc(u,_,p,I))},error:e[s+1],complete:e[s+2]},e3(t._query)}return function(_,I,A,x){const V=new zE(x),U=new yR(I,V,A);return _.asyncQueue.enqueueAndForget((0,E.A)(function*(){return fR(yield bp(_),U)})),()=>{V.$a(),_.asyncQueue.enqueueAndForget((0,E.A)(function*(){return mR(yield bp(_),U)}))}}(ii(u),d,a,l)}function wp(t,e){return function(r,i){const o=new Wi;return r.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function Nue(t,e,n){return DR.apply(this,arguments)}(yield eP(r),i,o)})),o.promise}(ii(t),e)}function mP(t,e,n){const r=n.docs.get(e._key),i=new ac(t);return new Jl(t,i,e._key,r,new Md(n.hasPendingWrites,n.fromCache),e.converter)}const rde={maxAttempts:5};class c3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Rd(e)}set(e,n,r){this._verifyNotCommitted();const i=lc(e,this._firestore),o=rb(i.converter,n,r),s=YE(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,ri.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=lc(e,this._firestore);let s;return s="string"==typeof(n=(0,$n.Ku)(n))||n instanceof Zl?cP(this._dataReader,"WriteBatch.update",o._key,n,r,i):uP(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=lc(e,this._firestore);return this._mutations=this._mutations.concat(new np(n._key,ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lc(t,e){if((t=(0,$n.Ku)(t)).firestore!==e)throw new st(Me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class ide extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Rd(n)}get(n){const r=lc(n,this._firestore),i=new Lce(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Kt();const s=o[0];if(s.isFoundDocument())return new J_(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new J_(this._firestore,i,r._key,null,r.converter);throw Kt()})}set(n,r,i){const o=lc(n,this._firestore),s=rb(o.converter,r,i),a=YE(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=lc(n,this._firestore);let a;return a="string"==typeof(r=(0,$n.Ku)(r))||r instanceof Zl?cP(this._dataReader,"Transaction.update",s._key,r,i,o):uP(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=lc(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=lc(e,this._firestore),r=new ac(this._firestore);return super.get(e).then(i=>new Jl(this._firestore,r,n._key,i._document,new Md(!1,!1),n.converter))}}function _P(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new st("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function p3(){if(typeof Uint8Array>"u")throw new st("unimplemented","Uint8Arrays are not available in this environment.")}function m3(){if(!function Vae(){return typeof atob<"u"}())throw new st("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){jf=qi.SDK_VERSION,(0,qi._registerComponent)(new oE.uA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Nr(new lae(r.getProvider("auth-internal")),new dae(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new st(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,qi.registerVersion)(FB,"4.6.3",e),(0,qi.registerVersion)(FB,"4.6.3","esm2017")}();class rv{constructor(e){this._delegate=e}static fromBase64String(e){return m3(),new rv(dl.fromBase64String(e))}static fromUint8Array(e){return p3(),new rv(dl.fromUint8Array(e))}toBase64(){return m3(),this._delegate.toBase64()}toUint8Array(){return p3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vP(t){return function pde(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class mde{enableIndexedDbPersistence(e,n){return function mce(t,e){q4(t=Jn(t,Nr));const n=ii(t);if(n._uninitializedComponentsProvider)throw new st(Me.FAILED_PRECONDITION,"SDK cache is already specified.");cs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Ip;return G4(n,i,new WR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function gce(t){q4(t=Jn(t,Nr));const e=ii(t);if(e._uninitializedComponentsProvider)throw new st(Me.FAILED_PRECONDITION,"SDK cache is already specified.");cs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Ip;return G4(e,r,new A4(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _ce(t){if(t._initialized&&!t._terminated)throw new st(Me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wi;return t._queue.enqueueAndForgetEvenWhileRestricted((0,E.A)(function*(){try{yield(n=(0,E.A)(function*(i){if(!ol.D())return Promise.resolve();const o=i+"main";yield ol.delete(o)}),function r(i){return n.apply(this,arguments)})(FS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class g3{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ku||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&cs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function U4(t,e,n,r={}){var i;const o=(t=Jn(t,Q_))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=no.MOCK_USER;else{a=(0,$n.Fy)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new st(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new no(u)}t._authCredentials=new aae(new LB(a,l))}}(this._delegate,e,n,r)}enableNetwork(){return function yce(t){return function ece(t){return t.asyncQueue.enqueue((0,E.A)(function*(){const e=yield R4(t),n=yield P4(t);return e.setNetworkEnabled(!0),function(i){const o=Vt(i);return o.M_.delete(0),K_(o)}(n)}))}(ii(t=Jn(t,Nr)))}(this._delegate)}disableNetwork(){return function Ice(t){return function tce(t){return t.asyncQueue.enqueue((0,E.A)(function*(){const e=yield R4(t),n=yield P4(t);return e.setNetworkEnabled(!1),(r=(0,E.A)(function*(o){const s=Vt(o);s.M_.add(0),yield dp(s),s.N_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(ii(t=Jn(t,Nr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,F4("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vce(t){return function(n){const r=new Wi;return n.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function Lue(t,e){return xR.apply(this,arguments)}(yield eP(n),r)})),r.promise}(ii(t=Jn(t,Nr)))}(this._delegate)}onSnapshotsInSync(e){return function Kce(t,e){return function oce(t,e){const n=new zE(e);return t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return i=yield bp(t),o=n,Vt(i).z_.add(o),void o.next();var i,o})),()=>{n.$a(),t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return i=yield bp(t),o=n,void Vt(i).z_.delete(o);var i,o}))}}(ii(t=Jn(t,Nr)),iP(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new st("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Tp(this,j4(this._delegate,e))}catch(n){throw Xo(n,"collection()","Firestore.collection()")}}doc(e){try{return new Js(this,WE(this._delegate,e))}catch(n){throw Xo(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zo(this,function dce(t,e){if(t=Jn(t,Q_),nP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new st(Me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mo(t,null,(r=e,new Wl(ir.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw Xo(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ode(t,e,n){t=Jn(t,Nr);const r=Object.assign(Object.assign({},rde),n);return function(o){if(o.maxAttempts<1)throw new st(Me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new Wi;return o.asyncQueue.enqueueAndForget((0,E.A)(function*(){const u=yield function M4(t){return GE(t).then(e=>e.datastore)}(o);new Zue(o.asyncQueue,u,a,s,l).Xa()})),l.promise}(ii(t),i=>e(new ide(t,i)),r)}(this._delegate,n=>e(new _3(this,n)))}batch(){return ii(this._delegate),new v3(new c3(this._delegate,e=>wp(this._delegate,e)))}loadBundle(e){return function Ece(t,e){const n=ii(t=Jn(t,Nr)),r=new fce;return function sce(t,e,n,r){const i=function(s,a){let l;return l="string"==typeof s?YU().encode(s):s,d=function(d,p){if(d instanceof Uint8Array)return D4(d,p);if(d instanceof ArrayBuffer)return D4(new Uint8Array(d),p);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Yue(d,a);var d}(n,W_(e));t.asyncQueue.enqueueAndForget((0,E.A)(function*(){!function Kue(t,e,n){const r=Vt(t);var i;(i=(0,E.A)(function*(s,a,l){try{const u=yield a.getMetadata();if(yield function(A,x){const V=Vt(A),U=Si(x.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",G=>V.$r.getBundleMetadata(G,x.id)).then(G=>!!G&&G.createTime.compareTo(U)>=0)}(s.localStore,u))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(A=u).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);l._updateProgress(g4(u));const d=new Tue(u,s.localStore,a.serializer);let p=yield a.qa();for(;p;){const I=yield d._a(p);I&&l._updateProgress(I),p=yield a.qa()}const _=yield d.complete();return yield Xl(s,_.ca,void 0),yield function(A,x){const V=Vt(A);return V.persistence.runTransaction("Save bundle","readwrite",U=>V.$r.saveBundleMetadata(U,x))}(s.localStore,u),l._completeWith(_.progress),Promise.resolve(_.ua)}catch(u){return cs("SyncEngine",`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}var A}),function o(s,a,l){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield eP(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function bce(t,e){return function ace(t,e){return t.asyncQueue.enqueue((0,E.A)(function*(){return function(r,i){const o=Vt(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield Ep(t),e)}))}(ii(t=Jn(t,Nr)),e).then(n=>n?new mo(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Zo(this,n):null)}}class ob extends pP{constructor(e){super(),this.firestore=e}convertBytes(e){return new rv(new dl(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Js.forKey(n,this.firestore,null)}}class _3{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ob(e)}get(e){const n=Nd(e);return this._delegate.get(n).then(r=>new iv(this._firestore,new Jl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Nd(e);return r?(_P("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Nd(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Nd(e);return this._delegate.delete(n),this}}class v3{constructor(e){this._delegate=e}set(e,n,r){const i=Nd(e);return r?(_P("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Nd(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Nd(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class xd{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new nv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ov(this._firestore,r),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=xd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new xd(e,new ob(e),n),i.set(n,o)),o}}xd.INSTANCES=new WeakMap;class Js{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ob(e)}static forPath(e,n,r){if(e.length%2!=0)throw new st("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Js(n,new Yr(n._delegate,r,new Bt(e)))}static forKey(e,n,r){return new Js(n,new Yr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Tp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Tp(this.firestore,j4(this._delegate,e))}catch(n){throw Xo(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$n.Ku)(e))instanceof Yr&&z4(this._delegate,e)}set(e,n){n=_P("DocumentReference.set",n);try{return n?a3(this._delegate,e,n):a3(this._delegate,e)}catch(r){throw Xo(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?l3(this._delegate,e):l3(this._delegate,e,n,...r)}catch(i){throw Xo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function qce(t){return wp(Jn(t.firestore,Nr),[new np(t._key,ri.none())])}(this._delegate)}onSnapshot(...e){const n=y3(e),r=I3(e,i=>new iv(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return u3(this._delegate,n,r)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Uce(t){t=Jn(t,Yr);const e=Jn(t.firestore,Nr),n=ii(e),r=new ac(e);return function nce(t,e){const n=new Wi;return t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return(r=(0,E.A)(function*(o,s,a){try{const l=yield function(d,p){const _=Vt(d);return _.persistence.runTransaction("read document","readonly",I=>_.localDocuments.getDocument(I,p))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new st(Me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=mp(l,`Failed to get document '${s} from cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Ep(t),e,n);var r})),n.promise}(n,t._key).then(i=>new Jl(e,r,t._key,i,new Md(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function jce(t){t=Jn(t,Yr);const e=Jn(t.firestore,Nr);return x4(ii(e),t._key,{source:"server"}).then(n=>mP(e,t,n))}(this._delegate):function Bce(t){t=Jn(t,Yr);const e=Jn(t.firestore,Nr);return x4(ii(e),t._key).then(n=>mP(e,t,n))}(this._delegate),n.then(r=>new iv(this.firestore,new Jl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Js(this.firestore,this._delegate.withConverter(e?xd.getInstance(this.firestore,e):null))}}function Xo(t,e,n){return t.message=t.message.replace(e,n),t}function y3(t){for(const e of t)if("object"==typeof e&&!vP(e))return e;return{}}function I3(t,e){var n,r;let i;return i=vP(t[0])?t[0]:vP(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class iv{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Js(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return s3(this._delegate,e._delegate)}}class ov extends iv{data(e){const n=this._delegate.data(e);return this._delegate._converter||function oae(t,e){t||Kt()}(void 0!==n),n}}class Zo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ob(e)}where(e,n,r){try{return new Zo(this.firestore,oc(this._delegate,function Rce(t,e,n){const r=e,i=JE("where",t);return tv._create(i,r,n)}(e,n,r)))}catch(i){throw Xo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Zo(this.firestore,oc(this._delegate,function Pce(t,e="asc"){const n=e,r=JE("orderBy",t);return fP._create(r,n)}(e,n)))}catch(r){throw Xo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zo(this.firestore,oc(this._delegate,function Mce(t){return $4("limit",t),eb._create("limit",t,"F")}(e)))}catch(n){throw Xo(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Zo(this.firestore,oc(this._delegate,function xce(t){return $4("limitToLast",t),eb._create("limitToLast",t,"L")}(e)))}catch(n){throw Xo(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zo(this.firestore,oc(this._delegate,function Nce(...t){return tb._create("startAt",t,!0)}(...e)))}catch(n){throw Xo(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zo(this.firestore,oc(this._delegate,function kce(...t){return tb._create("startAfter",t,!1)}(...e)))}catch(n){throw Xo(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zo(this.firestore,oc(this._delegate,function Oce(...t){return nb._create("endBefore",t,!1)}(...e)))}catch(n){throw Xo(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zo(this.firestore,oc(this._delegate,function Fce(...t){return nb._create("endAt",t,!0)}(...e)))}catch(n){throw Xo(n,"endAt()","Query.endAt()")}}isEqual(e){return rP(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Hce(t){t=Jn(t,mo);const e=Jn(t.firestore,Nr),n=ii(e),r=new ac(e);return function rce(t,e){const n=new Wi;return t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return(r=(0,E.A)(function*(o,s,a){try{const l=yield OE(o,s,!0),u=new y4(s,l.hs),d=u.da(l.documents),p=u.applyChanges(d,!1);a.resolve(p.snapshot)}catch(l){const u=mp(l,`Failed to execute query '${s} against cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Ep(t),e,n);var r})),n.promise}(n,t._query).then(i=>new sc(e,r,t,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function Gce(t){t=Jn(t,mo);const e=Jn(t.firestore,Nr),n=ii(e),r=new ac(e);return N4(n,t._query,{source:"server"}).then(i=>new sc(e,r,t,i))}(this._delegate):function zce(t){t=Jn(t,mo);const e=Jn(t.firestore,Nr),n=ii(e),r=new ac(e);return e3(t._query),N4(n,t._query).then(i=>new sc(e,r,t,i))}(this._delegate),n.then(r=>new yP(this.firestore,new sc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=y3(e),r=I3(e,i=>new yP(this.firestore,new sc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return u3(this._delegate,n,r)}withConverter(e){return new Zo(this.firestore,this._delegate.withConverter(e?xd.getInstance(this.firestore,e):null))}}class _de{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ov(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yP{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Zo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ov(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new _de(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ov(this._firestore,r))})}isEqual(e){return s3(this._delegate,e._delegate)}}class Tp extends Zo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Js(this.firestore,e):null}doc(e){try{return new Js(this.firestore,void 0===e?WE(this._delegate):WE(this._delegate,e))}catch(n){throw Xo(n,"doc()","CollectionReference.doc()")}}add(e){return function Wce(t,e){const n=Jn(t.firestore,Nr),r=WE(t),i=rb(t.converter,e);return wp(n,[YE(Rd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ri.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Js(this.firestore,n))}isEqual(e){return z4(this._delegate,e._delegate)}withConverter(e){return new Tp(this.firestore,this._delegate.withConverter(e?xd.getInstance(this.firestore,e):null))}}function Nd(t){return Jn(t,Yr)}class IP{constructor(...e){this._delegate=new Zl(...e)}static documentId(){return new IP(Kr.keyField().canonicalString())}isEqual(e){return(e=(0,$n.Ku)(e))instanceof Zl&&this._delegate._internalPath.isEqual(e._internalPath)}}class kd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ade(){return new oP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new kd(e)}static delete(){const e=function sde(){return new X_("deleteField")}();return e._methodName="FieldValue.delete",new kd(e)}static arrayUnion(...e){const n=function lde(...t){return new sP("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new kd(n)}static arrayRemove(...e){const n=function ude(...t){return new aP("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new kd(n)}static increment(e){const n=function cde(t){return new lP("increment",t)}(e);return n._methodName="FieldValue.increment",new kd(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const vde={Firestore:g3,GeoPoint:KE,Timestamp:ni,Blob:rv,Transaction:_3,WriteBatch:v3,DocumentReference:Js,DocumentSnapshot:iv,Query:Zo,QueryDocumentSnapshot:ov,QuerySnapshot:yP,CollectionReference:Tp,FieldPath:IP,FieldValue:kd,setLogLevel:function gde(t){!function iae(t){Hu.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function E3(t,e){return function Ede(t,e=KD){return new Mn(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function EP(t,e){return E3(t,e).pipe(Et(n=>({payload:n,type:"query"})))}!function Ide(t){(function yde(t,e){t.INTERNAL.registerComponent(new oE.uA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},vde)))})(t,(e,n)=>new g3(e,n,new mde)),t.registerVersion("@firebase/firestore-compat","0.3.32")}(zl.A);class b3{constructor(e,n){v(this,"ref",void 0),v(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=A3(r,n);return new T3(i,o,this.afs)}snapshotChanges(){return function bde(t,e){return E3(t,e).pipe(lI(void 0),ZD(),Et(n=>{const[r,i]=n;return i.exists?null!=r&&r.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yo)}valueChanges(e={}){return this.snapshotChanges().pipe(Et(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return Dr(this.ref.get(e)).pipe(Yo)}}function sb(t,e){return EP(t,e).pipe(lI(void 0),ZD(),Et(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const u=o.find(p=>p.doc.ref.isEqual(a.ref)),d=null==r?void 0:r.payload.docs.find(p=>p.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function C3(t,e,n){return sb(t,n).pipe(cI((r,i)=>function Cde(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function wde(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return bP(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return bP(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return bP(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),B$(),Et(r=>r.map(i=>({type:i.type,payload:i}))))}function bP(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function w3(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class T3{constructor(e,n,r){v(this,"ref",void 0),v(this,"query",void 0),v(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=sb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(Et(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(lI(void 0),ZD(),Ss(([r,i])=>i.length>0||!r),Et(([,r])=>r),Yo)}auditTrail(e){return this.stateChanges(e).pipe(cI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=w3(e);return C3(this.query,n,this.afs.schedulers.outsideAngular).pipe(Yo)}valueChanges(e={}){return EP(this.query,this.afs.schedulers.outsideAngular).pipe(Et(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Yo)}get(e){return Dr(this.query.get(e)).pipe(Yo)}add(e){return this.ref.add(e)}doc(e){return new b3(this.ref.doc(e),this.afs)}}class Tde{constructor(e,n){v(this,"query",void 0),v(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?sb(this.query,this.afs.schedulers.outsideAngular).pipe(Et(n=>n.filter(r=>e.indexOf(r.type)>-1)),Ss(n=>n.length>0),Yo):sb(this.query,this.afs.schedulers.outsideAngular).pipe(Yo)}auditTrail(e){return this.stateChanges(e).pipe(cI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=w3(e);return C3(this.query,n,this.afs.schedulers.outsideAngular).pipe(Yo)}valueChanges(e={}){return EP(this.query,this.afs.schedulers.outsideAngular).pipe(Et(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Yo)}get(e){return Dr(this.query.get(e)).pipe(Yo)}}const Ade=new yt("angularfire2.enableFirestorePersistence"),Dde=new yt("angularfire2.firestore.persistenceSettings"),Sde=new yt("angularfire2.firestore.settings"),Rde=new yt("angularfire2.firestore.use-emulator");function A3(t,e=(n=>n)){return{query:e(t),ref:t}}let ab=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,d,p,_,I,A,x,V,U,G,me){v(this,"schedulers",void 0),v(this,"firestore",void 0),v(this,"persistenceEnabled$",void 0),this.schedulers=u;const _e=iE(r,l,i),tt=p;_&&AB(_e,l,I,x,V,U,A,G),[this.firestore,this.persistenceEnabled$]=YD(`${_e.name}.firestore`,"AngularFirestore",_e.name,()=>{const _t=l.runOutsideAngular(()=>_e.firestore());if(s&&_t.settings(s),tt&&_t.useEmulator(...tt),o&&!tI(a)){const Q=()=>{try{return Dr(_t.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch($){return typeof console<"u"&&console.warn($),In(!1)}};return[_t,l.runOutsideAngular(Q)]}return[_t,In(!1)]},[s,tt,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=A3(o,i),l=this.schedulers.ngZone.run(()=>s);return new T3(l,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new Tde(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new b3(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(g_),Qe(__,8),Qe(Ade,8),Qe(Sde,8),Qe(qs),Qe(je),Qe(m_),Qe(Dde,8),Qe(Rde,8),Qe(Aa,8),Qe(IB,8),Qe(EB,8),Qe(bB,8),Qe(CB,8),Qe(wB,8),Qe(TB,8),Qe(rE,8))}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),Pde=(()=>{var t;class e{constructor(r){this.firestore=r}getim(){return this.firestore.collection("img-activate").snapshotChanges()}updateImgAc(r,i){return this.firestore.collection("img-activate").doc(r).update(i)}addImagenInfo(r){return this.firestore.collection("img-activate").add(r)}delete(r){return this.firestore.collection("img-activate").doc(r).delete()}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(ab))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),lb=(()=>{var t;class e{constructor(r){this.firestore=r}getUsers(){return this.firestore.collection("users").snapshotChanges()}getUserById(r){return this.firestore.collection("users").snapshotChanges()}addIUserInfo(r){return this.firestore.collection("users").add(r)}updateUser(r,i){return this.firestore.collection("users").doc(i).update(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(ab))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const D3="firebasestorage.googleapis.com",S3="storageBucket";class fi extends $n.g{constructor(e,n,r=0){super(CP(e),`Firebase Storage: ${n} (${CP(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return CP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var oi=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(oi||{});function CP(t){return"storage/"+t}function wP(){return new fi(oi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function R3(){return new fi(oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P3(){return new fi(oi.CANCELED,"User canceled the upload/download.")}function M3(){return new fi(oi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ap(t){return new fi(oi.INVALID_ARGUMENT,t)}function x3(){return new fi(oi.APP_DELETED,"The Firebase app was deleted.")}function N3(t){return new fi(oi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sv(t,e){return new fi(oi.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function av(t){throw new fi(oi.INTERNAL_ERROR,"Internal error: "+t)}class ko{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ko.makeFromUrl(e,n)}catch{return new ko(e,"")}if(""===r.path)return r;throw function Ude(t){return new fi(oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(_e){_e.path_=decodeURIComponent(_e.path)}const p=n.replace(/[.]/g,"\\."),me=[{regex:a,indices:{bucket:1,path:3},postModify:function o(_e){"/"===_e.path.charAt(_e.path.length-1)&&(_e.path_=_e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${p}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===D3?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let _e=0;_e<me.length;_e++){const tt=me[_e],_t=tt.regex.exec(e);if(_t){let $=_t[tt.indices.path];$||($=""),r=new ko(_t[tt.indices.bucket],$),tt.postModify(r);break}}if(null==r)throw function Bde(t){return new fi(oi.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class qde{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ub(t){return"string"==typeof t||t instanceof String}function k3(t){return TP()&&t instanceof Blob}function TP(){return typeof Blob<"u"}function AP(t,e,n,r){if(r<e)throw Ap(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ap(`Invalid value for '${t}'. Expected ${n} or less.`)}function eu(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function O3(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Dp=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Dp||{});function F3(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class Zde{constructor(e,n,r,i,o,s,a,l,u,d,p,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=p,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,A)=>{this.resolve_=I,this.reject_=A,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function Qde(t){return void 0!==t}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=wP();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(i.canceled?this.appDelete_?x3():P3():R3())};this.canceled_?n(0,new cb(!1,null,!0)):this.backoffId_=function Wde(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function d(...V){u||(u=!0,e.apply(null,V))}function p(V){i=setTimeout(()=>{i=null,t(I,l())},V)}function _(){o&&clearTimeout(o)}function I(V,...U){if(u)return void _();if(V)return _(),void d.call(null,V,...U);if(l()||s)return _(),void d.call(null,V,...U);let me;r<64&&(r*=2),1===a?(a=2,me=0):me=1e3*(r+Math.random()),p(me)}let A=!1;function x(V){A||(A=!0,_(),!u&&(null!==i?(V||(a=2),clearTimeout(i),p(0)):V||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,x(!0)},n),x}((r,i)=>{if(i)return void r(!1,new cb(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Dp.NO_ERROR,l=o.getStatus();if(!a||F3(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Dp.ABORT;return void r(!1,new cb(!1,null,d))}const u=-1!==this.successCodes_.indexOf(l);r(!0,new cb(u,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Kde(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class cb{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ohe(...t){const e=function ihe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(TP())return new Blob(t);throw new fi(oi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ks={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class DP{constructor(e,n){this.data=e,this.contentType=n||null}}function SP(t,e){switch(t){case ks.RAW:return new DP(L3(e));case ks.BASE64:case ks.BASE64URL:return new DP(V3(t,e));case ks.DATA_URL:return new DP(function uhe(t){const e=new $3(t);return e.base64?V3(ks.BASE64,e.rest):function lhe(t){let e;try{e=decodeURIComponent(t)}catch{throw sv(ks.DATA_URL,"Malformed data URL.")}return L3(e)}(e.rest)}(e),function che(t){return new $3(t).contentType}(e))}throw wP()}function L3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function V3(t,e){switch(t){case ks.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw sv(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ks.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw sv(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function ahe(t){if(typeof atob>"u")throw function Gde(t){return new fi(oi.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:sv(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw sv(ks.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function dhe(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class hl{constructor(e,n){let r=0,i="";k3(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(k3(this.data_)){const i=function she(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new hl(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new hl(r,!0)}}static getBlob(...e){if(TP()){const n=e.map(r=>r instanceof hl?r.data_:r);return new hl(ohe.apply(null,n))}{const n=e.map(s=>ub(s)?SP(ks.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new hl(i,!0)}}uploadData(){return this.data_}}function RP(t){let e;try{e=JSON.parse(t)}catch{return null}return function Xde(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function B3(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function phe(t,e){return e}class Jo{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||phe}}let db=null;function lv(){if(db)return db;const t=[];t.push(new Jo("bucket")),t.push(new Jo("generation")),t.push(new Jo("metageneration")),t.push(new Jo("name","fullPath",!0));const n=new Jo("name");n.xform=function e(o,s){return function mhe(t){return!ub(t)||t.length<2?t:B3(t)}(s)},t.push(n);const i=new Jo("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new Jo("timeCreated")),t.push(new Jo("updated")),t.push(new Jo("md5Hash",null,!0)),t.push(new Jo("cacheControl",null,!0)),t.push(new Jo("contentDisposition",null,!0)),t.push(new Jo("contentEncoding",null,!0)),t.push(new Jo("contentLanguage",null,!0)),t.push(new Jo("contentType",null,!0)),t.push(new Jo("metadata","customMetadata",!0)),db=t,db}function U3(t,e,n){const r=RP(e);return null===r?null:function _he(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function ghe(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new ko(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function PP(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const j3="prefixes",z3="items";class fl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pl(t){if(!t)throw wP()}function hb(t,e){return function n(r,i){const o=U3(t,i,e);return pl(null!==o),o}}function Sp(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function Vde(){return new fi(oi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Lde(){return new fi(oi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Fde(t){return new fi(oi.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function $de(t){return new fi(oi.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function uv(t){const e=Sp(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function Ode(t){return new fi(oi.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function H3(t,e,n){const i=eu(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new fl(i,"GET",hb(t,n),s);return a.errorHandler=uv(e),a}function Che(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=eu(e.bucketOnlyServerUrl(),t.host,t._protocol),u=t.maxOperationRetryTime,d=new fl(a,"GET",function Ehe(t,e){return function n(r,i){const o=function Ihe(t,e,n){const r=RP(n);return null===r?null:function yhe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[j3])for(const i of n[j3]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new ko(e,o));r.prefixes.push(s)}if(n[z3])for(const i of n[z3]){const o=t._makeStorageReference(new ko(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return pl(null!==o),o}}(t,e.bucket),u);return d.urlParams=o,d.errorHandler=Sp(e),d}function q3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function Dhe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class fb{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function MP(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{pl(!1)}return pl(!!n&&-1!==(e||["active"]).indexOf(n)),n}const Mhe={STATE_CHANGED:"state_changed"},es={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xP(t){switch(t){case"running":case"pausing":case"canceling":return es.RUNNING;case"paused":return es.PAUSED;case"success":return es.SUCCESS;case"canceled":return es.CANCELED;default:return es.ERROR}}class xhe{constructor(e,n,r){if(function Yde(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=null!=n?n:void 0,this.complete=null!=r?r:void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Rp(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let Q3=null;class Nhe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw av("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw av("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw av("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw av("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw av("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class khe extends Nhe{initXhr(){this.xhr_.responseType="text"}}function Da(){return Q3?Q3():new khe}class Y3{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=lv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(oi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(F3(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=R3()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(oi.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function She(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=q3(e,r,i),a={name:s.fullPath},l=eu(o,t.host,t._protocol),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},p=PP(s,n),A=new fl(l,"POST",function I(x){let V;MP(x);try{V=x.getResponseHeader("X-Goog-Upload-URL")}catch{pl(!1)}return pl(ub(V)),V},t.maxUploadRetryTime);return A.urlParams=a,A.headers=d,A.body=p,A.errorHandler=Sp(e),A}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Da,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function Rhe(t,e,n,r){const l=new fl(n,"POST",function o(u){const d=MP(u,["active","final"]);let p=null;try{p=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{pl(!1)}p||pl(!1);const _=Number(p);return pl(!isNaN(_)),new fb(_,r.size(),"final"===d)},t.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=Sp(e),l}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Da,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new fb(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function Phe(t,e,n,r,i,o,s,a){const l=new fb(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw function zde(){return new fi(oi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=l.total-l.current;let d=u;i>0&&(d=Math.min(d,i));const p=l.current;let I="";I=0===d?"finalize":u===d?"upload, finalize":"upload";const A={"X-Goog-Upload-Command":I,"X-Goog-Upload-Offset":`${l.current}`},x=r.slice(p,p+d);if(null===x)throw M3();const me=new fl(n,"POST",function V(_e,tt){const _t=MP(_e,["active","final"]),Q=l.current+d,$=r.size();let W;return W="final"===_t?hb(e,o)(_e,tt):null,new fb(Q,$,"final"===_t,W)},e.maxUploadRetryTime);return me.headers=A,me.body=x.uploadData(),me.progressCallback=a||null,me.errorHandler=Sp(t),me}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Da,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=H3(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Da,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function W3(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let me="";for(let _e=0;_e<2;_e++)me+=Math.random().toString().slice(2);return me}();s["Content-Type"]="multipart/related; boundary="+l;const u=q3(e,r,i),d=PP(u,n),I=hl.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+d+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===I)throw M3();const A={name:u.fullPath},x=eu(o,t.host,t._protocol),U=t.maxUploadRetryTime,G=new fl(x,"POST",hb(t,n),U);return G.urlParams=A,G.headers=s,G.body=I.uploadData(),G.errorHandler=Sp(e),G}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Da,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=P3(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=xP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new xhe(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(xP(this._state)){case es.SUCCESS:Rp(this._resolve.bind(null,this.snapshot))();break;case es.CANCELED:case es.ERROR:Rp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(xP(this._state)){case es.RUNNING:case es.PAUSED:e.next&&Rp(e.next.bind(e,this.snapshot))();break;case es.SUCCESS:e.complete&&Rp(e.complete.bind(e))();break;default:e.error&&Rp(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Od{constructor(e,n){this._service=e,this._location=n instanceof ko?n:ko.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Od(e,n)}get root(){const e=new ko(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B3(this._location.path)}get storage(){return this._service}get parent(){const e=function hhe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new ko(this._location.bucket,e);return new Od(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw N3(e)}}function Z3(t,e,n){return NP.apply(this,arguments)}function NP(){return(NP=(0,E.A)(function*(t,e,n){const i=yield J3(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield Z3(t,e,i.nextPageToken))})).apply(this,arguments)}function J3(t,e){null!=e&&"number"==typeof e.maxResults&&AP("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Che(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Da)}function qhe(t){t._throwIfRoot("getDownloadURL");const e=function whe(t,e,n){const i=eu(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new fl(i,"GET",function bhe(t,e){return function n(r,i){const o=U3(t,i,e);return pl(null!==o),function vhe(t,e,n,r){const i=RP(e);if(null===i||!ub(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const p=t.fullPath;return eu("/b/"+s(t.bucket)+"/o/"+s(p),n,r)+O3({alt:"media",token:u})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=uv(e),a}(t.storage,t._location,lv());return t.storage.makeRequestWithTokens(e,Da).then(n=>{if(null===n)throw function Hde(){return new fi(oi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function ez(t,e){const n=function fhe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new ko(t._location.bucket,n);return new Od(t.storage,r)}function tz(t,e){if(t instanceof kP){const n=t;if(null==n._bucket)throw function jde(){return new fi(oi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+S3+"' property when initializing the app?")}();const r=new Od(n,n._bucket);return null!=e?tz(r,e):r}return void 0!==e?ez(t,e):t}function Yhe(t,e){if(e&&function Khe(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof kP)return function Qhe(t,e){return new Od(t,e)}(t,e);throw Ap("To use ref(service, url), the first argument must be a Storage instance.")}return tz(t,e)}function nz(t,e){const n=null==e?void 0:e[S3];return null==n?null:ko.makeFromBucketSpec(n,t)}class kP{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=D3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ko.makeFromBucketSpec(i,this._host):nz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ko.makeFromBucketSpec(this._url,e):nz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,E.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,E.A)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Od(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new qde(x3());{const s=function rhe(t,e,n,r,i,o,s=!0){const a=O3(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return function the(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function Jde(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function ehe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function nhe(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new Zde(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,E.A)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const rz="@firebase/storage",oz="storage";function sz(t,e){return Yhe(t=(0,$n.Ku)(t),e)}function sfe(t=(0,qi.getApp)(),e){t=(0,$n.Ku)(t);const r=(0,qi._getProvider)(t,oz).getImmediate({identifier:e}),i=(0,$n.yU)("storage");return i&&az(r,...i),r}function az(t,e,n,r={}){!function Xhe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,$n.Fy)(i,t.app.options.projectId))}(t,e,n,r)}function afe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new kP(n,r,i,e,qi.SDK_VERSION)}!function lfe(){(0,qi._registerComponent)(new oE.uA(oz,afe,"PUBLIC").setMultipleInstances(!0)),(0,qi.registerVersion)(rz,"0.12.5",""),(0,qi.registerVersion)(rz,"0.12.5","esm2017")}();class pb{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class lz{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new pb(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new pb(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new pb(s,this,this._ref)):{next:n.next?s=>n.next(new pb(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class uz{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new tu(e,this._service))}get items(){return this._delegate.items.map(e=>new tu(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class tu{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function ofe(t,e){return ez(t,e)}(this._delegate,e);return new tu(n,this.storage)}get root(){return new tu(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new tu(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new lz(function Zhe(t,e,n){return function Uhe(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Y3(t,new hl(e),n)}(t=(0,$n.Ku)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=ks.RAW,r){this._throwIfRoot("putString");const i=SP(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new lz(new Y3(this._delegate,new hl(i.data,!0),o),this)}listAll(){return function nfe(t){return function zhe(t){const e={prefixes:[],items:[]};return Z3(t,e).then(()=>e)}(t=(0,$n.Ku)(t))}(this._delegate).then(e=>new uz(e,this.storage))}list(e){return function tfe(t,e){return J3(t=(0,$n.Ku)(t),e)}(this._delegate,e||void 0).then(n=>new uz(n,this.storage))}getMetadata(){return function Jhe(t){return function Hhe(t){t._throwIfRoot("getMetadata");const e=H3(t.storage,t._location,lv());return t.storage.makeRequestWithTokens(e,Da)}(t=(0,$n.Ku)(t))}(this._delegate)}updateMetadata(e){return function efe(t,e){return function Ghe(t,e){t._throwIfRoot("updateMetadata");const n=function The(t,e,n,r){const o=eu(e.fullServerUrl(),t.host,t._protocol),a=PP(n,r),u=t.maxOperationRetryTime,d=new fl(o,"PATCH",hb(t,r),u);return d.headers={"Content-Type":"application/json; charset=utf-8"},d.body=a,d.errorHandler=uv(e),d}(t.storage,t._location,e,lv());return t.storage.makeRequestWithTokens(n,Da)}(t=(0,$n.Ku)(t),e)}(this._delegate,e)}getDownloadURL(){return function rfe(t){return qhe(t=(0,$n.Ku)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ife(t){return function Whe(t){t._throwIfRoot("deleteObject");const e=function Ahe(t,e){const r=eu(e.fullServerUrl(),t.host,t._protocol),a=new fl(r,"DELETE",function s(l,u){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=uv(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Da)}(t=(0,$n.Ku)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw N3(e)}}class cz{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(dz(e))throw Ap("ref() expected a child path but got a URL, use refFromURL instead.");return new tu(sz(this._delegate,e),this)}refFromURL(e){if(!dz(e))throw Ap("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ko.makeFromUrl(e,this._delegate.host)}catch{throw Ap("refFromUrl() expected a valid full URL but got an invalid one.")}return new tu(sz(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){az(this._delegate,e,n,r)}}function dz(t){return/^[A-Za-z]+:\/\//.test(t)}function hfe(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new cz(n,r)}function hz(t){const e=function pfe(t){return new Mn(e=>{const n=s=>e.next(s);n(t.snapshot);const o=t.on("state_changed",n);return t.then(s=>{n(s),e.complete()},s=>{n(t.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function Mde(t,e=KD){return Re((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=o;o=null,r.next(u)}};function l(){const u=s+t,d=e.now();if(d<u)return i=this.schedule(void 0,u-d),void r.add(i);a()}n.subscribe(ft(r,u=>{o=u,s=e.now(),i||(i=e.schedule(l,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Et(n=>n.bytesTransferred/n.totalBytes*100))}}function mb(t){return{getDownloadURL:()=>In(void 0).pipe(mB,hi(()=>t.getDownloadURL()),Yo),getMetadata:()=>In(void 0).pipe(mB,hi(()=>t.getMetadata()),Yo),delete:()=>Dr(t.delete()),child:e=>mb(t.child(e)),updateMetadata:e=>Dr(t.updateMetadata(e)),put:(e,n)=>hz(t.put(e,n)),putString:(e,n,r)=>hz(t.putString(e,n,r)),list:e=>Dr(t.list(e)),listAll:()=>Dr(t.listAll())}}!function ffe(t){const e={TaskState:es,TaskEvent:Mhe,StringFormat:ks,Storage:cz,Reference:tu};t.INTERNAL.registerComponent(new oE.uA("storage-compat",hfe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.8")}(zl.A);const mfe=new yt("angularfire2.storageBucket"),gfe=new yt("angularfire2.storage.maxUploadRetryTime"),_fe=new yt("angularfire2.storage.maxOperationRetryTime"),vfe=new yt("angularfire2.storage.use-emulator");let fz=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,d,p,_){v(this,"storage",void 0);const I=iE(r,a,i);this.storage=YD(`${I.name}.storage.${o}`,"AngularFireStorage",I.name,()=>{const A=a.runOutsideAngular(()=>I.storage(o||void 0)),x=p;return x&&A.useEmulator(...x),u&&A.setMaxUploadRetryTime(u),d&&A.setMaxOperationRetryTime(d),A},[u,d])}ref(r){return mb(this.storage.ref(r))}refFromURL(r){return mb(this.storage.refFromURL(r))}upload(r,i,o){return mb(this.storage.ref(r)).put(i,o)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(g_),Qe(__,8),Qe(mfe,8),Qe(qs),Qe(je),Qe(m_),Qe(gfe,8),Qe(_fe,8),Qe(vfe,8),Qe(rE,8))}),v(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();const yfe=["modal"],Ife=t=>({active:t});function Efe(t,e){if(1&t){const n=Ar();re(0,"div",10)(1,"p",11),Nt("click",function(){return nn(n),rn(mt().subirArchivo())}),vt(2,"+ Agregar imagen"),ce()()}}function bfe(t,e){if(1&t){const n=Ar();re(0,"div",12)(1,"img",13),Nt("mouseenter",function(){const i=nn(n).index;return rn(mt().onMouseEnter(i))})("mouseleave",function(){const i=nn(n).index;return rn(mt().onMouseLeave(i))})("click",function(){const i=nn(n).index;return rn(mt().onPreviewImage(i))}),ce()()}if(2&t){const n=e.$implicit;ze(),Rt("src",n.url,Go)}}function Cfe(t,e){if(1&t&&(re(0,"span",20),vt(1),ce()),2&t){const n=mt(2);ze(),dT(" ",n.currentIndex+1,"/",n.totalImageCount," ")}}function wfe(t,e){if(1&t){const n=Ar();re(0,"button",21),Nt("click",function(){return nn(n),rn(mt(2).onClosePreview())}),En(1,"ion-icon",22),ce()}}function Tfe(t,e){if(1&t){const n=Ar();re(0,"button",23),Nt("click",function(){return nn(n),rn(mt(2).prev())}),En(1,"ion-icon",24),ce()}}function Afe(t,e){if(1&t){const n=Ar();re(0,"button",25),Nt("click",function(){return nn(n),rn(mt(2).next())}),En(1,"ion-icon",26),ce()}}function Dfe(t,e){if(1&t){const n=Ar();re(0,"div")(1,"i",33),Nt("click",function(){nn(n);const i=mt(3);return rn(i.deleteImgModal(i.currentLightboxImage.id))}),ce()()}}function Sfe(t,e){if(1&t){const n=Ar();re(0,"div",27),En(1,"img",28),re(2,"div",29)(3,"div")(4,"ion-icon",30),Nt("click",function(){nn(n);const i=mt(2);return rn(i.abrirCom(i.currentLightboxImage))}),ce(),re(5,"span"),vt(6),ce()(),re(7,"div")(8,"ion-icon",31),Nt("click",function(){nn(n);const i=mt(2);return rn(i.likeImage(i.currentLightboxImage))}),ce(),re(9,"span"),vt(10),ce()(),lr(11,Dfe,2,0,"div",32),ce()()}if(2&t){const n=mt(2);ze(),ws("zoom-in",n.previewImage),Rt("src",n.currentLightboxImage.url,Go),ze(5),zi(n.currentLightboxImage.commentsVideo.length),ze(2),ws("liked",n.currentLightboxImage.likedByImage.includes(n.currentUser.uid)),ze(2),zi(n.currentLightboxImage.likesCountImage),ze(),Rt("ngIf",n.adm)}}function Rfe(t,e){if(1&t&&(re(0,"div",14),lr(1,Cfe,2,2,"span",15)(2,wfe,2,0,"button",16)(3,Tfe,2,0,"button",17)(4,Afe,2,0,"button",18)(5,Sfe,12,8,"div",19),ce()),2&t){const n=mt();Rt("ngClass",ku(6,Ife,n.previewImage)),ze(),Rt("ngIf",n.showCount),ze(),Rt("ngIf",n.previewImage),ze(),Rt("ngIf",n.controls),ze(),Rt("ngIf",n.controls),ze(),Rt("ngIf",n.previewImage)}}function Pfe(t,e){if(1&t){const n=Ar();re(0,"div",46)(1,"div",47)(2,"img",48),Nt("click",function(){const i=nn(n).$implicit;return rn(mt(2).ir(i.idUser))}),ce(),re(3,"span"),vt(4),ce()(),re(5,"div",49)(6,"p",50),vt(7),ce(),re(8,"div",51)(9,"div",52)(10,"ion-icon",31),Nt("click",function(){const i=nn(n).$implicit;return rn(mt(2).likeComment(i))}),ce(),re(11,"span"),vt(12),ce()(),re(13,"div",53)(14,"div")(15,"span",54),Nt("click",function(){const i=nn(n),o=i.$implicit,s=i.index;return rn(mt(2).opciones(s,o))}),vt(16,"\u22ee"),ce()()()()()()}if(2&t){const n=e.$implicit,r=mt(2);ze(2),Rt("src",n.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",Go),ze(2),zi(n.usuario),ze(3),Hi(" ",n.comentario," "),ze(3),ws("liked",n.likedByComment&&n.likedByComment.includes(r.currentUser.uid)),ze(2),zi(n.likesCountComment)}}function Mfe(t,e){if(1&t){const n=Ar();re(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),vt(3,"Comentarios"),ce(),re(4,"ion-buttons",34)(5,"ion-button",35),Nt("click",function(){return nn(n),rn(mt().closeModal())}),vt(6,"Cerrar"),ce()()()(),re(7,"ion-content")(8,"div",36)(9,"span",37),Nt("click",function(){return nn(n),rn(mt().close())}),ce(),re(10,"div",38)(11,"div",39),lr(12,Pfe,17,6,"div",40),ce()(),re(13,"div",41)(14,"form",42,1),Nt("submit",function(){nn(n);const i=mt();return rn(i.addComment(i.comentario))}),re(16,"label",43),vt(17,"Agregar comentario:"),ce(),En(18,"br"),re(19,"textarea",44),Qc("ngModelChange",function(i){nn(n);const o=mt();return rf(o.comentario,i)||(o.comentario=i),rn(i)}),ce(),En(20,"br"),re(21,"button",45),vt(22," Comentar "),ce()()()()()}if(2&t){const n=D0(15),r=mt();ze(12),Rt("ngForOf",r.dataVideoId.commentsVideo),ze(7),Kc("ngModel",r.comentario),ze(2),Rt("disabled",!n.valid)}}let xfe=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,d,p,_){this.location=r,this.el=i,this.afAuth=o,this._image=s,this.toastr=a,this.router=l,this._user=u,this.storagex=d,this.actionSheetCtrl=p,this.alertCtrl=_,this.images=[],this.currentIndex=0,this.showCount=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.images[0],this.controls=!0,this.totalImageCount=0,this.reset=0,this.adm=!1,this.esInvitado=!1,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.modalDeleteImage=!1,this.idDelete="",this.option=!1,this.presentingElement=null,this.alertButtons=["OK"],this.alertInputs=[{type:"textarea"}]}ngOnInit(){this.getImages(),this.afAuth.authState.subscribe(r=>{this.currentUser=r;const i=null==r?void 0:r.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==i&&(this.esInvitado=!0),("QxwJYfG0c2MwfjnJR70AdmmKOIz2"==i||"AO7bYMNMPuSUMl5vH8tOqzavTrt2"==i)&&(this.adm=!0)})}goBack(){this.location.back()}openModal(){var r;null===(r=this.modal2)||void 0===r||r.present()}getImages(){this._image.getim().subscribe(r=>{this.images=[],r.forEach(i=>{const o=i.payload.doc.data();this.images.push({id:i.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}subirArchivo(){const r=document.createElement("input");r.type="file",r.accept="image/*",r.addEventListener("change",i=>{var o;const s=null==i||null===(o=i.target)||void 0===o||null===(o=o.files)||void 0===o?void 0:o[0];if(s){const a=new Image,l=new FileReader;l.onload=u=>{a.onload=()=>{const d=document.createElement("canvas");let I=a.width,A=a.height;(I>800||A>600)&&(I>A?(A*=800/I,I=800):(I*=600/A,A=600)),d.width=I,d.height=A;const x=d.getContext("2d");x?(x.drawImage(a,0,0,I,A),d.toBlob(V=>{if(V){const U=`images/${s.name}`,G=this.storagex.ref(U);this.storagex.upload(U,V,{contentType:V.type}).snapshotChanges().pipe(pf(()=>{G.getDownloadURL().subscribe(_e=>{this._image.addImagenInfo({url:_e}).then(()=>{console.log("actualizando"),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},s.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=u.target.result},l.readAsDataURL(s)}}),r.click()}likeImage(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){const s=o.uid,a=o.displayName,l=o.email,u=r.likedByImage.indexOf(s);-1!==u?(r.likedByImage.splice(u,1),r.userImageLikes.splice(u,1),r.likesCountImage--):(r.likedByImage.push(s),r.likesCountImage++,r.userImageLikes.push({usuario:a,correo:l}));const d=r.id,p={likesCountImage:r.likesCountImage,likedByImage:r.likedByImage,userImageLikes:r.userImageLikes};yield i._image.updateImgAc(d,p)}else i.modal=!0})()}onPreviewImage(r){this.showMask=!0,this.previewImage=!0,this.currentIndex=r,this.showCount=!0,this.currentLightboxImage=this.images[r],this.totalImageCount=this.images.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.images.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.images[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.currentLightboxImage=this.images[this.currentIndex]}onMouseEnter(r){this.el.nativeElement.querySelectorAll(".zoomable-image")[r].style.transform="scale(1.1)"}onMouseLeave(r){this.el.nativeElement.querySelectorAll(".zoomable-image")[r].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email)||"jeestrada377@gmail.com"==(null==o?void 0:o.email))&&(i.modalEditar=!0,i.ocultarx=!1),i.comentarioDel=r,i.esteComentario=r.comentario})()}deleteModal(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email)||"jeestrada377@gmail.com"==(null==o?void 0:o.email))&&(i.modalDelete=!0,i.ocultarx=!1),i.comentarioDel=r})()}addComment(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o){const s=i.dataVideoId,a=i.dataVideoId.id;s.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:r,imagen:o.photoURL,idUser:o.uid});const _={commentsVideo:s.commentsVideo};yield i._image.updateImgAc(a,_),i.comentario=""}})()}abrirCom(r){var i=this;return(0,E.A)(function*(){var s;i.dataVideoId=r,(yield i.afAuth.currentUser)&&!i.esInvitado?null===(s=i.modal2)||void 0===s||s.present():i.modal=!0})()}closeModal(){var r;null===(r=this.modal2)||void 0===r||r.dismiss()}borrarComentario(){const r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo.splice(r,1),this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.option=!1,this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(s=>{console.error("Error al eliminar el comentario:",s)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const r=this.esteComentario,i=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==i?(this.dataVideoId.commentsVideo[i].comentario=r,this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(a=>{console.error("Error al editar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}verUsuario(r){var i=this;return(0,E.A)(function*(){if(console.log(r),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"!=r){const s=yield i.afAuth.currentUser;i.router.navigate((null==s?void 0:s.uid)===r?["/perfil"]:["/usuario/",r])}})()}likeComment(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){if(!r)return void console.error("El comentario no est\xe1 definido");r.likedByComment||(r.likedByComment=[]);const s=o.uid,a=r.likedByComment.indexOf(s);-1!==a?(r.likedByComment.splice(a,1),r.likesCountComment=Math.max(0,r.likesCountComment-1)):(r.likedByComment.push(s),r.likesCountComment=(r.likesCountComment||0)+1);const l=i.dataVideoId.id;if(-1!==i.dataVideoId.commentsVideo.findIndex(d=>d===r)){const d={commentsVideo:i.dataVideoId.commentsVideo};yield i._image.updateImgAc(l,d)}}else i.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}ir(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;i.router.navigate((null==o?void 0:o.uid)===r?["/perfil"]:["/usuario/",r])})()}deleteImgModal(r){this.idDelete=r,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._image.delete(this.idDelete).then(()=>{this.images=this.images.filter(r=>r.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}opciones(r,i){var o=this;return(0,E.A)(function*(){o.comentarioDel=i,o.esteComentario=i.comentario;const s=yield o.afAuth.currentUser;if((null==s?void 0:s.email)===i.correo||"administrador.sistema@gmail.com"==(null==s?void 0:s.email)||"jeestrada377@gmail.com"==(null==s?void 0:s.email)){const a=yield o.actionSheetCtrl.create({header:"Acciones",buttons:[{text:"Editar comentario",data:{action:"editar"}},{text:"Eliminar",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]});yield a.present();const{data:l}=yield a.onDidDismiss();if(l&&"delete"===l.action){const u=o.dataVideoId.commentsVideo.indexOf(o.comentarioDel);-1!==u?(o.dataVideoId.commentsVideo.splice(u,1),o._image.updateImgAc(o.dataVideoId.id,{commentsVideo:o.dataVideoId.commentsVideo}).then(()=>{o.modalDelete=!1,o.ocultarx=!0,o.option=!1,console.log("Comentario eliminado correctamente")}).catch(_=>{console.error("Error al eliminar el comentario:",_)})):console.error("\xcdndice de comentario no v\xe1lido")}else"editar"==l.action&&o.presentAlert()}})()}presentAlert(){var r=this;return(0,E.A)(function*(){yield(yield r.alertCtrl.create({header:"Editar Comentario",inputs:[{name:"comentario",type:"textarea",placeholder:"Escribe tu comentario",value:r.esteComentario}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:o=>{const s=o.comentario,a=r.dataVideoId.commentsVideo.indexOf(r.comentarioDel);-1!==a?(r.dataVideoId.commentsVideo[a].comentario=s,r._image.updateImgAc(r.dataVideoId.id,{commentsVideo:r.dataVideoId.commentsVideo}).then(()=>{r.modalEditar=!1,r.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(d=>{console.error("Error al editar el comentario:",d)})):console.error("\xcdndice de comentario no v\xe1lido")}}]})).present()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Ks),T(it),T(Aa),T(Pde),T(zu),T(zr),T(lb),T(fz),T(qD),T(GD))},t.\u0275cmp=dt({type:t,selectors:[["app-activate-musica"]],viewQuery:function(r,i){if(1&r&&Nu(yfe,5),2&r){let o;Ts(o=As())&&(i.modal2=o.first)}},decls:10,vars:4,consts:[["modal",""],["commentForm","ngForm"],[1,"contenedor"],[1,"box"],["class","subir",4,"ngIf"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["trigger","open-modal",3,"presentingElement"],[1,"subir"],[2,"cursor","pointer",3,"click"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"mouseenter","mouseleave","click","src"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["style","\n            right: 3%;\n            top: 12%;\n            position: absolute;\n            font-size: 43px;\n          ","class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",2,"right","3%","top","12%","position","absolute","font-size","43px",3,"click"],["name","close-outline"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],["name","caret-back-outline",2,"height","50%","border-radius","50%","border","1px solid","font-size","50px"],[1,"btn-lightbox-carousel","btn-next",3,"click"],["name","caret-forward-outline",2,"height","50%","border-radius","50%","border","1px solid","font-size","50px"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],["name","chatbubble-ellipses-outline",2,"cursor","pointer",3,"click"],["name","heart-outline",3,"click"],[4,"ngIf"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],["slot","end"],[3,"click"],[1,"modal-com",2,"text-align","justify"],[1,"fas","fa-times","lax2",3,"click"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModelChange","ngModel"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"click","src"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[2,"font-size","26px",3,"click"]],template:function(r,i){1&r&&(re(0,"div",2)(1,"div",3),lr(2,Efe,3,0,"div",4),re(3,"div",5)(4,"div",6),lr(5,bfe,2,1,"div",7),ce(),lr(6,Rfe,6,8,"div",8),ce()()(),re(7,"ion-modal",9,0),lr(9,Mfe,23,3,"ng-template"),ce()),2&r&&(ze(2),Rt("ngIf",i.adm),ze(3),Rt("ngForOf",i.images),ze(),Rt("ngIf",i.showMask),ze(),Rt("presentingElement",i.presentingElement))},dependencies:[J0,eI,Xs,ju,d_,Of,Ff,dd,jl,Vf,eE,sd,Hg,rd,id,Rf,Zg,Df],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#c4d6019a,#fefeff75);color:#fff;width:129px;padding:5px 9px;border-radius:13px}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{z-index:999;position:relative;display:inline-block;margin-top:10px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.swiper-container[_ngcontent-%COMP%]{width:100%;height:100%}.swiper-slide[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto}"]}),e})(),Nfe=(()=>{var t;class e{constructor(r){this.firestore=r}getactvid(){return this.firestore.collection("videos-activate",r=>r.orderBy("nombre","asc")).snapshotChanges()}updateActVideo(r,i){return this.firestore.collection("videos-activate").doc(r).update(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(ab))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const kfe=["modal"],Ofe=["videoPlayer"];function Ffe(t,e){if(1&t&&(re(0,"div")(1,"video",20,1),En(3,"source",21),ce()()),2&t){const n=mt().$implicit;ze(3),Rt("src",n.url,Go)}}function Lfe(t,e){if(1&t){const n=Ar();re(0,"div",22)(1,"div",23)(2,"p",24),vt(3),ce()(),re(4,"div",25)(5,"div",26)(6,"ion-icon",27),Nt("click",function(){nn(n);const i=mt().$implicit;return rn(mt().abrirCom(i))}),ce(),re(7,"span"),vt(8),ce()(),re(9,"div",28)(10,"ion-icon",29),Nt("click",function(){nn(n);const i=mt().$implicit;return rn(mt().likeVideo(i))}),ce(),re(11,"span"),vt(12),ce()()()()}if(2&t){const n=mt().$implicit,r=mt();ze(3),Hi(" ",n.nombre," "),ze(5),zi(n.commentsVideo.length),ze(2),ws("liked",n.likedByVideo.includes(r.currentUser.uid)),ze(2),zi(n.likesCountVideo)}}function Vfe(t,e){if(1&t){const n=Ar();re(0,"div",30)(1,"div",23)(2,"p",24),vt(3),ce()(),re(4,"div",25)(5,"div",26)(6,"ion-icon",27),Nt("click",function(){nn(n);const i=mt().$implicit;return rn(mt().abrirCom(i))}),ce(),re(7,"span"),vt(8),ce()(),re(9,"div",28)(10,"ion-icon",29),Nt("click",function(){nn(n);const i=mt().$implicit;return rn(mt().likeVideo(i))}),ce(),re(11,"span"),vt(12),ce()()()()}if(2&t){const n=mt().$implicit,r=mt();ze(3),Hi(" ",n.nombre," "),ze(5),zi(n.commentsVideo.length),ze(2),ws("liked",n.likedByVideo.includes(r.currentUser.uid)),ze(2),zi(n.likesCountVideo)}}function $fe(t,e){if(1&t){const n=Ar();re(0,"div",11)(1,"div",12),Nt("click",function(){const i=nn(n).$implicit;return rn(mt().playVideo(i))}),En(2,"img",13),re(3,"div",14),En(4,"ion-icon",15),ce()(),re(5,"div",16),lr(6,Ffe,4,1,"div",17),ce(),lr(7,Lfe,13,5,"div",18)(8,Vfe,13,5,"div",19),ce()}if(2&t){const n=e.$implicit;ze(2),uT("alt",n.nombre),Rt("src",n.th||"https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba",Go),ze(4),Rt("ngIf",n.playing),ze(),Rt("ngIf",!n.playing),ze(),Rt("ngIf",n.playing)}}function Bfe(t,e){if(1&t){const n=Ar();re(0,"div",43)(1,"div",44)(2,"img",45),Nt("click",function(){const i=nn(n).$implicit;return rn(mt(2).ir(i.idUser))}),ce(),re(3,"span"),vt(4),ce()(),re(5,"div",46)(6,"p",47),vt(7),ce(),re(8,"div",48)(9,"div",49)(10,"ion-icon",50),Nt("click",function(){const i=nn(n).$implicit;return rn(mt(2).likeComment(i))}),ce(),re(11,"span"),vt(12),ce()(),re(13,"div",51)(14,"div")(15,"span",52),Nt("click",function(){const i=nn(n),o=i.$implicit,s=i.index;return rn(mt(2).opciones(s,o))}),vt(16,"\u22ee"),ce()()()()()()}if(2&t){const n=e.$implicit,r=mt(2);ze(2),Rt("src",n.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",Go),ze(2),zi(n.usuario),ze(3),Hi(" ",n.comentario," "),ze(3),ws("liked",n.likedByComment&&n.likedByComment.includes(r.currentUser.uid)),ze(2),zi(n.likesCountComment)}}function Ufe(t,e){if(1&t){const n=Ar();re(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),vt(3,"Comentarios"),ce(),re(4,"ion-buttons",31)(5,"ion-button",32),Nt("click",function(){return nn(n),rn(mt().closeModal())}),vt(6,"Cerrar"),ce()()()(),re(7,"ion-content")(8,"div",33)(9,"span",34),Nt("click",function(){return nn(n),rn(mt().close())}),ce(),re(10,"div",35)(11,"div",36),lr(12,Bfe,17,6,"div",37),ce()(),re(13,"div",38)(14,"form",39,2),Nt("submit",function(){nn(n);const i=mt();return rn(i.addComment(i.comentario))}),re(16,"label",40),vt(17,"Agregar comentario:"),ce(),En(18,"br"),re(19,"textarea",41),Qc("ngModelChange",function(i){nn(n);const o=mt();return rf(o.comentario,i)||(o.comentario=i),rn(i)}),ce(),En(20,"br"),re(21,"button",42),vt(22," Comentar "),ce()()()()()}if(2&t){const n=D0(15),r=mt();ze(12),Rt("ngForOf",r.dataVideoId.commentsVideo),ze(7),Kc("ngModel",r.comentario),ze(2),Rt("disabled",!n.valid)}}let jfe=(()=>{var t;class e{constructor(r,i,o,s,a,l){this.location=r,this.afAuth=i,this._videosService=o,this.router=s,this.actionSheetCtrl=a,this.alertCtrl=l,this.videos=[],this.esInvitado=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.ocultarx=!0,this.adm=!1,this.filteredVideos=[],this.searchTerm="",this.option=!1,this.presentingElement=null,this.alertButtons=["OK"],this.alertInputs=[{type:"textarea"}]}ngOnInit(){this.getVideos(),this.afAuth.authState.subscribe(r=>{this.currentUser=r;const i=null==r?void 0:r.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==i&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==i&&(this.adm=!0)})}goBack(){this.location.back()}getVideos(){this._videosService.getactvid().subscribe(r=>{this.videos=[],r.forEach(i=>{const o=i.payload.doc.data();this.videos.push({id:i.payload.doc.id,...o,likesCountVideo:o.likesCountVideo||0,likedByVideo:o.likedByVideo||[],userVideoLikes:o.userVideoLikes||[],commentsVideo:o.commentsVideo||[],playing:!1})}),this.filteredVideos=this.videos})}playVideo(r){var i;this.filteredVideos.forEach(o=>o.playing=!1),r.playing=!0,null===(i=this.videoPlayer)||void 0===i||i.nativeElement.play()}videoEnded(r){const i=this.filteredVideos.find(o=>o.id===r);i&&(i.playing=!1)}likeVideo(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){const s=o.uid,a=o.displayName,l=o.email,u=r.likedByVideo.indexOf(s);-1!==u?(r.likedByVideo.splice(u,1),r.userVideoLikes.splice(u,1),r.likesCountVideo--):(r.likedByVideo.push(s),r.likesCountVideo++,r.userVideoLikes.push({usuario:a,correo:l}));const d=r.id,p={likesCountVideo:r.likesCountVideo,likedByVideo:r.likedByVideo,userVideoLikes:r.userVideoLikes};yield i._videosService.updateActVideo(d,p)}else i.modal=!0})()}openModal(){var r;null===(r=this.modal2)||void 0===r||r.present()}closeModal(){var r;null===(r=this.modal2)||void 0===r||r.dismiss()}abrirCom(r){var i=this;return(0,E.A)(function*(){i.dataVideoId=r;var s;(yield i.afAuth.currentUser)&&!i.esInvitado?null===(s=i.modal2)||void 0===s||s.present():i.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}close(){this.modal=!1,this.modalcom=!1}ir(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;i.router.navigate((null==o?void 0:o.uid)===r?["/perfil"]:["/usuario/",r])})()}likeComment(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){if(!r)return void console.error("El comentario no est\xe1 definido");r.likedByComment||(r.likedByComment=[]);const s=o.uid,a=r.likedByComment.indexOf(s);-1!==a?(r.likedByComment.splice(a,1),r.likesCountComment=Math.max(0,r.likesCountComment-1)):(r.likedByComment.push(s),r.likesCountComment=(r.likesCountComment||0)+1);const l=i.dataVideoId.id;if(-1!==i.dataVideoId.commentsVideo.findIndex(d=>d===r)){const d={commentsVideo:i.dataVideoId.commentsVideo};yield i._videosService.updateActVideo(l,d),console.log(d)}}else i.modal=!0})()}abrirEditar(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email)||"jeestrada377@gmail.com"==(null==o?void 0:o.email))&&(i.modalEditar=!0,i.ocultarx=!1),i.comentarioDel=r,i.esteComentario=r.comentario})()}deleteModal(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email)||"jeestrada377@gmail.com"==(null==o?void 0:o.email))&&(i.modalDelete=!0,i.ocultarx=!1),i.comentarioDel=r})()}addComment(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o){const s=i.dataVideoId,a=i.dataVideoId.id;s.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:r,imagen:o.photoURL,idUser:o.uid});const _={commentsVideo:s.commentsVideo};yield i._videosService.updateActVideo(a,_),i.comentario=""}})()}borrarComentario(){const r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo.splice(r,1),this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.option=!1,this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(s=>{console.error("Error al eliminar el comentario:",s)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const r=this.esteComentario,i=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==i?(this.dataVideoId.commentsVideo[i].comentario=r,this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(a=>{console.error("Error al editar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}filterVideos(){this.filteredVideos=this.videos.filter(r=>r.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()))}opciones(r,i){var o=this;return(0,E.A)(function*(){o.comentarioDel=i,o.esteComentario=i.comentario;const s=yield o.afAuth.currentUser;if((null==s?void 0:s.email)===i.correo||"administrador.sistema@gmail.com"==(null==s?void 0:s.email)||"jeestrada377@gmail.com"==(null==s?void 0:s.email)){const a=yield o.actionSheetCtrl.create({header:"Acciones",buttons:[{text:"Editar comentario",data:{action:"editar"}},{text:"Eliminar",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]});yield a.present();const{data:l}=yield a.onDidDismiss();if(l&&"delete"===l.action){const u=o.dataVideoId.commentsVideo.indexOf(o.comentarioDel);-1!==u?(o.dataVideoId.commentsVideo.splice(u,1),o._videosService.updateActVideo(o.dataVideoId.id,{commentsVideo:o.dataVideoId.commentsVideo}).then(()=>{o.modalDelete=!1,o.ocultarx=!0,o.option=!1,console.log("Comentario eliminado correctamente")}).catch(_=>{console.error("Error al eliminar el comentario:",_)})):console.error("\xcdndice de comentario no v\xe1lido")}else"editar"==l.action&&o.presentAlert()}})()}presentAlert(){var r=this;return(0,E.A)(function*(){yield(yield r.alertCtrl.create({header:"Editar Comentario",inputs:[{name:"comentario",type:"textarea",placeholder:"Escribe tu comentario",value:r.esteComentario}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:o=>{const s=o.comentario,a=r.dataVideoId.commentsVideo.indexOf(r.comentarioDel);-1!==a?(r.dataVideoId.commentsVideo[a].comentario=s,r._videosService.updateActVideo(r.dataVideoId.id,{commentsVideo:r.dataVideoId.commentsVideo}).then(()=>{r.modalEditar=!1,r.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(d=>{console.error("Error al editar el comentario:",d)})):console.error("\xcdndice de comentario no v\xe1lido")}}]})).present()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Ks),T(Aa),T(Nfe),T(zr),T(qD),T(GD))},t.\u0275cmp=dt({type:t,selectors:[["app-activate-video"]],viewQuery:function(r,i){if(1&r&&(Nu(kfe,5),Nu(Ofe,5)),2&r){let o;Ts(o=As())&&(i.modal2=o.first),Ts(o=As())&&(i.videoPlayer=o.first)}},decls:10,vars:3,consts:[["modal",""],["videoPlayer",""],["commentForm","ngForm"],[1,"contenedor"],[1,"box"],[2,"margin-top","15px","display","flex","justify-content","flex-end"],["type","text","placeholder","Buscar videos...",2,"width","50%","padding","8px","border-radius","5px",3,"ngModelChange","keyup","ngModel"],[1,"video-container"],[2,"row-gap","4rem","display","flex","flex-direction","column"],["style","height: 20rem","class","gallery-video",4,"ngFor","ngForOf"],["trigger","open-modal",3,"presentingElement"],[1,"gallery-video",2,"height","20rem"],[1,"thumbnail-container",2,"height","95%",3,"click"],[1,"thumbnail",2,"height","95%",3,"src","alt"],[1,"play-button-overlay"],["name","play-circle-outline"],[1,"video-player",2,"position","relative","bottom","96%"],[4,"ngIf"],["class","section",4,"ngIf"],["style","position: relative; z-index: 999; bottom: 100%","class","section",4,"ngIf"],["controls",""],["type","video/mp4",3,"src"],[1,"section"],[1,"title"],[2,"margin","0"],[1,"bocadillos"],[1,"comment"],["name","chatbubble-ellipses-outline",2,"cursor","pointer",3,"click"],[1,"likes"],["name","heart-outline",2,"cursor","pointer",3,"click"],[1,"section",2,"position","relative","z-index","999","bottom","100%"],["slot","end"],[3,"click"],[1,"modal-com",2,"text-align","justify"],[1,"fas","fa-times","lax2",3,"click"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModelChange","ngModel"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"click","src"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],["name","heart-outline",3,"click"],[2,"gap","1rem","display","flex","align-items","center"],[2,"font-size","26px",3,"click"]],template:function(r,i){if(1&r){const o=Ar();re(0,"div",3)(1,"div",4)(2,"div",5)(3,"input",6),Qc("ngModelChange",function(a){return nn(o),rf(i.searchTerm,a)||(i.searchTerm=a),rn(a)}),Nt("keyup",function(){return nn(o),rn(i.filterVideos())}),ce()(),re(4,"div",7)(5,"div",8),lr(6,$fe,9,5,"div",9),ce()()()(),re(7,"ion-modal",10,0),lr(9,Ufe,23,3,"ng-template"),ce()}2&r&&(ze(3),Kc("ngModel",i.searchTerm),ze(3),Rt("ngForOf",i.filteredVideos),ze(),Rt("presentingElement",i.presentingElement))},dependencies:[eI,Xs,ju,d_,Of,Ff,dd,jl,Vf,eE,sd,Hg,rd,id,Rf,Zg,Df],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}.bocadillos[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%}.video-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.video-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding:25px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:30px;row-gap:30px}.gallery-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.35rem;margin-bottom:17px;box-shadow:0 1px 5px #00000036}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.thumbnail-container[_ngcontent-%COMP%]{position:relative;cursor:pointer}.thumbnail[_ngcontent-%COMP%]{width:100%;height:auto}.play-button-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3rem;color:#fff;opacity:.8}@media screen and (max-width: 900px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width: 580px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),e})();const OP=t=>({"tab-selected":t});let zfe=(()=>{var t;class e{constructor(r){this.location=r,this.mn=!0,this.im=!1,this.vd=!1}ngOnInit(){}goBack(){this.location.back()}main(){this.mn=!0,this.im=!1,this.vd=!1}images(){this.mn=!1,this.im=!0,this.vd=!1}videos(){this.mn=!1,this.im=!1,this.vd=!0}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Ks))},t.\u0275cmp=dt({type:t,selectors:[["app-activate"]],decls:38,vars:12,consts:[[2,"padding-left","1rem","display","flex","align-items","center"],["name","arrow-back-outline",2,"font-size","22px",3,"click"],[3,"hidden"],[1,"contenedor"],[2,"display","flex","flex-direction","column","align-items","center","row-gap","4rem"],[2,"text-align","center"],[1,"move"],[1,"move2"],[2,"display","contents"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",1,"img-fondo"],["href","https://www.facebook.com/profile.php?id=100061274895674",2,"user-select","none","cursor","pointer","position","absolute","bottom","6%","text-decoration","none"],[1,"fab","fa-facebook-square"],["slot","bottom"],[3,"click","ngClass"],["name","heart-half-outline"],["name","musical-notes-outline"],["name","videocam-outline"]],template:function(r,i){1&r&&(re(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-icon",1),Nt("click",function(){return i.goBack()}),ce(),re(4,"ion-title"),vt(5,"Activate"),ce()()()(),re(6,"ion-content")(7,"div")(8,"div",2)(9,"div",3)(10,"div",4)(11,"div",5)(12,"h2",6),vt(13,"Bienvenidos a Activate"),ce(),re(14,"span",7),vt(15,"Sesi\xf3n de Actividad F\xedsica Musicalizada"),ce()(),re(16,"div",8),En(17,"img",9),ce(),re(18,"a",10),En(19,"i",11),vt(20," Unete a nuestro grupo de Facebook. "),ce()()()(),re(21,"div",2),En(22,"app-activate-musica"),ce(),re(23,"div",2),En(24,"app-activate-video"),ce()()(),re(25,"ion-tab-bar",12)(26,"ion-tab-button",13),Nt("click",function(){return i.main()}),En(27,"ion-icon",14),re(28,"ion-label"),vt(29,"Principal"),ce()(),re(30,"ion-tab-button",13),Nt("click",function(){return i.images()}),En(31,"ion-icon",15),re(32,"ion-label"),vt(33,"Imagenes"),ce()(),re(34,"ion-tab-button",13),Nt("click",function(){return i.videos()}),En(35,"ion-icon",16),re(36,"ion-label"),vt(37,"Videos"),ce()()()),2&r&&(ze(8),Rt("hidden",!i.mn),ze(13),Rt("hidden",!i.im),ze(2),Rt("hidden",!i.vd),ze(3),Rt("ngClass",ku(6,OP,i.mn)),ze(4),Rt("ngClass",ku(8,OP,i.im)),ze(4),Rt("ngClass",ku(10,OP,i.vd)))},dependencies:[J0,Of,Ff,dd,Lf,h_,jD,jl,Vf,xfe,jfe],styles:[".tab-selected[_ngcontent-%COMP%]{color:var(--ion-color-primary)!important}"]}),e})(),pz=(()=>{var t;class e{constructor(r){this.toastr=r}errorFirebase(r){switch(r){case"auth/user-not-found":case"auth/wrong-password":this.toastr.error("Usuario/Contrase\xf1a invalida","Error");break;case"auth/invalid-email":this.toastr.error("No hay correo valido o llena todos los campos","Error");break;case"auth/invalid-login-credentials":this.toastr.error("El correo o contrase\xf1a no son correctos","Error");break;case"auth/missing-password":this.toastr.error("Digita la contrase\xf1a","Error");break;case"auth/email-already-in-use":this.toastr.error("Usuario ya registrado","Error");break;case"auth/weak-password":this.toastr.error("Contrase\xf1a Debil","Error");break;case"auth/internal-error":this.toastr.error("Correo no valido","Error")}}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(zu))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Hfe(t,e){1&t&&(re(0,"span",18),vt(1,"La contrase\xf1a debe contener mas de 6 caracteres"),ce())}function Gfe(t,e){if(1&t){const n=Ar();re(0,"div",3)(1,"form",4),Nt("ngSubmit",function(){return nn(n),rn(mt().login())}),re(2,"div",5),En(3,"img",6),re(4,"ion-title"),vt(5,"Iniciar sesi\xf3n"),ce()(),re(6,"div",7)(7,"div")(8,"ion-label"),vt(9,"Correo electronico"),ce(),En(10,"ion-input",8),ce(),re(11,"div")(12,"ion-label"),vt(13,"Contrase\xf1a"),ce(),re(14,"ion-input",9),En(15,"ion-input-password-toggle",10),ce(),lr(16,Hfe,2,0,"span",11),ce()(),re(17,"div",12)(18,"a",13),vt(19,"\xbfOlvidaste tu contrase\xf1a?"),ce(),re(20,"a",14),vt(21,"Registrarse"),ce()(),re(22,"div",15)(23,"ion-button",16),vt(24,"Iniciar sesi\xf3n"),ce(),re(25,"div")(26,"a",17),Nt("click",function(){return nn(n),rn(mt().loginAsGuest())}),vt(27,"Iniciar sesi\xf3n como invitado"),ce()()()()()}if(2&t){let n;const r=mt();ze(),Rt("formGroup",r.loginUsuario),ze(15),Rt("ngIf",(null==(n=r.loginUsuario.get("password"))?null:n.hasError("required"))&&(null==(n=r.loginUsuario.get("password"))?null:n.touched))}}function qfe(t,e){1&t&&(re(0,"div",19),En(1,"img",20)(2,"ion-spinner",21),re(3,"span"),vt(4,"Iniciando sesion..."),ce()())}let Wfe=(()=>{var t;class e{constructor(r,i,o,s){this.fb=r,this.firebaseError=i,this.afAuth=o,this.router=s,this.loading=!1,this.verificar=!1,this.loginUsuario=this.fb.group({email:["",[wa.required,wa.email]],password:["",wa.required]})}ngOnInit(){}login(){const r=this.loginUsuario.value.email,i=this.loginUsuario.value.password;this.loading=!0,this.afAuth.signInWithEmailAndPassword(r,i).then(o=>{this.router.navigate(["/main"]),this.loading=!1}).catch(o=>{this.loading=!1,this.verificar=!0,this.firebaseError.errorFirebase(o.code),this.message=this.firebaseError.errorFirebase(o.code),setTimeout(()=>{this.message=""},2e3)})}loginAsGuest(){this.loading=!0,this.afAuth.signInWithEmailAndPassword("soyinvitado@gmail.com","123456").then(()=>{this.router.navigate(["/main"]),this.loading=!1}).catch(o=>{this.loading=!1,console.error("Error al iniciar sesi\xf3n con invitado:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(sD),T(pz),T(Aa),T(zr))},t.\u0275cmp=dt({type:t,selectors:[["app-login"]],decls:3,vars:2,consts:[[1,"container-main-login"],["class","container-login",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"ngSubmit","formGroup"],[1,"title-login"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login"],[1,"input-login"],["type","email","name","email","fill","solid","placeholder","correo electronico","labelPlacement","floating","errorText","El correo electronico no es valido","email","","formControlName","email"],["labelPlacement","floating","type","password","id","password","fill","solid","name","password","placeholder","Contrase\xf1a","formControlName","password","password",""],["slot","end"],["style","\n              left: 1rem;\n              position: relative;\n              font-size: smaller;\n              color: #e94a55;\n            ","class","text-danger errorLabel",4,"ngIf"],[1,"direccion"],["routerLink","/recuperar",1,"enlace"],["routerLink","/registrar",1,"enlace"],[1,"btn-login"],["color","tertiary","type","submit",1,"submit-button"],[1,"register-link",3,"click"],[1,"text-danger","errorLabel",2,"left","1rem","position","relative","font-size","smaller","color","#e94a55"],[1,"loading-container"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","90%"],["color","tertiary"]],template:function(r,i){1&r&&(re(0,"div",0),lr(1,Gfe,28,2,"div",1)(2,qfe,5,0,"div",2),ce()),2&r&&(ze(),Rt("ngIf",!i.loading),ze(),Rt("ngIf",i.loading))},dependencies:[Xs,ju,ZI,$D,Lf,JI,jl,c_,HD,Vl,sd,rd,id,e_,Sf,Jg]}),e})();function Kfe(t,e){1&t&&(re(0,"span",20),vt(1,"La contrase\xf1a debe contener mas de 6 caracteres"),ce())}function Qfe(t,e){1&t&&(re(0,"span",20),vt(1,"Las contrase\xf1as no coinciden"),ce())}function Yfe(t,e){if(1&t){const n=Ar();re(0,"div",3)(1,"form",4),Nt("ngSubmit",function(){return nn(n),rn(mt().registrar())}),re(2,"div",5),En(3,"img",6),re(4,"ion-title"),vt(5,"Registrarse"),ce()(),re(6,"div",7)(7,"div")(8,"ion-label"),vt(9,"Nombre de usuario"),ce(),En(10,"ion-input",8),ce(),re(11,"div")(12,"ion-label"),vt(13,"Correo electronico"),ce(),En(14,"ion-input",9),ce(),re(15,"div")(16,"ion-label"),vt(17,"Contrase\xf1a"),ce(),re(18,"ion-input",10),En(19,"ion-input-password-toggle",11),ce(),lr(20,Kfe,2,0,"span",12),ce(),re(21,"div")(22,"ion-label"),vt(23,"Repetir contrase\xf1a"),ce(),re(24,"ion-input",13),En(25,"ion-input-password-toggle",11),ce(),lr(26,Qfe,2,0,"span",12),ce()(),re(27,"div",14)(28,"a",15),vt(29,"\xbfOlvidaste tu contrase\xf1a?"),ce(),re(30,"a",16),vt(31,"Registrarse"),ce()(),re(32,"div",17)(33,"ion-button",18),Nt("click",function(){return nn(n),rn(mt().goBack())}),vt(34,"Volver"),ce(),re(35,"ion-button",19),vt(36,"Registrarse"),ce()()()()}if(2&t){let n,r;const i=mt();ze(),Rt("formGroup",i.registrarUsuario),ze(19),Rt("ngIf",(null==(n=i.registrarUsuario.get("password"))?null:n.hasError("required"))&&(null==(n=i.registrarUsuario.get("password"))?null:n.touched)),ze(6),Rt("ngIf",i.registrarUsuario.hasError("mismatch")&&(null==(r=i.registrarUsuario.get("repetirPassword"))?null:r.touched)),ze(9),Rt("disabled",i.registrarUsuario.invalid)}}function Xfe(t,e){1&t&&(re(0,"div",21),En(1,"img",22)(2,"ion-spinner",23),re(3,"span"),vt(4,"Iniciando sesion..."),ce()())}let Zfe=(()=>{var t;class e{constructor(r,i,o,s,a,l){this.fb=r,this.afAuth=i,this.router=o,this.firebaseError=s,this.toastr=a,this.location=l,this.loading=!1,this.passwordMatchValidator=u=>{const d=u.get("password"),p=u.get("repetirPassword");return d&&p&&d.value!==p.value?{mismatch:!0}:null},this.registrarUsuario=this.fb.group({username:["",wa.required],email:["",[wa.required,wa.email]],password:["",[wa.required,wa.minLength(6)]],repetirPassword:["",wa.required]},{validator:this.passwordMatchValidator})}ngOnInit(){}registrar(){if(this.registrarUsuario.invalid)return;const{username:r,email:i,password:o}=this.registrarUsuario.value;this.loading=!0,this.afAuth.createUserWithEmailAndPassword(i,o).then(s=>{var a;return null===(a=s.user)||void 0===a?void 0:a.updateProfile({displayName:r})}).then(()=>{this.router.navigate(["/login"]),this.toastr.success("El usuario fue registrado con exito!!","Usuario Registrado")}).catch(s=>{this.loading=!1,console.log(s),this.firebaseError.errorFirebase(s.code)})}goBack(){this.location.back()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(sD),T(Aa),T(zr),T(pz),T(zu),T(Ks))},t.\u0275cmp=dt({type:t,selectors:[["app-registrar"]],decls:3,vars:2,consts:[[1,"container-main-login"],["class","container-login",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"ngSubmit","formGroup"],[1,"title-login",2,"row-gap","0px"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","40%"],[1,"input-login",2,"row-gap","1rem"],["type","text","name","username","fill","solid","placeholder","Nombre de usuario","labelPlacement","floating","errorText","El usuario es Requerido","input","","formControlName","username"],["type","email","name","email","fill","solid","placeholder","correo electronico","labelPlacement","floating","errorText","El correo electronico no es valido","email","","formControlName","email"],["labelPlacement","floating","type","password","id","password","fill","solid","name","password","placeholder","Contrase\xf1a","formControlName","password","password",""],["slot","end"],["style","\n              left: 1rem;\n              position: relative;\n              font-size: smaller;\n              color: #e94a55;\n            ","class","text-danger errorLabel",4,"ngIf"],["labelPlacement","floating","type","password","id","password","fill","solid","name","password","placeholder","Contrase\xf1a","formControlName","repetirPassword","password",""],[1,"direccion"],["routerLink","/recuperar",1,"enlace"],["routerLink","/registrar",1,"enlace"],[1,"btn-login",2,"row-gap","1rem","margin-top","3rem","display","flex","flex-direction","row","align-items","center","justify-content","space-around"],["color","medium","type","button",3,"click"],["color","tertiary","type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel",2,"left","1rem","position","relative","font-size","smaller","color","#e94a55"],[1,"loading-container"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","90%"],["color","tertiary"]],template:function(r,i){1&r&&(re(0,"div",0),lr(1,Yfe,37,4,"div",1)(2,Xfe,5,0,"div",2),ce()),2&r&&(ze(),Rt("ngIf",!i.loading),ze(),Rt("ngIf",i.loading))},dependencies:[Xs,ju,ZI,$D,Lf,JI,jl,c_,HD,Vl,sd,rd,id,e_,Sf,Jg]}),e})();function Jfe(t,e){if(1&t){const n=Ar();re(0,"div",3)(1,"form",4),Nt("ngSubmit",function(){return nn(n),rn(mt().recuperar())}),re(2,"div",5),En(3,"img",6),re(4,"ion-title"),vt(5,"Recuperar cuenta"),ce()(),re(6,"div",7)(7,"div")(8,"ion-label"),vt(9,"Correo electronico"),ce(),En(10,"ion-input",8),ce()(),re(11,"div",9)(12,"ion-button",10),vt(13,"Volver"),ce(),re(14,"ion-button",11),vt(15,"Aceptar"),ce()()()()}if(2&t){const n=mt();ze(),Rt("formGroup",n.recuperarUsuario),ze(13),Rt("disabled",n.recuperarUsuario.invalid)}}function epe(t,e){1&t&&(re(0,"div",12),En(1,"img",13)(2,"ion-spinner",14),re(3,"span"),vt(4,"Iniciando sesion..."),ce()())}let tpe=(()=>{var t;class e{constructor(r,i,o,s){this.fb=r,this.afAuth=i,this.router=o,this.toastr=s,this.loading=!1,this.recuperarUsuario=this.fb.group({email:["",[wa.required,wa.email]]})}ngOnInit(){}recuperar(){const r=this.recuperarUsuario.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(r).then(()=>{this.router.navigate(["/login"]),this.toastr.info("Revisa tu correo para restablecer tu contrase\xf1a","Peticion Aceptada")}).catch(i=>{this.loading=!1,this.firebaseError(i.code)})}firebaseError(r){switch(r){case"auth/user-not-found":this.toastr.error("Este correo no es valido","Error");break;case"auth/missing-email":this.toastr.error("Inserta un correo","Error")}}}return(t=e).\u0275fac=function(r){return new(r||t)(T(sD),T(Aa),T(zr),T(zu))},t.\u0275cmp=dt({type:t,selectors:[["app-recuperar"]],decls:3,vars:2,consts:[[1,"container-main-login"],["class","container-login",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"ngSubmit","formGroup"],[1,"title-login"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login"],[1,"input-login"],["type","email","name","email","fill","solid","placeholder","correo electronico","labelPlacement","floating","errorText","El correo electronico no es valido","email","","formControlName","email"],[1,"btn-login",2,"row-gap","1rem","margin-top","3rem","display","flex","flex-direction","row","align-items","center","justify-content","space-around"],["routerLink","/login","color","medium","type","button"],["color","tertiary","type","submit",1,"submit-button",3,"disabled"],[1,"loading-container"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","90%"],["color","tertiary"]],template:function(r,i){1&r&&(re(0,"div",0),lr(1,Jfe,16,2,"div",1)(2,epe,5,0,"div",2),ce()),2&r&&(ze(),Rt("ngIf",!i.loading),ze(),Rt("ngIf",i.loading))},dependencies:[Xs,ju,ZI,Lf,JI,jl,c_,zD,Vl,sd,rd,id,e_,Sf,Jg]}),e})(),npe=(()=>{var t;class e{constructor(r){this.firestore=r}getPost(){return this.firestore.collection("publicar",r=>r.orderBy("timestamp","desc")).snapshotChanges()}update(r,i){return this.firestore.collection("publicar").doc(r).update(i)}addPost(r){return this.firestore.collection("publicar").add(r)}delete(r){return this.firestore.collection("publicar").doc(r).delete()}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(ab))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const rpe=["modal"];function ipe(t,e){if(1&t){const n=Ar();re(0,"div")(1,"div")(2,"div",14)(3,"div",15)(4,"img",16),Nt("click",function(){nn(n);const i=mt().$implicit;return rn(mt().verUsuario(i.uid))}),ce(),re(5,"div",17),vt(6),ce()(),re(7,"div",14)(8,"span",18),Nt("click",function(){nn(n);const i=mt(),o=i.$implicit,s=i.index;return rn(mt().opciones(s,o))}),vt(9,"\u22ee"),ce()()(),re(10,"div")(11,"div"),En(12,"img",19),ce(),re(13,"div",20)(14,"div",21)(15,"ion-icon",22),Nt("click",function(){nn(n);const i=mt().$implicit;return rn(mt().abrirCom2(i))}),ce(),re(16,"span"),vt(17),ce()(),re(18,"div",21)(19,"ion-icon",23),Nt("click",function(){nn(n);const i=mt().$implicit;return rn(mt().likeImage2(i))}),ce(),re(20,"span"),vt(21),ce()()()()()()}if(2&t){const n=mt().$implicit,r=mt();ze(4),Rt("src",n.foto,Go),ze(2),Hi(" ",n.usuario," "),ze(6),Rt("src",n.post,Go),ze(5),zi(n.commentsVideo.length),ze(2),ws("liked",n.likedByImage.includes(null==r.currentUser?null:r.currentUser.uid)),ze(2),zi(n.likesCountImage)}}function ope(t,e){if(1&t){const n=Ar();re(0,"div",24)(1,"div",25)(2,"div",14)(3,"div",26)(4,"img",16),Nt("click",function(){nn(n);const i=mt().$implicit;return rn(mt().verUsuario(i.uid))}),ce(),re(5,"div",27),vt(6),ce()(),re(7,"div",14)(8,"span",18),Nt("click",function(){nn(n);const i=mt(),o=i.$implicit,s=i.index;return rn(mt().opciones(s,o))}),vt(9,"\u22ee"),ce()()(),re(10,"div")(11,"div"),vt(12),ce(),re(13,"div",20)(14,"div",21)(15,"ion-icon",22),Nt("click",function(){nn(n);const i=mt().$implicit;return rn(mt().abrirCom2(i))}),ce(),re(16,"span"),vt(17),ce()(),re(18,"div",21)(19,"ion-icon",23),Nt("click",function(){nn(n);const i=mt().$implicit;return rn(mt().likeImage2(i))}),ce(),re(20,"span"),vt(21),ce()()()()()()}if(2&t){const n=mt().$implicit,r=mt();ze(4),Rt("src",n.foto,Go),ze(2),Hi(" ",n.usuario," "),ze(6),Hi(" ",n.post," "),ze(5),zi(n.commentsVideo.length),ze(2),ws("liked",n.likedByImage.includes(r.currentUser.uid)),ze(2),zi(n.likesCountImage)}}function spe(t,e){if(1&t&&(re(0,"div")(1,"div"),lr(2,ipe,22,7,"div",12)(3,ope,22,7,"div",13),ce()()),2&t){const n=e.$implicit,r=mt();ze(2),Rt("ngIf",r.isUrl(n.post)),ze(),Rt("ngIf",!r.isUrl(n.post))}}function ape(t,e){if(1&t){const n=Ar();re(0,"div",39)(1,"div",40)(2,"img",41),Nt("click",function(){const i=nn(n).$implicit;return rn(mt(2).verUsuario(i.idUser))}),ce(),re(3,"span"),vt(4),ce()(),re(5,"div",42)(6,"p",43),vt(7),ce(),re(8,"div",44)(9,"div",21)(10,"ion-icon",23),Nt("click",function(){const i=nn(n).$implicit;return rn(mt(2).likeComment2(i))}),ce(),re(11,"span"),vt(12),ce()(),re(13,"div",45)(14,"div")(15,"span",18),Nt("click",function(){const i=nn(n),o=i.$implicit,s=i.index;return rn(mt(2).opciones2(s,o))}),vt(16,"\u22ee"),ce()()()()()()}if(2&t){const n=e.$implicit,r=mt(2);ze(2),Rt("src",n.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",Go),ze(2),zi(n.usuario),ze(3),Hi(" ",n.comentario," "),ze(3),ws("liked",n.likedByComment&&n.likedByComment.includes(r.currentUser.uid)),ze(2),zi(n.likesCountComment)}}function lpe(t,e){if(1&t){const n=Ar();re(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),vt(3,"Comentarios"),ce(),re(4,"ion-buttons",28)(5,"ion-button",29),Nt("click",function(){return nn(n),rn(mt().closeModal())}),vt(6,"Cerrar"),ce()()()(),re(7,"ion-content")(8,"div",30)(9,"span",31),Nt("click",function(){return nn(n),rn(mt().close())}),ce(),re(10,"div",32)(11,"div",33),lr(12,ape,17,6,"div",34),ce()(),re(13,"div",35)(14,"form",36,1),Nt("submit",function(){nn(n);const i=mt();return rn(i.addComment2(i.comentario))}),re(16,"ion-list")(17,"ion-item")(18,"ion-textarea",37),Qc("ngModelChange",function(i){nn(n);const o=mt();return rf(o.comentario,i)||(o.comentario=i),rn(i)}),ce()()(),re(19,"div",7)(20,"ion-button",38),vt(21," Comentar "),ce()()()()()()}if(2&t){const n=D0(15),r=mt();ze(12),Rt("ngForOf",r.dataVideoId2.commentsVideo),ze(6),Kc("ngModel",r.comentario),ze(2),Rt("disabled",!n.valid)}}let upe=(()=>{var t;class e{constructor(r,i,o,s,a,l,u){this.afAuth=r,this._user=i,this.toastr=o,this.router=s,this._post=a,this.actionSheetCtrl=l,this.alertCtrl=u,this.esInvitado=!1,this.adm=!1,this.post=[],this.usuariosInfo=[],this.infoText="",this.option=!1,this.modalcom=!1,this.modal=!1,this.modalEditar=!1,this.ocultarx=!1,this.modalDelete=!1,this.comentario="",this.presentingElement=null,this.alertButtons=["OK"],this.alertInputs=[{type:"textarea"}]}ngOnInit(){this.afAuth.user.subscribe(r=>{this.usuario=r,this.currentUser=r,this.getUsers(),this.obtPost(),this.usuarioActual=null==r?void 0:r.displayName;const i=null==r?void 0:r.uid;"Invitad@"==this.usuarioActual&&(this.esInvitado=!0),"rm01jawdLvYSObMPDc8BTBasbJp2"==i&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==i&&(this.adm=!0)}),this.presentingElement=document.querySelector(".ion-page")}publicar(){var r=this;return(0,E.A)(function*(){if(r.infoText&&r.infoText.trim()){var i,o,s;const a=yield r.afAuth.currentUser,l=null==a?void 0:a.uid;let u=null===(i=r.objetoUsuario)||void 0===i?void 0:i.foto;null==u&&(u="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");let d=null!==(o=null===(s=r.objetoUsuario)||void 0===s?void 0:s.usuario)&&void 0!==o?o:null==a?void 0:a.displayName;if(!d)return void console.error("Nombre de usuario no disponible");r._post.addPost({foto:u,usuario:d,post:r.infoText,uid:l,timestamp:new Date}).then(()=>{r.infoText=""})}else console.log("El texto est\xe1 vac\xedo o solo contiene espacios en blanco.")})()}obtPost(){this._post.getPost().subscribe(r=>{this.post=[],r.forEach(i=>{const o=i.payload.doc.data();this.post.push({id:i.payload.doc.id,...i.payload.doc.data(),likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}getUsers(){this._user.getUsers().subscribe(r=>{this.usuariosInfo=[],r.forEach(i=>{i.payload.doc.data(),this.usuariosInfo.push({id:i.payload.doc.data(),...i.payload.doc.data()});const s=this.usuariosInfo.find(a=>{var l;return a.id.idUser===(null===(l=this.usuario)||void 0===l?void 0:l.uid)});this.objetoUsuario=s})})}isUrl(r){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(r)}verUsuario(r){var i=this;return(0,E.A)(function*(){if(console.log(r),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"!=r){const s=yield i.afAuth.currentUser;i.router.navigate((null==s?void 0:s.uid)===r?["/perfil"]:["/usuario/",r])}})()}deletePost(r){this._post.delete(r).then(()=>{this.option=!1,this.toastr.info("publicacion eliminada")})}opciones(r,i){var o=this;return(0,E.A)(function*(){const s=yield o.afAuth.currentUser;if((null==s?void 0:s.uid)===i.uid||"administrador.sistema@gmail.com"==(null==s?void 0:s.email)){const a=yield o.actionSheetCtrl.create({header:"Acciones",buttons:[{text:"Eliminar",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]});yield a.present();const l=null==i?void 0:i.id,{data:u}=yield a.onDidDismiss();u&&"delete"===u.action&&o._post.delete(l).then(()=>{o.toastr.info("publicacion eliminada")})}})()}openModal(){var r;null===(r=this.modal2)||void 0===r||r.present()}abrirCom2(r){var i=this;return(0,E.A)(function*(){var s;i.dataVideoId2=r,(yield i.afAuth.currentUser)&&!i.esInvitado?null===(s=i.modal2)||void 0===s||s.present():i.modal=!0})()}closeModal(){var r;null===(r=this.modal2)||void 0===r||r.dismiss()}returnTrue(){return!0}likeImage2(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){const s=o.uid,a=o.displayName,l=o.email,u=r.likedByImage.indexOf(s);-1!==u?(r.likedByImage.splice(u,1),r.userImageLikes.splice(u,1),r.likesCountImage--):(r.likedByImage.push(s),r.likesCountImage++,r.userImageLikes.push({usuario:a,correo:l}));const d=r.id,p={likesCountImage:r.likesCountImage,likedByImage:r.likedByImage,userImageLikes:r.userImageLikes};yield i._post.update(d,p)}else i.modal=!0})()}close(){this.modal=!1,this.modalcom=!1}likeComment2(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){if(!r)return void console.error("El comentario no est\xe1 definido");r.likedByComment||(r.likedByComment=[]);const s=o.uid,a=r.likedByComment.indexOf(s);-1!==a?(r.likedByComment.splice(a,1),r.likesCountComment=Math.max(0,r.likesCountComment-1)):(r.likedByComment.push(s),r.likesCountComment=(r.likesCountComment||0)+1);const l=i.dataVideoId2.id;if(-1!==i.dataVideoId2.commentsVideo.findIndex(d=>d===r)){const d={commentsVideo:i.dataVideoId2.commentsVideo};yield i._post.update(l,d)}}else i.modal=!0})()}abrirEditar(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email))&&(i.modalEditar=!0,i.ocultarx=!1),i.comentarioDel=r,i.esteComentario=r.comentario})()}deleteModal(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email))&&(i.modalDelete=!0,i.ocultarx=!1),i.comentarioDel=r})()}opciones2(r,i){var o=this;return(0,E.A)(function*(){o.comentarioDel=i,o.esteComentario=i.comentario;const s=yield o.afAuth.currentUser;if((null==s?void 0:s.uid)===i.idUser||"administrador.sistema@gmail.com"==(null==s?void 0:s.email)){const a=yield o.actionSheetCtrl.create({header:"Acciones",buttons:[{text:"Editar comentario",data:{action:"editar"}},{text:"Eliminar",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]});yield a.present();const{data:l}=yield a.onDidDismiss();if(l&&"delete"===l.action){const u=o.dataVideoId2.commentsVideo.indexOf(o.comentarioDel);-1!==u?(o.dataVideoId2.commentsVideo.splice(u,1),o._post.update(o.dataVideoId2.id,{commentsVideo:o.dataVideoId2.commentsVideo}).then(()=>{o.modalDelete=!1,o.ocultarx=!0,o.option=!1,console.log("Comentario eliminado correctamente")}).catch(_=>{console.error("Error al eliminar el comentario:",_)})):console.error("\xcdndice de comentario no v\xe1lido")}else"editar"==l.action&&o.presentAlert()}})()}presentAlert(){var r=this;return(0,E.A)(function*(){yield(yield r.alertCtrl.create({header:"Editar Comentario",inputs:[{name:"comentario",type:"textarea",placeholder:"Escribe tu comentario",value:r.esteComentario}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:o=>{const s=o.comentario,a=r.dataVideoId2.commentsVideo.indexOf(r.comentarioDel);-1!==a?(r.dataVideoId2.commentsVideo[a].comentario=s,r._post.update(r.dataVideoId2.id,{commentsVideo:r.dataVideoId2.commentsVideo}).then(()=>{r.modalEditar=!1,r.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(d=>{console.error("Error al editar el comentario:",d)})):console.error("\xcdndice de comentario no v\xe1lido")}}]})).present()})()}addComment2(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o){var s;const a=i.dataVideoId2,l=null===(s=i.dataVideoId2)||void 0===s?void 0:s.id;a.commentsVideo.push({usuario:null==o?void 0:o.displayName,correo:null==o?void 0:o.email,comentario:r,imagen:null==o?void 0:o.photoURL,idUser:null==o?void 0:o.uid});const I={commentsVideo:a.commentsVideo};yield i._post.update(l,I),i.comentario=""}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Aa),T(lb),T(zu),T(zr),T(npe),T(qD),T(GD))},t.\u0275cmp=dt({type:t,selectors:[["app-features"]],viewQuery:function(r,i){if(1&r&&Nu(rpe,5),2&r){let o;Ts(o=As())&&(i.modal2=o.first)}},decls:16,vars:6,consts:[["modal",""],["commentForm","ngForm"],["id","container",2,"text-align","center","padding","0px 10px 0 10px"],[2,"margin-bottom","18px"],[3,"ngSubmit"],[2,"border-radius","12px"],["aria-label","Comments","placeholder","Publicar Nota...","name","infoText","cols","40","rows","3",1,"textarea",3,"ngModelChange","ngModel"],[2,"text-align","end"],["color","tertiary","type","submit",1,"btn2",3,"disabled"],[4,"ngFor","ngForOf"],["trigger","open-modal",3,"presentingElement"],["trigger","present-alert","header","Please enter your info",3,"buttons","inputs"],[4,"ngIf"],["style","margin-bottom: 5px; margin-top: 5px; width: 100%",4,"ngIf"],[2,"display","flex","justify-content","space-between"],[2,"gap","7px","display","flex","align-items","center"],["alt","foto",2,"border-radius","50%","width","40px","height","40px",3,"click","src"],[2,"text-align","justify","color","blue"],[2,"font-size","26px","cursor","pointer",3,"click"],["alt","Imagen del mensaje",2,"width","93%",3,"src"],[2,"padding-top","8px","gap","2rem","display","flex","justify-content","center"],[2,"display","flex","align-items","center"],["name","chatbubble-ellipses-outline",3,"click"],["name","heart-outline",3,"click"],[2,"margin-bottom","5px","margin-top","5px","width","100%"],[2,"padding-top","10px","padding-bottom","14px","border-bottom","1px #80808063 solid"],[2,"display","flex","align-items","center","gap","4px"],[2,"text-align","justify","color","red"],["slot","end"],[3,"click"],[1,"modal-com",2,"text-align","justify","padding","0 10px 0 10px"],[1,"fas","fa-times","lax2",3,"click"],[1,"comments-container"],[1,"comments-list",2,"display","flex","row-gap","1rem","flex-direction","column"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input",2,"margin-top","15px"],[3,"submit"],["aria-label","Comments","placeholder","Agregar un comentario","id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModelChange","ngModel"],["color","tertiary","type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"click","src"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"]],template:function(r,i){if(1&r){const o=Ar();re(0,"div",2)(1,"div")(2,"div")(3,"div",3)(4,"form",4),Nt("ngSubmit",function(){return nn(o),rn(i.publicar())}),re(5,"ion-list",5)(6,"ion-item")(7,"ion-textarea",6),Qc("ngModelChange",function(a){return nn(o),rf(i.infoText,a)||(i.infoText=a),rn(a)}),ce()()(),re(8,"div",7)(9,"ion-button",8),vt(10," Publicar "),ce()()()(),lr(11,spe,4,2,"div",9),ce(),re(12,"ion-modal",10,0),lr(14,lpe,22,3,"ng-template"),ce(),En(15,"ion-alert",11),ce()()}2&r&&(ze(7),Kc("ngModel",i.infoText),ze(2),Rt("disabled",!i.infoText||!i.infoText.trim()),ze(2),Rt("ngForOf",i.post),ze(),Rt("presentingElement",i.presentingElement),ze(3),Rt("buttons",i.alertButtons)("inputs",i.alertInputs))},dependencies:[eI,Xs,eB,ju,d_,Of,Ff,dd,BD,UD,oB,jl,Vf,eE,c_,sd,rd,id,Rf,Zg,Df]}),e})(),cpe=(()=>{var t;class e{constructor(r){this.router=r}ngOnInit(){}navegarActivate(){this.router.navigate(["/activate"])}}return(t=e).\u0275fac=function(r){return new(r||t)(T(zr))},t.\u0275cmp=dt({type:t,selectors:[["app-grupos"]],decls:10,vars:0,consts:[[2,"height","75vh","display","flex","justify-content","center","align-items","center"],[1,"container-img-g",2,"row-gap","2rem","display","flex","flex-direction","column"],[1,"bf",2,"text-align","center","display","flex","flex-direction","column"],["routerLink","/main","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2FScreen%20Shot%202024-05-06%20at%2011.43.48%20AM.png?alt=media&token=c0c71fed-4aff-4923-8663-9d91d1f9f4df","alt","",2,"cursor","pointer"],[1,"bf","bf2",2,"text-align","center","display","flex","flex-direction","column"],["width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1)(2,"div",2),En(3,"img",3),re(4,"span"),vt(5,"Asi somos"),ce()(),re(6,"div",4)(7,"img",5),Nt("click",function(){return i.navegarActivate()}),ce(),re(8,"span"),vt(9,"Actividad Fisica"),ce()()()())},dependencies:[zD,Vl]}),e})();function dpe(t,e){if(1&t){const n=Ar();re(0,"div")(1,"ion-button",10),Nt("click",function(){return nn(n),rn(mt().editarPerfil())}),vt(2,"Editar perfil"),ce()()}}function hpe(t,e){if(1&t){const n=Ar();re(0,"div")(1,"ion-icon",11),Nt("click",function(){return nn(n),rn(mt().changePortada())}),ce()()}}let fpe=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.afAuth=i,this._user=o,this.toastr=s,this.storage=a,this.esInvitado=!1,this.adm=!1,this.usuariosInfo=[],this.idInfo=[]}ngOnInit(){this.afAuth.user.subscribe(r=>{this.usuario=r,this.currentUser=r,this.getUsers(),this.usuarioActual=null==r?void 0:r.displayName;const i=null==r?void 0:r.uid;"Invitad@"==this.usuarioActual&&(this.esInvitado=!0),"rm01jawdLvYSObMPDc8BTBasbJp2"==i&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==i&&(this.adm=!0)})}abrirBandeja(){this.crearUsuario(),this.router.navigate(["/bandeja"])}getUsers(){this._user.getUsers().subscribe(r=>{this.usuariosInfo=[],this.idInfo=[],r.forEach(i=>{var o;i.payload.doc.data(),this.usuariosInfo.push({id:i.payload.doc.data(),...i.payload.doc.data()});const a=this.usuariosInfo.find(d=>{var p;return d.id.idUser===(null===(p=this.usuario)||void 0===p?void 0:p.uid)});this.objetoUsuario=a;const l={id:i.payload.doc.id,...i.payload.doc.data()};this.idInfo.push(l);const u=null===(o=this.idInfo.find(d=>{var p;return d.idUser===(null===(p=this.usuario)||void 0===p?void 0:p.uid)}))||void 0===o?void 0:o.id;this.id=u,this.phoneNumberValue=null==a?void 0:a.telefono,this.genderValue=null==a?void 0:a.Genero,this.birthdayValue=null==a?void 0:a.cumpleanos,this.aboutMeValue=null==a?void 0:a.about,this.urlPortada=null==a?void 0:a.portada})})}crearUsuario(){null==this.id?this.afAuth.currentUser.then(r=>{this._user.addIUserInfo({idUser:null==r?void 0:r.uid,usuario:null==r?void 0:r.displayName,email:null==r?void 0:r.email,foto:null==r?void 0:r.photoURL}).then(()=>{console.log("usuario actualizado")})}):console.log("el usuario ya esta registrado")}changeProfilePicture(){if(!this.esInvitado){const r=document.createElement("input");r.type="file",r.accept="image/*",r.addEventListener("change",i=>{var o;const s=null==i||null===(o=i.target)||void 0===o||null===(o=o.files)||void 0===o?void 0:o[0];if(s){const a=new Image,l=new FileReader;l.onload=u=>{a.onload=()=>{const d=document.createElement("canvas");let I=a.width,A=a.height;(I>800||A>600)&&(I>A?(A*=800/I,I=800):(I*=600/A,A=600)),d.width=I,d.height=A;const x=d.getContext("2d");x?(x.drawImage(a,0,0,I,A),d.toBlob(V=>{if(V){var U;const G=`profilePictures/${null===(U=this.usuario)||void 0===U?void 0:U.uid}/${s.name}`,me=this.storage.ref(G);this.storage.upload(G,V,{contentType:V.type}).snapshotChanges().pipe(pf(()=>{me.getDownloadURL().subscribe(tt=>{this.afAuth.currentUser.then(_t=>{null==_t||_t.updateProfile({photoURL:tt}).then(()=>{this._user.updateUser({foto:tt},this.id).then(()=>{console.log("perfil actualizado")}),this.toastr.info("Foto de perfil cambiada")}).catch(Q=>{console.error("Error al actualizar la foto de perfil:",Q)})})})})).subscribe()}},s.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=u.target.result},l.readAsDataURL(s)}}),r.click()}}editarPerfil(){this.crearUsuario(),this.router.navigate(["/perfil-editar"])}changePortada(){if(!this.esInvitado){const r=document.createElement("input");r.type="file",r.accept="image/*",r.addEventListener("change",i=>{var o;const s=null==i||null===(o=i.target)||void 0===o||null===(o=o.files)||void 0===o?void 0:o[0];if(s){const a=new Image,l=new FileReader;l.onload=u=>{a.onload=()=>{const d=document.createElement("canvas");let I=a.width,A=a.height;(I>800||A>600)&&(I>A?(A*=800/I,I=800):(I*=600/A,A=600)),d.width=I,d.height=A;const x=d.getContext("2d");x?(x.drawImage(a,0,0,I,A),d.toBlob(V=>{if(V){var U;const G=`portada/${null===(U=this.usuario)||void 0===U?void 0:U.uid}/${s.name}`,me=this.storage.ref(G);this.storage.upload(G,V,{contentType:V.type}).snapshotChanges().pipe(pf(()=>{me.getDownloadURL().subscribe(tt=>{this._user.updateUser({portada:tt},this.id).then(()=>{console.log("actualizando"),this.toastr.info("Foto de portada cambiada")})})})).subscribe()}},s.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=u.target.result},l.readAsDataURL(s)}}),r.click()}}}return(t=e).\u0275fac=function(r){return new(r||t)(T(zr),T(Aa),T(lb),T(zu),T(fz))},t.\u0275cmp=dt({type:t,selectors:[["app-perfil"]],decls:16,vars:6,consts:[[1,"user-info"],[1,"img-container"],["alt","",2,"bottom","66%","position","absolute","z-index","-1",3,"src"],[2,"padding","12px","display","flex","justify-content","space-between"],["alt","Foto de perfil","width","auto","height","90",2,"border","2px solid","cursor","pointer","user-select","none","border-radius","28px",3,"click","src"],[1,"lap","user",2,"font-weight","bolder","margin","0","text-align","center"],["name","mail-unread-outline",2,"font-size","30px",3,"click"],[2,"display","flex","justify-content","space-around"],[4,"ngIf"],[1,"lap",2,"text-align","center","margin","0"],["size","small","color","tertiary",3,"click"],["name","add-circle-outline",2,"font-size","37px",3,"click"]],template:function(r,i){1&r&&(re(0,"div")(1,"div",0)(2,"div",1),En(3,"img",2),re(4,"div",3)(5,"div")(6,"img",4),Nt("click",function(){return i.changeProfilePicture()}),ce(),re(7,"p",5),vt(8),ce()(),re(9,"div")(10,"ion-icon",6),Nt("click",function(){return i.abrirBandeja()}),ce()()(),re(11,"div",7),lr(12,dpe,3,0,"div",8)(13,hpe,2,0,"div",8),ce()(),re(14,"p",9),vt(15),ce()()()),2&r&&(ze(3),Rt("src",i.urlPortada||"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Starsinthesky.jpg/1024px-Starsinthesky.jpg",Go),ze(3),Rt("src",(null==i.usuario?null:i.usuario.photoURL)||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",Go),ze(2),Hi(" ",null==i.objetoUsuario?null:i.objetoUsuario.usuario," "),ze(4),Rt("ngIf",!i.esInvitado),ze(),Rt("ngIf",!i.esInvitado),ze(2),zi(i.aboutMeValue))},dependencies:[Xs,ju,dd]}),e})();const FP=t=>({"tab-selected":t}),ppe=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Wfe},{path:"registrar",component:Zfe},{path:"recuperar",component:tpe},{path:"main",component:(()=>{var t;class e{constructor(r,i,o,s){this.afAuth=r,this.router=i,this.menu=o,this._user=s,this.esInvitado=!1,this.modal=!1,this.usuariosInfo=[],this.mn=!1,this.im=!1,this.vd=!0}ngOnInit(){this.afAuth.user.subscribe(r=>{this.usuario=r,this.usuarioActual=null==r?void 0:r.displayName,"Invitad@"===this.usuarioActual&&(this.esInvitado=!0),this.getUsers()}),this.menu.close()}getUsers(){this._user.getUsers().subscribe(r=>{var i;this.usuariosInfo=[],r.forEach(s=>{const a=s.payload.doc.data();this.usuariosInfo.push({id:s.payload.doc.id,...a})});const o=this.usuariosInfo.find(s=>{var a;return s.idUser===(null===(a=this.usuario)||void 0===a?void 0:a.uid)});this.objetoUsuario=o,this.foto=null===(i=this.objetoUsuario)||void 0===i?void 0:i.foto})}main(){this.mn=!0,this.im=!1,this.vd=!1}images(){this.mn=!1,this.im=!0,this.vd=!1}videos(){this.mn=!1,this.im=!1,this.vd=!0}salir(){var r=this;return(0,E.A)(function*(){console.log("click"),yield r.menu.close(),r.afAuth.signOut().then(()=>{r.router.navigate(["/login"])})})()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Aa),T(zr),T(ise),T(lb))},t.\u0275cmp=dt({type:t,selectors:[["app-navbar"]],decls:40,vars:14,consts:[["contentId","main-content"],[1,"ion-padding"],[3,"click"],["id","main-content",1,"ion-page"],["slot","start"],[2,"display","flex"],[2,"width","45px","height","45px"],["alt","Silhouette of a person's head",3,"src"],[3,"hidden"],["slot","bottom"],[3,"click","ngClass"],["name","grid-outline"],["name","people-outline"],["name","person-circle-outline"]],template:function(r,i){1&r&&(re(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),vt(4,"Asomos"),ce()()(),re(5,"ion-content",1)(6,"ion-list")(7,"ion-item",2),Nt("click",function(){return i.salir()}),vt(8,"Salir"),ce()()()(),re(9,"div",3)(10,"ion-header")(11,"ion-toolbar")(12,"ion-buttons",4),En(13,"ion-menu-button"),ce(),re(14,"div",5)(15,"ion-avatar",6),En(16,"img",7),ce(),re(17,"ion-title"),vt(18),ce()()()(),re(19,"ion-content")(20,"div",8),En(21,"app-features"),ce(),re(22,"div",8)(23,"div"),En(24,"app-grupos"),ce()(),re(25,"div",8),En(26,"app-perfil"),ce()(),re(27,"ion-tab-bar",9)(28,"ion-tab-button",10),Nt("click",function(){return i.main()}),En(29,"ion-icon",11),re(30,"ion-label"),vt(31,"Features"),ce()(),re(32,"ion-tab-button",10),Nt("click",function(){return i.images()}),En(33,"ion-icon",12),re(34,"ion-label"),vt(35,"Grupos"),ce()(),re(36,"ion-tab-button",10),Nt("click",function(){return i.videos()}),En(37,"ion-icon",13),re(38,"ion-label"),vt(39,"Perfil"),ce()()()()),2&r&&(ze(16),Rt("src",i.foto||"https://ionicframework.com/docs/img/demos/avatar.svg",Go),ze(2),Hi("\xa1Hola ",i.usuarioActual,"!"),ze(2),Rt("hidden",!i.mn),ze(2),Rt("hidden",!i.im),ze(3),Rt("hidden",!i.vd),ze(3),Rt("ngClass",ku(8,FP,i.mn)),ze(4),Rt("ngClass",ku(10,FP,i.im)),ze(4),Rt("ngClass",ku(12,FP,i.vd)))},dependencies:[J0,nB,d_,Of,Ff,dd,BD,Lf,UD,rB,iB,h_,jD,jl,Vf,upe,cpe,fpe],styles:[".tab-selected[_ngcontent-%COMP%]{color:var(--ion-color-primary)!important}"]}),e})()},{path:"activate",component:zfe},{path:"**",redirectTo:"/",pathMatch:"full"}];let mpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=xi({imports:[e2.forRoot(ppe,{preloadingStrategy:bee}),e2]}),e})(),gpe=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=dt({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&(re(0,"ion-app"),En(1,"ion-router-outlet"),ce())},dependencies:[tB,f_]}),e})();const LP_firebase={apiKey:"AIzaSyC-xnNzaTCFveAr77Iqf1CQ-wRct6kCBkQ",authDomain:"fitpal-horario.firebaseapp.com",projectId:"fitpal-horario",storageBucket:"fitpal-horario.appspot.com",messagingSenderId:"240368209776",appId:"1:240368209776:web:7b2960966943d391e049b5"};class cv{constructor(e){return e}}class mz{constructor(){return(0,qi.getApps)()}}const VP=new yt("angularfire2._apps"),vpe={provide:cv,useFactory:function _pe(t){return t&&1===t.length?t[0]:new cv((0,qi.getApp)())},deps:[[new lo,VP]]},ype={provide:mz,deps:[[new lo,VP]]};function Ipe(t){return(e,n)=>{const r=n.get(qs);(0,qi.registerVersion)("angularfire",$f.full,"core"),(0,qi.registerVersion)("angularfire",$f.full,"app"),(0,qi.registerVersion)("angular",WO.full,r.toString());const i=e.runOutsideAngular(()=>t(n));return new cv(i)}}function Epe(t,...e){return da([vpe,ype,{provide:VP,useFactory:Ipe(t),multi:!0,deps:[je,Tr,m_,...e]}])}fe(2920);class _z{constructor(){return QD("auth")}}class UP{constructor(e){return e}}const vz="storage",jP=new yt("angularfire2.storage-instances");function Spe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new UP(r)}}const Rpe={provide:class Ape{constructor(){return QD(vz)}},deps:[[new lo,jP]]},Ppe={provide:UP,useFactory:function Dpe(t,e){const n=function fB(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(vz,t,e);return n&&new UP(n)},deps:[[new lo,jP],cv]};function Mpe(t,...e){return(0,qi.registerVersion)("angularfire",$f.full,"gcs"),da([Ppe,Rpe,{provide:jP,useFactory:Spe(t),multi:!0,deps:[je,Tr,m_,mz,[new lo,_z],[new lo,rE],...e]}])}const xpe=jse(sfe,!0);let Npe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t,bootstrap:[gpe]}),t.\u0275inj=xi({providers:[{provide:HV,useClass:Die},Epe(()=>(0,qi.initializeApp)(LP_firebase)),Mpe(()=>xpe())],imports:[xL,lse.forRoot(),mpe,Pte,Mte,Are,rae,Yse.initializeApp(LP_firebase),Pse.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),e})();NX().bootstrapModule(Npe).catch(t=>console.log(t))},8996:(hr,tn,fe)=>{var E={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function Ae(L){if(!fe.o(E,L))return Promise.resolve().then(()=>{var Dt=new Error("Cannot find module '"+L+"'");throw Dt.code="MODULE_NOT_FOUND",Dt});var ot=E[L],zt=ot[0];return Promise.all(ot.slice(1).map(fe.e)).then(()=>fe(zt))}Ae.keys=()=>Object.keys(E),Ae.id=8996,hr.exports=Ae},3345:(hr,tn,fe)=>{"use strict";fe.d(tn,{A:()=>rt});var E=fe(1076),Ae=fe(1362),L=fe(7852),ot=fe(8041);class zt{constructor(De,Ee){this._delegate=De,this.firebase=Ee,(0,L._addComponent)(De,new Ae.uA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(De,Ee=L._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(De);return!we.isInitialized()&&"EXPLICIT"===(null===(We=we.getComponent())||void 0===We?void 0:We.instantiationMode)&&we.initialize(),we.getImmediate({identifier:Ee})}_removeServiceInstance(De,Ee=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(Ee)}_addComponent(De){(0,L._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,L._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new E.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),pe=function pt(){const ke=function Ke(ke){const De={},Ee={__esModule:!0,initializeApp:function at(Ye,At={}){const ae=L.initializeApp(Ye,At);if((0,E.gR)(De,ae.name))return De[ae.name];const Ge=new ke(ae,Ee);return De[ae.name]=Ge,Ge},app:we,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ve(Ye){const At=Ye.name,ae=At.replace("-compat","");if(L._registerComponent(Ye)&&"PUBLIC"===Ye.type){const Ge=(gt=we())=>{if("function"!=typeof gt[ae])throw Ce.create("invalid-app-argument",{appName:At});return gt[ae]()};void 0!==Ye.serviceProps&&(0,E.zw)(Ge,Ye.serviceProps),Ee[ae]=Ge,ke.prototype[ae]=function(...gt){return this._getService.bind(this,At).apply(this,Ye.multipleInstances?gt:[])}}return"PUBLIC"===Ye.type?Ee[ae]:null},removeApp:function We(Ye){delete De[Ye]},useAsService:function Oe(Ye,At){return"serverAuth"===At?null:At},modularAPIs:L}};function we(Ye){if(!(0,E.gR)(De,Ye=Ye||L._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:Ye});return De[Ye]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function le(){return Object.keys(De).map(Ye=>De[Ye])}}),we.App=ke,Ee}(zt);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:pt,extendNamespace:function De(Ee){(0,E.zw)(ke,Ee)},createSubscribe:E.tD,ErrorFactory:E.FA,deepExtend:E.zw}),ke}(),te=new ot.Vy("@firebase/app-compat");if((0,E.Bd)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=pe;!function Se(ke){(0,L.registerVersion)("@firebase/app-compat","0.2.34",ke)}()},7852:(hr,tn,fe)=>{"use strict";fe.r(tn),fe.d(tn,{FirebaseError:()=>ot.g,SDK_VERSION:()=>ti,_DEFAULT_ENTRY_NAME:()=>jn,_addComponent:()=>_r,_addOrOverwriteComponent:()=>Ii,_apps:()=>An,_clearComponents:()=>ai,_components:()=>Wn,_getProvider:()=>fr,_isFirebaseApp:()=>_o,_isFirebaseServerApp:()=>Bn,_registerComponent:()=>si,_removeServiceInstance:()=>Ri,_serverApps:()=>qn,deleteApp:()=>Vo,getApp:()=>Mn,getApps:()=>vo,initializeApp:()=>Pi,initializeServerApp:()=>Qi,onLog:()=>M,registerVersion:()=>j,setLogLevel:()=>F});var E=fe(467),Ae=fe(1362),L=fe(8041),ot=fe(1076);const zt=(Te,ue)=>ue.some(Be=>Te instanceof Be);let Dt,Ce;const pe=new WeakMap,te=new WeakMap,xe=new WeakMap,ye=new WeakMap,Se=new WeakMap;let De={get(Te,ue,Be){if(Te instanceof IDBTransaction){if("done"===ue)return te.get(Te);if("objectStoreNames"===ue)return Te.objectStoreNames||xe.get(Te);if("store"===ue)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return at(Te[ue])},set:(Te,ue,Be)=>(Te[ue]=Be,!0),has:(Te,ue)=>Te instanceof IDBTransaction&&("done"===ue||"store"===ue)||ue in Te};function we(Te){return"function"==typeof Te?function We(Te){return Te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pt(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Te)?function(...ue){return Te.apply(le(this),ue),at(pe.get(this))}:function(...ue){return at(Te.apply(le(this),ue))}:function(ue,...Be){const kt=Te.call(le(this),ue,...Be);return xe.set(kt,ue.sort?ue.sort():[ue]),at(kt)}}(Te):(Te instanceof IDBTransaction&&function ke(Te){if(te.has(Te))return;const ue=new Promise((Be,kt)=>{const bn=()=>{Te.removeEventListener("complete",X),Te.removeEventListener("error",ut),Te.removeEventListener("abort",ut)},X=()=>{Be(),bn()},ut=()=>{kt(Te.error||new DOMException("AbortError","AbortError")),bn()};Te.addEventListener("complete",X),Te.addEventListener("error",ut),Te.addEventListener("abort",ut)});te.set(Te,ue)}(Te),zt(Te,function Ke(){return Dt||(Dt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Te,De):Te)}function at(Te){if(Te instanceof IDBRequest)return function rt(Te){const ue=new Promise((Be,kt)=>{const bn=()=>{Te.removeEventListener("success",X),Te.removeEventListener("error",ut)},X=()=>{Be(at(Te.result)),bn()},ut=()=>{kt(Te.error),bn()};Te.addEventListener("success",X),Te.addEventListener("error",ut)});return ue.then(Be=>{Be instanceof IDBCursor&&pe.set(Be,Te)}).catch(()=>{}),Se.set(ue,Te),ue}(Te);if(ye.has(Te))return ye.get(Te);const ue=we(Te);return ue!==Te&&(ye.set(Te,ue),Se.set(ue,Te)),ue}const le=Te=>Se.get(Te),Ye=["get","getKey","getAll","getAllKeys","count"],At=["put","add","delete","clear"],ae=new Map;function Ge(Te,ue){if(!(Te instanceof IDBDatabase)||ue in Te||"string"!=typeof ue)return;if(ae.get(ue))return ae.get(ue);const Be=ue.replace(/FromIndex$/,""),kt=ue!==Be,bn=At.includes(Be);if(!(Be in(kt?IDBIndex:IDBObjectStore).prototype)||!bn&&!Ye.includes(Be))return;const X=function(){var ut=(0,E.A)(function*(Qt,...jt){const cr=this.transaction(Qt,bn?"readwrite":"readonly");let Kn=cr.store;return kt&&(Kn=Kn.index(jt.shift())),(yield Promise.all([Kn[Be](...jt),bn&&cr.done]))[0]});return function(jt){return ut.apply(this,arguments)}}();return ae.set(ue,X),X}!function Ee(Te){De=Te(De)}(Te=>({...Te,get:(ue,Be,kt)=>Ge(ue,Be)||Te.get(ue,Be,kt),has:(ue,Be)=>!!Ge(ue,Be)||Te.has(ue,Be)}));class gt{constructor(ue){this.container=ue}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function Ht(Te){const ue=Te.getComponent();return"VERSION"===(null==ue?void 0:ue.type)}(Be)){const kt=Be.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(Be=>Be).join(" ")}}const Zt="@firebase/app",ht="0.10.4",qt=new L.Vy("@firebase/app"),jn="[DEFAULT]",zn={[Zt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},An=new Map,qn=new Map,Wn=new Map;function _r(Te,ue){try{Te.container.addComponent(ue)}catch(Be){qt.debug(`Component ${ue.name} failed to register with FirebaseApp ${Te.name}`,Be)}}function Ii(Te,ue){Te.container.addOrOverwriteComponent(ue)}function si(Te){const ue=Te.name;if(Wn.has(ue))return qt.debug(`There were multiple attempts to register component ${ue}.`),!1;Wn.set(ue,Te);for(const Be of An.values())_r(Be,Te);for(const Be of qn.values())_r(Be,Te);return!0}function fr(Te,ue){const Be=Te.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),Te.container.getProvider(ue)}function Ri(Te,ue,Be=jn){fr(Te,ue).clearInstance(Be)}function _o(Te){return void 0!==Te.options}function Bn(Te){return void 0!==Te.settings}function ai(){Wn.clear()}const Er=new ot.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Cr{constructor(ue,Be,kt){this._isDeleted=!1,this._options=Object.assign({},ue),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new Ae.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ue){this._isDeleted=ue}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}class kr extends Cr{constructor(ue,Be,kt,bn){const X=void 0!==Be.automaticDataCollectionEnabled&&Be.automaticDataCollectionEnabled,ut={name:kt,automaticDataCollectionEnabled:X};super(void 0!==ue.apiKey?ue:ue.options,ut,bn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:X},Be),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Be.releaseOnDeref=void 0,j(Zt,ht,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ue){this.isDeleted||(this._refCount++,void 0!==ue&&this._finalizationRegistry.register(ue,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Vo(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Er.create("server-app-deleted")}}const ti="10.12.1";function Pi(Te,ue={}){let Be=Te;"object"!=typeof ue&&(ue={name:ue});const kt=Object.assign({name:jn,automaticDataCollectionEnabled:!1},ue),bn=kt.name;if("string"!=typeof bn||!bn)throw Er.create("bad-app-name",{appName:String(bn)});if(Be||(Be=(0,ot.T9)()),!Be)throw Er.create("no-options");const X=An.get(bn);if(X){if((0,ot.bD)(Be,X.options)&&(0,ot.bD)(kt,X.config))return X;throw Er.create("duplicate-app",{appName:bn})}const ut=new Ae.h1(bn);for(const jt of Wn.values())ut.addComponent(jt);const Qt=new Cr(Be,kt,ut);return An.set(bn,Qt),Qt}function Qi(Te,ue){if((0,ot.Bd)())throw Er.create("invalid-server-app-environment");let Be;void 0===ue.automaticDataCollectionEnabled&&(ue.automaticDataCollectionEnabled=!1),Be=_o(Te)?Te.options:Te;const kt=Object.assign(Object.assign({},ue),Be);if(void 0!==kt.releaseOnDeref&&delete kt.releaseOnDeref,void 0!==ue.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Er.create("finalization-registry-not-supported",{});const X=""+(cr=JSON.stringify(kt),[...cr].reduce((Kn,Qn)=>Math.imul(31,Kn)+Qn.charCodeAt(0)|0,0)),ut=qn.get(X);var cr;if(ut)return ut.incRefCount(ue.releaseOnDeref),ut;const Qt=new Ae.h1(X);for(const cr of Wn.values())Qt.addComponent(cr);const jt=new kr(Be,ue,X,Qt);return qn.set(X,jt),jt}function Mn(Te=jn){const ue=An.get(Te);if(!ue&&Te===jn&&(0,ot.T9)())return Pi();if(!ue)throw Er.create("no-app",{appName:Te});return ue}function vo(){return Array.from(An.values())}function Vo(Te){return K.apply(this,arguments)}function K(){return(K=(0,E.A)(function*(Te){let ue=!1;const Be=Te.name;An.has(Be)?(ue=!0,An.delete(Be)):qn.has(Be)&&Te.decRefCount()<=0&&(qn.delete(Be),ue=!0),ue&&(yield Promise.all(Te.container.getProviders().map(kt=>kt.delete())),Te.isDeleted=!0)})).apply(this,arguments)}function j(Te,ue,Be){var kt;let bn=null!==(kt=zn[Te])&&void 0!==kt?kt:Te;Be&&(bn+=`-${Be}`);const X=bn.match(/\s|\//),ut=ue.match(/\s|\//);if(X||ut){const Qt=[`Unable to register library "${bn}" with version "${ue}":`];return X&&Qt.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),X&&ut&&Qt.push("and"),ut&&Qt.push(`version name "${ue}" contains illegal characters (whitespace or "/")`),void qt.warn(Qt.join(" "))}si(new Ae.uA(`${bn}-version`,()=>({library:bn,version:ue}),"VERSION"))}function M(Te,ue){if(null!==Te&&"function"!=typeof Te)throw Er.create("invalid-log-argument");(0,L.Ey)(Te,ue)}function F(Te){(0,L.He)(Te)}const R="firebase-heartbeat-database",ie=1,Re="firebase-heartbeat-store";let ft=null;function vn(){return ft||(ft=function Ve(Te,ue,{blocked:Be,upgrade:kt,blocking:bn,terminated:X}={}){const ut=indexedDB.open(Te,ue),Qt=at(ut);return kt&&ut.addEventListener("upgradeneeded",jt=>{kt(at(ut.result),jt.oldVersion,jt.newVersion,at(ut.transaction),jt)}),Be&&ut.addEventListener("blocked",jt=>Be(jt.oldVersion,jt.newVersion,jt)),Qt.then(jt=>{X&&jt.addEventListener("close",()=>X()),bn&&jt.addEventListener("versionchange",cr=>bn(cr.oldVersion,cr.newVersion,cr))}).catch(()=>{}),Qt}(R,ie,{upgrade:(Te,ue)=>{if(0===ue)try{Te.createObjectStore(Re)}catch(Be){console.warn(Be)}}}).catch(Te=>{throw Er.create("idb-open",{originalErrorMessage:Te.message})})),ft}function Hn(){return(Hn=(0,E.A)(function*(Te){try{const Be=(yield vn()).transaction(Re),kt=yield Be.objectStore(Re).get(Jt(Te));return yield Be.done,kt}catch(ue){if(ue instanceof ot.g)qt.warn(ue.message);else{const Be=Er.create("idb-get",{originalErrorMessage:null==ue?void 0:ue.message});qt.warn(Be.message)}}})).apply(this,arguments)}function on(Te,ue){return he.apply(this,arguments)}function he(){return(he=(0,E.A)(function*(Te,ue){try{const kt=(yield vn()).transaction(Re,"readwrite");yield kt.objectStore(Re).put(ue,Jt(Te)),yield kt.done}catch(Be){if(Be instanceof ot.g)qt.warn(Be.message);else{const kt=Er.create("idb-set",{originalErrorMessage:null==Be?void 0:Be.message});qt.warn(kt.message)}}})).apply(this,arguments)}function Jt(Te){return`${Te.name}!${Te.options.appId}`}class Ra{constructor(ue){this.container=ue,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new Vi(Be),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var ue=this;return(0,E.A)(function*(){var Be,kt;const X=ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ut=Fs();if((null!=(null===(Be=ue._heartbeatsCache)||void 0===Be?void 0:Be.heartbeats)||(ue._heartbeatsCache=yield ue._heartbeatsCachePromise,null!=(null===(kt=ue._heartbeatsCache)||void 0===kt?void 0:kt.heartbeats)))&&ue._heartbeatsCache.lastSentHeartbeatDate!==ut&&!ue._heartbeatsCache.heartbeats.some(Qt=>Qt.date===ut))return ue._heartbeatsCache.heartbeats.push({date:ut,agent:X}),ue._heartbeatsCache.heartbeats=ue._heartbeatsCache.heartbeats.filter(Qt=>{const jt=new Date(Qt.date).valueOf();return Date.now()-jt<=2592e6}),ue._storage.overwrite(ue._heartbeatsCache)})()}getHeartbeatsHeader(){var ue=this;return(0,E.A)(function*(){var Be;if(null===ue._heartbeatsCache&&(yield ue._heartbeatsCachePromise),null==(null===(Be=ue._heartbeatsCache)||void 0===Be?void 0:Be.heartbeats)||0===ue._heartbeatsCache.heartbeats.length)return"";const kt=Fs(),{heartbeatsToSend:bn,unsentEntries:X}=function na(Te,ue=1024){const Be=[];let kt=Te.slice();for(const bn of Te){const X=Be.find(ut=>ut.agent===bn.agent);if(X){if(X.dates.push(bn.date),$i(Be)>ue){X.dates.pop();break}}else if(Be.push({agent:bn.agent,dates:[bn.date]}),$i(Be)>ue){Be.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:Be,unsentEntries:kt}}(ue._heartbeatsCache.heartbeats),ut=(0,ot.Uj)(JSON.stringify({version:2,heartbeats:bn}));return ue._heartbeatsCache.lastSentHeartbeatDate=kt,X.length>0?(ue._heartbeatsCache.heartbeats=X,yield ue._storage.overwrite(ue._heartbeatsCache)):(ue._heartbeatsCache.heartbeats=[],ue._storage.overwrite(ue._heartbeatsCache)),ut})()}}function Fs(){return(new Date).toISOString().substring(0,10)}class Vi{constructor(ue){this.app=ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.A)(function*(){return!!(0,ot.zW)()&&(0,ot.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ue=this;return(0,E.A)(function*(){if(yield ue._canUseIndexedDBPromise){const kt=yield function Et(Te){return Hn.apply(this,arguments)}(ue.app);return null!=kt&&kt.heartbeats?kt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ue){var Be=this;return(0,E.A)(function*(){var kt;if(yield Be._canUseIndexedDBPromise){const X=yield Be.read();return on(Be.app,{lastSentHeartbeatDate:null!==(kt=ue.lastSentHeartbeatDate)&&void 0!==kt?kt:X.lastSentHeartbeatDate,heartbeats:ue.heartbeats})}})()}add(ue){var Be=this;return(0,E.A)(function*(){var kt;if(yield Be._canUseIndexedDBPromise){const X=yield Be.read();return on(Be.app,{lastSentHeartbeatDate:null!==(kt=ue.lastSentHeartbeatDate)&&void 0!==kt?kt:X.lastSentHeartbeatDate,heartbeats:[...X.heartbeats,...ue.heartbeats]})}})()}}function $i(Te){return(0,ot.Uj)(JSON.stringify({version:2,heartbeats:Te})).length}!function yo(Te){si(new Ae.uA("platform-logger",ue=>new gt(ue),"PRIVATE")),si(new Ae.uA("heartbeat",ue=>new Ra(ue),"PRIVATE")),j(Zt,ht,Te),j(Zt,ht,"esm2017"),j("fire-js","")}("")},1362:(hr,tn,fe)=>{"use strict";fe.d(tn,{h1:()=>Ke,uA:()=>L});var E=fe(467),Ae=fe(1076);class L{constructor(pe,te,xe){this.name=pe,this.instanceFactory=te,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const ot="[DEFAULT]";class zt{constructor(pe,te){this.name=pe,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const te=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(te)){const xe=new Ae.cY;if(this.instancesDeferred.set(te,xe),this.isInitialized(te)||this.shouldAutoInitialize())try{const ye=this.getOrInitializeService({instanceIdentifier:te});ye&&xe.resolve(ye)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(pe){var te;const xe=this.normalizeInstanceIdentifier(null==pe?void 0:pe.identifier),ye=null!==(te=null==pe?void 0:pe.optional)&&void 0!==te&&te;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(Se){if(ye)return null;throw Se}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function Ce(pt){return"EAGER"===pt.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:ot})}catch{}for(const[te,xe]of this.instancesDeferred.entries()){const ye=this.normalizeInstanceIdentifier(te);try{const Se=this.getOrInitializeService({instanceIdentifier:ye});xe.resolve(Se)}catch{}}}}clearInstance(pe=ot){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,E.A)(function*(){const te=Array.from(pe.instances.values());yield Promise.all([...te.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...te.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=ot){return this.instances.has(pe)}getOptions(pe=ot){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:te={}}=pe,xe=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ye=this.getOrInitializeService({instanceIdentifier:xe,options:te});for(const[Se,rt]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(Se)&&rt.resolve(ye);return ye}onInit(pe,te){var xe;const ye=this.normalizeInstanceIdentifier(te),Se=null!==(xe=this.onInitCallbacks.get(ye))&&void 0!==xe?xe:new Set;Se.add(pe),this.onInitCallbacks.set(ye,Se);const rt=this.instances.get(ye);return rt&&pe(rt,ye),()=>{Se.delete(pe)}}invokeOnInitCallbacks(pe,te){const xe=this.onInitCallbacks.get(te);if(xe)for(const ye of xe)try{ye(pe,te)}catch{}}getOrInitializeService({instanceIdentifier:pe,options:te={}}){let xe=this.instances.get(pe);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(pt=pe,pt===ot?void 0:pt),options:te}),this.instances.set(pe,xe),this.instancesOptions.set(pe,te),this.invokeOnInitCallbacks(xe,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,xe)}catch{}var pt;return xe||null}normalizeInstanceIdentifier(pe=ot){return this.component?this.component.multipleInstances?pe:ot:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ke{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const te=this.getProvider(pe.name);if(te.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);te.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const te=new zt(pe,this);return this.providers.set(pe,te),te}getProviders(){return Array.from(this.providers.values())}}},8041:(hr,tn,fe)=>{"use strict";fe.d(tn,{$b:()=>Ae,Ey:()=>pt,He:()=>Ke,Vy:()=>Ce});const E=[];var Ae=function(pe){return pe[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",pe}(Ae||{});const L={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},ot=Ae.INFO,zt={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},Dt=(pe,te,...xe)=>{if(te<pe.logLevel)return;const ye=(new Date).toISOString(),Se=zt[te];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[Se](`[${ye}]  ${pe.name}:`,...xe)};class Ce{constructor(te){this.name=te,this._logLevel=ot,this._logHandler=Dt,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in Ae))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?L[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...te),this._logHandler(this,Ae.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...te),this._logHandler(this,Ae.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...te),this._logHandler(this,Ae.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...te),this._logHandler(this,Ae.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...te),this._logHandler(this,Ae.ERROR,...te)}}function Ke(pe){E.forEach(te=>{te.setLogLevel(pe)})}function pt(pe,te){for(const xe of E){let ye=null;te&&te.level&&(ye=L[te.level]),xe.userLogHandler=null===pe?null:(Se,rt,...ke)=>{const De=ke.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");rt>=(null!=ye?ye:Se.logLevel)&&pe({level:Ae[rt].toLowerCase(),message:De,args:ke,type:Se.name})}}}},2438:(hr,tn,fe)=>{"use strict";fe.r(tn);var E=fe(467),Ae=fe(3345),L=fe(2920),ot=fe(1076),Ce=(fe(7852),fe(8041),fe(1362));function Ke(){return window}function te(){return te=(0,E.A)(function*(M,F,R){var ie;const{BuildInfo:Re}=Ke();(0,L.au)(F.sessionId,"AuthEvent did not contain a session ID");const ft=yield function Ee(M){return We.apply(this,arguments)}(F.sessionId),vn={};return(0,L.av)()?vn.ibi=Re.packageName:(0,L.aw)()?vn.apn=Re.packageName:(0,L.ax)(M,"operation-not-supported-in-this-environment"),Re.displayName&&(vn.appDisplayName=Re.displayName),vn.sessionId=ft,(0,L.ay)(M,R,F.type,void 0,null!==(ie=F.eventId)&&void 0!==ie?ie:void 0,vn)}),te.apply(this,arguments)}function ye(){return(ye=(0,E.A)(function*(M){const{BuildInfo:F}=Ke(),R={};(0,L.av)()?R.iosBundleId=F.packageName:(0,L.aw)()?R.androidPackageName=F.packageName:(0,L.ax)(M,"operation-not-supported-in-this-environment"),yield(0,L.az)(M,R)})).apply(this,arguments)}function ke(){return(ke=(0,E.A)(function*(M,F,R){const{cordova:ie}=Ke();let Re=()=>{};try{yield new Promise((ft,vn)=>{let Et=null;function Hn(){var Jt;ft();const Vr=null===(Jt=ie.plugins.browsertab)||void 0===Jt?void 0:Jt.close;"function"==typeof Vr&&Vr(),"function"==typeof(null==R?void 0:R.close)&&R.close()}function on(){Et||(Et=window.setTimeout(()=>{vn((0,L.aB)(M,"redirect-cancelled-by-user"))},2e3))}function he(){"visible"===(null==document?void 0:document.visibilityState)&&on()}F.addPassiveListener(Hn),document.addEventListener("resume",on,!1),(0,L.aw)()&&document.addEventListener("visibilitychange",he,!1),Re=()=>{F.removePassiveListener(Hn),document.removeEventListener("resume",on,!1),document.removeEventListener("visibilitychange",he,!1),Et&&window.clearTimeout(Et)}})}finally{Re()}})).apply(this,arguments)}function We(){return(We=(0,E.A)(function*(M){const F=function we(M){if((0,L.au)(/[0-9a-zA-Z]+/.test(M),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(M);const F=new ArrayBuffer(M.length),R=new Uint8Array(F);for(let ie=0;ie<M.length;ie++)R[ie]=M.charCodeAt(ie);return R}(M),R=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(R)).map(Re=>Re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class le extends L.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(F)),super.onEvent(F)}initialized(){var F=this;return(0,E.A)(function*(){yield F.initPromise})()}}function Ye(M){return At.apply(this,arguments)}function At(){return(At=(0,E.A)(function*(M){const F=yield gt()._get(Ht(M));return F&&(yield gt()._remove(Ht(M))),F})).apply(this,arguments)}function Ge(){const M=[];for(let R=0;R<20;R++){const ie=Math.floor(62*Math.random());M.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ie))}return M.join("")}function gt(){return(0,L.aE)(L.b)}function Ht(M){return(0,L.aF)("authEvent",M.config.apiKey,M.name)}function qt(M){if(null==M||!M.includes("?"))return{};const[F,...R]=M.split("?");return(0,ot.I9)(R.join("?"))}const S=class H{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aG,this._overrideRedirectResult=L.aH}_initialize(F){var R=this;return(0,E.A)(function*(){const ie=F._key();let Re=R.eventManagers.get(ie);return Re||(Re=new le(F),R.eventManagers.set(ie,Re),R.attachCallbackListeners(F,Re)),Re})()}_openPopup(F){(0,L.ax)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,R,ie,Re){var ft=this;return(0,E.A)(function*(){!function De(M){var F,R,ie,Re,ft,vn,Et,Hn,on,he;const Jt=Ke();(0,L.aC)("function"==typeof(null===(F=null==Jt?void 0:Jt.universalLinks)||void 0===F?void 0:F.subscribe),M,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aC)(typeof(null===(R=null==Jt?void 0:Jt.BuildInfo)||void 0===R?void 0:R.packageName)<"u",M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aC)("function"==typeof(null===(ft=null===(Re=null===(ie=null==Jt?void 0:Jt.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===ft?void 0:ft.openUrl),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aC)("function"==typeof(null===(Hn=null===(Et=null===(vn=null==Jt?void 0:Jt.cordova)||void 0===vn?void 0:vn.plugins)||void 0===Et?void 0:Et.browsertab)||void 0===Hn?void 0:Hn.isAvailable),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aC)("function"==typeof(null===(he=null===(on=null==Jt?void 0:Jt.cordova)||void 0===on?void 0:on.InAppBrowser)||void 0===he?void 0:he.open),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const vn=yield ft._initialize(F);yield vn.initialized(),vn.resetRedirect(),(0,L.aI)(),yield ft._originValidation(F);const Et=function Ve(M,F,R=null){return{type:F,eventId:R,urlResponse:null,sessionId:Ge(),postBody:null,tenantId:M.tenantId,error:(0,L.aB)(M,"no-auth-event")}}(F,ie,Re);yield function Oe(M,F){return gt()._set(Ht(M),F)}(F,Et);const Hn=yield function pe(M,F,R){return te.apply(this,arguments)}(F,Et,R),on=yield function Se(M){const{cordova:F}=Ke();return new Promise(R=>{F.plugins.browsertab.isAvailable(ie=>{let Re=null;ie?F.plugins.browsertab.openUrl(M):Re=F.InAppBrowser.open(M,(0,L.aA)()?"_blank":"_system","location=yes"),R(Re)})})}(Hn);return function rt(M,F,R){return ke.apply(this,arguments)}(F,vn,on)})()}_isIframeWebStorageSupported(F,R){throw new Error("Method not implemented.")}_originValidation(F){const R=F._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function xe(M){return ye.apply(this,arguments)}(F)),this.originValidationPromises[R]}attachCallbackListeners(F,R){const{universalLinks:ie,handleOpenURL:Re,BuildInfo:ft}=Ke(),vn=setTimeout((0,E.A)(function*(){yield Ye(F),R.onEvent(D())}),500),Et=function(){var he=(0,E.A)(function*(Jt){clearTimeout(vn);const Vr=yield Ye(F);let Ei=null;Vr&&null!=Jt&&Jt.url&&(Ei=function ae(M,F){var R,ie;const Re=function ht(M){const F=qt(M),R=F.link?decodeURIComponent(F.link):void 0,ie=qt(R).link,Re=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return qt(Re).link||Re||ie||R||M}(F);if(Re.includes("/__/auth/callback")){const ft=qt(Re),vn=ft.firebaseError?function Zt(M){try{return JSON.parse(M)}catch{return null}}(decodeURIComponent(ft.firebaseError)):null,Et=null===(ie=null===(R=null==vn?void 0:vn.code)||void 0===R?void 0:R.split("auth/"))||void 0===ie?void 0:ie[1],Hn=Et?(0,L.aB)(Et):null;return Hn?{type:M.type,eventId:M.eventId,tenantId:M.tenantId,error:Hn,urlResponse:null,sessionId:null,postBody:null}:{type:M.type,eventId:M.eventId,tenantId:M.tenantId,sessionId:M.sessionId,urlResponse:Re,postBody:null}}return null}(Vr,Jt.url)),R.onEvent(Ei||D())});return function(Vr){return he.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,Et);const Hn=Re,on=`${ft.packageName.toLowerCase()}://`;Ke().handleOpenURL=function(){var he=(0,E.A)(function*(Jt){if(Jt.toLowerCase().startsWith(on)&&Et({url:Jt}),"function"==typeof Hn)try{Hn(Jt)}catch(Vr){console.error(Vr)}});return function(Jt){return he.apply(this,arguments)}}()}};function D(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.aB)("no-auth-event")}}function qe(){var M;return(null===(M=null==self?void 0:self.location)||void 0===M?void 0:M.protocol)||null}function un(M=(0,ot.ZQ)()){return!("file:"!==qe()&&"ionic:"!==qe()&&"capacitor:"!==qe()||!M.toLowerCase().match(/iphone|ipad|ipod|android/))}function er(){try{const M=self.localStorage,F=L.aN();if(M)return M.setItem(F,"1"),M.removeItem(F),!function Ut(M=(0,ot.ZQ)()){return function cn(){return(0,ot.lT)()&&11===(null==document?void 0:document.documentMode)}()||function dn(M=(0,ot.ZQ)()){return/Edge\/\d+/.test(M)}(M)}()||(0,ot.zW)()}catch{return Sn()&&(0,ot.zW)()}return!1}function Sn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function lt(){return"http:"===qe()||"https:"===qe()}()||(0,ot.sr)()||un())&&!function wt(){return(0,ot.lV)()||(0,ot.Ll)()}()&&er()&&!Sn()}function Tn(){return un()&&typeof document<"u"}function nt(){return(nt=(0,E.A)(function*(){return!!Tn()&&new Promise(M=>{const F=setTimeout(()=>{M(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),M(!0)})})})).apply(this,arguments)}const Pe={LOCAL:"local",NONE:"none",SESSION:"session"},Mt=L.aC,Pn="persistence";function jn(M){return zn.apply(this,arguments)}function zn(){return(zn=(0,E.A)(function*(M){yield M._initializationPromise;const F=qn(),R=L.aF(Pn,M.config.apiKey,M.name);F&&F.setItem(R,M._getPersistence())})).apply(this,arguments)}function qn(){var M;try{return(null===(M=function Ne(){return typeof window<"u"?window:null}())||void 0===M?void 0:M.sessionStorage)||null}catch{return null}}const Wn=L.aC;class _r{constructor(){this.browserResolver=L.aE(L.k),this.cordovaResolver=L.aE(S),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aG,this._overrideRedirectResult=L.aH}_initialize(F){var R=this;return(0,E.A)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,R,ie,Re){var ft=this;return(0,E.A)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openPopup(F,R,ie,Re)})()}_openRedirect(F,R,ie,Re){var ft=this;return(0,E.A)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openRedirect(F,R,ie,Re)})()}_isIframeWebStorageSupported(F,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,R)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Tn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,E.A)(function*(){if(F.underlyingResolver)return;const R=yield function kn(){return nt.apply(this,arguments)}();F.underlyingResolver=R?F.cordovaResolver:F.browserResolver})()}}function Ii(M){return M.unwrap()}function fr(M){return _o(M)}function _o(M){const{_tokenResponse:F}=M instanceof ot.g?M.customData:M;if(!F)return null;if(!(M instanceof ot.g)&&"temporaryProof"in F&&"phoneNumber"in F)return L.P.credentialFromResult(M);const R=F.providerId;if(!R||R===L.p.PASSWORD)return null;let ie;switch(R){case L.p.GOOGLE:ie=L.X;break;case L.p.FACEBOOK:ie=L.W;break;case L.p.GITHUB:ie=L.Y;break;case L.p.TWITTER:ie=L.$;break;default:const{oauthIdToken:Re,oauthAccessToken:ft,oauthTokenSecret:vn,pendingToken:Et,nonce:Hn}=F;return ft||vn||Re||Et?Et?R.startsWith("saml.")?L.aQ._create(R,Et):L.N._fromParams({providerId:R,signInMethod:R,pendingToken:Et,idToken:Re,accessToken:ft}):new L.Z(R).credential({idToken:Re,accessToken:ft,rawNonce:Hn}):null}return M instanceof ot.g?ie.credentialFromError(M):ie.credentialFromResult(M)}function Bn(M,F){return F.catch(R=>{throw R instanceof ot.g&&function Ri(M,F){var R;const ie=null===(R=F.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===(null==F?void 0:F.code))F.resolver=new Er(M,L.as(M,F));else if(ie){const Re=_o(F),ft=F;Re&&(ft.credential=Re,ft.tenantId=ie.tenantId||void 0,ft.email=ie.email||void 0,ft.phoneNumber=ie.phoneNumber||void 0)}}(M,R),R}).then(R=>{const Re=R.user;return{operationType:R.operationType,credential:fr(R),additionalUserInfo:L.aq(R),user:Cr.getOrCreate(Re)}})}function ai(M,F){return oo.apply(this,arguments)}function oo(){return(oo=(0,E.A)(function*(M,F){const R=yield F;return{verificationId:R.verificationId,confirm:ie=>Bn(M,R.confirm(ie))}})).apply(this,arguments)}class Er{constructor(F,R){this.resolver=R,this.auth=function si(M){return M.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Bn(Ii(this.auth),this.resolver.resolveSignIn(F))}}class Cr{constructor(F){this._delegate=F,this.multiFactor=L.at(F)}static getOrCreate(F){return Cr.USER_MAP.has(F)||Cr.USER_MAP.set(F,new Cr(F)),Cr.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var R=this;return(0,E.A)(function*(){return Bn(R.auth,L.a2(R._delegate,F))})()}linkWithPhoneNumber(F,R){var ie=this;return(0,E.A)(function*(){return ai(ie.auth,L.l(ie._delegate,F,R))})()}linkWithPopup(F){var R=this;return(0,E.A)(function*(){return Bn(R.auth,L.d(R._delegate,F,_r))})()}linkWithRedirect(F){var R=this;return(0,E.A)(function*(){return yield jn(L.aJ(R.auth)),L.g(R._delegate,F,_r)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var R=this;return(0,E.A)(function*(){return Bn(R.auth,L.a3(R._delegate,F))})()}reauthenticateWithPhoneNumber(F,R){return ai(this.auth,L.r(this._delegate,F,R))}reauthenticateWithPopup(F){return Bn(this.auth,L.e(this._delegate,F,_r))}reauthenticateWithRedirect(F){var R=this;return(0,E.A)(function*(){return yield jn(L.aJ(R.auth)),L.h(R._delegate,F,_r)})()}sendEmailVerification(F){return L.ag(this._delegate,F)}unlink(F){var R=this;return(0,E.A)(function*(){return yield L.ap(R._delegate,F),R})()}updateEmail(F){return L.al(this._delegate,F)}updatePassword(F){return L.am(this._delegate,F)}updatePhoneNumber(F){return L.u(this._delegate,F)}updateProfile(F){return L.ak(this._delegate,F)}verifyBeforeUpdateEmail(F,R){return L.ah(this._delegate,F,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Cr.USER_MAP=new WeakMap;const kr=L.aC;let ti=(()=>{class M{constructor(R,ie){if(this.app=R,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Re}=R.options;kr(Re,"invalid-api-key",{appName:R.name}),kr(Re,"invalid-api-key",{appName:R.name});const ft=typeof window<"u"?_r:void 0;this._delegate=ie.initialize({options:{persistence:Qi(Re,R.name),popupRedirectResolver:ft}}),this._delegate._updateErrorMap(L.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,ie){L.K(this._delegate,R,ie)}applyActionCode(R){return L.a7(this._delegate,R)}checkActionCode(R){return L.a8(this._delegate,R)}confirmPasswordReset(R,ie){return L.a6(this._delegate,R,ie)}createUserWithEmailAndPassword(R,ie){var Re=this;return(0,E.A)(function*(){return Bn(Re._delegate,L.aa(Re._delegate,R,ie))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return L.af(this._delegate,R)}isSignInWithEmailLink(R){return L.ad(this._delegate,R)}getRedirectResult(){var R=this;return(0,E.A)(function*(){kr(On(),R._delegate,"operation-not-supported-in-this-environment");const ie=yield L.j(R._delegate,_r);return ie?Bn(R._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function k(M,F){(0,L.aJ)(M)._logFramework(F)}(this._delegate,R)}onAuthStateChanged(R,ie,Re){const{next:ft,error:vn,complete:Et}=Pi(R,ie,Re);return this._delegate.onAuthStateChanged(ft,vn,Et)}onIdTokenChanged(R,ie,Re){const{next:ft,error:vn,complete:Et}=Pi(R,ie,Re);return this._delegate.onIdTokenChanged(ft,vn,Et)}sendSignInLinkToEmail(R,ie){return L.ac(this._delegate,R,ie)}sendPasswordResetEmail(R,ie){return L.a5(this._delegate,R,ie||void 0)}setPersistence(R){var ie=this;return(0,E.A)(function*(){let Re;switch(function tr(M,F){Mt(Object.values(Pe).includes(F),M,"invalid-persistence-type"),(0,ot.lV)()?Mt(F!==Pe.SESSION,M,"unsupported-persistence-type"):(0,ot.Ll)()?Mt(F===Pe.NONE,M,"unsupported-persistence-type"):Sn()?Mt(F===Pe.NONE||F===Pe.LOCAL&&(0,ot.zW)(),M,"unsupported-persistence-type"):Mt(F===Pe.NONE||er(),M,"unsupported-persistence-type")}(ie._delegate,R),R){case Pe.SESSION:Re=L.a;break;case Pe.LOCAL:Re=(yield L.aE(L.i)._isAvailable())?L.i:L.b;break;case Pe.NONE:Re=L.U;break;default:return L.ax("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(Re)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return Bn(this._delegate,L.a0(this._delegate))}signInWithCredential(R){return Bn(this._delegate,L.a1(this._delegate,R))}signInWithCustomToken(R){return Bn(this._delegate,L.a4(this._delegate,R))}signInWithEmailAndPassword(R,ie){return Bn(this._delegate,L.ab(this._delegate,R,ie))}signInWithEmailLink(R,ie){return Bn(this._delegate,L.ae(this._delegate,R,ie))}signInWithPhoneNumber(R,ie){return ai(this._delegate,L.s(this._delegate,R,ie))}signInWithPopup(R){var ie=this;return(0,E.A)(function*(){return kr(On(),ie._delegate,"operation-not-supported-in-this-environment"),Bn(ie._delegate,L.c(ie._delegate,R,_r))})()}signInWithRedirect(R){var ie=this;return(0,E.A)(function*(){return kr(On(),ie._delegate,"operation-not-supported-in-this-environment"),yield jn(ie._delegate),L.f(ie._delegate,R,_r)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return L.a9(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return M.Persistence=Pe,M})();function Pi(M,F,R){let ie=M;"function"!=typeof M&&({next:ie,error:F,complete:R}=M);const Re=ie;return{next:vn=>Re(vn&&Cr.getOrCreate(vn)),error:F,complete:R}}function Qi(M,F){const R=function An(M,F){const R=qn();if(!R)return[];const ie=L.aF(Pn,M,F);switch(R.getItem(ie)){case Pe.NONE:return[L.U];case Pe.LOCAL:return[L.i,L.a];case Pe.SESSION:return[L.a];default:return[]}}(M,F);if(typeof self<"u"&&!R.includes(L.i)&&R.push(L.i),typeof window<"u")for(const ie of[L.b,L.a])R.includes(ie)||R.push(ie);return R.includes(L.U)||R.push(L.U),R}class Mn{constructor(){this.providerId="phone",this._delegate=new L.P(Ii(Ae.A.auth()))}static credential(F,R){return L.P.credential(F,R)}verifyPhoneNumber(F,R){return this._delegate.verifyPhoneNumber(F,R)}unwrap(){return this._delegate}}Mn.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,Mn.PROVIDER_ID=L.P.PROVIDER_ID;const vo=L.aC;class Vo{constructor(F,R,ie=Ae.A.app()){var Re;vo(null===(Re=ie.options)||void 0===Re?void 0:Re.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new L.R(ie.auth(),F,R),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function j(M){M.INTERNAL.registerComponent(new Ce.uA("auth-compat",F=>{const R=F.getProvider("app-compat").getImmediate(),ie=F.getProvider("auth");return new ti(R,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.V,FacebookAuthProvider:L.W,GithubAuthProvider:L.Y,GoogleAuthProvider:L.X,OAuthProvider:L.Z,SAMLAuthProvider:L._,PhoneAuthProvider:Mn,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:Vo,TwitterAuthProvider:L.$,Auth:ti,AuthCredential:L.L,Error:ot.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),M.registerVersion("@firebase/auth-compat","0.5.8")}(Ae.A)},467:(hr,tn,fe)=>{"use strict";function E(L,ot,zt,Dt,Ce,Ke,pt){try{var pe=L[Ke](pt),te=pe.value}catch(xe){return void zt(xe)}pe.done?ot(te):Promise.resolve(te).then(Dt,Ce)}function Ae(L){return function(){var ot=this,zt=arguments;return new Promise(function(Dt,Ce){var Ke=L.apply(ot,zt);function pt(te){E(Ke,Dt,Ce,pt,pe,"next",te)}function pe(te){E(Ke,Dt,Ce,pt,pe,"throw",te)}pt(void 0)})}}fe.d(tn,{A:()=>Ae})},1635:(hr,tn,fe)=>{"use strict";function ot(S,D){var k={};for(var z in S)Object.prototype.hasOwnProperty.call(S,z)&&D.indexOf(z)<0&&(k[z]=S[z]);if(null!=S&&"function"==typeof Object.getOwnPropertySymbols){var se=0;for(z=Object.getOwnPropertySymbols(S);se<z.length;se++)D.indexOf(z[se])<0&&Object.prototype.propertyIsEnumerable.call(S,z[se])&&(k[z[se]]=S[z[se]])}return k}function zt(S,D,k,z){var qe,se=arguments.length,oe=se<3?D:null===z?z=Object.getOwnPropertyDescriptor(D,k):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(S,D,k,z);else for(var lt=S.length-1;lt>=0;lt--)(qe=S[lt])&&(oe=(se<3?qe(oe):se>3?qe(D,k,oe):qe(D,k))||oe);return se>3&&oe&&Object.defineProperty(D,k,oe),oe}function xe(S,D,k,z){return new(k||(k=Promise))(function(oe,qe){function lt(cn){try{wt(z.next(cn))}catch(dn){qe(dn)}}function un(cn){try{wt(z.throw(cn))}catch(dn){qe(dn)}}function wt(cn){cn.done?oe(cn.value):function se(oe){return oe instanceof k?oe:new k(function(qe){qe(oe)})}(cn.value).then(lt,un)}wt((z=z.apply(S,D||[])).next())})}function at(S){return this instanceof at?(this.v=S,this):new at(S)}function le(S,D,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,z=k.apply(S,D||[]),oe=[];return se={},qe("next"),qe("throw"),qe("return"),se[Symbol.asyncIterator]=function(){return this},se;function qe(Ut){z[Ut]&&(se[Ut]=function(er){return new Promise(function(Sn,On){oe.push([Ut,er,Sn,On])>1||lt(Ut,er)})})}function lt(Ut,er){try{!function un(Ut){Ut.value instanceof at?Promise.resolve(Ut.value.v).then(wt,cn):dn(oe[0][2],Ut)}(z[Ut](er))}catch(Sn){dn(oe[0][3],Sn)}}function wt(Ut){lt("next",Ut)}function cn(Ut){lt("throw",Ut)}function dn(Ut,er){Ut(er),oe.shift(),oe.length&&lt(oe[0][0],oe[0][1])}}function Oe(S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k,D=S[Symbol.asyncIterator];return D?D.call(S):(S=function ke(S){var D="function"==typeof Symbol&&Symbol.iterator,k=D&&S[D],z=0;if(k)return k.call(S);if(S&&"number"==typeof S.length)return{next:function(){return S&&z>=S.length&&(S=void 0),{value:S&&S[z++],done:!S}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")}(S),k={},z("next"),z("throw"),z("return"),k[Symbol.asyncIterator]=function(){return this},k);function z(oe){k[oe]=S[oe]&&function(qe){return new Promise(function(lt,un){!function se(oe,qe,lt,un){Promise.resolve(un).then(function(wt){oe({value:wt,done:lt})},qe)}(lt,un,(qe=S[oe](qe)).done,qe.value)})}}}fe.d(tn,{AQ:()=>le,Cg:()=>zt,N3:()=>at,Tt:()=>ot,sH:()=>xe,xN:()=>Oe}),"function"==typeof SuppressedError&&SuppressedError}},hr=>{hr(hr.s=5330)}]);