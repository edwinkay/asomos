(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{2920:(fr,rn,pe)=>{"use strict";pe.d(rn,{$:()=>Fb,A:()=>re,G:()=>Re,K:()=>In,L:()=>Or,N:()=>Qt,P:()=>tC,R:()=>Ks,U:()=>Ct,V:()=>Xd,W:()=>Yp,X:()=>Zd,Y:()=>kb,Z:()=>ca,_:()=>ua,a:()=>bs,a0:()=>nt,a1:()=>fa,a2:()=>Mu,a3:()=>th,a4:()=>Go,a5:()=>Uv,a6:()=>rh,a7:()=>Es,a8:()=>jv,a9:()=>zv,aA:()=>Io,aB:()=>ue,aC:()=>ce,aD:()=>Ji,aE:()=>gt,aF:()=>Hn,aG:()=>ym,aH:()=>_m,aI:()=>iC,aJ:()=>Yn,aN:()=>qs,aQ:()=>yc,aa:()=>Ou,ab:()=>Hv,ac:()=>Vb,ad:()=>$b,ae:()=>Bb,af:()=>jb,ag:()=>zb,ah:()=>Gv,ak:()=>ft,al:()=>Gb,am:()=>uo,ap:()=>Lb,aq:()=>Wv,as:()=>Kb,at:()=>hm,au:()=>It,av:()=>Ui,aw:()=>js,ax:()=>ct,ay:()=>hr,az:()=>wo,b:()=>Zv,c:()=>CM,d:()=>TM,e:()=>wM,f:()=>oC,g:()=>lC,h:()=>fy,i:()=>ls,j:()=>py,k:()=>Th,l:()=>Zi,m:()=>Cy,p:()=>Xe,r:()=>fm,s:()=>di,u:()=>pm});var E=pe(467),De=pe(7852),L=pe(1076),at=pe(8041),Gt=pe(1635),xt=pe(1362);const Xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ot=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new L.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new at.Vy("@firebase/auth");function we(m,...u){be.logLevel<=at.$b.ERROR&&be.error(`Auth (${De.SDK_VERSION}): ${m}`,...u)}function ct(m,...u){throw St(m,...u)}function ue(m,...u){return St(m,...u)}function $e(m,u,h){const g=Object.assign(Object.assign({},ot()),{[u]:h});return new L.FA("auth","Firebase",g).create(u,{appName:m.name})}function Fe(m){return $e(m,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ze(m,u,h){if(!(u instanceof h))throw h.name!==u.constructor.name&&ct(m,"argument-error"),$e(m,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function St(m,...u){if("string"!=typeof m){const h=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=m.name),m._errorFactory.create(h,...g)}return Oe.create(m,...u)}function ce(m,u,...h){if(!m)throw St(u,...h)}function qe(m){const u="INTERNAL ASSERTION FAILED: "+m;throw we(u),new Error(u)}function It(m,u){m||qe(u)}function qt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function en(){return"http:"===mt()||"https:"===mt()}function mt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class G{constructor(u,h){this.shortDelay=u,this.longDelay=h,It(h>u,"Short delay should be less than long delay!"),this.isMobile=(0,L.jZ)()||(0,L.lV)()}get(){return function Kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(en()||(0,L.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function S(m,u){It(m.emulator,"Emulator should always be set here");const{url:h}=m.emulator;return u?`${h}${u.startsWith("/")?u.slice(1):u}`:h}class D{static initialize(u,h,g){this.fetchImpl=u,h&&(this.headersImpl=h),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},H=new G(3e4,6e4);function ae(m,u){return m.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:m.tenantId}):u}function se(m,u,h,g){return We.apply(this,arguments)}function We(){return(We=(0,E.A)(function*(m,u,h,g,C={}){return ut(m,C,(0,E.A)(function*(){let N={},ee={};g&&("GET"===u?ee=g:N={body:JSON.stringify(g)});const _e=(0,L.Am)(Object.assign({key:m.config.apiKey},ee)).slice(1),rt=yield m._getAdditionalHeaders();return rt["Content-Type"]="application/json",m.languageCode&&(rt["X-Firebase-Locale"]=m.languageCode),D.fetch()(dn(m,m.config.apiHost,h,_e),Object.assign({method:u,headers:rt,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function ut(m,u,h){return cn.apply(this,arguments)}function cn(){return(cn=(0,E.A)(function*(m,u,h){m._canInitEmulator=!1;const g=Object.assign(Object.assign({},k),u);try{const C=new nr(m),N=yield Promise.race([h(),C.promise]);C.clearNetworkTimeout();const ee=yield N.json();if("needConfirmation"in ee)throw Sn(m,"account-exists-with-different-credential",ee);if(N.ok&&!("errorMessage"in ee))return ee;{const _e=N.ok?ee.errorMessage:ee.error.message,[rt,bt]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw Sn(m,"credential-already-in-use",ee);if("EMAIL_EXISTS"===rt)throw Sn(m,"email-already-in-use",ee);if("USER_DISABLED"===rt)throw Sn(m,"user-disabled",ee);const pn=g[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(bt)throw $e(m,pn,bt);ct(m,pn)}}catch(C){if(C instanceof L.g)throw C;ct(m,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function At(m,u,h,g){return un.apply(this,arguments)}function un(){return(un=(0,E.A)(function*(m,u,h,g,C={}){const N=yield se(m,u,h,g,C);return"mfaPendingCredential"in N&&ct(m,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function dn(m,u,h,g){const C=`${u}${h}?${g}`;return m.config.emulator?S(m.config,C):`${m.config.apiScheme}://${C}`}function zt(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nr{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((h,g)=>{this.timer=setTimeout(()=>g(ue(this.auth,"network-request-failed")),H.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sn(m,u,h){const g={appName:m.name};h.email&&(g.email=h.email),h.phoneNumber&&(g.phoneNumber=h.phoneNumber);const C=ue(m,u,g);return C.customData._tokenResponse=h,C}function On(m){return void 0!==m&&void 0!==m.getResponse}function Tn(m){return void 0!==m&&void 0!==m.enterprise}class kn{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===u)return zt(h.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function ke(){return(ke=(0,E.A)(function*(m){return(yield se(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Me(m,u){return kt.apply(this,arguments)}function kt(){return(kt=(0,E.A)(function*(m,u){return se(m,"GET","/v2/recaptchaConfig",ae(m,u))})).apply(this,arguments)}function rr(){return(rr=(0,E.A)(function*(m,u){return se(m,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function zn(){return(zn=(0,E.A)(function*(m,u){return se(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function An(m,u){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,E.A)(function*(m,u){return se(m,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Kn(m){if(m)try{const u=new Date(Number(m));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function si(){return(si=(0,E.A)(function*(m,u=!1){const h=(0,L.Ku)(m),g=yield h.getIdToken(u),C=Mi(g);ce(C&&C.exp&&C.auth_time&&C.iat,h.auth,"internal-error");const N="object"==typeof C.firebase?C.firebase:void 0,ee=null==N?void 0:N.sign_in_provider;return{claims:C,token:g,authTime:Kn(pr(C.auth_time)),issuedAtTime:Kn(pr(C.iat)),expirationTime:Kn(pr(C.exp)),signInProvider:ee||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function pr(m){return 1e3*Number(m)}function Mi(m){const[u,h,g]=m.split(".");if(void 0===u||void 0===h||void 0===g)return we("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,L.u)(h);return C?JSON.parse(C):(we("Failed to decode base64 JWT payload"),null)}catch(C){return we("Caught error parsing JWT payload as JSON",null==C?void 0:C.toString()),null}}function vo(m){const u=Mi(m);return ce(u,"internal-error"),ce(typeof u.exp<"u","internal-error"),ce(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function Bn(m,u){return ai.apply(this,arguments)}function ai(){return(ai=(0,E.A)(function*(m,u,h=!1){if(h)return u;try{return yield u}catch(g){throw g instanceof L.g&&function so({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(g)&&m.auth.currentUser===m&&(yield m.auth.signOut()),g}})).apply(this,arguments)}class br{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var h;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const C=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(u=!1){var h=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,E.A)(function*(){yield h.iteration()}),g)}iteration(){var u=this;return(0,E.A)(function*(){try{yield u.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===(null==h?void 0:h.code)&&u.schedule(!0))}u.schedule()})()}}class wr{constructor(u,h){this.createdAt=u,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kn(this.lastLoginAt),this.creationTime=Kn(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kr(m){return ti.apply(this,arguments)}function ti(){return(ti=(0,E.A)(function*(m){var u;const h=m.auth,g=yield m.getIdToken(),C=yield Bn(m,An(h,{idToken:g}));ce(null==C?void 0:C.users.length,h,"internal-error");const N=C.users[0];m._notifyReloadListener(N);const ee=null!==(u=N.providerUserInfo)&&void 0!==u&&u.length?yo(N.providerUserInfo):[],_e=function Mn(m,u){return[...m.filter(g=>!u.some(C=>C.providerId===g.providerId)),...u]}(m.providerData,ee),pn=!!m.isAnonymous&&!(m.email&&N.passwordHash||null!=_e&&_e.length),Jn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:_e,metadata:new wr(N.createdAt,N.lastLoginAt),isAnonymous:pn};Object.assign(m,Jn)})).apply(this,arguments)}function Qi(){return(Qi=(0,E.A)(function*(m){const u=(0,L.Ku)(m);yield kr(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function yo(m){return m.map(u=>{var{providerId:h}=u,g=(0,Gt.Tt)(u,["providerId"]);return{providerId:h,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function Y(){return(Y=(0,E.A)(function*(m,u){const h=yield ut(m,{},(0,E.A)(function*(){const g=(0,L.Am)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:C,apiKey:N}=m.config,ee=dn(m,C,"/v1/token",`key=${N}`),_e=yield m._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",D.fetch()(ee,{method:"POST",headers:_e,body:g})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function M(){return(M=(0,E.A)(function*(m,u){return se(m,"POST","/v2/accounts:revokeToken",ae(m,u))})).apply(this,arguments)}class F{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ce(u.idToken,"internal-error"),ce(typeof u.idToken<"u","internal-error"),ce(typeof u.refreshToken<"u","internal-error");const h="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):vo(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,h)}updateFromIdToken(u){ce(0!==u.length,"internal-error");const h=vo(u);this.updateTokensAndExpiration(u,null,h)}getToken(u,h=!1){var g=this;return(0,E.A)(function*(){return h||!g.accessToken||g.isExpired?(ce(g.refreshToken,u,"user-token-expired"),g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,h){var g=this;return(0,E.A)(function*(){const{accessToken:C,refreshToken:N,expiresIn:ee}=yield function jo(m,u){return Y.apply(this,arguments)}(u,h);g.updateTokensAndExpiration(C,N,Number(ee))})()}updateTokensAndExpiration(u,h,g){this.refreshToken=h||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,h){const{refreshToken:g,accessToken:C,expirationTime:N}=h,ee=new F;return g&&(ce("string"==typeof g,"internal-error",{appName:u}),ee.refreshToken=g),C&&(ce("string"==typeof C,"internal-error",{appName:u}),ee.accessToken=C),N&&(ce("number"==typeof N,"internal-error",{appName:u}),ee.expirationTime=N),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new F,this.toJSON())}_performRefresh(){return qe("not implemented")}}function R(m,u){ce("string"==typeof m||typeof m>"u","internal-error",{appName:u})}class oe{constructor(u){var{uid:h,auth:g,stsTokenManager:C}=u,N=(0,Gt.Tt)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new br(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=g,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new wr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(u){var h=this;return(0,E.A)(function*(){const g=yield Bn(h,h.stsTokenManager.getToken(h.auth,u));return ce(g,h.auth,"internal-error"),h.accessToken!==g&&(h.accessToken=g,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),g})()}getIdTokenResult(u){return function Ei(m){return si.apply(this,arguments)}(this,u)}reload(){return function xi(m){return Qi.apply(this,arguments)}(this)}_assign(u){this!==u&&(ce(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(h=>Object.assign({},h)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const h=new oe(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(u){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,h=!1){var g=this;return(0,E.A)(function*(){let C=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),C=!0),h&&(yield kr(g)),yield g.auth._persistUserIfCurrent(g),C&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,E.A)(function*(){if((0,De._isFirebaseServerApp)(u.auth.app))return Promise.reject(Fe(u.auth));const h=yield u.getIdToken();return yield Bn(u,function Pn(m,u){return rr.apply(this,arguments)}(u.auth,{idToken:h})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,h){var g,C,N,ee,_e,rt,bt,pn;const Jn=null!==(g=h.displayName)&&void 0!==g?g:void 0,Do=null!==(C=h.email)&&void 0!==C?C:void 0,Wa=null!==(N=h.phoneNumber)&&void 0!==N?N:void 0,qu=null!==(ee=h.photoURL)&&void 0!==ee?ee:void 0,Rm=null!==(_e=h.tenantId)&&void 0!==_e?_e:void 0,Rl=null!==(rt=h._redirectEventId)&&void 0!==rt?rt:void 0,Ts=null!==(bt=h.createdAt)&&void 0!==bt?bt:void 0,Dy=null!==(pn=h.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:kc,emailVerified:Wu,isAnonymous:Ku,providerData:Qu,stsTokenManager:Pm}=h;ce(kc&&Pm,u,"internal-error");const Sy=F.fromJSON(this.name,Pm);ce("string"==typeof kc,u,"internal-error"),R(Jn,u.name),R(Do,u.name),ce("boolean"==typeof Wu,u,"internal-error"),ce("boolean"==typeof Ku,u,"internal-error"),R(Wa,u.name),R(qu,u.name),R(Rm,u.name),R(Rl,u.name),R(Ts,u.name),R(Dy,u.name);const Mm=new oe({uid:kc,auth:u,email:Do,emailVerified:Wu,displayName:Jn,isAnonymous:Ku,photoURL:qu,phoneNumber:Wa,tenantId:Rm,stsTokenManager:Sy,createdAt:Ts,lastLoginAt:Dy});return Qu&&Array.isArray(Qu)&&(Mm.providerData=Qu.map(Oc=>Object.assign({},Oc))),Rl&&(Mm._redirectEventId=Rl),Mm}static _fromIdTokenResponse(u,h,g=!1){return(0,E.A)(function*(){const C=new F;C.updateFromServerResponse(h);const N=new oe({uid:h.localId,auth:u,stsTokenManager:C,isAnonymous:g});return yield kr(N),N})()}static _fromGetAccountInfoResponse(u,h,g){return(0,E.A)(function*(){const C=h.users[0];ce(void 0!==C.localId,"internal-error");const N=void 0!==C.providerUserInfo?yo(C.providerUserInfo):[],ee=!(C.email&&C.passwordHash||null!=N&&N.length),_e=new F;_e.updateFromIdToken(g);const rt=new oe({uid:C.localId,auth:u,stsTokenManager:_e,isAnonymous:ee}),bt={uid:C.localId,displayName:C.displayName||null,photoURL:C.photoUrl||null,email:C.email||null,emailVerified:C.emailVerified||!1,phoneNumber:C.phoneNumber||null,tenantId:C.tenantId||null,providerData:N,metadata:new wr(C.createdAt,C.lastLoginAt),isAnonymous:!(C.email&&C.passwordHash||null!=N&&N.length)};return Object.assign(rt,bt),rt})()}}const Pe=new Map;function gt(m){It(m instanceof Function,"Expected a class definition");let u=Pe.get(m);return u?(It(u instanceof m,"Instance stored in cache mismatched with class"),u):(u=new m,Pe.set(m,u),u)}const Ct=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.A)(function*(){return!0})()}_set(h,g){var C=this;return(0,E.A)(function*(){C.storage[h]=g})()}_get(h){var g=this;return(0,E.A)(function*(){const C=g.storage[h];return void 0===C?null:C})()}_remove(h){var g=this;return(0,E.A)(function*(){delete g.storage[h]})()}_addListener(h,g){}_removeListener(h,g){}}return m.type="NONE",m})();function Hn(m,u,h){return`firebase:${m}:${u}:${h}`}class on{constructor(u,h,g){this.persistence=u,this.auth=h,this.userKey=g;const{config:C,name:N}=this.auth;this.fullUserKey=Hn(this.userKey,C.apiKey,N),this.fullPersistenceKey=Hn("persistence",C.apiKey,N),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,E.A)(function*(){const h=yield u.persistence._get(u.fullUserKey);return h?oe._fromJSON(u.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var h=this;return(0,E.A)(function*(){if(h.persistence===u)return;const g=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=u,g?h.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,h,g="authUser"){return(0,E.A)(function*(){if(!h.length)return new on(gt(Ct),u,g);const C=(yield Promise.all(h.map(function(){var bt=(0,E.A)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return bt.apply(this,arguments)}}()))).filter(bt=>bt);let N=C[0]||gt(Ct);const ee=Hn(g,u.config.apiKey,u.name);let _e=null;for(const bt of h)try{const pn=yield bt._get(ee);if(pn){const Jn=oe._fromJSON(u,pn);bt!==N&&(_e=Jn),N=bt;break}}catch{}const rt=C.filter(bt=>bt._shouldAllowMigration);return N._shouldAllowMigration&&rt.length?(N=rt[0],_e&&(yield N._set(ee,_e.toJSON())),yield Promise.all(h.map(function(){var bt=(0,E.A)(function*(pn){if(pn!==N)try{yield pn._remove(ee)}catch{}});return function(pn){return bt.apply(this,arguments)}}())),new on(N,u,g)):new on(N,u,g)})()}}function he(m){const u=m.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Na(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(tn(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(sa(u))return"Blackberry";if(Bi(u))return"Webos";if($r(u))return"Safari";if((u.includes("chrome/")||bi(u))&&!u.includes("edge/"))return"Chrome";if(js(u))return"Android";{const g=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==g?void 0:g.length))return g[1]}return"Other"}function tn(m=(0,L.ZQ)()){return/firefox\//i.test(m)}function $r(m=(0,L.ZQ)()){const u=m.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function bi(m=(0,L.ZQ)()){return/crios\//i.test(m)}function Na(m=(0,L.ZQ)()){return/iemobile/i.test(m)}function js(m=(0,L.ZQ)()){return/android/i.test(m)}function sa(m=(0,L.ZQ)()){return/blackberry/i.test(m)}function Bi(m=(0,L.ZQ)()){return/webos/i.test(m)}function Ui(m=(0,L.ZQ)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Io(m=(0,L.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function je(m=(0,L.ZQ)()){return Ui(m)||js(m)||Bi(m)||sa(m)||/windows phone/i.test(m)||Na(m)}function bn(m,u=[]){let h;switch(m){case"Browser":h=he((0,L.ZQ)());break;case"Worker":h=`${he((0,L.ZQ)())}-${m}`;break;default:h=m}const g=u.length?u.join(","):"FirebaseCore-web";return`${h}/JsCore/${De.SDK_VERSION}/${g}`}class J{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,h){const g=N=>new Promise((ee,_e)=>{try{ee(u(N))}catch(rt){_e(rt)}});g.onAbort=h,this.queue.push(g);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(u){var h=this;return(0,E.A)(function*(){if(h.auth.currentUser===u)return;const g=[];try{for(const C of h.queue)yield C(u),C.onAbort&&g.push(C.onAbort)}catch(C){g.reverse();for(const N of g)try{N()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:null==C?void 0:C.message})}})()}}function Xt(){return(Xt=(0,E.A)(function*(m,u={}){return se(m,"GET","/v2/passwordPolicy",ae(m,u))})).apply(this,arguments)}class dr{constructor(u){var h,g,C,N;const ee=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=ee.minPasswordLength)&&void 0!==h?h:6,ee.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ee.maxPasswordLength),void 0!==ee.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ee.containsLowercaseCharacter),void 0!==ee.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ee.containsUppercaseCharacter),void 0!==ee.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ee.containsNumericCharacter),void 0!==ee.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ee.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(N=u.forceUpgradeOnSignin)&&void 0!==N&&N,this.schemaVersion=u.schemaVersion}validatePassword(u){var h,g,C,N,ee,_e;const rt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,rt),this.validatePasswordCharacterOptions(u,rt),rt.isValid&&(rt.isValid=null===(h=rt.meetsMinPasswordLength)||void 0===h||h),rt.isValid&&(rt.isValid=null===(g=rt.meetsMaxPasswordLength)||void 0===g||g),rt.isValid&&(rt.isValid=null===(C=rt.containsLowercaseLetter)||void 0===C||C),rt.isValid&&(rt.isValid=null===(N=rt.containsUppercaseLetter)||void 0===N||N),rt.isValid&&(rt.isValid=null===(ee=rt.containsNumericCharacter)||void 0===ee||ee),rt.isValid&&(rt.isValid=null===(_e=rt.containsNonAlphanumericCharacter)||void 0===_e||_e),rt}validatePasswordLengthOptions(u,h){const g=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;g&&(h.meetsMinPasswordLength=u.length>=g),C&&(h.meetsMaxPasswordLength=u.length<=C)}validatePasswordCharacterOptions(u,h){let g;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let C=0;C<u.length;C++)g=u.charAt(C),this.updatePasswordCharacterOptionsStatuses(h,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,h,g,C,N){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=N))}}class Qn{constructor(u,h,g,C){this.app=u,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bp(this),this.idTokenSubscription=new Bp(this),this.beforeStateQueue=new J(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(u,h){var g=this;return h&&(this._popupRedirectResolver=gt(h)),this._initializationPromise=this.queue((0,E.A)(function*(){var C,N;if(!g._deleted&&(g.persistenceManager=yield on.create(g,u),!g._deleted)){if(null!==(C=g._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(h),g.lastNotifiedUid=(null===(N=g.currentUser)||void 0===N?void 0:N.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,E.A)(function*(){if(u._deleted)return;const h=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||h){if(u.currentUser&&h&&u.currentUser.uid===h.uid)return u._currentUser._assign(h),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(h,!0)}})()}initializeCurrentUserFromIdToken(u){var h=this;return(0,E.A)(function*(){try{const g=yield An(h,{idToken:u}),C=yield oe._fromGetAccountInfoResponse(h,g,u);yield h.directlySetCurrentUser(C)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield h.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var h=this;return(0,E.A)(function*(){var g;if((0,De._isFirebaseServerApp)(h.app)){const _e=h.app.settings.authIdToken;return _e?new Promise(rt=>{setTimeout(()=>h.initializeCurrentUserFromIdToken(_e).then(rt,rt))}):h.directlySetCurrentUser(null)}const C=yield h.assertedPersistence.getCurrentUser();let N=C,ee=!1;if(u&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const _e=null===(g=h.redirectUser)||void 0===g?void 0:g._redirectEventId,rt=null==N?void 0:N._redirectEventId,bt=yield h.tryRedirectSignIn(u);(!_e||_e===rt)&&null!=bt&&bt.user&&(N=bt.user,ee=!0)}if(!N)return h.directlySetCurrentUser(null);if(!N._redirectEventId){if(ee)try{yield h.beforeStateQueue.runMiddleware(N)}catch(_e){N=C,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(_e))}return N?h.reloadAndSetCurrentUserOrClear(N):h.directlySetCurrentUser(null)}return ce(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===N._redirectEventId?h.directlySetCurrentUser(N):h.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(u){var h=this;return(0,E.A)(function*(){let g=null;try{g=yield h._popupRedirectResolver._completeRedirectFn(h,u,!0)}catch{yield h._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var h=this;return(0,E.A)(function*(){try{yield kr(u)}catch(g){if("auth/network-request-failed"!==(null==g?void 0:g.code))return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Ve(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var u=this;return(0,E.A)(function*(){u._deleted=!0})()}updateCurrentUser(u){var h=this;return(0,E.A)(function*(){if((0,De._isFirebaseServerApp)(h.app))return Promise.reject(Fe(h));const g=u?(0,L.Ku)(u):null;return g&&ce(g.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(g&&g._clone(h))})()}_updateCurrentUser(u,h=!1){var g=this;return(0,E.A)(function*(){if(!g._deleted)return u&&ce(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),h||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,E.A)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,E.A)(function*(){return(0,De._isFirebaseServerApp)(u.app)?Promise.reject(Fe(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var h=this;return(0,De._isFirebaseServerApp)(this.app)?Promise.reject(Fe(this)):this.queue((0,E.A)(function*(){yield h.assertedPersistence.setPersistence(gt(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var h=this;return(0,E.A)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const g=h._getPasswordPolicyInternal();return g.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,E.A)(function*(){const h=yield function dt(m){return Xt.apply(this,arguments)}(u),g=new dr(h);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new L.FA("auth","Firebase",u())}onAuthStateChanged(u,h,g){return this.registerStateListener(this.authStateSubscription,u,h,g)}beforeAuthStateChanged(u,h){return this.beforeStateQueue.pushCallback(u,h)}onIdTokenChanged(u,h,g){return this.registerStateListener(this.idTokenSubscription,u,h,g)}authStateReady(){return new Promise((u,h)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},h)}})}revokeAccessToken(u){var h=this;return(0,E.A)(function*(){if(h.currentUser){const g=yield h.currentUser.getIdToken(),C={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:g};null!=h.tenantId&&(C.tenantId=h.tenantId),yield function j(m,u){return M.apply(this,arguments)}(h,C)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,h){var g=this;return(0,E.A)(function*(){const C=yield g.getOrInitRedirectPersistenceManager(h);return null===u?C.removeCurrentUser():C.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var h=this;return(0,E.A)(function*(){if(!h.redirectPersistenceManager){const g=u&&gt(u)||h._popupRedirectResolver;ce(g,h,"argument-error"),h.redirectPersistenceManager=yield on.create(h,[gt(g._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(u){var h=this;return(0,E.A)(function*(){var g,C;return h._isInitialized&&(yield h.queue((0,E.A)(function*(){}))),(null===(g=h._currentUser)||void 0===g?void 0:g._redirectEventId)===u?h._currentUser:(null===(C=h.redirectUser)||void 0===C?void 0:C._redirectEventId)===u?h.redirectUser:null})()}_persistUserIfCurrent(u){var h=this;return(0,E.A)(function*(){if(u===h.currentUser)return h.queue((0,E.A)(function*(){return h.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(h=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,h,g,C){if(this._deleted)return()=>{};const N="function"==typeof h?h:h.next.bind(h);let ee=!1;const _e=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(_e,this,"internal-error"),_e.then(()=>{ee||N(this.currentUser)}),"function"==typeof h){const rt=u.addObserver(h,g,C);return()=>{ee=!0,rt()}}{const rt=u.addObserver(h);return()=>{ee=!0,rt()}}}directlySetCurrentUser(u){var h=this;return(0,E.A)(function*(){h.currentUser&&h.currentUser!==u&&h._currentUser._stopProactiveRefresh(),u&&h.isProactiveRefreshEnabled&&u._startProactiveRefresh(),h.currentUser=u,u?yield h.assertedPersistence.setCurrentUser(u):yield h.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,E.A)(function*(){var h;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const C=yield null===(h=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();C&&(g["X-Firebase-Client"]=C);const N=yield u._getAppCheckToken();return N&&(g["X-Firebase-AppCheck"]=N),g})()}_getAppCheckToken(){var u=this;return(0,E.A)(function*(){var h;const g=yield null===(h=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return null!=g&&g.error&&function Ke(m,...u){be.logLevel<=at.$b.WARN&&be.warn(`Auth (${De.SDK_VERSION}): ${m}`,...u)}(`Error while retrieving App Check token: ${g.error}`),null==g?void 0:g.token})()}}function Yn(m){return(0,L.Ku)(m)}class Bp{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,L.tD)(h=>this.observer=h)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Il={loadJS:()=>(0,E.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _n(m){return Il.loadJS(m)}function Qd(m){return`__${m}${Math.floor(1e6*Math.random())}`}class jp{constructor(u){this.type="recaptcha-enterprise",this.auth=Yn(u)}verify(u="verify",h=!1){var g=this;return(0,E.A)(function*(){function N(){return N=(0,E.A)(function*(_e){if(!h){if(null==_e.tenantId&&null!=_e._agentRecaptchaConfig)return _e._agentRecaptchaConfig.siteKey;if(null!=_e.tenantId&&void 0!==_e._tenantRecaptchaConfigs[_e.tenantId])return _e._tenantRecaptchaConfigs[_e.tenantId].siteKey}return new Promise(function(){var rt=(0,E.A)(function*(bt,pn){Me(_e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Jn=>{if(void 0!==Jn.recaptchaKey){const Do=new kn(Jn);return null==_e.tenantId?_e._agentRecaptchaConfig=Do:_e._tenantRecaptchaConfigs[_e.tenantId]=Do,bt(Do.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(Jn=>{pn(Jn)})});return function(bt,pn){return rt.apply(this,arguments)}}())}),N.apply(this,arguments)}function ee(_e,rt,bt){const pn=window.grecaptcha;Tn(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(_e,{action:u}).then(Jn=>{rt(Jn)}).catch(()=>{rt("NO_RECAPTCHA")})}):bt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((_e,rt)=>{(function C(_e){return N.apply(this,arguments)})(g.auth).then(bt=>{if(!h&&Tn(window.grecaptcha))ee(bt,_e,rt);else{if(typeof window>"u")return void rt(new Error("RecaptchaVerifier is only supported in browser"));let pn=function Ni(){return Il.recaptchaEnterpriseScript}();0!==pn.length&&(pn+=bt),_n(pn).then(()=>{ee(bt,_e,rt)}).catch(Jn=>{rt(Jn)})}}).catch(bt=>{rt(bt)})})})()}}function zp(m,u,h){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,E.A)(function*(m,u,h,g=!1){const C=new jp(m);let N;try{N=yield C.verify(h)}catch{N=yield C.verify(h,!0)}const ee=Object.assign({},u);return Object.assign(ee,g?{captchaResp:N}:{captchaResponse:N}),Object.assign(ee,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ee,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ee})).apply(this,arguments)}function ka(m,u,h,g){return ao.apply(this,arguments)}function ao(){return ao=(0,E.A)(function*(m,u,h,g){var C;if(null!==(C=m._getRecaptchaConfig())&&void 0!==C&&C.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const N=yield zp(m,u,h,"getOobCode"===h);return g(m,N)}return g(m,u).catch(function(){var N=(0,E.A)(function*(ee){if("auth/missing-recaptcha-token"===ee.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const _e=yield zp(m,u,h,"getOobCode"===h);return g(m,_e)}return Promise.reject(ee)});return function(ee){return N.apply(this,arguments)}}())}),ao.apply(this,arguments)}function In(m,u,h){const g=Yn(m);ce(g._canInitEmulator,g,"emulator-config-failed"),ce(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const C=!(null==h||!h.disableWarnings),N=qp(u),{host:ee,port:_e}=function Du(m){const u=qp(m),h=/(\/\/)?([^?#/]+)/.exec(m.substr(u.length));if(!h)return{host:"",port:null};const g=h[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(g);if(C){const N=C[1];return{host:N,port:Yd(g.substr(N.length+1))}}{const[N,ee]=g.split(":");return{host:N,port:Yd(ee)}}}(u);g.config.emulator={url:`${N}//${ee}${null===_e?"":`:${_e}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:ee,port:_e,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function Oa(){function m(){const u=document.createElement("p"),h=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function qp(m){const u=m.indexOf(":");return u<0?"":m.substr(0,u+1)}function Yd(m){if(!m)return null;const u=Number(m);return isNaN(u)?null:u}class Or{constructor(u,h){this.providerId=u,this.signInMethod=h}toJSON(){return qe("not implemented")}_getIdTokenResponse(u){return qe("not implemented")}_linkToIdToken(u,h){return qe("not implemented")}_getReauthenticationResolver(u){return qe("not implemented")}}function Rt(m,u){return ir.apply(this,arguments)}function ir(){return(ir=(0,E.A)(function*(m,u){return se(m,"POST","/v1/accounts:resetPassword",ae(m,u))})).apply(this,arguments)}function aa(){return(aa=(0,E.A)(function*(m,u){return se(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Wp(m,u){return mc.apply(this,arguments)}function mc(){return(mc=(0,E.A)(function*(m,u){return se(m,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Hs(){return(Hs=(0,E.A)(function*(m,u){return se(m,"POST","/v1/accounts:update",ae(m,u))})).apply(this,arguments)}function Fa(m,u){return La.apply(this,arguments)}function La(){return(La=(0,E.A)(function*(m,u){return At(m,"POST","/v1/accounts:signInWithPassword",ae(m,u))})).apply(this,arguments)}function Va(m,u){return gc.apply(this,arguments)}function gc(){return(gc=(0,E.A)(function*(m,u){return se(m,"POST","/v1/accounts:sendOobCode",ae(m,u))})).apply(this,arguments)}function la(){return(la=(0,E.A)(function*(m,u){return Va(m,u)})).apply(this,arguments)}function Su(m,u){return bl.apply(this,arguments)}function bl(){return(bl=(0,E.A)(function*(m,u){return Va(m,u)})).apply(this,arguments)}function b(m,u){return P.apply(this,arguments)}function P(){return(P=(0,E.A)(function*(m,u){return Va(m,u)})).apply(this,arguments)}function W(){return(W=(0,E.A)(function*(m,u){return Va(m,u)})).apply(this,arguments)}function ne(){return(ne=(0,E.A)(function*(m,u){return At(m,"POST","/v1/accounts:signInWithEmailLink",ae(m,u))})).apply(this,arguments)}function Je(){return(Je=(0,E.A)(function*(m,u){return At(m,"POST","/v1/accounts:signInWithEmailLink",ae(m,u))})).apply(this,arguments)}class Ge extends Or{constructor(u,h,g,C=null){super("password",g),this._email=u,this._password=h,this._tenantId=C}static _fromEmailAndPassword(u,h){return new Ge(u,h,"password")}static _fromEmailAndCode(u,h,g=null){return new Ge(u,h,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u;if(null!=h&&h.email&&null!=h&&h.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(u){var h=this;return(0,E.A)(function*(){switch(h.signInMethod){case"password":return ka(u,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fa);case"emailLink":return function ie(m,u){return ne.apply(this,arguments)}(u,{email:h._email,oobCode:h._password});default:ct(u,"internal-error")}})()}_linkToIdToken(u,h){var g=this;return(0,E.A)(function*(){switch(g.signInMethod){case"password":return ka(u,{idToken:h,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wp);case"emailLink":return function Be(m,u){return Je.apply(this,arguments)}(u,{idToken:h,email:g._email,oobCode:g._password});default:ct(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function et(m,u){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,E.A)(function*(m,u){return At(m,"POST","/v1/accounts:signInWithIdp",ae(m,u))})).apply(this,arguments)}class Qt extends Or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const h=new Qt(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(h.idToken=u.idToken),u.accessToken&&(h.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(h.nonce=u.nonce),u.pendingToken&&(h.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(h.accessToken=u.oauthToken,h.secret=u.oauthTokenSecret):ct("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C}=h,N=(0,Gt.Tt)(h,["providerId","signInMethod"]);if(!g||!C)return null;const ee=new Qt(g,C);return ee.idToken=N.idToken||void 0,ee.accessToken=N.accessToken||void 0,ee.secret=N.secret,ee.nonce=N.nonce,ee.pendingToken=N.pendingToken||null,ee}_getIdTokenResponse(u){return et(u,this.buildRequest())}_linkToIdToken(u,h){const g=this.buildRequest();return g.idToken=h,et(u,g)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,et(u,h)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),u.postBody=(0,L.Am)(h)}return u}}function lr(){return(lr=(0,E.A)(function*(m,u){return se(m,"POST","/v1/accounts:sendVerificationCode",ae(m,u))})).apply(this,arguments)}function hn(){return(hn=(0,E.A)(function*(m,u){return At(m,"POST","/v1/accounts:signInWithPhoneNumber",ae(m,u))})).apply(this,arguments)}function ci(){return(ci=(0,E.A)(function*(m,u){const h=yield At(m,"POST","/v1/accounts:signInWithPhoneNumber",ae(m,u));if(h.temporaryProof)throw Sn(m,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const lo={USER_NOT_FOUND:"user-not-found"};function _c(){return(_c=(0,E.A)(function*(m,u){return At(m,"POST","/v1/accounts:signInWithPhoneNumber",ae(m,Object.assign(Object.assign({},u),{operation:"REAUTH"})),lo)})).apply(this,arguments)}class Eo extends Or{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,h){return new Eo({verificationId:u,verificationCode:h})}static _fromTokenResponse(u,h){return new Eo({phoneNumber:u,temporaryProof:h})}_getIdTokenResponse(u){return function nn(m,u){return hn.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,h){return function zo(m,u){return ci.apply(this,arguments)}(u,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function Ru(m,u){return _c.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:h,verificationId:g,verificationCode:C}=this.params;return u&&h?{temporaryProof:u,phoneNumber:h}:{sessionInfo:g,code:C}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:h,verificationCode:g,phoneNumber:C,temporaryProof:N}=u;return g||h||C||N?new Eo({verificationId:h,verificationCode:g,phoneNumber:C,temporaryProof:N}):null}}class vc{constructor(u){var h,g,C,N,ee,_e;const rt=(0,L.I9)((0,L.hp)(u)),bt=null!==(h=rt.apiKey)&&void 0!==h?h:null,pn=null!==(g=rt.oobCode)&&void 0!==g?g:null,Jn=function Xn(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=rt.mode)&&void 0!==C?C:null);ce(bt&&pn&&Jn,"argument-error"),this.apiKey=bt,this.operation=Jn,this.code=pn,this.continueUrl=null!==(N=rt.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(ee=rt.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(_e=rt.tenantId)&&void 0!==_e?_e:null}static parseLink(u){const h=function Qp(m){const u=(0,L.I9)((0,L.hp)(m)).link,h=u?(0,L.I9)((0,L.hp)(u)).deep_link_id:null,g=(0,L.I9)((0,L.hp)(m)).deep_link_id;return(g?(0,L.I9)((0,L.hp)(g)).link:null)||g||h||u||m}(u);try{return new vc(h)}catch{return null}}}let Xd=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(h,g){return Ge._fromEmailAndPassword(h,g)}static credentialWithLink(h,g){const C=vc.parseLink(g);return ce(C,"argument-error"),Ge._fromEmailAndCode(h,C.code,C.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class $a{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Pu extends $a{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class ca extends Pu{static credentialFromJSON(u){const h="string"==typeof u?JSON.parse(u):u;return ce("providerId"in h&&"signInMethod"in h,"argument-error"),Qt._fromParams(h)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ce(u.idToken||u.accessToken,"argument-error"),Qt._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return ca.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return ca.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:h,oauthAccessToken:g,oauthTokenSecret:C,pendingToken:N,nonce:ee,providerId:_e}=u;if(!g&&!C&&!h&&!N||!_e)return null;try{return new ca(_e)._credential({idToken:h,accessToken:g,nonce:ee,pendingToken:N})}catch{return null}}}let Yp=(()=>{class m extends Pu{constructor(){super("facebook.com")}static credential(h){return Qt._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Zd=(()=>{class m extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(h,g){return Qt._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:g})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:C}=h;if(!g&&!C)return null;try{return m.credential(g,C)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),kb=(()=>{class m extends Pu{constructor(){super("github.com")}static credential(h){return Qt._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class yc extends Or{constructor(u,h){super(u,u),this.pendingToken=h}_getIdTokenResponse(u){return et(u,this.buildRequest())}_linkToIdToken(u,h){const g=this.buildRequest();return g.idToken=h,et(u,g)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,et(u,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:C,pendingToken:N}=h;return g&&C&&N&&g===C?new yc(g,N):null}static _create(u,h){return new yc(u,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ua extends $a{constructor(u){ce(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return ua.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return ua.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const h=yc.fromJSON(u);return ce(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:h,providerId:g}=u;if(!h||!g)return null;try{return yc._create(g,h)}catch{return null}}}let Fb=(()=>{class m extends Pu{constructor(){super("twitter.com")}static credential(h,g){return Qt._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:g})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:g,oauthTokenSecret:C}=h;if(!g||!C)return null;try{return m.credential(g,C)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function da(m,u){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,E.A)(function*(m,u){return At(m,"POST","/v1/accounts:signUp",ae(m,u))})).apply(this,arguments)}class Qe{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,h,g,C=!1){return(0,E.A)(function*(){const N=yield oe._fromIdTokenResponse(u,g,C),ee=Zp(g);return new Qe({user:N,providerId:ee,_tokenResponse:g,operationType:h})})()}static _forOperation(u,h,g){return(0,E.A)(function*(){yield u._updateTokensIfNecessary(g,!0);const C=Zp(g);return new Qe({user:u,providerId:C,_tokenResponse:g,operationType:h})})()}}function Zp(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function nt(m){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,E.A)(function*(m){var u;if((0,De._isFirebaseServerApp)(m.app))return Promise.reject(Fe(m));const h=Yn(m);if(yield h._initializationPromise,null!==(u=h.currentUser)&&void 0!==u&&u.isAnonymous)return new Qe({user:h.currentUser,providerId:null,operationType:"signIn"});const g=yield da(h,{returnSecureToken:!0}),C=yield Qe._fromIdTokenResponse(h,"signIn",g,!0);return yield h._updateCurrentUser(C.user),C})).apply(this,arguments)}class Ec extends L.g{constructor(u,h,g,C){var N;super(h.code,h.message),this.operationType=g,this.user=C,Object.setPrototypeOf(this,Ec.prototype),this.customData={appName:u.name,tenantId:null!==(N=u.tenantId)&&void 0!==N?N:void 0,_serverResponse:h.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,h,g,C){return new Ec(u,h,g,C)}}function bc(m,u,h,g){return("reauthenticate"===u?h._getReauthenticationResolver(m):h._getIdTokenResponse(m)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Ec._fromErrorAndOperation(m,N,u,g):N})}function kv(m){return new Set(m.map(({providerId:u})=>u).filter(u=>!!u))}function Lb(m,u){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,E.A)(function*(m,u){const h=(0,L.Ku)(m);yield Jd(!0,h,u);const{providerUserInfo:g}=yield function jn(m,u){return zn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[u]}),C=kv(g||[]);return h.providerData=h.providerData.filter(N=>C.has(N.providerId)),C.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Jp.apply(this,arguments)}function em(m,u){return co.apply(this,arguments)}function co(){return(co=(0,E.A)(function*(m,u,h=!1){const g=yield Bn(m,u._linkToIdToken(m.auth,yield m.getIdToken()),h);return Qe._forOperation(m,"link",g)})).apply(this,arguments)}function Jd(m,u,h){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,E.A)(function*(m,u,h){yield kr(u);const C=!1===m?"provider-already-linked":"no-such-provider";ce(kv(u.providerData).has(h)===m,u.auth,C)})).apply(this,arguments)}function Ov(m,u){return ha.apply(this,arguments)}function ha(){return(ha=(0,E.A)(function*(m,u,h=!1){const{auth:g}=m;if((0,De._isFirebaseServerApp)(g.app))return Promise.reject(Fe(g));const C="reauthenticate";try{const N=yield Bn(m,bc(g,C,u,m),h);ce(N.idToken,g,"internal-error");const ee=Mi(N.idToken);ce(ee,g,"internal-error");const{sub:_e}=ee;return ce(m.uid===_e,g,"user-mismatch"),Qe._forOperation(m,C,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&ct(g,"user-mismatch"),N}})).apply(this,arguments)}function Fv(m,u){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,E.A)(function*(m,u,h=!1){if((0,De._isFirebaseServerApp)(m.app))return Promise.reject(Fe(m));const g="signIn",C=yield bc(m,g,u),N=yield Qe._fromIdTokenResponse(m,g,C);return h||(yield m._updateCurrentUser(N.user)),N})).apply(this,arguments)}function fa(m,u){return eh.apply(this,arguments)}function eh(){return(eh=(0,E.A)(function*(m,u){return Fv(Yn(m),u)})).apply(this,arguments)}function Mu(m,u){return wc.apply(this,arguments)}function wc(){return(wc=(0,E.A)(function*(m,u){const h=(0,L.Ku)(m);return yield Jd(!1,h,u.providerId),em(h,u)})).apply(this,arguments)}function th(m,u){return Lv.apply(this,arguments)}function Lv(){return(Lv=(0,E.A)(function*(m,u){return Ov((0,L.Ku)(m),u)})).apply(this,arguments)}function $v(){return($v=(0,E.A)(function*(m,u){return At(m,"POST","/v1/accounts:signInWithCustomToken",ae(m,u))})).apply(this,arguments)}function Go(m,u){return xu.apply(this,arguments)}function xu(){return xu=(0,E.A)(function*(m,u){if((0,De._isFirebaseServerApp)(m.app))return Promise.reject(Fe(m));const h=Yn(m),g=yield function Vv(m,u){return $v.apply(this,arguments)}(h,{token:u,returnSecureToken:!0}),C=yield Qe._fromIdTokenResponse(h,"signIn",g);return yield h._updateCurrentUser(C.user),C}),xu.apply(this,arguments)}class Gs{constructor(u,h){this.factorId=u,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(u,h){return"phoneInfo"in h?Bv._fromServerResponse(u,h):"totpInfo"in h?nh._fromServerResponse(u,h):ct(u,"internal-error")}}class Bv extends Gs{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,h){return new Bv(h)}}class nh extends Gs{constructor(u){super("totp",u)}static _fromServerResponse(u,h){return new nh(h)}}function qo(m,u,h){var g;ce((null===(g=h.url)||void 0===g?void 0:g.length)>0,m,"invalid-continue-uri"),ce(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),u.continueUrl=h.url,u.dynamicLinkDomain=h.dynamicLinkDomain,u.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ce(h.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),u.iOSBundleId=h.iOS.bundleId),h.android&&(ce(h.android.packageName.length>0,m,"missing-android-pkg-name"),u.androidInstallApp=h.android.installApp,u.androidMinimumVersionCode=h.android.minimumVersion,u.androidPackageName=h.android.packageName)}function or(m){return pa.apply(this,arguments)}function pa(){return(pa=(0,E.A)(function*(m){const u=Yn(m);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Uv(m,u,h){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,E.A)(function*(m,u,h){const g=Yn(m),C={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};h&&qo(g,C,h),yield ka(g,C,"getOobCode",Su)})).apply(this,arguments)}function rh(m,u,h){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,E.A)(function*(m,u,h){yield Rt((0,L.Ku)(m),{oobCode:u,newPassword:h}).catch(function(){var g=(0,E.A)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&or(m),C});return function(C){return g.apply(this,arguments)}}())}),Tc.apply(this,arguments)}function Es(m,u){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,E.A)(function*(m,u){yield function Kp(m,u){return Hs.apply(this,arguments)}((0,L.Ku)(m),{oobCode:u})}),Tr.apply(this,arguments)}function jv(m,u){return ku.apply(this,arguments)}function ku(){return(ku=(0,E.A)(function*(m,u){const h=(0,L.Ku)(m),g=yield Rt(h,{oobCode:u}),C=g.requestType;switch(ce(C,h,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(g.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(g.mfaInfo,h,"internal-error");default:ce(g.email,h,"internal-error")}let N=null;return g.mfaInfo&&(N=Gs._fromServerResponse(Yn(h),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:N},operation:C}})).apply(this,arguments)}function zv(m,u){return ih.apply(this,arguments)}function ih(){return(ih=(0,E.A)(function*(m,u){const{data:h}=yield jv((0,L.Ku)(m),u);return h.email})).apply(this,arguments)}function Ou(m,u,h){return oh.apply(this,arguments)}function oh(){return(oh=(0,E.A)(function*(m,u,h){if((0,De._isFirebaseServerApp)(m.app))return Promise.reject(Fe(m));const g=Yn(m),ee=yield ka(g,{returnSecureToken:!0,email:u,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",da).catch(rt=>{throw"auth/password-does-not-meet-requirements"===rt.code&&or(m),rt}),_e=yield Qe._fromIdTokenResponse(g,"signIn",ee);return yield g._updateCurrentUser(_e.user),_e})).apply(this,arguments)}function Hv(m,u,h){return(0,De._isFirebaseServerApp)(m.app)?Promise.reject(Fe(m)):fa((0,L.Ku)(m),Xd.credential(u,h)).catch(function(){var g=(0,E.A)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&or(m),C});return function(C){return g.apply(this,arguments)}}())}function Vb(m,u,h){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,E.A)(function*(m,u,h){const g=Yn(m),C={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function N(ee,_e){ce(_e.handleCodeInApp,g,"argument-error"),_e&&qo(g,ee,_e)})(C,h),yield ka(g,C,"getOobCode",b)})).apply(this,arguments)}function $b(m,u){const h=vc.parseLink(u);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}function Bb(m,u,h){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,E.A)(function*(m,u,h){if((0,De._isFirebaseServerApp)(m.app))return Promise.reject(Fe(m));const g=(0,L.Ku)(m),C=Xd.credentialWithLink(u,h||qt());return ce(C._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),fa(g,C)})).apply(this,arguments)}function sh(){return(sh=(0,E.A)(function*(m,u){return se(m,"POST","/v1/accounts:createAuthUri",ae(m,u))})).apply(this,arguments)}function jb(m,u){return tm.apply(this,arguments)}function tm(){return tm=(0,E.A)(function*(m,u){const g={identifier:u,continueUri:en()?qt():"http://localhost"},{signinMethods:C}=yield function Ub(m,u){return sh.apply(this,arguments)}((0,L.Ku)(m),g);return C||[]}),tm.apply(this,arguments)}function zb(m,u){return nm.apply(this,arguments)}function nm(){return nm=(0,E.A)(function*(m,u){const h=(0,L.Ku)(m),C={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};u&&qo(h.auth,C,u);const{email:N}=yield function Et(m,u){return la.apply(this,arguments)}(h.auth,C);N!==m.email&&(yield m.reload())}),nm.apply(this,arguments)}function Gv(m,u,h){return rm.apply(this,arguments)}function rm(){return rm=(0,E.A)(function*(m,u,h){const g=(0,L.Ku)(m),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:u};h&&qo(g.auth,N,h);const{email:ee}=yield function U(m,u){return W.apply(this,arguments)}(g.auth,N);ee!==m.email&&(yield m.reload())}),rm.apply(this,arguments)}function im(){return(im=(0,E.A)(function*(m,u){return se(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ft(m,u){return om.apply(this,arguments)}function om(){return om=(0,E.A)(function*(m,{displayName:u,photoURL:h}){if(void 0===u&&void 0===h)return;const g=(0,L.Ku)(m),N={idToken:yield g.getIdToken(),displayName:u,photoUrl:h,returnSecureToken:!0},ee=yield Bn(g,function Hb(m,u){return im.apply(this,arguments)}(g.auth,N));g.displayName=ee.displayName||null,g.photoURL=ee.photoUrl||null;const _e=g.providerData.find(({providerId:rt})=>"password"===rt);_e&&(_e.displayName=g.displayName,_e.photoURL=g.photoURL),yield g._updateTokensIfNecessary(ee)}),om.apply(this,arguments)}function Gb(m,u){const h=(0,L.Ku)(m);return(0,De._isFirebaseServerApp)(h.auth.app)?Promise.reject(Fe(h.auth)):sm(h,u,null)}function uo(m,u){return sm((0,L.Ku)(m),null,u)}function sm(m,u,h){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,E.A)(function*(m,u,h){const{auth:g}=m,N={idToken:yield m.getIdToken(),returnSecureToken:!0};u&&(N.email=u),h&&(N.password=h);const ee=yield Bn(m,function ki(m,u){return aa.apply(this,arguments)}(g,N));yield m._updateTokensIfNecessary(ee,!0)}),Zt.apply(this,arguments)}class xn{constructor(u,h,g={}){this.isNewUser=u,this.providerId=h,this.profile=g}}class pi extends xn{constructor(u,h,g,C){super(u,h,g),this.username=C}}class ji extends xn{constructor(u,h){super(u,"facebook.com",h)}}class Ba extends pi{constructor(u,h){super(u,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class Xi extends xn{constructor(u,h){super(u,"google.com",h)}}class qv extends pi{constructor(u,h,g){super(u,"twitter.com",h,g)}}function Wv(m){const{user:u,_tokenResponse:h}=m;return u.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function bo(m){var u,h;if(!m)return null;const{providerId:g}=m,C=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},N=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!g&&null!=m&&m.idToken){const ee=null===(h=null===(u=Mi(m.idToken))||void 0===u?void 0:u.firebase)||void 0===h?void 0:h.sign_in_provider;if(ee)return new xn(N,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!g)return null;switch(g){case"facebook.com":return new ji(N,C);case"github.com":return new Ba(N,C);case"google.com":return new Xi(N,C);case"twitter.com":return new qv(N,C,m.screenName||null);case"custom":case"anonymous":return new xn(N,null);default:return new xn(N,g,C)}}(h)}class Ua{constructor(u,h,g){this.type=u,this.credential=h,this.user=g}static _fromIdtoken(u,h){return new Ua("enroll",u,h)}static _fromMfaPendingCredential(u){return new Ua("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var h,g;if(null!=u&&u.multiFactorSession){if(null!==(h=u.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Ua._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return Ua._fromIdtoken(u.multiFactorSession.idToken)}return null}}class ga{constructor(u,h,g){this.session=u,this.hints=h,this.signInResolver=g}static _fromError(u,h){const g=Yn(u),C=h.customData._serverResponse,N=(C.mfaInfo||[]).map(_e=>Gs._fromServerResponse(g,_e));ce(C.mfaPendingCredential,g,"internal-error");const ee=Ua._fromMfaPendingCredential(C.mfaPendingCredential);return new ga(ee,N,function(){var _e=(0,E.A)(function*(rt){const bt=yield rt._process(g,ee);delete C.mfaInfo,delete C.mfaPendingCredential;const pn=Object.assign(Object.assign({},C),{idToken:bt.idToken,refreshToken:bt.refreshToken});switch(h.operationType){case"signIn":const Jn=yield Qe._fromIdTokenResponse(g,h.operationType,pn);return yield g._updateCurrentUser(Jn.user),Jn;case"reauthenticate":return ce(h.user,g,"internal-error"),Qe._forOperation(h.user,h.operationType,pn);default:ct(g,"internal-error")}});return function(rt){return _e.apply(this,arguments)}}())}resolveSignIn(u){var h=this;return(0,E.A)(function*(){return h.signInResolver(u)})()}}function Kb(m,u){var h;const g=(0,L.Ku)(m),C=u;return ce(u.customData.operationType,g,"argument-error"),ce(null===(h=C.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,g,"argument-error"),ga._fromError(g,C)}class ui{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(g=>Gs._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new ui(u)}getSession(){var u=this;return(0,E.A)(function*(){return Ua._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,h){var g=this;return(0,E.A)(function*(){const C=u,N=yield g.getSession(),ee=yield Bn(g.user,C._process(g.user.auth,N,h));return yield g.user._updateTokensIfNecessary(ee),g.user.reload()})()}unenroll(u){var h=this;return(0,E.A)(function*(){const g="string"==typeof u?u:u.uid,C=yield h.user.getIdToken();try{const N=yield Bn(h.user,function ch(m,u){return se(m,"POST","/v2/accounts/mfaEnrollment:withdraw",ae(m,u))}(h.user.auth,{idToken:C,mfaEnrollmentId:g}));h.enrolledFactors=h.enrolledFactors.filter(({uid:ee})=>ee!==g),yield h.user._updateTokensIfNecessary(N),yield h.user.reload()}catch(N){throw N}})()}}const ja=new WeakMap;function hm(m){const u=(0,L.Ku)(m);return ja.has(u)||ja.set(u,ui._fromUser(u)),ja.get(u)}const uh="__sak";class Yv{constructor(u,h){this.storageRetriever=u,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,h){return this.storage.setItem(u,JSON.stringify(h)),Promise.resolve()}_get(u){const h=this.storage.getItem(u);return Promise.resolve(h?JSON.parse(h):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zv=(()=>{class m extends Yv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,g)=>this.onStorageEvent(h,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xv(){const m=(0,L.ZQ)();return $r(m)||Ui(m)}()&&function Ft(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=je(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const g of Object.keys(this.listeners)){const C=this.storage.getItem(g),N=this.localCache[g];C!==N&&h(g,N,C)}}onStorageEvent(h,g=!1){if(!h.key)return void this.forAllChangedKeys((_e,rt,bt)=>{this.notifyListeners(_e,bt)});const C=h.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(C);if(h.newValue!==_e)null!==h.newValue?this.storage.setItem(C,h.newValue):this.storage.removeItem(C);else if(this.localCache[C]===h.newValue&&!g)return}const N=()=>{const _e=this.storage.getItem(C);!g&&this.localCache[C]===_e||this.notifyListeners(C,_e)},ee=this.storage.getItem(C);!function de(){return(0,L.lT)()&&10===document.documentMode}()||ee===h.newValue||h.newValue===h.oldValue?N():setTimeout(N,10)}notifyListeners(h,g){this.localCache[h]=g;const C=this.listeners[h];if(C)for(const N of Array.from(C))N(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,g,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:g,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,g){var C=()=>super._set,N=this;return(0,E.A)(function*(){yield C().call(N,h,g),N.localCache[h]=JSON.stringify(g)})()}_get(h){var g=()=>super._get,C=this;return(0,E.A)(function*(){const N=yield g().call(C,h);return C.localCache[h]=JSON.stringify(N),N})()}_remove(h){var g=()=>super._remove,C=this;return(0,E.A)(function*(){yield g().call(C,h),delete C.localCache[h]})()}}return m.type="LOCAL",m})(),bs=(()=>{class m extends Yv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,g){}_removeListener(h,g){}}return m.type="SESSION",m})();let dh=(()=>{class m{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const g=this.receivers.find(N=>N.isListeningto(h));if(g)return g;const C=new m(h);return this.receivers.push(C),C}isListeningto(h){return this.eventTarget===h}handleEvent(h){var g=this;return(0,E.A)(function*(){const C=h,{eventId:N,eventType:ee,data:_e}=C.data,rt=g.handlersMap[ee];if(null==rt||!rt.size)return;C.ports[0].postMessage({status:"ack",eventId:N,eventType:ee});const bt=Array.from(rt).map(function(){var Jn=(0,E.A)(function*(Do){return Do(C.origin,_e)});return function(Do){return Jn.apply(this,arguments)}}()),pn=yield function ey(m){return Promise.all(m.map(function(){var u=(0,E.A)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(g){return{fulfilled:!1,reason:g}}});return function(h){return u.apply(this,arguments)}}()))}(bt);C.ports[0].postMessage({status:"done",eventId:N,eventType:ee,response:pn})})()}_subscribe(h,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(g)}_unsubscribe(h,g){this.handlersMap[h]&&g&&this.handlersMap[h].delete(g),(!g||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function qs(m="",u=10){let h="";for(let g=0;g<u;g++)h+=Math.floor(10*Math.random());return m+h}class Yb{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,h,g=50){var C=this;return(0,E.A)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let ee,_e;return new Promise((rt,bt)=>{const pn=qs("",20);N.port1.start();const Jn=setTimeout(()=>{bt(new Error("unsupported_event"))},g);_e={messageChannel:N,onMessage(Do){const Wa=Do;if(Wa.data.eventId===pn)switch(Wa.data.status){case"ack":clearTimeout(Jn),ee=setTimeout(()=>{bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),rt(Wa.data.response);break;default:clearTimeout(Jn),clearTimeout(ee),bt(new Error("invalid_response"))}}},C.handlers.add(_e),N.port1.addEventListener("message",_e.onMessage),C.target.postMessage({eventType:u,eventId:pn,data:h},[N.port2])}).finally(()=>{_e&&C.removeMessageHandler(_e)})})()}}function mi(){return window}function hh(){return typeof mi().WorkerGlobalScope<"u"&&"function"==typeof mi().importScripts}function Cl(){return(Cl=(0,E.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ty="firebaseLocalStorageDb",fh="firebaseLocalStorage",ny="fbase_key";class wl{constructor(u){this.request=u}toPromise(){return new Promise((u,h)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Tl(m,u){return m.transaction([fh],u?"readwrite":"readonly").objectStore(fh)}function wt(){const m=indexedDB.open(ty,1);return new Promise((u,h)=>{m.addEventListener("error",()=>{h(m.error)}),m.addEventListener("upgradeneeded",()=>{const g=m.result;try{g.createObjectStore(fh,{keyPath:ny})}catch(C){h(C)}}),m.addEventListener("success",(0,E.A)(function*(){const g=m.result;g.objectStoreNames.contains(fh)?u(g):(g.close(),yield function Br(){const m=indexedDB.deleteDatabase(ty);return new wl(m).toPromise()}(),u(yield wt()))}))})}function fn(m,u,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,E.A)(function*(m,u,h){const g=Tl(m,!0).put({[ny]:u,value:h});return new wl(g).toPromise()})).apply(this,arguments)}function Oi(){return(Oi=(0,E.A)(function*(m,u){const h=Tl(m,!1).get(u),g=yield new wl(h).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function Co(m,u){const h=Tl(m,!0).delete(u);return new wl(h).toPromise()}const ls=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,E.A)(function*(){return h.db||(h.db=yield wt()),h.db})()}_withRetries(h){var g=this;return(0,E.A)(function*(){let C=0;for(;;)try{const N=yield g._openDb();return yield h(N)}catch(N){if(C++>3)throw N;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,E.A)(function*(){return hh()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,E.A)(function*(){h.receiver=dh._getInstance(function Jb(){return hh()?self:null}()),h.receiver._subscribe("keyChanged",function(){var g=(0,E.A)(function*(C,N){return{keyProcessed:(yield h._poll()).includes(N.key)}});return function(C,N){return g.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var g=(0,E.A)(function*(C,N){return["keyChanged"]});return function(C,N){return g.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,E.A)(function*(){var g,C;if(h.activeServiceWorker=yield function Xb(){return Cl.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Yb(h.activeServiceWorker);const N=yield h.sender._send("ping",{},800);N&&null!==(g=N[0])&&void 0!==g&&g.fulfilled&&null!==(C=N[0])&&void 0!==C&&C.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var g=this;return(0,E.A)(function*(){if(g.sender&&g.activeServiceWorker&&function Zb(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:h},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.A)(function*(){try{if(!indexedDB)return!1;const h=yield wt();return yield fn(h,uh,"1"),yield Co(h,uh),!0}catch{}return!1})()}_withPendingWrite(h){var g=this;return(0,E.A)(function*(){g.pendingWrites++;try{yield h()}finally{g.pendingWrites--}})()}_set(h,g){var C=this;return(0,E.A)(function*(){return C._withPendingWrite((0,E.A)(function*(){return yield C._withRetries(N=>fn(N,h,g)),C.localCache[h]=g,C.notifyServiceWorker(h)}))})()}_get(h){var g=this;return(0,E.A)(function*(){const C=yield g._withRetries(N=>function Cs(m,u){return Oi.apply(this,arguments)}(N,h));return g.localCache[h]=C,C})()}_remove(h){var g=this;return(0,E.A)(function*(){return g._withPendingWrite((0,E.A)(function*(){return yield g._withRetries(C=>Co(C,h)),delete g.localCache[h],g.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,E.A)(function*(){const g=yield h._withRetries(ee=>{const _e=Tl(ee,!1).getAll();return new wl(_e).toPromise()});if(!g)return[];if(0!==h.pendingWrites)return[];const C=[],N=new Set;if(0!==g.length)for(const{fbase_key:ee,value:_e}of g)N.add(ee),JSON.stringify(h.localCache[ee])!==JSON.stringify(_e)&&(h.notifyListeners(ee,_e),C.push(ee));for(const ee of Object.keys(h.localCache))h.localCache[ee]&&!N.has(ee)&&(h.notifyListeners(ee,null),C.push(ee));return C})()}notifyListeners(h,g){this.localCache[h]=g;const C=this.listeners[h];if(C)for(const N of Array.from(C))N(g)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,E.A)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),za=1e12;class Rc{constructor(u){this.auth=u,this.counter=za,this._widgets=new Map}render(u,h){const g=this.counter;return this._widgets.set(g,new Ws(u,this.auth.name,h||{})),this.counter++,g}reset(u){var h;const g=u||za;null===(h=this._widgets.get(g))||void 0===h||h.delete(),this._widgets.delete(g)}getResponse(u){var h;return(null===(h=this._widgets.get(u||za))||void 0===h?void 0:h.getResponse())||""}execute(u){var h=this;return(0,E.A)(function*(){var g;return null===(g=h._widgets.get(u||za))||void 0===g||g.execute(),""})()}}class Ws{constructor(u,h,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof u?document.getElementById(u):u;ce(C,"argument-error",{appName:h}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vu(m){const u=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<m;g++)u.push(h.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":h}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ph=Qd("rcb"),Ha=new G(3e4,6e4);class $u{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=mi().grecaptcha)||void 0===u||!u.render)}load(u,h=""){return ce(function Al(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(h),u,"argument-error"),this.shouldResolveImmediately(h)&&On(mi().grecaptcha)?Promise.resolve(mi().grecaptcha):new Promise((g,C)=>{const N=mi().setTimeout(()=>{C(ue(u,"network-request-failed"))},Ha.get());mi()[ph]=()=>{mi().clearTimeout(N),delete mi()[ph];const _e=mi().grecaptcha;if(!_e||!On(_e))return void C(ue(u,"internal-error"));const rt=_e.render;_e.render=(bt,pn)=>{const Jn=rt(bt,pn);return this.counter++,Jn},this.hostLanguage=h,g(_e)},_n(`${function El(){return Il.recaptchaV2Script}()}?${(0,L.Am)({onload:ph,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(N),C(ue(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var h;return!(null===(h=mi().grecaptcha)||void 0===h||!h.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rn{load(u){return(0,E.A)(function*(){return new Rc(u)})()}clearedOneInstance(){}}const mh="recaptcha",Bu={theme:"light",type:"image"};class Ks{constructor(u,h,g=Object.assign({},Bu)){this.parameters=g,this.type=mh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(u),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof h?document.getElementById(h):h;ce(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rn:new $u,this.validateStartingState()}verify(){var u=this;return(0,E.A)(function*(){u.assertNotDestroyed();const h=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(h)||new Promise(N=>{const ee=_e=>{_e&&(u.tokenChangeListeners.delete(ee),N(_e))};u.tokenChangeListeners.add(ee),u.isInvisible&&g.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return h=>{if(this.tokenChangeListeners.forEach(g=>g(h)),"function"==typeof u)u(h);else if("string"==typeof u){const g=mi()[u];"function"==typeof g&&g(h)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,E.A)(function*(){if(yield u.init(),!u.widgetId){let h=u.container;if(!u.isInvisible){const g=document.createElement("div");h.appendChild(g),h=g}u.widgetId=u.getAssertedRecaptcha().render(h,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,E.A)(function*(){ce(en()&&!hh(),u.auth,"internal-error"),yield function gh(){let m=null;return new Promise(u=>{"complete"!==document.readyState?(m=()=>u(),window.addEventListener("load",m)):u()}).catch(u=>{throw m&&window.removeEventListener("load",m),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const h=yield function it(m){return ke.apply(this,arguments)}(u.auth);ce(h,u.auth,"internal-error"),u.parameters.sitekey=h})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ga{constructor(u,h){this.verificationId=u,this.onConfirmation=h}confirm(u){const h=Eo._fromVerification(this.verificationId,u);return this.onConfirmation(h)}}function di(m,u,h){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,E.A)(function*(m,u,h){if((0,De._isFirebaseServerApp)(m.app))return Promise.reject(Fe(m));const g=Yn(m),C=yield Dl(g,u,(0,L.Ku)(h));return new Ga(C,N=>fa(g,N))})).apply(this,arguments)}function Zi(m,u,h){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,E.A)(function*(m,u,h){const g=(0,L.Ku)(m);yield Jd(!1,g,"phone");const C=yield Dl(g.auth,u,(0,L.Ku)(h));return new Ga(C,N=>Mu(g,N))})).apply(this,arguments)}function fm(m,u,h){return _a.apply(this,arguments)}function _a(){return(_a=(0,E.A)(function*(m,u,h){const g=(0,L.Ku)(m);if((0,De._isFirebaseServerApp)(g.auth.app))return Promise.reject(Fe(g.auth));const C=yield Dl(g.auth,u,(0,L.Ku)(h));return new Ga(C,N=>th(g,N))})).apply(this,arguments)}function Dl(m,u,h){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,E.A)(function*(m,u,h){var g;const C=yield h.verify();try{let N;if(ce("string"==typeof C,m,"argument-error"),ce(h.type===mh,m,"argument-error"),N="string"==typeof u?{phoneNumber:u}:u,"session"in N){const ee=N.session;if("phoneNumber"in N)return ce("enroll"===ee.type,m,"internal-error"),(yield function um(m,u){return se(m,"POST","/v2/accounts/mfaEnrollment:start",ae(m,u))}(m,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{ce("signin"===ee.type,m,"internal-error");const _e=(null===(g=N.multiFactorHint)||void 0===g?void 0:g.uid)||N.multiFactorUid;return ce(_e,m,"missing-multi-factor-info"),(yield function Cn(m,u){return se(m,"POST","/v2/accounts/mfaSignIn:start",ae(m,u))}(m,{mfaPendingCredential:ee.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield function sn(m,u){return lr.apply(this,arguments)}(m,{phoneNumber:N.phoneNumber,recaptchaToken:C});return ee}}finally{h._reset()}}),Ko.apply(this,arguments)}function pm(m,u){return mm.apply(this,arguments)}function mm(){return(mm=(0,E.A)(function*(m,u){const h=(0,L.Ku)(m);if((0,De._isFirebaseServerApp)(h.auth.app))return Promise.reject(Fe(h.auth));yield em(h,u)})).apply(this,arguments)}let tC=(()=>{class m{constructor(h){this.providerId=m.PROVIDER_ID,this.auth=Yn(h)}verifyPhoneNumber(h,g){return Dl(this.auth,h,(0,L.Ku)(g))}static credential(h,g){return Eo._fromVerification(h,g)}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:g,temporaryProof:C}=h;return g&&C?Eo._fromTokenResponse(g,C):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function va(m,u){return u?gt(u):(ce(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class _h extends Or{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return et(u,this._buildIdpRequest())}_linkToIdToken(u,h){return et(u,this._buildIdpRequest(h))}_getReauthenticationResolver(u){return et(u,this._buildIdpRequest())}_buildIdpRequest(u){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(h.idToken=u),h}}function nC(m){return Fv(m.auth,new _h(m),m.bypassAuthState)}function gm(m){const{auth:u,user:h}=m;return ce(h,u,"internal-error"),Ov(h,new _h(m),m.bypassAuthState)}function EM(m){return iy.apply(this,arguments)}function iy(){return(iy=(0,E.A)(function*(m){const{auth:u,user:h}=m;return ce(h,u,"internal-error"),em(h,new _h(m),m.bypassAuthState)})).apply(this,arguments)}class rC{constructor(u,h,g,C,N=!1){this.auth=u,this.resolver=g,this.user=C,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var u=this;return new Promise(function(){var h=(0,E.A)(function*(g,C){u.pendingPromise={resolve:g,reject:C};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(N){u.reject(N)}});return function(g,C){return h.apply(this,arguments)}}())}onAuthEvent(u){var h=this;return(0,E.A)(function*(){const{urlResponse:g,sessionId:C,postBody:N,tenantId:ee,error:_e,type:rt}=u;if(_e)return void h.reject(_e);const bt={auth:h.auth,requestUri:g,sessionId:C,tenantId:ee||void 0,postBody:N||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(rt)(bt))}catch(pn){h.reject(pn)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return nC;case"linkViaPopup":case"linkViaRedirect":return EM;case"reauthViaPopup":case"reauthViaRedirect":return gm;default:ct(this.auth,"internal-error")}}resolve(u){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bM=new G(2e3,1e4);function CM(m,u,h){return oy.apply(this,arguments)}function oy(){return(oy=(0,E.A)(function*(m,u,h){if((0,De._isFirebaseServerApp)(m.app))return Promise.reject(ue(m,"operation-not-supported-in-this-environment"));const g=Yn(m);Ze(m,u,$a);const C=va(g,h);return new ly(g,"signInViaPopup",u,C).executeNotNull()})).apply(this,arguments)}function wM(m,u,h){return sy.apply(this,arguments)}function sy(){return(sy=(0,E.A)(function*(m,u,h){const g=(0,L.Ku)(m);if((0,De._isFirebaseServerApp)(g.auth.app))return Promise.reject(ue(g.auth,"operation-not-supported-in-this-environment"));Ze(g.auth,u,$a);const C=va(g.auth,h);return new ly(g.auth,"reauthViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}function TM(m,u,h){return ay.apply(this,arguments)}function ay(){return(ay=(0,E.A)(function*(m,u,h){const g=(0,L.Ku)(m);Ze(g.auth,u,$a);const C=va(g.auth,h);return new ly(g.auth,"linkViaPopup",u,C,g).executeNotNull()})).apply(this,arguments)}let ly=(()=>{class m extends rC{constructor(h,g,C,N,ee){super(h,g,N,ee),this.provider=C,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var h=this;return(0,E.A)(function*(){const g=yield h.execute();return ce(g,h.auth,"internal-error"),g})()}onExecution(){var h=this;return(0,E.A)(function*(){It(1===h.filter.length,"Popup operations only handle one event");const g=qs();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],g),h.authWindow.associatedEvent=g,h.resolver._originValidation(h.auth).catch(C=>{h.reject(C)}),h.resolver._isIframeWebStorageSupported(h.auth,C=>{C||h.reject(ue(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const h=()=>{var g,C;this.pollId=null!==(C=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ue(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,bM.get())};h()}}return m.currentPopupAction=null,m})();const AM="pendingRedirect",Pc=new Map;class cy extends rC{constructor(u,h,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,h=this;return(0,E.A)(function*(){let g=Pc.get(h.auth._key());if(!g){try{const N=(yield function DM(m,u){return uy.apply(this,arguments)}(h.resolver,h.auth))?yield u().call(h):null;g=()=>Promise.resolve(N)}catch(C){g=()=>Promise.reject(C)}Pc.set(h.auth._key(),g)}return h.bypassAuthState||Pc.set(h.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var h=()=>super.onAuthEvent,g=this;return(0,E.A)(function*(){if("signInViaRedirect"===u.type)return h().call(g,u);if("unknown"!==u.type){if(u.eventId){const C=yield g.auth._redirectUserForId(u.eventId);if(C)return g.user=C,h().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,E.A)(function*(){})()}cleanUp(){}}function uy(){return(uy=(0,E.A)(function*(m,u){const h=vm(u),g=ho(m);if(!(yield g._isAvailable()))return!1;const C="true"===(yield g._get(h));return yield g._remove(h),C})).apply(this,arguments)}function dy(m,u){return hy.apply(this,arguments)}function hy(){return(hy=(0,E.A)(function*(m,u){return ho(m)._set(vm(u),"true")})).apply(this,arguments)}function iC(){Pc.clear()}function _m(m,u){Pc.set(m._key(),u)}function ho(m){return gt(m._redirectPersistence)}function vm(m){return Hn(AM,m.config.apiKey,m.name)}function oC(m,u,h){return function sC(m,u,h){return vh.apply(this,arguments)}(m,u,h)}function vh(){return(vh=(0,E.A)(function*(m,u,h){if((0,De._isFirebaseServerApp)(m.app))return Promise.reject(Fe(m));const g=Yn(m);Ze(m,u,$a),yield g._initializationPromise;const C=va(g,h);return yield dy(C,g),C._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function fy(m,u,h){return function aC(m,u,h){return ju.apply(this,arguments)}(m,u,h)}function ju(){return(ju=(0,E.A)(function*(m,u,h){const g=(0,L.Ku)(m);if(Ze(g.auth,u,$a),(0,De._isFirebaseServerApp)(g.auth.app))return Promise.reject(Fe(g.auth));yield g.auth._initializationPromise;const C=va(g.auth,h);yield dy(C,g.auth);const N=yield yr(g);return C._openRedirect(g.auth,u,"reauthViaRedirect",N)})).apply(this,arguments)}function lC(m,u,h){return function Qs(m,u,h){return yh.apply(this,arguments)}(m,u,h)}function yh(){return(yh=(0,E.A)(function*(m,u,h){const g=(0,L.Ku)(m);Ze(g.auth,u,$a),yield g.auth._initializationPromise;const C=va(g.auth,h);yield Jd(!1,g,u.providerId),yield dy(C,g.auth);const N=yield yr(g);return C._openRedirect(g.auth,u,"linkViaRedirect",N)})).apply(this,arguments)}function py(m,u){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,E.A)(function*(m,u){return yield Yn(m)._initializationPromise,ym(m,u,!1)})).apply(this,arguments)}function ym(m,u){return my.apply(this,arguments)}function my(){return(my=(0,E.A)(function*(m,u,h=!1){if((0,De._isFirebaseServerApp)(m.app))return Promise.reject(Fe(m));const g=Yn(m),C=va(g,u),ee=yield new cy(g,C,h).execute();return ee&&!h&&(delete ee.user._redirectEventId,yield g._persistUserIfCurrent(ee.user),yield g._setRedirectUser(null,u)),ee})).apply(this,arguments)}function yr(m){return zu.apply(this,arguments)}function zu(){return(zu=(0,E.A)(function*(m){const u=qs(`${m.uid}:::`);return m._redirectEventId=u,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),u})).apply(this,arguments)}class Ji{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let h=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(h=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function xc(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mc(m);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=u,h=!0)),h}sendToConsumer(u,h){var g;if(u.error&&!Mc(u)){const C=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";h.onError(ue(this.auth,C))}else h.onAuthEvent(u)}isEventForConsumer(u,h){const g=null===h.eventId||!!u.eventId&&u.eventId===h.eventId;return h.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gy(u))}saveEventToCache(u){this.cachedEventUids.add(gy(u)),this.lastProcessedEventTime=Date.now()}}function gy(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(u=>u).join("-")}function Mc({type:m,error:u}){return"unknown"===m&&"auth/no-auth-event"===(null==u?void 0:u.code)}function wo(m){return Im.apply(this,arguments)}function Im(){return(Im=(0,E.A)(function*(m,u={}){return se(m,"GET","/v1/projects",u)})).apply(this,arguments)}const Em=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;function Eh(){return(Eh=(0,E.A)(function*(m){if(m.config.emulator)return;const{authorizedDomains:u}=yield wo(m);for(const h of u)try{if(uC(h))return}catch{}ct(m,"unauthorized-domain")})).apply(this,arguments)}function uC(m){const u=qt(),{protocol:h,hostname:g}=new URL(u);if(m.startsWith("chrome-extension://")){const ee=new URL(m);return""===ee.hostname&&""===g?"chrome-extension:"===h&&m.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===h&&ee.hostname===g}if(!cC.test(h))return!1;if(Em.test(m))return g===m;const C=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(g)}const _y=new G(3e4,6e4);function bh(){const m=mi().___jsl;if(null!=m&&m.H)for(const u of Object.keys(m.H))if(m.H[u].r=m.H[u].r||[],m.H[u].L=m.H[u].L||[],m.H[u].r=[...m.H[u].L],m.CP)for(let h=0;h<m.CP.length;h++)m.CP[h]=null}let qa=null;const Cm=new G(5e3,15e3),Sl="__/auth/iframe",wn="emulator/auth/iframe",vy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dC(m){const u=m.config;ce(u.authDomain,m,"auth-domain-config-required");const h=u.emulator?S(u,wn):`https://${m.config.authDomain}/${Sl}`,g={apiKey:u.apiKey,appName:m.name,v:De.SDK_VERSION},C=SM.get(m.config.apiHost);C&&(g.eid=C);const N=m._getFrameworks();return N.length&&(g.fw=N.join(",")),`${h}?${(0,L.Am)(g).slice(1)}`}function wm(){return wm=(0,E.A)(function*(m){const u=yield function Ch(m){return qa=qa||function bm(m){return new Promise((u,h)=>{var g,C,N;function ee(){bh(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{bh(),h(ue(m,"network-request-failed"))},timeout:_y.get()})}if(null!==(C=null===(g=mi().gapi)||void 0===g?void 0:g.iframes)&&void 0!==C&&C.Iframe)u(gapi.iframes.getContext());else{if(null===(N=mi().gapi)||void 0===N||!N.load){const _e=Qd("iframefcb");return mi()[_e]=()=>{gapi.load?ee():h(ue(m,"network-request-failed"))},_n(`${function Kd(){return Il.gapiScript}()}?onload=${_e}`).catch(rt=>h(rt))}ee()}}).catch(u=>{throw qa=null,u})}(m),qa}(m),h=mi().gapi;return ce(h,m,"internal-error"),u.open({where:document.body,url:dC(m),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vy,dontclear:!0},g=>new Promise(function(){var C=(0,E.A)(function*(N,ee){yield g.restyle({setHideOnLeave:!1});const _e=ue(m,"network-request-failed"),rt=mi().setTimeout(()=>{ee(_e)},Cm.get());function bt(){mi().clearTimeout(rt),N(g)}g.ping(bt).then(bt,()=>{ee(_e)})});return function(N,ee){return C.apply(this,arguments)}}()))}),wm.apply(this,arguments)}const yy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Iy{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zn="__/auth/handler",Pt="emulator/auth/handler",Mt=encodeURIComponent("fac");function hr(m,u,h,g,C,N){return wh.apply(this,arguments)}function wh(){return(wh=(0,E.A)(function*(m,u,h,g,C,N){ce(m.config.authDomain,m,"auth-domain-config-required"),ce(m.config.apiKey,m,"invalid-api-key");const ee={apiKey:m.config.apiKey,appName:m.name,authType:h,redirectUrl:g,v:De.SDK_VERSION,eventId:C};if(u instanceof $a){u.setDefaultLanguage(m.languageCode),ee.providerId=u.providerId||"",(0,L.Im)(u.getCustomParameters())||(ee.customParameters=JSON.stringify(u.getCustomParameters()));for(const[pn,Jn]of Object.entries(N||{}))ee[pn]=Jn}if(u instanceof Pu){const pn=u.getScopes().filter(Jn=>""!==Jn);pn.length>0&&(ee.scopes=pn.join(","))}m.tenantId&&(ee.tid=m.tenantId);const _e=ee;for(const pn of Object.keys(_e))void 0===_e[pn]&&delete _e[pn];const rt=yield m._getAppCheckToken(),bt=rt?`#${Mt}=${encodeURIComponent(rt)}`:"";return`${function Gu({config:m}){return m.emulator?S(m,Pt):`https://${m.authDomain}/${Zn}`}(m)}?${(0,L.Am)(_e).slice(1)}${bt}`})).apply(this,arguments)}const cs="webStorageSupport",Th=class Tm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bs,this._completeRedirectFn=ym,this._overrideRedirectResult=_m}_openPopup(u,h,g,C){var N=this;return(0,E.A)(function*(){var ee;It(null===(ee=N.eventManagers[u._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const _e=yield hr(u,h,g,qt(),C);return function gC(m,u,h,g=500,C=600){const N=Math.max((window.screen.availHeight-C)/2,0).toString(),ee=Math.max((window.screen.availWidth-g)/2,0).toString();let _e="";const rt=Object.assign(Object.assign({},yy),{width:g.toString(),height:C.toString(),top:N,left:ee}),bt=(0,L.ZQ)().toLowerCase();h&&(_e=bi(bt)?"_blank":h),tn(bt)&&(u=u||"http://localhost",rt.scrollbars="yes");const pn=Object.entries(rt).reduce((Do,[Wa,qu])=>`${Do}${Wa}=${qu},`,"");if(function Ae(m=(0,L.ZQ)()){var u;return Ui(m)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(bt)&&"_self"!==_e)return function ze(m,u){const h=document.createElement("a");h.href=m,h.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(g)}(u||"",_e),new Iy(null);const Jn=window.open(u||"",_e,pn);ce(Jn,m,"popup-blocked");try{Jn.focus()}catch{}return new Iy(Jn)}(u,_e,qs())})()}_openRedirect(u,h,g,C){var N=this;return(0,E.A)(function*(){return yield N._originValidation(u),function Ci(m){mi().location.href=m}(yield hr(u,h,g,qt(),C)),new Promise(()=>{})})()}_initialize(u){const h=u._key();if(this.eventManagers[h]){const{manager:C,promise:N}=this.eventManagers[h];return C?Promise.resolve(C):(It(N,"If manager is not set, promise should be"),N)}const g=this.initAndGetManager(u);return this.eventManagers[h]={promise:g},g.catch(()=>{delete this.eventManagers[h]}),g}initAndGetManager(u){var h=this;return(0,E.A)(function*(){const g=yield function hC(m){return wm.apply(this,arguments)}(u),C=new Ji(u);return g.register("authEvent",N=>(ce(null==N?void 0:N.authEvent,u,"invalid-auth-event"),{status:C.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[u._key()]={manager:C},h.iframes[u._key()]=g,C})()}_isIframeWebStorageSupported(u,h){this.iframes[u._key()].send(cs,{type:cs},C=>{var N;const ee=null===(N=null==C?void 0:C[0])||void 0===N?void 0:N[cs];void 0!==ee&&h(!!ee),ct(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const h=u._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Ys(m){return Eh.apply(this,arguments)}(u)),this.originValidationPromises[h]}get _shouldInitProactively(){return je()||$r()||Ui()}};class Ey{constructor(u){this.factorId=u}_process(u,h,g){switch(h.type){case"enroll":return this._finalizeEnroll(u,h.credential,g);case"signin":return this._finalizeSignIn(u,h.credential);default:return qe("unexpected MultiFactorSessionType")}}}class by extends Ey{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new by(u)}_finalizeEnroll(u,h,g){return function lh(m,u){return se(m,"POST","/v2/accounts/mfaEnrollment:finalize",ae(m,u))}(u,{idToken:h,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,h){return function Lu(m,u){return se(m,"POST","/v2/accounts/mfaSignIn:finalize",ae(m,u))}(u,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Cy=(()=>{class m{constructor(){}static assertion(h){return by._fromCredential(h)}}return m.FACTOR_ID="phone",m})();var Xs="@firebase/auth";class Ty{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var h=this;return(0,E.A)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const h=this.auth.onIdTokenChanged(g=>{u((null==g?void 0:g.stsTokenManager.accessToken)||null)});this.internalListeners.set(u,h),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const h=this.internalListeners.get(u);h&&(this.internalListeners.delete(u),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.XA)("authIdTokenMaxAge"),function mr(m){Il=m}({loadJS:m=>new Promise((u,h)=>{const g=document.createElement("script");g.setAttribute("src",m),g.onload=u,g.onerror=C=>{const N=ue("internal-error");N.customData=C,h(N)},g.type="text/javascript",g.charset="UTF-8",function Ay(){var m,u;return null!==(u=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==u?u:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function vC(m){(0,De._registerComponent)(new xt.uA("auth",(u,{options:h})=>{const g=u.getProvider("app").getImmediate(),C=u.getProvider("heartbeat"),N=u.getProvider("app-check-internal"),{apiKey:ee,authDomain:_e}=g.options;ce(ee&&!ee.includes(":"),"invalid-api-key",{appName:g.name});const rt={apiKey:ee,authDomain:_e,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bn(m)},bt=new Qn(g,C,N,rt);return function li(m,u){const h=(null==u?void 0:u.persistence)||[],g=(Array.isArray(h)?h:[h]).map(gt);null!=u&&u.errorMap&&m._updateErrorMap(u.errorMap),m._initializeWithPersistence(g,null==u?void 0:u.popupRedirectResolver)}(bt,h),bt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,h,g)=>{u.getProvider("auth-internal").initialize()})),(0,De._registerComponent)(new xt.uA("auth-internal",u=>{const h=Yn(u.getProvider("auth").getImmediate());return new Ty(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)(Xs,"1.7.3",function _C(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(m)),(0,De.registerVersion)(Xs,"1.7.3","esm2017")}("Browser")},1076:(fr,rn,pe)=>{"use strict";pe.d(rn,{Am:()=>Pn,Bd:()=>qe,FA:()=>se,Fy:()=>Fe,I9:()=>rr,Im:()=>kn,Ku:()=>jo,Ll:()=>ce,T9:()=>ct,Uj:()=>vt,XA:()=>ue,ZQ:()=>Ze,bD:()=>ke,cY:()=>$e,eX:()=>D,g:()=>ae,gR:()=>On,hp:()=>jn,jZ:()=>St,lT:()=>mt,lV:()=>qt,nr:()=>G,sr:()=>It,tD:()=>An,u:()=>me,yU:()=>we,zW:()=>S,zw:()=>Ne});const at=function(Y){const j=[];let M=0;for(let F=0;F<Y.length;F++){let R=Y.charCodeAt(F);R<128?j[M++]=R:R<2048?(j[M++]=R>>6|192,j[M++]=63&R|128):55296==(64512&R)&&F+1<Y.length&&56320==(64512&Y.charCodeAt(F+1))?(R=65536+((1023&R)<<10)+(1023&Y.charCodeAt(++F)),j[M++]=R>>18|240,j[M++]=R>>12&63|128,j[M++]=R>>6&63|128,j[M++]=63&R|128):(j[M++]=R>>12|224,j[M++]=R>>6&63|128,j[M++]=63&R|128)}return j},xt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,j){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const M=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let R=0;R<Y.length;R+=3){const oe=Y[R],Pe=R+1<Y.length,gt=Pe?Y[R+1]:0,yn=R+2<Y.length,Ct=yn?Y[R+2]:0;let he=(15&gt)<<2|Ct>>6,tn=63&Ct;yn||(tn=64,Pe||(he=64)),F.push(M[oe>>2],M[(3&oe)<<4|gt>>4],M[he],M[tn])}return F.join("")},encodeString(Y,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Y):this.encodeByteArray(at(Y),j)},decodeString(Y,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Y):function(Y){const j=[];let M=0,F=0;for(;M<Y.length;){const R=Y[M++];if(R<128)j[F++]=String.fromCharCode(R);else if(R>191&&R<224){const oe=Y[M++];j[F++]=String.fromCharCode((31&R)<<6|63&oe)}else if(R>239&&R<365){const yn=((7&R)<<18|(63&Y[M++])<<12|(63&Y[M++])<<6|63&Y[M++])-65536;j[F++]=String.fromCharCode(55296+(yn>>10)),j[F++]=String.fromCharCode(56320+(1023&yn))}else{const oe=Y[M++],Pe=Y[M++];j[F++]=String.fromCharCode((15&R)<<12|(63&oe)<<6|63&Pe)}}return j.join("")}(this.decodeStringToByteArray(Y,j))},decodeStringToByteArray(Y,j){this.init_();const M=j?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let R=0;R<Y.length;){const oe=M[Y.charAt(R++)],gt=R<Y.length?M[Y.charAt(R)]:0;++R;const Ct=R<Y.length?M[Y.charAt(R)]:64;++R;const on=R<Y.length?M[Y.charAt(R)]:64;if(++R,null==oe||null==gt||null==Ct||null==on)throw new Ce;F.push(oe<<2|gt>>4),64!==Ct&&(F.push(gt<<4&240|Ct>>2),64!==on&&F.push(Ct<<6&192|on))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vt=function(Y){return function(Y){const j=at(Y);return xt.encodeByteArray(j,!0)}(Y).replace(/\./g,"")},me=function(Y){try{return xt.decodeString(Y,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function Ne(Y,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return j}for(const M in j)!j.hasOwnProperty(M)||!Ie(M)||(Y[M]=Ne(Y[M],j[M]));return Y}function Ie(Y){return"__proto__"!==Y}const be=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=Y&&me(Y[1]);return j&&JSON.parse(j)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},we=Y=>{const j=(Y=>{var j,M;return null===(M=null===(j=be())||void 0===j?void 0:j.emulatorHosts)||void 0===M?void 0:M[Y]})(Y);if(!j)return;const M=j.lastIndexOf(":");if(M<=0||M+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const F=parseInt(j.substring(M+1),10);return"["===j[0]?[j.substring(1,M-1),F]:[j.substring(0,M),F]},ct=()=>{var Y;return null===(Y=be())||void 0===Y?void 0:Y.config},ue=Y=>{var j;return null===(j=be())||void 0===j?void 0:j[`_${Y}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,M)=>{this.resolve=j,this.reject=M})}wrapCallback(j){return(M,F)=>{M?this.reject(M):this.resolve(F),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(M):j(M,F))}}}function Fe(Y,j){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=j||"demo-project",R=Y.iat||0,oe=Y.sub||Y.user_id;if(!oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pe=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:R,exp:R+3600,auth_time:R,sub:oe,user_id:oe,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[vt(JSON.stringify({alg:"none",type:"JWT"})),vt(JSON.stringify(Pe)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function St(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function ce(){var Y;const j=null===(Y=be())||void 0===Y?void 0:Y.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qe(){return"object"==typeof self&&self.self===self}function It(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mt(){const Y=Ze();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function G(){return!ce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){try{return"object"==typeof indexedDB}catch{return!1}}function D(){return new Promise((Y,j)=>{try{let M=!0;const F="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(F);R.onsuccess=()=>{R.result.close(),M||self.indexedDB.deleteDatabase(F),Y(!0)},R.onupgradeneeded=()=>{M=!1},R.onerror=()=>{var oe;j((null===(oe=R.error)||void 0===oe?void 0:oe.message)||"")}}catch(M){j(M)}})}class ae extends Error{constructor(j,M,F){super(M),this.code=j,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se.prototype.create)}}class se{constructor(j,M,F){this.service=j,this.serviceName=M,this.errors=F}create(j,...M){const F=M[0]||{},R=`${this.service}/${j}`,oe=this.errors[j],Pe=oe?function We(Y,j){return Y.replace(ut,(M,F)=>{const R=j[F];return null!=R?String(R):`<${F}?>`})}(oe,F):"Error";return new ae(R,`${this.serviceName}: ${Pe} (${R}).`,F)}}const ut=/\{\$([^}]+)}/g;function On(Y,j){return Object.prototype.hasOwnProperty.call(Y,j)}function kn(Y){for(const j in Y)if(Object.prototype.hasOwnProperty.call(Y,j))return!1;return!0}function ke(Y,j){if(Y===j)return!0;const M=Object.keys(Y),F=Object.keys(j);for(const R of M){if(!F.includes(R))return!1;const oe=Y[R],Pe=j[R];if(Me(oe)&&Me(Pe)){if(!ke(oe,Pe))return!1}else if(oe!==Pe)return!1}for(const R of F)if(!M.includes(R))return!1;return!0}function Me(Y){return null!==Y&&"object"==typeof Y}function Pn(Y){const j=[];for(const[M,F]of Object.entries(Y))Array.isArray(F)?F.forEach(R=>{j.push(encodeURIComponent(M)+"="+encodeURIComponent(R))}):j.push(encodeURIComponent(M)+"="+encodeURIComponent(F));return j.length?"&"+j.join("&"):""}function rr(Y){const j={};return Y.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[R,oe]=F.split("=");j[decodeURIComponent(R)]=decodeURIComponent(oe)}}),j}function jn(Y){const j=Y.indexOf("?");if(!j)return"";const M=Y.indexOf("#",j);return Y.substring(j,M>0?M:void 0)}function An(Y,j){const M=new Wn(Y,j);return M.subscribe.bind(M)}class Wn{constructor(j,M){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=M,this.task.then(()=>{j(this)}).catch(F=>{this.error(F)})}next(j){this.forEachObserver(M=>{M.next(j)})}error(j){this.forEachObserver(M=>{M.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,M,F){let R;if(void 0===j&&void 0===M&&void 0===F)throw new Error("Missing Observer.");R=function vr(Y,j){if("object"!=typeof Y||null===Y)return!1;for(const M of j)if(M in Y&&"function"==typeof Y[M])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:M,complete:F},void 0===R.next&&(R.next=Ei),void 0===R.error&&(R.error=Ei),void 0===R.complete&&(R.complete=Ei);const oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),oe}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let M=0;M<this.observers.length;M++)this.sendOne(M,j)}sendOne(j,M){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{M(this.observers[j])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ei(){}function jo(Y){return Y&&Y._delegate?Y._delegate:Y}},4442:(fr,rn,pe)=>{"use strict";pe.d(rn,{L:()=>Gt,a:()=>xt,b:()=>Ce,c:()=>Xe,d:()=>vt,g:()=>Ve}),pe(5531);const Gt="ionViewWillEnter",xt="ionViewDidEnter",Ce="ionViewWillLeave",Xe="ionViewDidLeave",vt="ionViewWillUnload",Ve=G=>G.classList.contains("ion-page")?G:G.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||G},5531:(fr,rn,pe)=>{"use strict";pe.d(rn,{a:()=>me,c:()=>De,g:()=>vt});class E{constructor(){this.m=new Map}reset(G){this.m=new Map(Object.entries(G))}get(G,S){const D=this.m.get(G);return void 0!==D?D:S}getBoolean(G,S=!1){const D=this.m.get(G);return void 0===D?S:"string"==typeof D?"true"===D:!!D}getNumber(G,S){const D=parseFloat(this.m.get(G));return isNaN(D)?void 0!==S?S:NaN:D}set(G,S){this.m.set(G,S)}}const De=new E,vt=Ve=>re(Ve),me=(Ve,G)=>("string"==typeof Ve&&(G=Ve,Ve=void 0),vt(Ve).includes(G)),re=(Ve=window)=>{if(typeof Ve>"u")return[];Ve.Ionic=Ve.Ionic||{};let G=Ve.Ionic.platforms;return null==G&&(G=Ve.Ionic.platforms=Ne(Ve),G.forEach(S=>Ve.document.documentElement.classList.add(`plt-${S}`))),G},Ne=Ve=>{const G=De.get("platform");return Object.keys(qt).filter(S=>{const D=null==G?void 0:G[S];return"function"==typeof D?D(Ve):qt[S](Ve)})},Re=Ve=>!!(qe(Ve,/iPad/i)||qe(Ve,/Macintosh/i)&&ct(Ve)),Se=Ve=>qe(Ve,/android|sink/i),ct=Ve=>It(Ve,"(any-pointer:coarse)"),$e=Ve=>Fe(Ve)||Ze(Ve),Fe=Ve=>!!(Ve.cordova||Ve.phonegap||Ve.PhoneGap),Ze=Ve=>{const G=Ve.Capacitor;return!(null==G||!G.isNative)},qe=(Ve,G)=>G.test(Ve.navigator.userAgent),It=(Ve,G)=>{var S;return null===(S=Ve.matchMedia)||void 0===S?void 0:S.call(Ve,G).matches},qt={ipad:Re,iphone:Ve=>qe(Ve,/iPhone/i),ios:Ve=>qe(Ve,/iPhone|iPod/i)||Re(Ve),android:Se,phablet:Ve=>{const G=Ve.innerWidth,S=Ve.innerHeight,D=Math.min(G,S),k=Math.max(G,S);return D>390&&D<520&&k>620&&k<800},tablet:Ve=>{const G=Ve.innerWidth,S=Ve.innerHeight,D=Math.min(G,S),k=Math.max(G,S);return Re(Ve)||(Ve=>Se(Ve)&&!qe(Ve,/mobile/i))(Ve)||D>460&&D<820&&k>780&&k<1400},cordova:Fe,capacitor:Ze,electron:Ve=>qe(Ve,/electron/i),pwa:Ve=>{var G;return!!(null!==(G=Ve.matchMedia)&&void 0!==G&&G.call(Ve,"(display-mode: standalone)").matches||Ve.navigator.standalone)},mobile:ct,mobileweb:Ve=>ct(Ve)&&!$e(Ve),desktop:Ve=>!ct(Ve),hybrid:$e}},9986:(fr,rn,pe)=>{"use strict";pe.d(rn,{c:()=>xt});var E=pe(8476);let De;const at=(Ce,Xe,vt)=>{const me=Xe.startsWith("animation")?(Ce=>(void 0===De&&(De=void 0===Ce.style.animationName&&void 0!==Ce.style.webkitAnimationName?"-webkit-":""),De))(Ce):"";Ce.style.setProperty(me+Xe,vt)},Gt=(Ce=[],Xe)=>{if(void 0!==Xe){const vt=Array.isArray(Xe)?Xe:[Xe];return[...Ce,...vt]}return Ce},xt=Ce=>{let Xe,vt,me,re,Ne,Ie,be,St,ce,qe,mt,Re=[],ot=[],Oe=[],Se=!1,Ke={},we=[],ct=[],ue={},$e=0,Fe=!1,Ze=!1,It=!0,qt=!1,en=!0,Kt=!1;const Ve=Ce,G=[],S=[],D=[],k=[],H=[],ae=[],se=[],We=[],ut=[],cn=[],At=[],un="function"==typeof AnimationEffect||void 0!==E.w&&"function"==typeof E.w.AnimationEffect,dn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&un,zt=()=>At,kn=(J,dt)=>{const Xt=dt.findIndex(Ht=>Ht.c===J);Xt>-1&&dt.splice(Xt,1)},ke=(J,dt)=>((null!=dt&&dt.oneTimeCallback?S:G).push({c:J,o:dt}),mt),kt=()=>{dn&&(At.forEach(J=>{J.cancel()}),At.length=0)},Pn=()=>{ae.forEach(J=>{null!=J&&J.parentNode&&J.parentNode.removeChild(J)}),ae.length=0},Bn=()=>void 0!==Ne?Ne:be?be.getFill():"both",ai=()=>void 0!==St?St:void 0!==Ie?Ie:be?be.getDirection():"normal",so=()=>Fe?"linear":void 0!==me?me:be?be.getEasing():"linear",br=()=>Ze?0:void 0!==ce?ce:void 0!==vt?vt:be?be.getDuration():0,wr=()=>void 0!==re?re:be?be.getIterations():1,kr=()=>void 0!==qe?qe:void 0!==Xe?Xe:be?be.getDelay():0,yn=()=>{0!==$e&&($e--,0===$e&&((()=>{ut.forEach(dr=>dr()),cn.forEach(dr=>dr());const J=It?1:0,dt=we,Xt=ct,Ht=ue;k.forEach(dr=>{const Qn=dr.classList;dt.forEach(Yn=>Qn.add(Yn)),Xt.forEach(Yn=>Qn.remove(Yn));for(const Yn in Ht)Ht.hasOwnProperty(Yn)&&at(dr,Yn,Ht[Yn])}),ce=void 0,St=void 0,qe=void 0,G.forEach(dr=>dr.c(J,mt)),S.forEach(dr=>dr.c(J,mt)),S.length=0,en=!0,It&&(qt=!0),It=!0})(),be&&be.animationFinish()))},Hn=()=>{(()=>{se.forEach(Ht=>Ht()),We.forEach(Ht=>Ht());const J=ot,dt=Oe,Xt=Ke;k.forEach(Ht=>{const dr=Ht.classList;J.forEach(Qn=>dr.add(Qn)),dt.forEach(Qn=>dr.remove(Qn));for(const Qn in Xt)Xt.hasOwnProperty(Qn)&&at(Ht,Qn,Xt[Qn])})})(),Re.length>0&&dn&&(k.forEach(J=>{const dt=J.animate(Re,{id:Ve,delay:kr(),duration:br(),easing:so(),iterations:wr(),fill:Bn(),direction:ai()});dt.pause(),At.push(dt)}),At.length>0&&(At[0].onfinish=()=>{yn()})),Se=!0},on=J=>{J=Math.min(Math.max(J,0),.9999),dn&&At.forEach(dt=>{dt.currentTime=dt.effect.getComputedTiming().delay+br()*J,dt.pause()})},he=J=>{At.forEach(dt=>{dt.effect.updateTiming({delay:kr(),duration:br(),easing:so(),iterations:wr(),fill:Bn(),direction:ai()})}),void 0!==J&&on(J)},tn=(J=!1,dt=!0,Xt)=>(J&&H.forEach(Ht=>{Ht.update(J,dt,Xt)}),dn&&he(Xt),mt),js=()=>{Se&&(dn?At.forEach(J=>{J.pause()}):k.forEach(J=>{at(J,"animation-play-state","paused")}),Kt=!0)},Ae=J=>new Promise(dt=>{null!=J&&J.sync&&(Ze=!0,ke(()=>Ze=!1,{oneTimeCallback:!0})),Se||Hn(),qt&&(dn&&(on(0),he()),qt=!1),en&&($e=H.length+1,en=!1);const Xt=()=>{kn(Ht,S),dt()},Ht=()=>{kn(Xt,D),dt()};ke(Ht,{oneTimeCallback:!0}),((J,dt)=>{D.push({c:J,o:{oneTimeCallback:!0}})})(Xt),H.forEach(dr=>{dr.play()}),dn?(At.forEach(J=>{J.play()}),(0===Re.length||0===k.length)&&yn()):yn(),Kt=!1}),je=(J,dt)=>{const Xt=Re[0];return void 0===Xt||void 0!==Xt.offset&&0!==Xt.offset?Re=[{offset:0,[J]:dt},...Re]:Xt[J]=dt,mt};return mt={parentAnimation:be,elements:k,childAnimations:H,id:Ve,animationFinish:yn,from:je,to:(J,dt)=>{const Xt=Re[Re.length-1];return void 0===Xt||void 0!==Xt.offset&&1!==Xt.offset?Re=[...Re,{offset:1,[J]:dt}]:Xt[J]=dt,mt},fromTo:(J,dt,Xt)=>je(J,dt).to(J,Xt),parent:J=>(be=J,mt),play:Ae,pause:()=>(H.forEach(J=>{J.pause()}),js(),mt),stop:()=>{H.forEach(J=>{J.stop()}),Se&&(kt(),Se=!1),Fe=!1,Ze=!1,en=!0,St=void 0,ce=void 0,qe=void 0,$e=0,qt=!1,It=!0,Kt=!1,D.forEach(J=>J.c(0,mt)),D.length=0},destroy:J=>(H.forEach(dt=>{dt.destroy(J)}),(J=>{kt(),J&&Pn()})(J),k.length=0,H.length=0,Re.length=0,G.length=0,S.length=0,Se=!1,en=!0,mt),keyframes:J=>{const dt=Re!==J;return Re=J,dt&&(J=>{dn&&zt().forEach(dt=>{const Xt=dt.effect;if(Xt.setKeyframes)Xt.setKeyframes(J);else{const Ht=new KeyframeEffect(Xt.target,J,Xt.getTiming());dt.effect=Ht}})})(Re),mt},addAnimation:J=>{if(null!=J)if(Array.isArray(J))for(const dt of J)dt.parent(mt),H.push(dt);else J.parent(mt),H.push(J);return mt},addElement:J=>{if(null!=J)if(1===J.nodeType)k.push(J);else if(J.length>=0)for(let dt=0;dt<J.length;dt++)k.push(J[dt]);else console.error("Invalid addElement value");return mt},update:tn,fill:J=>(Ne=J,tn(!0),mt),direction:J=>(Ie=J,tn(!0),mt),iterations:J=>(re=J,tn(!0),mt),duration:J=>(!dn&&0===J&&(J=1),vt=J,tn(!0),mt),easing:J=>(me=J,tn(!0),mt),delay:J=>(Xe=J,tn(!0),mt),getWebAnimations:zt,getKeyframes:()=>Re,getFill:Bn,getDirection:ai,getDelay:kr,getIterations:wr,getEasing:so,getDuration:br,afterAddRead:J=>(ut.push(J),mt),afterAddWrite:J=>(cn.push(J),mt),afterClearStyles:(J=[])=>{for(const dt of J)ue[dt]="";return mt},afterStyles:(J={})=>(ue=J,mt),afterRemoveClass:J=>(ct=Gt(ct,J),mt),afterAddClass:J=>(we=Gt(we,J),mt),beforeAddRead:J=>(se.push(J),mt),beforeAddWrite:J=>(We.push(J),mt),beforeClearStyles:(J=[])=>{for(const dt of J)Ke[dt]="";return mt},beforeStyles:(J={})=>(Ke=J,mt),beforeRemoveClass:J=>(Oe=Gt(Oe,J),mt),beforeAddClass:J=>(ot=Gt(ot,J),mt),onFinish:ke,isRunning:()=>0!==$e&&!Kt,progressStart:(J=!1,dt)=>(H.forEach(Xt=>{Xt.progressStart(J,dt)}),js(),Fe=J,Se||Hn(),tn(!1,!0,dt),mt),progressStep:J=>(H.forEach(dt=>{dt.progressStep(J)}),on(J),mt),progressEnd:(J,dt,Xt)=>(Fe=!1,H.forEach(Ht=>{Ht.progressEnd(J,dt,Xt)}),void 0!==Xt&&(ce=Xt),qt=!1,It=!0,0===J?(St="reverse"===ai()?"normal":"reverse","reverse"===St&&(It=!1),dn?(tn(),on(1-dt)):(qe=(1-dt)*br()*-1,tn(!1,!1))):1===J&&(dn?(tn(),on(dt)):(qe=dt*br()*-1,tn(!1,!1))),void 0!==J&&!be&&Ae(),mt)}}},464:(fr,rn,pe)=>{"use strict";pe.d(rn,{E:()=>me,a:()=>E,s:()=>Xe});const E=re=>{try{if(re instanceof Ce)return re.value;if(!at()||"string"!=typeof re||""===re)return re;if(re.includes("onload="))return"";const Ne=document.createDocumentFragment(),Ie=document.createElement("div");Ne.appendChild(Ie),Ie.innerHTML=re,xt.forEach(Se=>{const be=Ne.querySelectorAll(Se);for(let Ke=be.length-1;Ke>=0;Ke--){const we=be[Ke];we.parentNode?we.parentNode.removeChild(we):Ne.removeChild(we);const ct=L(we);for(let ue=0;ue<ct.length;ue++)De(ct[ue])}});const Re=L(Ne);for(let Se=0;Se<Re.length;Se++)De(Re[Se]);const ot=document.createElement("div");ot.appendChild(Ne);const Oe=ot.querySelector("div");return null!==Oe?Oe.innerHTML:ot.innerHTML}catch(Ne){return console.error(Ne),""}},De=re=>{if(re.nodeType&&1!==re.nodeType)return;if(typeof NamedNodeMap<"u"&&!(re.attributes instanceof NamedNodeMap))return void re.remove();for(let Ie=re.attributes.length-1;Ie>=0;Ie--){const Re=re.attributes.item(Ie),ot=Re.name;if(!Gt.includes(ot.toLowerCase())){re.removeAttribute(ot);continue}const Oe=Re.value,Se=re[ot];(null!=Oe&&Oe.toLowerCase().includes("javascript:")||null!=Se&&Se.toLowerCase().includes("javascript:"))&&re.removeAttribute(ot)}const Ne=L(re);for(let Ie=0;Ie<Ne.length;Ie++)De(Ne[Ie])},L=re=>null!=re.children?re.children:re.childNodes,at=()=>{var re;const Ne=window,Ie=null===(re=null==Ne?void 0:Ne.Ionic)||void 0===re?void 0:re.config;return!Ie||(Ie.get?Ie.get("sanitizerEnabled",!0):!0===Ie.sanitizerEnabled||void 0===Ie.sanitizerEnabled)},Gt=["class","id","href","src","name","slot"],xt=["script","style","iframe","meta","link","object","embed"];class Ce{constructor(Ne){this.value=Ne}}const Xe=re=>{const Ne=window,Ie=Ne.Ionic;if(!Ie||!Ie.config||"Object"===Ie.config.constructor.name)return Ne.Ionic=Ne.Ionic||{},Ne.Ionic.config=Object.assign(Object.assign({},Ne.Ionic.config),re),Ne.Ionic.config},me=!1},8621:(fr,rn,pe)=>{"use strict";pe.d(rn,{C:()=>Gt,a:()=>L,d:()=>at});var E=pe(467),De=pe(4920);const L=function(){var xt=(0,E.A)(function*(Ce,Xe,vt,me,re,Ne){var Ie;if(Ce)return Ce.attachViewToDom(Xe,vt,re,me);if(!(Ne||"string"==typeof vt||vt instanceof HTMLElement))throw new Error("framework delegate is missing");const Re="string"==typeof vt?null===(Ie=Xe.ownerDocument)||void 0===Ie?void 0:Ie.createElement(vt):vt;return me&&me.forEach(ot=>Re.classList.add(ot)),re&&Object.assign(Re,re),Xe.appendChild(Re),yield new Promise(ot=>(0,De.c)(Re,ot)),Re});return function(Xe,vt,me,re,Ne,Ie){return xt.apply(this,arguments)}}(),at=(xt,Ce)=>{if(Ce){if(xt)return xt.removeViewFromDom(Ce.parentElement,Ce);Ce.remove()}return Promise.resolve()},Gt=()=>{let xt,Ce;return{attachViewToDom:function(){var me=(0,E.A)(function*(re,Ne,Ie={},Re=[]){var ot,Oe;let Se;if(xt=re,Ne){const Ke="string"==typeof Ne?null===(ot=xt.ownerDocument)||void 0===ot?void 0:ot.createElement(Ne):Ne;Re.forEach(we=>Ke.classList.add(we)),Object.assign(Ke,Ie),xt.appendChild(Ke),Se=Ke,yield new Promise(we=>(0,De.c)(Ke,we))}else if(xt.children.length>0&&("ION-MODAL"===xt.tagName||"ION-POPOVER"===xt.tagName)&&!(Se=xt.children[0]).classList.contains("ion-delegate-host")){const we=null===(Oe=xt.ownerDocument)||void 0===Oe?void 0:Oe.createElement("div");we.classList.add("ion-delegate-host"),Re.forEach(ct=>we.classList.add(ct)),we.append(...xt.children),xt.appendChild(we),Se=we}const be=document.querySelector("ion-app")||document.body;return Ce=document.createComment("ionic teleport"),xt.parentNode.insertBefore(Ce,xt),be.appendChild(xt),null!=Se?Se:xt});return function(Ne,Ie){return me.apply(this,arguments)}}(),removeViewFromDom:()=>(xt&&Ce&&(Ce.parentNode.insertBefore(xt,Ce),Ce.remove()),Promise.resolve())}}},1970:(fr,rn,pe)=>{"use strict";pe.d(rn,{B:()=>at,G:()=>Gt});class De{constructor(Ce,Xe,vt,me,re){this.id=Xe,this.name=vt,this.disableScroll=re,this.priority=1e6*me+Xe,this.ctrl=Ce}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ce=this.ctrl.capture(this.name,this.id,this.priority);return Ce&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ce}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(Ce,Xe,vt,me){this.id=Xe,this.disable=vt,this.disableScroll=me,this.ctrl=Ce}block(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.disableGesture(Ce,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.enableGesture(Ce,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const at="backdrop-no-scroll",Gt=new class E{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ce){var Xe;return new De(this,this.newID(),Ce.name,null!==(Xe=Ce.priority)&&void 0!==Xe?Xe:0,!!Ce.disableScroll)}createBlocker(Ce={}){return new L(this,this.newID(),Ce.disable,!!Ce.disableScroll)}start(Ce,Xe,vt){return this.canStart(Ce)?(this.requestedStart.set(Xe,vt),!0):(this.requestedStart.delete(Xe),!1)}capture(Ce,Xe,vt){if(!this.start(Ce,Xe,vt))return!1;const me=this.requestedStart;let re=-1e4;if(me.forEach(Ne=>{re=Math.max(re,Ne)}),re===vt){this.capturedId=Xe,me.clear();const Ne=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ce}});return document.dispatchEvent(Ne),!0}return me.delete(Xe),!1}release(Ce){this.requestedStart.delete(Ce),this.capturedId===Ce&&(this.capturedId=void 0)}disableGesture(Ce,Xe){let vt=this.disabledGestures.get(Ce);void 0===vt&&(vt=new Set,this.disabledGestures.set(Ce,vt)),vt.add(Xe)}enableGesture(Ce,Xe){const vt=this.disabledGestures.get(Ce);void 0!==vt&&vt.delete(Xe)}disableScroll(Ce){this.disabledScroll.add(Ce),1===this.disabledScroll.size&&document.body.classList.add(at)}enableScroll(Ce){this.disabledScroll.delete(Ce),0===this.disabledScroll.size&&document.body.classList.remove(at)}canStart(Ce){return!(void 0!==this.capturedId||this.isDisabled(Ce))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ce){const Xe=this.disabledGestures.get(Ce);return!!(Xe&&Xe.size>0)}newID(){return this.gestureId++,this.gestureId}}},6411:(fr,rn,pe)=>{"use strict";pe.r(rn),pe.d(rn,{MENU_BACK_BUTTON_PRIORITY:()=>vt,OVERLAY_BACK_BUTTON_PRIORITY:()=>Xe,blockHardwareBackButton:()=>xt,shouldUseCloseWatcher:()=>Gt,startHardwareBackButton:()=>Ce});var E=pe(467),De=pe(8476),L=pe(3664);pe(9672);const Gt=()=>L.c.get("experimentalCloseWatcher",!1)&&void 0!==De.w&&"CloseWatcher"in De.w,xt=()=>{document.addEventListener("backbutton",()=>{})},Ce=()=>{const me=document;let re=!1;const Ne=()=>{if(re)return;let Ie=0,Re=[];const ot=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(be,Ke){Re.push({priority:be,handler:Ke,id:Ie++})}}});me.dispatchEvent(ot);const Oe=function(){var be=(0,E.A)(function*(Ke){try{if(null!=Ke&&Ke.handler){const we=Ke.handler(Se);null!=we&&(yield we)}}catch(we){console.error(we)}});return function(we){return be.apply(this,arguments)}}(),Se=()=>{if(Re.length>0){let be={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Re.forEach(Ke=>{Ke.priority>=be.priority&&(be=Ke)}),re=!0,Re=Re.filter(Ke=>Ke.id!==be.id),Oe(be).then(()=>re=!1)}};Se()};if(Gt()){let Ie;const Re=()=>{null==Ie||Ie.destroy(),Ie=new De.w.CloseWatcher,Ie.onclose=()=>{Ne(),Re()}};Re()}else me.addEventListener("backbutton",Ne)},Xe=100,vt=99},4920:(fr,rn,pe)=>{"use strict";pe.d(rn,{a:()=>Xe,b:()=>vt,c:()=>L,d:()=>Re,e:()=>Ke,f:()=>Ie,g:()=>me,h:()=>Gt,i:()=>Ce,j:()=>ot,k:()=>at,l:()=>Ne,m:()=>Oe,n:()=>be,o:()=>we,p:()=>Se,r:()=>re,s:()=>ct,t:()=>E});const E=(ue,$e=0)=>new Promise(Fe=>{De(ue,$e,Fe)}),De=(ue,$e=0,Fe)=>{let Ze,St;const ce={passive:!0},It=()=>{Ze&&Ze()},qt=en=>{(void 0===en||ue===en.target)&&(It(),Fe(en))};return ue&&(ue.addEventListener("webkitTransitionEnd",qt,ce),ue.addEventListener("transitionend",qt,ce),St=setTimeout(qt,$e+500),Ze=()=>{void 0!==St&&(clearTimeout(St),St=void 0),ue.removeEventListener("webkitTransitionEnd",qt,ce),ue.removeEventListener("transitionend",qt,ce)}),It},L=(ue,$e)=>{ue.componentOnReady?ue.componentOnReady().then(Fe=>$e(Fe)):re(()=>$e(ue))},at=ue=>void 0!==ue.componentOnReady,Gt=(ue,$e=[])=>{const Fe={};return $e.forEach(Ze=>{ue.hasAttribute(Ze)&&(null!==ue.getAttribute(Ze)&&(Fe[Ze]=ue.getAttribute(Ze)),ue.removeAttribute(Ze))}),Fe},xt=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ce=(ue,$e)=>{let Fe=xt;return $e&&$e.length>0&&(Fe=Fe.filter(Ze=>!$e.includes(Ze))),Gt(ue,Fe)},Xe=(ue,$e,Fe,Ze)=>{var St;if(typeof window<"u"){const ce=window,qe=null===(St=null==ce?void 0:ce.Ionic)||void 0===St?void 0:St.config;if(qe){const It=qe.get("_ael");if(It)return It(ue,$e,Fe,Ze);if(qe._ael)return qe._ael(ue,$e,Fe,Ze)}}return ue.addEventListener($e,Fe,Ze)},vt=(ue,$e,Fe,Ze)=>{var St;if(typeof window<"u"){const ce=window,qe=null===(St=null==ce?void 0:ce.Ionic)||void 0===St?void 0:St.config;if(qe){const It=qe.get("_rel");if(It)return It(ue,$e,Fe,Ze);if(qe._rel)return qe._rel(ue,$e,Fe,Ze)}}return ue.removeEventListener($e,Fe,Ze)},me=(ue,$e=ue)=>ue.shadowRoot||$e,re=ue=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ue):"function"==typeof requestAnimationFrame?requestAnimationFrame(ue):setTimeout(ue),Ne=ue=>!!ue.shadowRoot&&!!ue.attachShadow,Ie=ue=>{if(ue.focus(),ue.classList.contains("ion-focusable")){const $e=ue.closest("ion-app");$e&&$e.setFocus([ue])}},Re=(ue,$e,Fe,Ze,St)=>{if(ue||Ne($e)){let ce=$e.querySelector("input.aux-input");ce||(ce=$e.ownerDocument.createElement("input"),ce.type="hidden",ce.classList.add("aux-input"),$e.appendChild(ce)),ce.disabled=St,ce.name=Fe,ce.value=Ze||""}},ot=(ue,$e,Fe)=>Math.max(ue,Math.min($e,Fe)),Oe=(ue,$e)=>{if(!ue){const Fe="ASSERT: "+$e;throw console.error(Fe),new Error(Fe)}},Se=ue=>{if(ue){const $e=ue.changedTouches;if($e&&$e.length>0){const Fe=$e[0];return{x:Fe.clientX,y:Fe.clientY}}if(void 0!==ue.pageX)return{x:ue.pageX,y:ue.pageY}}return{x:0,y:0}},be=ue=>{const $e="rtl"===document.dir;switch(ue){case"start":return $e;case"end":return!$e;default:throw new Error(`"${ue}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ke=(ue,$e)=>{const Fe=ue._original||ue;return{_original:ue,emit:we(Fe.emit.bind(Fe),$e)}},we=(ue,$e=0)=>{let Fe;return(...Ze)=>{clearTimeout(Fe),Fe=setTimeout(ue,$e,...Ze)}},ct=(ue,$e)=>{if(null!=ue||(ue={}),null!=$e||($e={}),ue===$e)return!0;const Fe=Object.keys(ue);if(Fe.length!==Object.keys($e).length)return!1;for(const Ze of Fe)if(!(Ze in $e)||ue[Ze]!==$e[Ze])return!1;return!0}},5465:(fr,rn,pe)=>{"use strict";pe.d(rn,{m:()=>Ie});var E=pe(467),De=pe(8476),L=pe(6411),at=pe(4929),Gt=pe(4920),xt=pe(3664),Ce=pe(9986);const Xe=Re=>(0,Ce.c)().duration(Re?400:300),vt=Re=>{let ot,Oe;const Se=Re.width+8,be=(0,Ce.c)(),Ke=(0,Ce.c)();Re.isEndSide?(ot=Se+"px",Oe="0px"):(ot=-Se+"px",Oe="0px"),be.addElement(Re.menuInnerEl).fromTo("transform",`translateX(${ot})`,`translateX(${Oe})`);const ct="ios"===(0,xt.b)(Re),ue=ct?.2:.25;return Ke.addElement(Re.backdropEl).fromTo("opacity",.01,ue),Xe(ct).addAnimation([be,Ke])},me=Re=>{let ot,Oe;const Se=(0,xt.b)(Re),be=Re.width;Re.isEndSide?(ot=-be+"px",Oe=be+"px"):(ot=be+"px",Oe=-be+"px");const Ke=(0,Ce.c)().addElement(Re.menuInnerEl).fromTo("transform",`translateX(${Oe})`,"translateX(0px)"),we=(0,Ce.c)().addElement(Re.contentEl).fromTo("transform","translateX(0px)",`translateX(${ot})`),ct=(0,Ce.c)().addElement(Re.backdropEl).fromTo("opacity",.01,.32);return Xe("ios"===Se).addAnimation([Ke,we,ct])},re=Re=>{const ot=(0,xt.b)(Re),Oe=Re.width*(Re.isEndSide?-1:1)+"px",Se=(0,Ce.c)().addElement(Re.contentEl).fromTo("transform","translateX(0px)",`translateX(${Oe})`);return Xe("ios"===ot).addAnimation(Se)},Ie=(()=>{const Re=new Map,ot=[],Oe=function(){var D=(0,E.A)(function*(k){const H=yield $e(k,!0);return!!H&&H.open()});return function(H){return D.apply(this,arguments)}}(),Se=function(){var D=(0,E.A)(function*(k){const H=yield void 0!==k?$e(k,!0):Fe();return void 0!==H&&H.close()});return function(H){return D.apply(this,arguments)}}(),be=function(){var D=(0,E.A)(function*(k){const H=yield $e(k,!0);return!!H&&H.toggle()});return function(H){return D.apply(this,arguments)}}(),Ke=function(){var D=(0,E.A)(function*(k,H){const ae=yield $e(H);return ae&&(ae.disabled=!k),ae});return function(H,ae){return D.apply(this,arguments)}}(),we=function(){var D=(0,E.A)(function*(k,H){const ae=yield $e(H);return ae&&(ae.swipeGesture=k),ae});return function(H,ae){return D.apply(this,arguments)}}(),ct=function(){var D=(0,E.A)(function*(k){if(null!=k){const H=yield $e(k);return void 0!==H&&H.isOpen()}return void 0!==(yield Fe())});return function(H){return D.apply(this,arguments)}}(),ue=function(){var D=(0,E.A)(function*(k){const H=yield $e(k);return!!H&&!H.disabled});return function(H){return D.apply(this,arguments)}}(),$e=function(){var D=(0,E.A)(function*(k,H=!1){if(yield S(),"start"===k||"end"===k){const se=ot.filter(ut=>ut.side===k&&!ut.disabled);if(se.length>=1)return se.length>1&&H&&(0,at.p)(`menuController queried for a menu on the "${k}" side, but ${se.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,se.map(ut=>ut.el)),se[0].el;const We=ot.filter(ut=>ut.side===k);if(We.length>=1)return We.length>1&&H&&(0,at.p)(`menuController queried for a menu on the "${k}" side, but ${We.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,We.map(ut=>ut.el)),We[0].el}else if(null!=k)return G(se=>se.menuId===k);return G(se=>!se.disabled)||(ot.length>0?ot[0].el:void 0)});return function(H){return D.apply(this,arguments)}}(),Fe=function(){var D=(0,E.A)(function*(){return yield S(),mt()});return function(){return D.apply(this,arguments)}}(),Ze=function(){var D=(0,E.A)(function*(){return yield S(),Kt()});return function(){return D.apply(this,arguments)}}(),St=function(){var D=(0,E.A)(function*(){return yield S(),Ve()});return function(){return D.apply(this,arguments)}}(),ce=(D,k)=>{Re.set(D,k)},qt=function(){var D=(0,E.A)(function*(k,H,ae){if(Ve())return!1;if(H){const se=yield Fe();se&&k.el!==se&&(yield se.setOpen(!1,!1))}return k._setOpen(H,ae)});return function(H,ae,se){return D.apply(this,arguments)}}(),mt=()=>G(D=>D._isOpen),Kt=()=>ot.map(D=>D.el),Ve=()=>ot.some(D=>D.isAnimating),G=D=>{const k=ot.find(D);if(void 0!==k)return k.el},S=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(D=>new Promise(k=>(0,Gt.c)(D,k))));return ce("reveal",re),ce("push",me),ce("overlay",vt),null==De.d||De.d.addEventListener("ionBackButton",D=>{const k=mt();k&&D.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>k.close())}),{registerAnimation:ce,get:$e,getMenus:Ze,getOpen:Fe,isEnabled:ue,swipeGesture:we,isAnimating:St,isOpen:ct,enable:Ke,toggle:be,close:Se,open:Oe,_getOpenSync:mt,_createAnimation:(D,k)=>{const H=Re.get(D);if(!H)throw new Error("animation not registered");return H(k)},_register:D=>{ot.indexOf(D)<0&&ot.push(D)},_unregister:D=>{const k=ot.indexOf(D);k>-1&&ot.splice(k,1)},_setOpen:qt}})()},8607:(fr,rn,pe)=>{"use strict";pe.r(rn),pe.d(rn,{GESTURE_CONTROLLER:()=>E.G,createGesture:()=>vt});var E=pe(1970);const De=(Ie,Re,ot,Oe)=>{const Se=L(Ie)?{capture:!!Oe.capture,passive:!!Oe.passive}:!!Oe.capture;let be,Ke;return Ie.__zone_symbol__addEventListener?(be="__zone_symbol__addEventListener",Ke="__zone_symbol__removeEventListener"):(be="addEventListener",Ke="removeEventListener"),Ie[be](Re,ot,Se),()=>{Ie[Ke](Re,ot,Se)}},L=Ie=>{if(void 0===at)try{const Re=Object.defineProperty({},"passive",{get:()=>{at=!0}});Ie.addEventListener("optsTest",()=>{},Re)}catch{at=!1}return!!at};let at;const Ce=Ie=>Ie instanceof Document?Ie:Ie.ownerDocument,vt=Ie=>{let Re=!1,ot=!1,Oe=!0,Se=!1;const be=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ie),Ke=be.canStart,we=be.onWillStart,ct=be.onStart,ue=be.onEnd,$e=be.notCaptured,Fe=be.onMove,Ze=be.threshold,St=be.passive,ce=be.blurOnStart,qe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},It=((Ie,Re,ot)=>{const Oe=ot*(Math.PI/180),Se="x"===Ie,be=Math.cos(Oe),Ke=Re*Re;let we=0,ct=0,ue=!1,$e=0;return{start(Fe,Ze){we=Fe,ct=Ze,$e=0,ue=!0},detect(Fe,Ze){if(!ue)return!1;const St=Fe-we,ce=Ze-ct,qe=St*St+ce*ce;if(qe<Ke)return!1;const It=Math.sqrt(qe),qt=(Se?St:ce)/It;return $e=qt>be?1:qt<-be?-1:0,ue=!1,!0},isGesture:()=>0!==$e,getDirection:()=>$e}})(be.direction,be.threshold,be.maxAngle),qt=E.G.createGesture({name:Ie.gestureName,priority:Ie.gesturePriority,disableScroll:Ie.disableScroll}),Kt=()=>{Re&&(Se=!1,Fe&&Fe(qe))},Ve=()=>!!qt.capture()&&(Re=!0,Oe=!1,qe.startX=qe.currentX,qe.startY=qe.currentY,qe.startTime=qe.currentTime,we?we(qe).then(S):S(),!0),S=()=>{ce&&(()=>{if(typeof document<"u"){const se=document.activeElement;null!=se&&se.blur&&se.blur()}})(),ct&&ct(qe),Oe=!0},D=()=>{Re=!1,ot=!1,Se=!1,Oe=!0,qt.release()},k=se=>{const We=Re,ut=Oe;if(D(),ut){if(me(qe,se),We)return void(ue&&ue(qe));$e&&$e(qe)}},H=((Ie,Re,ot,Oe,Se)=>{let be,Ke,we,ct,ue,$e,Fe,Ze=0;const St=G=>{Ze=Date.now()+2e3,Re(G)&&(!Ke&&ot&&(Ke=De(Ie,"touchmove",ot,Se)),we||(we=De(G.target,"touchend",qe,Se)),ct||(ct=De(G.target,"touchcancel",qe,Se)))},ce=G=>{Ze>Date.now()||Re(G)&&(!$e&&ot&&($e=De(Ce(Ie),"mousemove",ot,Se)),Fe||(Fe=De(Ce(Ie),"mouseup",It,Se)))},qe=G=>{qt(),Oe&&Oe(G)},It=G=>{en(),Oe&&Oe(G)},qt=()=>{Ke&&Ke(),we&&we(),ct&&ct(),Ke=we=ct=void 0},en=()=>{$e&&$e(),Fe&&Fe(),$e=Fe=void 0},mt=()=>{qt(),en()},Kt=(G=!0)=>{G?(be||(be=De(Ie,"touchstart",St,Se)),ue||(ue=De(Ie,"mousedown",ce,Se))):(be&&be(),ue&&ue(),be=ue=void 0,mt())};return{enable:Kt,stop:mt,destroy:()=>{Kt(!1),Oe=ot=Re=void 0}}})(be.el,se=>{const We=Ne(se);return!(ot||!Oe||(re(se,qe),qe.startX=qe.currentX,qe.startY=qe.currentY,qe.startTime=qe.currentTime=We,qe.velocityX=qe.velocityY=qe.deltaX=qe.deltaY=0,qe.event=se,Ke&&!1===Ke(qe))||(qt.release(),!qt.start()))&&(ot=!0,0===Ze?Ve():(It.start(qe.startX,qe.startY),!0))},se=>{Re?!Se&&Oe&&(Se=!0,me(qe,se),requestAnimationFrame(Kt)):(me(qe,se),It.detect(qe.currentX,qe.currentY)&&(!It.isGesture()||!Ve())&&ae())},k,{capture:!1,passive:St}),ae=()=>{D(),H.stop(),$e&&$e(qe)};return{enable(se=!0){se||(Re&&k(void 0),D()),H.enable(se)},destroy(){qt.destroy(),H.destroy()}}},me=(Ie,Re)=>{if(!Re)return;const ot=Ie.currentX,Oe=Ie.currentY,Se=Ie.currentTime;re(Re,Ie);const be=Ie.currentX,Ke=Ie.currentY,ct=(Ie.currentTime=Ne(Re))-Se;if(ct>0&&ct<100){const $e=(Ke-Oe)/ct;Ie.velocityX=(be-ot)/ct*.7+.3*Ie.velocityX,Ie.velocityY=.7*$e+.3*Ie.velocityY}Ie.deltaX=be-Ie.startX,Ie.deltaY=Ke-Ie.startY,Ie.event=Re},re=(Ie,Re)=>{let ot=0,Oe=0;if(Ie){const Se=Ie.changedTouches;if(Se&&Se.length>0){const be=Se[0];ot=be.clientX,Oe=be.clientY}else void 0!==Ie.pageX&&(ot=Ie.pageX,Oe=Ie.pageY)}Re.currentX=ot,Re.currentY=Oe},Ne=Ie=>Ie.timeStamp||Date.now()},9672:(fr,rn,pe)=>{"use strict";pe.d(rn,{B:()=>xt,a:()=>ki,b:()=>Qd,c:()=>ut,d:()=>dn,e:()=>Su,f:()=>Ve,g:()=>cn,h:()=>mt,i:()=>un,j:()=>tn,k:()=>Ce,r:()=>xv,w:()=>bl});var E=pe(467);var at=Object.defineProperty,xt={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ce=b=>{const P=new URL(b,ir.$resourcesUrl$);return P.origin!==Oa.location.origin?P.href:P.pathname},Xe={},Ne=b=>"object"==(b=typeof b)||"function"===b;function Ie(b){var P,U,W;return null!=(W=null==(U=null==(P=b.head)?void 0:P.querySelector('meta[name="csp-nonce"]'))?void 0:U.getAttribute("content"))?W:void 0}((b,P)=>{for(var U in P)at(b,U,{get:P[U],enumerable:!0})})({},{err:()=>Oe,map:()=>Se,ok:()=>ot,unwrap:()=>be,unwrapErr:()=>Ke});var ot=b=>({isOk:!0,isErr:!1,value:b}),Oe=b=>({isOk:!1,isErr:!0,value:b});function Se(b,P){if(b.isOk){const U=P(b.value);return U instanceof Promise?U.then(W=>ot(W)):ot(U)}if(b.isErr)return Oe(b.value);throw"should never get here"}var be=b=>{if(b.isOk)return b.value;throw b.value},Ke=b=>{if(b.isErr)return b.value;throw b.value},St="s-id",ce="sty-id",qt="slot-fb{display:contents}slot-fb[hidden]{display:none}",en="http://www.w3.org/1999/xlink",mt=(b,P,...U)=>{let W=null,ie=null,ne=null,Be=!1,Je=!1;const Ge=[],et=Wt=>{for(let Qt=0;Qt<Wt.length;Qt++)W=Wt[Qt],Array.isArray(W)?et(W):null!=W&&"boolean"!=typeof W&&((Be="function"!=typeof b&&!Ne(W))&&(W=String(W)),Be&&Je?Ge[Ge.length-1].$text$+=W:Ge.push(Be?Kt(null,W):W),Je=Be)};if(et(U),P){P.key&&(ie=P.key),P.name&&(ne=P.name);{const Wt=P.className||P.class;Wt&&(P.class="object"!=typeof Wt?Wt:Object.keys(Wt).filter(Qt=>Wt[Qt]).join(" "))}}if("function"==typeof b)return b(null===P?{}:P,Ge,S);const Lt=Kt(b,null);return Lt.$attrs$=P,Ge.length>0&&(Lt.$children$=Ge),Lt.$key$=ie,Lt.$name$=ne,Lt},Kt=(b,P)=>({$flags$:0,$tag$:b,$text$:P,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Ve={},S={forEach:(b,P)=>b.map(D).forEach(P),map:(b,P)=>b.map(D).map(P).map(k)},D=b=>({vattrs:b.$attrs$,vchildren:b.$children$,vkey:b.$key$,vname:b.$name$,vtag:b.$tag$,vtext:b.$text$}),k=b=>{if("function"==typeof b.vtag){const U={...b.vattrs};return b.vkey&&(U.key=b.vkey),b.vname&&(U.name=b.vname),mt(b.vtag,U,...b.vchildren||[])}const P=Kt(b.vtag,b.vtext);return P.$attrs$=b.vattrs,P.$children$=b.vchildren,P.$key$=b.vkey,P.$name$=b.vname,P},ae=(b,P,U,W,ie,ne,Be)=>{let Je,Ge,et,Lt;if(1===ne.nodeType){for(Je=ne.getAttribute("c-id"),Je&&(Ge=Je.split("."),(Ge[0]===Be||"0"===Ge[0])&&(et={$flags$:0,$hostId$:Ge[0],$nodeId$:Ge[1],$depth$:Ge[2],$index$:Ge[3],$tag$:ne.tagName.toLowerCase(),$elm$:ne,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},P.push(et),ne.removeAttribute("c-id"),b.$children$||(b.$children$=[]),b.$children$[et.$index$]=et,b=et,W&&"0"===et.$depth$&&(W[et.$index$]=et.$elm$))),Lt=ne.childNodes.length-1;Lt>=0;Lt--)ae(b,P,U,W,ie,ne.childNodes[Lt],Be);if(ne.shadowRoot)for(Lt=ne.shadowRoot.childNodes.length-1;Lt>=0;Lt--)ae(b,P,U,W,ie,ne.shadowRoot.childNodes[Lt],Be)}else if(8===ne.nodeType)Ge=ne.nodeValue.split("."),(Ge[1]===Be||"0"===Ge[1])&&(Je=Ge[0],et={$flags$:0,$hostId$:Ge[1],$nodeId$:Ge[2],$depth$:Ge[3],$index$:Ge[4],$elm$:ne,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Je?(et.$elm$=ne.nextSibling,et.$elm$&&3===et.$elm$.nodeType&&(et.$text$=et.$elm$.textContent,P.push(et),ne.remove(),b.$children$||(b.$children$=[]),b.$children$[et.$index$]=et,W&&"0"===et.$depth$&&(W[et.$index$]=et.$elm$))):et.$hostId$===Be&&("s"===Je?(et.$tag$="slot",ne["s-sn"]=Ge[5]?et.$name$=Ge[5]:"",ne["s-sr"]=!0,W&&(et.$elm$=Or.createElement(et.$tag$),et.$name$&&et.$elm$.setAttribute("name",et.$name$),ne.parentNode.insertBefore(et.$elm$,ne),ne.remove(),"0"===et.$depth$&&(W[et.$index$]=et.$elm$)),U.push(et),b.$children$||(b.$children$=[]),b.$children$[et.$index$]=et):"r"===Je&&(W?ne.remove():(ie["s-cr"]=ne,ne["s-cn"]=!0))));else if(b&&"style"===b.$tag$){const Wt=Kt(null,ne.textContent);Wt.$elm$=ne,Wt.$index$="0",b.$children$=[Wt]}},se=(b,P)=>{if(1===b.nodeType){let U=0;for(;U<b.childNodes.length;U++)se(b.childNodes[U],P);if(b.shadowRoot)for(U=0;U<b.shadowRoot.childNodes.length;U++)se(b.shadowRoot.childNodes[U],P)}else if(8===b.nodeType){const U=b.nodeValue.split(".");"o"===U[0]&&(P.set(U[1]+"."+U[2],b),b.nodeValue="",b["s-en"]=U[3])}},ut=b=>Yd.push(b),cn=b=>ao(b).$modeName$,un=b=>ao(b).$hostElement$,dn=(b,P,U)=>{const W=un(b);return{emit:ie=>zt(W,P,{bubbles:!!(4&U),composed:!!(2&U),cancelable:!!(1&U),detail:ie})}},zt=(b,P,U)=>{const W=ir.ce(P,U);return b.dispatchEvent(W),W},nr=new WeakMap,Sn=(b,P,U)=>{let W=Du.get(b);Kp&&U?(W=W||new CSSStyleSheet,"string"==typeof W?W=P:W.replaceSync(P)):W=P,Du.set(b,W)},On=(b,P,U)=>{var W;const ie=kn(P,U),ne=Du.get(ie);if(b=11===b.nodeType?b:Or,ne)if("string"==typeof ne){let Je,Be=nr.get(b=b.head||b);if(Be||nr.set(b,Be=new Set),!Be.has(ie)){if(b.host&&(Je=b.querySelector(`[${ce}="${ie}"]`)))Je.innerHTML=ne;else{Je=Or.createElement("style"),Je.innerHTML=ne;const Ge=null!=(W=ir.$nonce$)?W:Ie(Or);null!=Ge&&Je.setAttribute("nonce",Ge),b.insertBefore(Je,b.querySelector("link"))}4&P.$flags$&&(Je.innerHTML+=qt),Be&&Be.add(ie)}}else b.adoptedStyleSheets.includes(ne)||(b.adoptedStyleSheets=[...b.adoptedStyleSheets,ne]);return ie},kn=(b,P)=>"sc-"+(P&&32&b.$flags$?b.$tagName$+"-"+P:b.$tagName$),it=b=>b.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),ke=(b,P,U,W,ie,ne)=>{if(U!==W){let Be=Gp(b,P),Je=P.toLowerCase();if("class"===P){const Ge=b.classList,et=kt(U),Lt=kt(W);Ge.remove(...et.filter(Wt=>Wt&&!Lt.includes(Wt))),Ge.add(...Lt.filter(Wt=>Wt&&!et.includes(Wt)))}else if("style"===P){for(const Ge in U)(!W||null==W[Ge])&&(Ge.includes("-")?b.style.removeProperty(Ge):b.style[Ge]="");for(const Ge in W)(!U||W[Ge]!==U[Ge])&&(Ge.includes("-")?b.style.setProperty(Ge,W[Ge]):b.style[Ge]=W[Ge])}else if("key"!==P)if("ref"===P)W&&W(b);else if(Be||"o"!==P[0]||"n"!==P[1]){const Ge=Ne(W);if((Be||Ge&&null!==W)&&!ie)try{if(b.tagName.includes("-"))b[P]=W;else{const Lt=null==W?"":W;"list"===P?Be=!1:(null==U||b[P]!=Lt)&&(b[P]=Lt)}}catch{}let et=!1;Je!==(Je=Je.replace(/^xlink\:?/,""))&&(P=Je,et=!0),null==W||!1===W?(!1!==W||""===b.getAttribute(P))&&(et?b.removeAttributeNS(en,P):b.removeAttribute(P)):(!Be||4&ne||ie)&&!Ge&&(W=!0===W?"":W,et?b.setAttributeNS(en,P,W):b.setAttribute(P,W))}else if(P="-"===P[2]?P.slice(3):Gp(Oa,Je)?Je.slice(2):Je[2]+P.slice(3),U||W){const Ge=P.endsWith(Pn);P=P.replace(rr,""),U&&ir.rel(b,P,U,Ge),W&&ir.ael(b,P,W,Ge)}}},Me=/\s/,kt=b=>b?b.split(Me):[],Pn="Capture",rr=new RegExp(Pn+"$"),jn=(b,P,U)=>{const W=11===P.$elm$.nodeType&&P.$elm$.host?P.$elm$.host:P.$elm$,ie=b&&b.$attrs$||Xe,ne=P.$attrs$||Xe;for(const Be of zn(Object.keys(ie)))Be in ne||ke(W,Be,ie[Be],void 0,U,P.$flags$);for(const Be of zn(Object.keys(ne)))ke(W,Be,ie[Be],ne[Be],U,P.$flags$)};function zn(b){return b.includes("ref")?[...b.filter(P=>"ref"!==P),"ref"]:b}var An,Wn,Kn,vr=!1,Ei=!1,si=!1,pr=!1,Mi=(b,P,U,W)=>{var ie;const ne=P.$children$[U];let Je,Ge,et,Be=0;if(vr||(si=!0,"slot"===ne.$tag$&&(An&&W.classList.add(An+"-s"),ne.$flags$|=ne.$children$?2:1)),null!==ne.$text$)Je=ne.$elm$=Or.createTextNode(ne.$text$);else if(1&ne.$flags$)Je=ne.$elm$=Or.createTextNode("");else{if(pr||(pr="svg"===ne.$tag$),Je=ne.$elm$=Or.createElementNS(pr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ne.$flags$?"slot-fb":ne.$tag$),pr&&"foreignObject"===ne.$tag$&&(pr=!1),jn(null,ne,pr),(b=>null!=b)(An)&&Je["s-si"]!==An&&Je.classList.add(Je["s-si"]=An),ne.$children$)for(Be=0;Be<ne.$children$.length;++Be)Ge=Mi(b,ne,Be,Je),Ge&&Je.appendChild(Ge);"svg"===ne.$tag$?pr=!1:"foreignObject"===Je.tagName&&(pr=!0)}return Je["s-hn"]=Kn,3&ne.$flags$&&(Je["s-sr"]=!0,Je["s-cr"]=Wn,Je["s-sn"]=ne.$name$||"",Je["s-rf"]=null==(ie=ne.$attrs$)?void 0:ie.ref,et=b&&b.$children$&&b.$children$[U],et&&et.$tag$===ne.$tag$&&b.$elm$&&vo(b.$elm$)),Je},vo=b=>{ir.$flags$|=1;const P=b.closest(Kn.toLowerCase());if(null!=P){const U=Array.from(P.childNodes).find(ie=>ie["s-cr"]),W=Array.from(b.childNodes);for(const ie of U?W.reverse():W)null!=ie["s-sh"]&&(j(P,ie,null!=U?U:null),ie["s-sh"]=void 0,si=!0)}ir.$flags$&=-2},Bn=(b,P)=>{ir.$flags$|=1;const U=Array.from(b.childNodes);if(b["s-sr"]){let W=b;for(;W=W.nextSibling;)W&&W["s-sn"]===b["s-sn"]&&W["s-sh"]===Kn&&U.push(W)}for(let W=U.length-1;W>=0;W--){const ie=U[W];ie["s-hn"]!==Kn&&ie["s-ol"]&&(j(ti(ie),ie,kr(ie)),ie["s-ol"].remove(),ie["s-ol"]=void 0,ie["s-sh"]=void 0,si=!0),P&&Bn(ie,P)}ir.$flags$&=-2},ai=(b,P,U,W,ie,ne)=>{let Je,Be=b["s-cr"]&&b["s-cr"].parentNode||b;for(Be.shadowRoot&&Be.tagName===Kn&&(Be=Be.shadowRoot);ie<=ne;++ie)W[ie]&&(Je=Mi(null,U,ie,b),Je&&(W[ie].$elm$=Je,j(Be,Je,kr(P))))},so=(b,P,U)=>{for(let W=P;W<=U;++W){const ie=b[W];if(ie){const ne=ie.$elm$;Y(ie),ne&&(Ei=!0,ne["s-ol"]?ne["s-ol"].remove():Bn(ne,!0),ne.remove())}}},wr=(b,P,U=!1)=>b.$tag$===P.$tag$&&("slot"===b.$tag$?b.$name$===P.$name$:!!U||b.$key$===P.$key$),kr=b=>b&&b["s-ol"]||b,ti=b=>(b["s-ol"]?b["s-ol"]:b).parentNode,xi=(b,P,U=!1)=>{const W=P.$elm$=b.$elm$,ie=b.$children$,ne=P.$children$,Be=P.$tag$,Je=P.$text$;let Ge;null===Je?(pr="svg"===Be||"foreignObject"!==Be&&pr,"slot"!==Be||vr?jn(b,P,pr):b.$name$!==P.$name$&&(P.$elm$["s-sn"]=P.$name$||"",vo(P.$elm$.parentElement)),null!==ie&&null!==ne?((b,P,U,W,ie=!1)=>{let nn,hn,ne=0,Be=0,Je=0,Ge=0,et=P.length-1,Lt=P[0],Wt=P[et],Qt=W.length-1,sn=W[0],lr=W[Qt];for(;ne<=et&&Be<=Qt;)if(null==Lt)Lt=P[++ne];else if(null==Wt)Wt=P[--et];else if(null==sn)sn=W[++Be];else if(null==lr)lr=W[--Qt];else if(wr(Lt,sn,ie))xi(Lt,sn,ie),Lt=P[++ne],sn=W[++Be];else if(wr(Wt,lr,ie))xi(Wt,lr,ie),Wt=P[--et],lr=W[--Qt];else if(wr(Lt,lr,ie))("slot"===Lt.$tag$||"slot"===lr.$tag$)&&Bn(Lt.$elm$.parentNode,!1),xi(Lt,lr,ie),j(b,Lt.$elm$,Wt.$elm$.nextSibling),Lt=P[++ne],lr=W[--Qt];else if(wr(Wt,sn,ie))("slot"===Lt.$tag$||"slot"===lr.$tag$)&&Bn(Wt.$elm$.parentNode,!1),xi(Wt,sn,ie),j(b,Wt.$elm$,Lt.$elm$),Wt=P[--et],sn=W[++Be];else{for(Je=-1,Ge=ne;Ge<=et;++Ge)if(P[Ge]&&null!==P[Ge].$key$&&P[Ge].$key$===sn.$key$){Je=Ge;break}Je>=0?(hn=P[Je],hn.$tag$!==sn.$tag$?nn=Mi(P&&P[Be],U,Je,b):(xi(hn,sn,ie),P[Je]=void 0,nn=hn.$elm$),sn=W[++Be]):(nn=Mi(P&&P[Be],U,Be,b),sn=W[++Be]),nn&&j(ti(Lt.$elm$),nn,kr(Lt.$elm$))}ne>et?ai(b,null==W[Qt+1]?null:W[Qt+1].$elm$,U,W,Be,Qt):Be>Qt&&so(P,ne,et)})(W,ie,P,ne,U):null!==ne?(null!==b.$text$&&(W.textContent=""),ai(W,null,P,ne,0,ne.length-1)):null!==ie&&so(ie,0,ie.length-1),pr&&"svg"===Be&&(pr=!1)):(Ge=W["s-cr"])?Ge.parentNode.textContent=Je:b.$text$!==Je&&(W.data=Je)},Qi=b=>{const P=b.childNodes;for(const U of P)if(1===U.nodeType){if(U["s-sr"]){const W=U["s-sn"];U.hidden=!1;for(const ie of P)if(ie!==U)if(ie["s-hn"]!==U["s-hn"]||""!==W){if(1===ie.nodeType&&(W===ie.getAttribute("slot")||W===ie["s-sn"])||3===ie.nodeType&&W===ie["s-sn"]){U.hidden=!0;break}}else if(1===ie.nodeType||3===ie.nodeType&&""!==ie.textContent.trim()){U.hidden=!0;break}}Qi(U)}},Mn=[],yo=b=>{let P,U,W;for(const ie of b.childNodes){if(ie["s-sr"]&&(P=ie["s-cr"])&&P.parentNode){U=P.parentNode.childNodes;const ne=ie["s-sn"];for(W=U.length-1;W>=0;W--)if(P=U[W],!(P["s-cn"]||P["s-nr"]||P["s-hn"]===ie["s-hn"]||P["s-sh"]&&P["s-sh"]===ie["s-hn"]))if(jo(P,ne)){let Be=Mn.find(Je=>Je.$nodeToRelocate$===P);Ei=!0,P["s-sn"]=P["s-sn"]||ne,Be?(Be.$nodeToRelocate$["s-sh"]=ie["s-hn"],Be.$slotRefNode$=ie):(P["s-sh"]=ie["s-hn"],Mn.push({$slotRefNode$:ie,$nodeToRelocate$:P})),P["s-sr"]&&Mn.map(Je=>{jo(Je.$nodeToRelocate$,P["s-sn"])&&(Be=Mn.find(Ge=>Ge.$nodeToRelocate$===P),Be&&!Je.$slotRefNode$&&(Je.$slotRefNode$=Be.$slotRefNode$))})}else Mn.some(Be=>Be.$nodeToRelocate$===P)||Mn.push({$nodeToRelocate$:P})}1===ie.nodeType&&yo(ie)}},jo=(b,P)=>1===b.nodeType?null===b.getAttribute("slot")&&""===P||b.getAttribute("slot")===P:b["s-sn"]===P||""===P,Y=b=>{b.$attrs$&&b.$attrs$.ref&&b.$attrs$.ref(null),b.$children$&&b.$children$.map(Y)},j=(b,P,U)=>{const W=null==b?void 0:b.insertBefore(P,U);return F(P,b),W},M=b=>b?b["s-rsc"]||b["s-si"]||b["s-sc"]||M(b.parentElement):void 0,F=(b,P)=>{var U,W,ie;if(b&&P){const ne=b["s-rsc"],Be=M(P);ne&&null!=(U=b.classList)&&U.contains(ne)&&b.classList.remove(ne),Be&&(b["s-rsc"]=Be,(null==(W=b.classList)||!W.contains(Be))&&(null==(ie=b.classList)||ie.add(Be)))}},oe=(b,P)=>{P&&!b.$onRenderResolve$&&P["s-p"]&&P["s-p"].push(new Promise(U=>b.$onRenderResolve$=U))},Pe=(b,P)=>{if(b.$flags$|=16,!(4&b.$flags$))return oe(b,b.$ancestorComponent$),bl(()=>gt(b,P));b.$flags$|=512},gt=(b,P)=>{const W=b.$lazyInstance$;let ie;return P&&(b.$flags$|=256,b.$queuedListeners$&&(b.$queuedListeners$.map(([ne,Be])=>bi(W,ne,Be)),b.$queuedListeners$=void 0),ie=bi(W,"componentWillLoad")),ie=yn(ie,()=>bi(W,"componentWillRender")),yn(ie,()=>Hn(b,W,P))},yn=(b,P)=>Ct(b)?b.then(P):P(),Ct=b=>b instanceof Promise||b&&b.then&&"function"==typeof b.then,Hn=function(){var b=(0,E.A)(function*(P,U,W){var ie;const ne=P.$hostElement$,Je=ne["s-rc"];W&&(b=>{const P=b.$cmpMeta$,U=b.$hostElement$,W=P.$flags$,ne=On(U.shadowRoot?U.shadowRoot:U.getRootNode(),P,b.$modeName$);10&W&&(U["s-sc"]=ne,U.classList.add(ne+"-h"),2&W&&U.classList.add(ne+"-s"))})(P);on(P,U,ne,W),Je&&(Je.map(et=>et()),ne["s-rc"]=void 0);{const et=null!=(ie=ne["s-p"])?ie:[],Lt=()=>he(P);0===et.length?Lt():(Promise.all(et).then(Lt),P.$flags$|=4,et.length=0)}});return function(U,W,ie){return b.apply(this,arguments)}}(),on=(b,P,U,W)=>{try{P=P.render&&P.render(),b.$flags$&=-17,b.$flags$|=2,((b,P,U=!1)=>{var W,ie,ne,Be,Je;const Ge=b.$hostElement$,et=b.$cmpMeta$,Lt=b.$vnode$||Kt(null,null),Wt=(b=>b&&b.$tag$===Ve)(P)?P:mt(null,null,P);if(Kn=Ge.tagName,et.$attrsToReflect$&&(Wt.$attrs$=Wt.$attrs$||{},et.$attrsToReflect$.map(([Qt,sn])=>Wt.$attrs$[sn]=Ge[Qt])),U&&Wt.$attrs$)for(const Qt of Object.keys(Wt.$attrs$))Ge.hasAttribute(Qt)&&!["key","ref","style","class"].includes(Qt)&&(Wt.$attrs$[Qt]=Ge[Qt]);if(Wt.$tag$=null,Wt.$flags$|=4,b.$vnode$=Wt,Wt.$elm$=Lt.$elm$=Ge.shadowRoot||Ge,An=Ge["s-sc"],vr=!!(1&et.$flags$),Wn=Ge["s-cr"],Ei=!1,xi(Lt,Wt,U),ir.$flags$|=1,si){yo(Wt.$elm$);for(const Qt of Mn){const sn=Qt.$nodeToRelocate$;if(!sn["s-ol"]){const lr=Or.createTextNode("");lr["s-nr"]=sn,j(sn.parentNode,sn["s-ol"]=lr,sn)}}for(const Qt of Mn){const sn=Qt.$nodeToRelocate$,lr=Qt.$slotRefNode$;if(lr){const nn=lr.parentNode;let hn=lr.nextSibling;if(hn&&1===hn.nodeType){let zo=null==(W=sn["s-ol"])?void 0:W.previousSibling;for(;zo;){let ci=null!=(ie=zo["s-nr"])?ie:null;if(ci&&ci["s-sn"]===sn["s-sn"]&&nn===ci.parentNode){for(ci=ci.nextSibling;ci===sn||null!=ci&&ci["s-sr"];)ci=null==ci?void 0:ci.nextSibling;if(!ci||!ci["s-nr"]){hn=ci;break}}zo=zo.previousSibling}}(!hn&&nn!==sn.parentNode||sn.nextSibling!==hn)&&sn!==hn&&(j(nn,sn,hn),1===sn.nodeType&&(sn.hidden=null!=(ne=sn["s-ih"])&&ne)),sn&&"function"==typeof lr["s-rf"]&&lr["s-rf"](sn)}else 1===sn.nodeType&&(U&&(sn["s-ih"]=null!=(Be=sn.hidden)&&Be),sn.hidden=!0)}}if(Ei&&Qi(Wt.$elm$),ir.$flags$&=-2,Mn.length=0,2&et.$flags$)for(const Qt of Wt.$elm$.childNodes)Qt["s-hn"]!==Kn&&!Qt["s-sh"]&&(U&&null==Qt["s-ih"]&&(Qt["s-ih"]=null!=(Je=Qt.hidden)&&Je),Qt.hidden=!0);Wn=void 0})(b,P,W)}catch(ie){li(ie,b.$hostElement$)}return null},he=b=>{const U=b.$hostElement$,ie=b.$lazyInstance$,ne=b.$ancestorComponent$;bi(ie,"componentDidRender"),64&b.$flags$?bi(ie,"componentDidUpdate"):(b.$flags$|=64,Na(U),bi(ie,"componentDidLoad"),b.$onReadyResolve$(U),ne||$r()),b.$onInstanceResolve$(U),b.$onRenderResolve$&&(b.$onRenderResolve$(),b.$onRenderResolve$=void 0),512&b.$flags$&&la(()=>Pe(b,!1)),b.$flags$&=-517},tn=b=>{{const P=ao(b),U=P.$hostElement$.isConnected;return U&&2==(18&P.$flags$)&&Pe(P,!1),U}},$r=b=>{Na(Or.documentElement),la(()=>zt(Oa,"appload",{detail:{namespace:"ionic"}}))},bi=(b,P,U)=>{if(b&&b[P])try{return b[P](U)}catch(W){li(W)}},Na=b=>b.classList.add("hydrated"),Bi=(b,P,U)=>{var W;const ie=b.prototype;if(P.$members$){b.watchers&&(P.$watchers$=b.watchers);const ne=Object.entries(P.$members$);if(ne.map(([Be,[Je]])=>{31&Je||2&U&&32&Je?Object.defineProperty(ie,Be,{get(){return((b,P)=>ao(this).$instanceValues$.get(P))(0,Be)},set(Ge){((b,P,U,W)=>{const ie=ao(b);if(!ie)throw new Error(`Couldn't find host element for "${W.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const ne=ie.$hostElement$,Be=ie.$instanceValues$.get(P),Je=ie.$flags$,Ge=ie.$lazyInstance$;U=((b,P)=>null==b||Ne(b)?b:4&P?"false"!==b&&(""===b||!!b):2&P?parseFloat(b):1&P?String(b):b)(U,W.$members$[P][0]);const et=Number.isNaN(Be)&&Number.isNaN(U);if((!(8&Je)||void 0===Be)&&U!==Be&&!et&&(ie.$instanceValues$.set(P,U),Ge)){if(W.$watchers$&&128&Je){const Wt=W.$watchers$[P];Wt&&Wt.map(Qt=>{try{Ge[Qt](U,Be,P)}catch(sn){li(sn,ne)}})}2==(18&Je)&&Pe(ie,!1)}})(this,Be,Ge,P)},configurable:!0,enumerable:!0}):1&U&&64&Je&&Object.defineProperty(ie,Be,{value(...Ge){var et;const Lt=ao(this);return null==(et=null==Lt?void 0:Lt.$onInstancePromise$)?void 0:et.then(()=>{var Wt;return null==(Wt=Lt.$lazyInstance$)?void 0:Wt[Be](...Ge)})}})}),1&U){const Be=new Map;ie.attributeChangedCallback=function(Je,Ge,et){ir.jmp(()=>{var Lt;const Wt=Be.get(Je);if(this.hasOwnProperty(Wt))et=this[Wt],delete this[Wt];else{if(ie.hasOwnProperty(Wt)&&"number"==typeof this[Wt]&&this[Wt]==et)return;if(null==Wt){const Qt=ao(this),sn=null==Qt?void 0:Qt.$flags$;if(sn&&!(8&sn)&&128&sn&&et!==Ge){const lr=Qt.$lazyInstance$,nn=null==(Lt=P.$watchers$)?void 0:Lt[Je];null==nn||nn.forEach(hn=>{null!=lr[hn]&&lr[hn].call(lr,et,Ge,Je)})}return}}this[Wt]=(null!==et||"boolean"!=typeof this[Wt])&&et})},b.observedAttributes=Array.from(new Set([...Object.keys(null!=(W=P.$watchers$)?W:{}),...ne.filter(([Je,Ge])=>15&Ge[0]).map(([Je,Ge])=>{var et;const Lt=Ge[1]||Je;return Be.set(Lt,Je),512&Ge[0]&&(null==(et=P.$attrsToReflect$)||et.push([Je,Lt])),Lt})]))}}return b},Ui=function(){var b=(0,E.A)(function*(P,U,W,ie){let ne;if(!(32&U.$flags$)){if(U.$flags$|=32,W.$lazyBundleId$){if(ne=qp(W),ne.then){const Lt=()=>{};ne=yield ne,Lt()}ne.isProxied||(W.$watchers$=ne.watchers,Bi(ne,W,2),ne.isProxied=!0);const et=()=>{};U.$flags$|=8;try{new ne(U)}catch(Lt){li(Lt)}U.$flags$&=-9,U.$flags$|=128,et(),Io(U.$lazyInstance$)}else ne=P.constructor,customElements.whenDefined(W.$tagName$).then(()=>U.$flags$|=128);if(ne.style){let et=ne.style;"string"!=typeof et&&(et=et[U.$modeName$=(b=>Yd.map(P=>P(b)).find(P=>!!P))(P)]);const Lt=kn(W,U.$modeName$);if(!Du.has(Lt)){const Wt=()=>{};Sn(Lt,et,!!(1&W.$flags$)),Wt()}}}const Be=U.$ancestorComponent$,Je=()=>Pe(U,!0);Be&&Be["s-rc"]?Be["s-rc"].push(Je):Je()});return function(U,W,ie,ne){return b.apply(this,arguments)}}(),Io=b=>{bi(b,"connectedCallback")},de=b=>{const P=b["s-cr"]=Or.createComment("");P["s-cn"]=!0,j(b,P,b.firstChild)},je=b=>{bi(b,"disconnectedCallback")},Ft=function(){var b=(0,E.A)(function*(P){if(!(1&ir.$flags$)){const U=ao(P);U.$rmListeners$&&(U.$rmListeners$.map(W=>W()),U.$rmListeners$=void 0),null!=U&&U.$lazyInstance$?je(U.$lazyInstance$):null!=U&&U.$onReadyPromise$&&U.$onReadyPromise$.then(()=>je(U.$lazyInstance$))}});return function(U){return b.apply(this,arguments)}}(),J=b=>{const P=b.cloneNode;b.cloneNode=function(U){const W=this,ie=W.shadowRoot&&aa,ne=P.call(W,!!ie&&U);if(!ie&&U){let Je,Ge,Be=0;const et=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-rsc"];for(;Be<W.childNodes.length;Be++)Je=W.childNodes[Be]["s-nr"],Ge=et.every(Lt=>!W.childNodes[Be][Lt]),Je&&(ne.__appendChild?ne.__appendChild(Je.cloneNode(!0)):ne.appendChild(Je.cloneNode(!0))),Ge&&ne.appendChild(W.childNodes[Be].cloneNode(!0))}return ne}},dt=b=>{b.__appendChild=b.appendChild,b.appendChild=function(P){const U=P["s-sn"]=El(P),W=Ni(this.childNodes,U,this.tagName);if(W){const ie=Kd(W,U),ne=ie[ie.length-1],Be=j(ne.parentNode,P,ne.nextSibling);return Qi(this),Be}return this.__appendChild(P)}},Xt=b=>{b.__removeChild=b.removeChild,b.removeChild=function(P){if(P&&typeof P["s-sn"]<"u"){const U=Ni(this.childNodes,P["s-sn"],this.tagName);if(U){const ie=Kd(U,P["s-sn"]).find(ne=>ne===P);if(ie)return ie.remove(),void Qi(this)}}return this.__removeChild(P)}},Ht=b=>{const P=b.prepend;b.prepend=function(...U){U.forEach(W=>{"string"==typeof W&&(W=this.ownerDocument.createTextNode(W));const ie=W["s-sn"]=El(W),ne=Ni(this.childNodes,ie,this.tagName);if(ne){const Be=document.createTextNode("");Be["s-nr"]=W,ne["s-cr"].parentNode.__appendChild(Be),W["s-ol"]=Be;const Ge=Kd(ne,ie)[0];return j(Ge.parentNode,W,Ge.nextSibling)}return 1===W.nodeType&&W.getAttribute("slot")&&(W.hidden=!0),P.call(this,W)})}},dr=b=>{b.append=function(...P){P.forEach(U=>{"string"==typeof U&&(U=this.ownerDocument.createTextNode(U)),this.appendChild(U)})}},Qn=b=>{const P=b.insertAdjacentHTML;b.insertAdjacentHTML=function(U,W){if("afterbegin"!==U&&"beforeend"!==U)return P.call(this,U,W);const ie=this.ownerDocument.createElement("_");let ne;if(ie.innerHTML=W,"afterbegin"===U)for(;ne=ie.firstChild;)this.prepend(ne);else if("beforeend"===U)for(;ne=ie.firstChild;)this.append(ne)}},Yn=b=>{b.insertAdjacentText=function(P,U){this.insertAdjacentHTML(P,U)}},Bp=b=>{const P=b.insertAdjacentElement;b.insertAdjacentElement=function(U,W){return"afterbegin"!==U&&"beforeend"!==U?P.call(this,U,W):"afterbegin"===U?(this.prepend(W),W):("beforeend"===U&&this.append(W),W)}},Il=b=>{const P=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(b,"__textContent",P),Object.defineProperty(b,"textContent",{get(){return" "+_n(this.childNodes).map(ie=>{var ne,Be;const Je=[];let Ge=ie.nextSibling;for(;Ge&&Ge["s-sn"]===ie["s-sn"];)(3===Ge.nodeType||1===Ge.nodeType)&&Je.push(null!=(Be=null==(ne=Ge.textContent)?void 0:ne.trim())?Be:""),Ge=Ge.nextSibling;return Je.filter(et=>""!==et).join(" ")}).filter(ie=>""!==ie).join(" ")+" "},set(U){_n(this.childNodes).forEach(ie=>{let ne=ie.nextSibling;for(;ne&&ne["s-sn"]===ie["s-sn"];){const Be=ne;ne=ne.nextSibling,Be.remove()}if(""===ie["s-sn"]){const Be=this.ownerDocument.createTextNode(U);Be["s-sn"]="",j(ie.parentElement,Be,ie.nextSibling)}else ie.remove()})}})},mr=(b,P)=>{class U extends Array{item(ie){return this[ie]}}if(8&P.$flags$){const W=b.__lookupGetter__("childNodes");Object.defineProperty(b,"children",{get(){return this.childNodes.map(ie=>1===ie.nodeType)}}),Object.defineProperty(b,"childElementCount",{get:()=>b.children.length}),Object.defineProperty(b,"childNodes",{get(){const ie=W.call(this);if(!(1&ir.$flags$)&&2&ao(this).$flags$){const ne=new U;for(let Be=0;Be<ie.length;Be++){const Je=ie[Be]["s-nr"];Je&&ne.push(Je)}return ne}return U.from(ie)}})}},_n=b=>{const P=[];for(const U of Array.from(b))U["s-sr"]&&P.push(U),P.push(..._n(U.childNodes));return P},El=b=>b["s-sn"]||1===b.nodeType&&b.getAttribute("slot")||"",Ni=(b,P,U)=>{let ie,W=0;for(;W<b.length;W++)if(ie=b[W],ie["s-sr"]&&ie["s-sn"]===P&&ie["s-hn"]===U||(ie=Ni(ie.childNodes,P,U),ie))return ie;return null},Kd=(b,P)=>{const U=[b];for(;(b=b.nextSibling)&&b["s-sn"]===P;)U.push(b);return U},Qd=(b,P={})=>{var U;const ie=[],ne=P.exclude||[],Be=Oa.customElements,Je=Or.head,Ge=Je.querySelector("meta[charset]"),et=Or.createElement("style"),Lt=[],Wt=Or.querySelectorAll(`[${ce}]`);let Qt,sn=!0,lr=0;for(Object.assign(ir,P),ir.$resourcesUrl$=new URL(P.resourcesUrl||"./",Or.baseURI).href,ir.$flags$|=2;lr<Wt.length;lr++)Sn(Wt[lr].getAttribute(ce),it(Wt[lr].innerHTML),!0);let nn=!1;if(b.map(hn=>{hn[1].map(zo=>{var ci;const lo={$flags$:zo[0],$tagName$:zo[1],$members$:zo[2],$listeners$:zo[3]};4&lo.$flags$&&(nn=!0),lo.$members$=zo[2],lo.$listeners$=zo[3],lo.$attrsToReflect$=[],lo.$watchers$=null!=(ci=zo[4])?ci:{};const Ru=lo.$tagName$,_c=class extends HTMLElement{constructor(Eo){super(Eo),Au(Eo=this,lo),1&lo.$flags$&&Eo.attachShadow({mode:"open",delegatesFocus:!!(16&lo.$flags$)})}connectedCallback(){Qt&&(clearTimeout(Qt),Qt=null),sn?Lt.push(this):ir.jmp(()=>(b=>{if(!(1&ir.$flags$)){const P=ao(b),U=P.$cmpMeta$,W=()=>{};if(1&P.$flags$)Up(b,P,U.$listeners$),null!=P&&P.$lazyInstance$?Io(P.$lazyInstance$):null!=P&&P.$onReadyPromise$&&P.$onReadyPromise$.then(()=>Io(P.$lazyInstance$));else{let ie;if(P.$flags$|=1,ie=b.getAttribute(St),ie){if(1&U.$flags$){const ne=On(b.shadowRoot,U,b.getAttribute("s-mode"));b.classList.remove(ne+"-h",ne+"-s")}((b,P,U,W)=>{const ne=b.shadowRoot,Be=[],Ge=ne?[]:null,et=W.$vnode$=Kt(P,null);ir.$orgLocNodes$||se(Or.body,ir.$orgLocNodes$=new Map),b[St]=U,b.removeAttribute(St),ae(et,Be,[],Ge,b,b,U),Be.map(Lt=>{const Wt=Lt.$hostId$+"."+Lt.$nodeId$,Qt=ir.$orgLocNodes$.get(Wt),sn=Lt.$elm$;Qt&&aa&&""===Qt["s-en"]&&Qt.parentNode.insertBefore(sn,Qt.nextSibling),ne||(sn["s-hn"]=P,Qt&&(sn["s-ol"]=Qt,sn["s-ol"]["s-nr"]=sn)),ir.$orgLocNodes$.delete(Wt)}),ne&&Ge.map(Lt=>{Lt&&ne.appendChild(Lt)})})(b,U.$tagName$,ie,P)}ie||12&U.$flags$&&de(b);{let ne=b;for(;ne=ne.parentNode||ne.host;)if(1===ne.nodeType&&ne.hasAttribute("s-id")&&ne["s-p"]||ne["s-p"]){oe(P,P.$ancestorComponent$=ne);break}}U.$members$&&Object.entries(U.$members$).map(([ne,[Be]])=>{if(31&Be&&b.hasOwnProperty(ne)){const Je=b[ne];delete b[ne],b[ne]=Je}}),Ui(b,P,U)}W()}})(this))}disconnectedCallback(){ir.jmp(()=>Ft(this))}componentOnReady(){return ao(this).$onReadyPromise$}};2&lo.$flags$&&((b,P)=>{J(b),dt(b),dr(b),Ht(b),Bp(b),Qn(b),Yn(b),Il(b),mr(b,P),Xt(b)})(_c.prototype,lo),lo.$lazyBundleId$=hn[0],!ne.includes(Ru)&&!Be.get(Ru)&&(ie.push(Ru),Be.define(Ru,Bi(_c,lo,1)))})}),ie.length>0&&(nn&&(et.textContent+=qt),et.textContent+=ie+"{visibility:hidden}.hydrated{visibility:inherit}",et.innerHTML.length)){et.setAttribute("data-styles","");const hn=null!=(U=ir.$nonce$)?U:Ie(Or);null!=hn&&et.setAttribute("nonce",hn),Je.insertBefore(et,Ge?Ge.nextSibling:Je.firstChild)}sn=!1,Lt.length?Lt.map(hn=>hn.connectedCallback()):ir.jmp(()=>Qt=setTimeout($r,30))},Up=(b,P,U,W)=>{U&&U.map(([ie,ne,Be])=>{const Je=jp(b,ie),Ge=zs(P,Be),et=zp(ie);ir.ael(Je,ne,Ge,et),(P.$rmListeners$=P.$rmListeners$||[]).push(()=>ir.rel(Je,ne,Ge,et))})},zs=(b,P)=>U=>{try{256&b.$flags$?b.$lazyInstance$[P](U):(b.$queuedListeners$=b.$queuedListeners$||[]).push([P,U])}catch(W){li(W)}},jp=(b,P)=>4&P?Or:8&P?Oa:16&P?Or.body:b,zp=b=>Wp?{passive:!!(1&b),capture:!!(2&b)}:!!(2&b),ka=new WeakMap,ao=b=>ka.get(b),xv=(b,P)=>ka.set(P.$lazyInstance$=b,P),Au=(b,P)=>{const U={$flags$:0,$hostElement$:b,$cmpMeta$:P,$instanceValues$:new Map};return U.$onInstancePromise$=new Promise(W=>U.$onInstanceResolve$=W),U.$onReadyPromise$=new Promise(W=>U.$onReadyResolve$=W),b["s-p"]=[],b["s-rc"]=[],Up(b,U,P.$listeners$),ka.set(b,U)},Gp=(b,P)=>P in b,li=(b,P)=>(0,console.error)(b,P),In=new Map,qp=(b,P,U)=>{const W=b.$tagName$.replace(/-/g,"_"),ie=b.$lazyBundleId$,ne=In.get(ie);return ne?ne[W]:pe(8996)(`./${ie}.entry.js`).then(Be=>(In.set(ie,Be),Be[W]),li)},Du=new Map,Yd=[],Oa=typeof window<"u"?window:{},Or=Oa.document||{head:{}},ir={$flags$:0,$resourcesUrl$:"",jmp:b=>b(),raf:b=>requestAnimationFrame(b),ael:(b,P,U,W)=>b.addEventListener(P,U,W),rel:(b,P,U,W)=>b.removeEventListener(P,U,W),ce:(b,P)=>new CustomEvent(b,P)},ki=b=>{Object.assign(ir,b)},aa=!0,Wp=(()=>{let b=!1;try{Or.addEventListener("e",null,Object.defineProperty({},"passive",{get(){b=!0}}))}catch{}return b})(),Kp=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Hs=!1,Fa=[],La=[],Va=(b,P)=>U=>{b.push(U),Hs||(Hs=!0,P&&4&ir.$flags$?la(Et):ir.raf(Et))},gc=b=>{for(let P=0;P<b.length;P++)try{b[P](performance.now())}catch(U){li(U)}b.length=0},Et=()=>{gc(Fa),gc(La),(Hs=Fa.length>0)&&ir.raf(Et)},la=b=>Promise.resolve(void 0).then(b),Su=Va(Fa,!1),bl=Va(La,!0)},2725:(fr,rn,pe)=>{"use strict";pe.d(rn,{b:()=>Xe,c:()=>vt,d:()=>me,e:()=>mt,g:()=>G,l:()=>qt,s:()=>Kt,t:()=>be,w:()=>en});var E=pe(467),De=pe(3664),L=pe(9672),at=pe(4929),Gt=pe(4920);const Xe="ionViewWillLeave",vt="ionViewDidLeave",me="ionViewWillUnload",re=S=>{S.tabIndex=-1,S.focus()},Ne=S=>null!==S.offsetParent,Re="ion-last-focus",Se_saveViewFocus=k=>{if(De.c.get("focusManagerPriority",!1)){const ae=document.activeElement;null!==ae&&null!=k&&k.contains(ae)&&ae.setAttribute(Re,"true")}},Se_setViewFocus=k=>{const H=De.c.get("focusManagerPriority",!1);if(Array.isArray(H)&&!k.contains(document.activeElement)){const ae=k.querySelector(`[${Re}]`);if(ae&&Ne(ae))return void re(ae);for(const se of H)switch(se){case"content":const We=k.querySelector('main, [role="main"]');if(We&&Ne(We))return void re(We);break;case"heading":const ut=k.querySelector('h1, [role="heading"][aria-level="1"]');if(ut&&Ne(ut))return void re(ut);break;case"banner":const cn=k.querySelector('header, [role="banner"]');if(cn&&Ne(cn))return void re(cn);break;default:(0,at.p)(`Unrecognized focus manager priority value ${se}`)}re(k)}},be=S=>new Promise((D,k)=>{(0,L.w)(()=>{Ke(S),we(S).then(H=>{H.animation&&H.animation.destroy(),ct(S),D(H)},H=>{ct(S),k(H)})})}),Ke=S=>{const D=S.enteringEl,k=S.leavingEl;Se_saveViewFocus(k),Ve(D,k,S.direction),S.showGoBack?D.classList.add("can-go-back"):D.classList.remove("can-go-back"),Kt(D,!1),D.style.setProperty("pointer-events","none"),k&&(Kt(k,!1),k.style.setProperty("pointer-events","none"))},we=function(){var S=(0,E.A)(function*(D){const k=yield ue(D);return k&&L.B.isBrowser?$e(k,D):Fe(D)});return function(k){return S.apply(this,arguments)}}(),ct=S=>{const D=S.enteringEl,k=S.leavingEl;D.classList.remove("ion-page-invisible"),D.style.removeProperty("pointer-events"),void 0!==k&&(k.classList.remove("ion-page-invisible"),k.style.removeProperty("pointer-events")),Se_setViewFocus(D)},ue=function(){var S=(0,E.A)(function*(D){return D.leavingEl&&D.animated&&0!==D.duration?D.animationBuilder?D.animationBuilder:"ios"===D.mode?(yield Promise.resolve().then(pe.bind(pe,8454))).iosTransitionAnimation:(yield Promise.resolve().then(pe.bind(pe,3314))).mdTransitionAnimation:void 0});return function(k){return S.apply(this,arguments)}}(),$e=function(){var S=(0,E.A)(function*(D,k){yield Ze(k,!0);const H=D(k.baseEl,k);qe(k.enteringEl,k.leavingEl);const ae=yield ce(H,k);return k.progressCallback&&k.progressCallback(void 0),ae&&It(k.enteringEl,k.leavingEl),{hasCompleted:ae,animation:H}});return function(k,H){return S.apply(this,arguments)}}(),Fe=function(){var S=(0,E.A)(function*(D){const k=D.enteringEl,H=D.leavingEl,ae=De.c.get("focusManagerPriority",!1);return yield Ze(D,ae),qe(k,H),It(k,H),{hasCompleted:!0}});return function(k){return S.apply(this,arguments)}}(),Ze=function(){var S=(0,E.A)(function*(D,k){(void 0!==D.deepWait?D.deepWait:k)&&(yield Promise.all([mt(D.enteringEl),mt(D.leavingEl)])),yield St(D.viewIsReady,D.enteringEl)});return function(k,H){return S.apply(this,arguments)}}(),St=function(){var S=(0,E.A)(function*(D,k){D&&(yield D(k))});return function(k,H){return S.apply(this,arguments)}}(),ce=(S,D)=>{const k=D.progressCallback,H=new Promise(ae=>{S.onFinish(se=>ae(1===se))});return k?(S.progressStart(!0),k(S)):S.play(),H},qe=(S,D)=>{qt(D,Xe),qt(S,"ionViewWillEnter")},It=(S,D)=>{qt(S,"ionViewDidEnter"),qt(D,vt)},qt=(S,D)=>{if(S){const k=new CustomEvent(D,{bubbles:!1,cancelable:!1});S.dispatchEvent(k)}},en=()=>new Promise(S=>(0,Gt.r)(()=>(0,Gt.r)(()=>S()))),mt=function(){var S=(0,E.A)(function*(D){const k=D;if(k){if(null!=k.componentOnReady){if(null!=(yield k.componentOnReady()))return}else if(null!=k.__registerHost)return void(yield new Promise(ae=>(0,Gt.r)(ae)));yield Promise.all(Array.from(k.children).map(mt))}});return function(k){return S.apply(this,arguments)}}(),Kt=(S,D)=>{D?(S.setAttribute("aria-hidden","true"),S.classList.add("ion-page-hidden")):(S.hidden=!1,S.removeAttribute("aria-hidden"),S.classList.remove("ion-page-hidden"))},Ve=(S,D,k)=>{void 0!==S&&(S.style.zIndex="back"===k?"99":"101"),void 0!==D&&(D.style.zIndex="100")},G=S=>S.classList.contains("ion-page")?S:S.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||S},4929:(fr,rn,pe)=>{"use strict";pe.d(rn,{a:()=>De,b:()=>L,p:()=>E});const E=(at,...Gt)=>console.warn(`[Ionic Warning]: ${at}`,...Gt),De=(at,...Gt)=>console.error(`[Ionic Error]: ${at}`,...Gt),L=(at,...Gt)=>console.error(`<${at.tagName.toLowerCase()}> must be used inside ${Gt.join(" or ")}.`)},8476:(fr,rn,pe)=>{"use strict";pe.d(rn,{d:()=>De,w:()=>E});const E=typeof window<"u"?window:void 0,De=typeof document<"u"?document:void 0},3664:(fr,rn,pe)=>{"use strict";pe.d(rn,{a:()=>re,b:()=>Kt,c:()=>L,i:()=>Ve});var E=pe(9672);class De{constructor(){this.m=new Map}reset(S){this.m=new Map(Object.entries(S))}get(S,D){const k=this.m.get(S);return void 0!==k?k:D}getBoolean(S,D=!1){const k=this.m.get(S);return void 0===k?D:"string"==typeof k?"true"===k:!!k}getNumber(S,D){const k=parseFloat(this.m.get(S));return isNaN(k)?void 0!==D?D:NaN:k}set(S,D){this.m.set(S,D)}}const L=new De,vt="ionic-persist-config",re=(G,S)=>("string"==typeof G&&(S=G,G=void 0),(G=>Ne(G))(G).includes(S)),Ne=(G=window)=>{if(typeof G>"u")return[];G.Ionic=G.Ionic||{};let S=G.Ionic.platforms;return null==S&&(S=G.Ionic.platforms=Ie(G),S.forEach(D=>G.document.documentElement.classList.add(`plt-${D}`))),S},Ie=G=>{const S=L.get("platform");return Object.keys(en).filter(D=>{const k=null==S?void 0:S[D];return"function"==typeof k?k(G):en[D](G)})},ot=G=>!!(It(G,/iPad/i)||It(G,/Macintosh/i)&&ue(G)),be=G=>It(G,/android|sink/i),ue=G=>qt(G,"(any-pointer:coarse)"),Fe=G=>Ze(G)||St(G),Ze=G=>!!(G.cordova||G.phonegap||G.PhoneGap),St=G=>{const S=G.Capacitor;return!(null==S||!S.isNative)},It=(G,S)=>S.test(G.navigator.userAgent),qt=(G,S)=>{var D;return null===(D=G.matchMedia)||void 0===D?void 0:D.call(G,S).matches},en={ipad:ot,iphone:G=>It(G,/iPhone/i),ios:G=>It(G,/iPhone|iPod/i)||ot(G),android:be,phablet:G=>{const S=G.innerWidth,D=G.innerHeight,k=Math.min(S,D),H=Math.max(S,D);return k>390&&k<520&&H>620&&H<800},tablet:G=>{const S=G.innerWidth,D=G.innerHeight,k=Math.min(S,D),H=Math.max(S,D);return ot(G)||(G=>be(G)&&!It(G,/mobile/i))(G)||k>460&&k<820&&H>780&&H<1400},cordova:Ze,capacitor:St,electron:G=>It(G,/electron/i),pwa:G=>{var S;return!!(null!==(S=G.matchMedia)&&void 0!==S&&S.call(G,"(display-mode: standalone)").matches||G.navigator.standalone)},mobile:ue,mobileweb:G=>ue(G)&&!Fe(G),desktop:G=>!ue(G),hybrid:Fe};let mt;const Kt=G=>G&&(0,E.g)(G)||mt,Ve=(G={})=>{if(typeof window>"u")return;const S=window.document,D=window,k=D.Ionic=D.Ionic||{},H={};G._ael&&(H.ael=G._ael),G._rel&&(H.rel=G._rel),G._ce&&(H.ce=G._ce),(0,E.a)(H);const ae=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(G=>{try{const S=G.sessionStorage.getItem(vt);return null!==S?JSON.parse(S):{}}catch{return{}}})(D)),{persistConfig:!1}),k.config),(G=>{const S={};return G.location.search.slice(1).split("&").map(D=>D.split("=")).map(([D,k])=>{try{return[decodeURIComponent(D),decodeURIComponent(k)]}catch{return["",""]}}).filter(([D])=>((G,S)=>G.substr(0,S.length)===S)(D,"ionic:")).map(([D,k])=>[D.slice(6),k]).forEach(([D,k])=>{S[D]=k}),S})(D)),G);L.reset(ae),L.getBoolean("persistConfig")&&((G,S)=>{try{G.sessionStorage.setItem(vt,JSON.stringify(S))}catch{return}})(D,ae),Ne(D),k.config=L,k.mode=mt=L.get("mode",S.documentElement.getAttribute("mode")||(re(D,"ios")?"ios":"md")),L.set("mode",mt),S.documentElement.setAttribute("mode",mt),S.documentElement.classList.add(mt),L.getBoolean("_testing")&&L.set("animated",!1);const se=ut=>{var cn;return null===(cn=ut.tagName)||void 0===cn?void 0:cn.startsWith("ION-")},We=ut=>["ios","md"].includes(ut);(0,E.c)(ut=>{for(;ut;){const cn=ut.mode||ut.getAttribute("mode");if(cn){if(We(cn))return cn;se(ut)&&console.warn('Invalid ionic mode: "'+cn+'", expected: "ios" or "md"')}ut=ut.parentElement}return mt})}},8454:(fr,rn,pe)=>{"use strict";pe.r(rn),pe.d(rn,{iosTransitionAnimation:()=>Re,shadow:()=>Xe});var E=pe(9986),De=pe(2725);pe(8476),pe(3664),pe(9672);const Ce=Oe=>document.querySelector(`${Oe}.ion-cloned-element`),Xe=Oe=>Oe.shadowRoot||Oe,vt=Oe=>{const Se="ION-TABS"===Oe.tagName?Oe:Oe.querySelector("ion-tabs"),be="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Se){const Ke=Se.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ke?Ke.querySelector(be):null}return Oe.querySelector(be)},me=(Oe,Se)=>{const be="ION-TABS"===Oe.tagName?Oe:Oe.querySelector("ion-tabs");let Ke=[];if(null!=be){const we=be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=we&&(Ke=we.querySelectorAll("ion-buttons"))}else Ke=Oe.querySelectorAll("ion-buttons");for(const we of Ke){const ct=we.closest("ion-header"),ue=ct&&!ct.classList.contains("header-collapse-condense-inactive"),$e=we.querySelector("ion-back-button"),Fe=we.classList.contains("buttons-collapse");if(null!==$e&&("start"===we.slot||""===we.slot)&&(Fe&&ue&&Se||!Fe))return $e}return null},Ne=(Oe,Se,be,Ke,we,ct,ue,$e,Fe)=>{var Ze,St;const ce=Se?`calc(100% - ${we.right+4}px)`:we.left-4+"px",qe=Se?"right":"left",It=Se?"left":"right",qt=Se?"right":"left";let en=1,mt=1,Kt=`scale(${mt})`;const Ve="scale(1)";if(ct&&ue){const Me=(null===(Ze=ct.textContent)||void 0===Ze?void 0:Ze.trim())===(null===(St=$e.textContent)||void 0===St?void 0:St.trim());en=Fe.width/ue.width,mt=(Fe.height-ot)/ue.height,Kt=Me?`scale(${en}, ${mt})`:`scale(${mt})`}const S=Xe(Ke).querySelector("ion-icon").getBoundingClientRect(),D=Se?S.width/2-(S.right-we.right)+"px":we.left-S.width/2+"px",k=Se?`-${window.innerWidth-we.right}px`:`${we.left}px`,H=`${Fe.top}px`,ae=`${we.top}px`,ut=be?[{offset:0,transform:`translate3d(${k}, ${ae}, 0)`},{offset:1,transform:`translate3d(${D}, ${H}, 0)`}]:[{offset:0,transform:`translate3d(${D}, ${H}, 0)`},{offset:1,transform:`translate3d(${k}, ${ae}, 0)`}],un=be?[{offset:0,opacity:1,transform:Ve},{offset:1,opacity:0,transform:Kt}]:[{offset:0,opacity:0,transform:Kt},{offset:1,opacity:1,transform:Ve}],nr=be?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Sn=(0,E.c)(),On=(0,E.c)(),Tn=(0,E.c)(),kn=Ce("ion-back-button"),it=Xe(kn).querySelector(".button-text"),ke=Xe(kn).querySelector("ion-icon");kn.text=Ke.text,kn.mode=Ke.mode,kn.icon=Ke.icon,kn.color=Ke.color,kn.disabled=Ke.disabled,kn.style.setProperty("display","block"),kn.style.setProperty("position","fixed"),On.addElement(ke),Sn.addElement(it),Tn.addElement(kn),Tn.beforeStyles({position:"absolute",top:"0px",[qt]:"0px"}).beforeAddWrite(()=>{Ke.style.setProperty("display","none"),kn.style.setProperty(qe,ce)}).afterAddWrite(()=>{Ke.style.setProperty("display",""),kn.style.setProperty("display","none"),kn.style.removeProperty(qe)}).keyframes(ut),Sn.beforeStyles({"transform-origin":`${qe} top`}).keyframes(un),On.beforeStyles({"transform-origin":`${It} center`}).keyframes(nr),Oe.addAnimation([Sn,On,Tn])},Ie=(Oe,Se,be,Ke,we,ct,ue,$e,Fe)=>{var Ze,St;const ce=Se?"right":"left",qe=Se?`calc(100% - ${we.right}px)`:`${we.left}px`,qt=`${we.top}px`;let mt=Se?`-${window.innerWidth-ue.right-8}px`:`${ue.x+8}px`,Kt=.5;const Ve="scale(1)";let G=`scale(${Kt})`;if($e&&Fe){mt=Se?`-${window.innerWidth-Fe.right-8}px`:Fe.x-8+"px";const cn=(null===(Ze=$e.textContent)||void 0===Ze?void 0:Ze.trim())===(null===(St=Ke.textContent)||void 0===St?void 0:St.trim());Kt=Fe.height/(ct.height-ot),G=cn?`scale(${Fe.width/ct.width}, ${Kt})`:`scale(${Kt})`}const k=ue.top+ue.height/2-we.height*Kt/2+"px",se=be?[{offset:0,opacity:0,transform:`translate3d(${mt}, ${k}, 0) ${G}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${qt}, 0) ${Ve}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${qt}, 0) ${Ve}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${mt}, ${k}, 0) ${G}`}],We=Ce("ion-title"),ut=(0,E.c)();We.innerText=Ke.innerText,We.size=Ke.size,We.color=Ke.color,ut.addElement(We),ut.beforeStyles({"transform-origin":`${ce} top`,height:`${we.height}px`,display:"",position:"relative",[ce]:qe}).beforeAddWrite(()=>{Ke.style.setProperty("opacity","0")}).afterAddWrite(()=>{Ke.style.setProperty("opacity",""),We.style.setProperty("display","none")}).keyframes(se),Oe.addAnimation(ut)},Re=(Oe,Se)=>{var be;try{const Ke="cubic-bezier(0.32,0.72,0,1)",we="opacity",ct="transform",ue="0%",Fe="rtl"===Oe.ownerDocument.dir,Ze=Fe?"-99.5%":"99.5%",St=Fe?"33%":"-33%",ce=Se.enteringEl,qe=Se.leavingEl,It="back"===Se.direction,qt=ce.querySelector(":scope > ion-content"),en=ce.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),mt=ce.querySelectorAll(":scope > ion-header > ion-toolbar"),Kt=(0,E.c)(),Ve=(0,E.c)();if(Kt.addElement(ce).duration((null!==(be=Se.duration)&&void 0!==be?be:0)||540).easing(Se.easing||Ke).fill("both").beforeRemoveClass("ion-page-invisible"),qe&&null!=Oe){const k=(0,E.c)();k.addElement(Oe),Kt.addAnimation(k)}if(qt||0!==mt.length||0!==en.length?(Ve.addElement(qt),Ve.addElement(en)):Ve.addElement(ce.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Kt.addAnimation(Ve),It?Ve.beforeClearStyles([we]).fromTo("transform",`translateX(${St})`,`translateX(${ue})`).fromTo(we,.8,1):Ve.beforeClearStyles([we]).fromTo("transform",`translateX(${Ze})`,`translateX(${ue})`),qt){const k=Xe(qt).querySelector(".transition-effect");if(k){const H=k.querySelector(".transition-cover"),ae=k.querySelector(".transition-shadow"),se=(0,E.c)(),We=(0,E.c)(),ut=(0,E.c)();se.addElement(k).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),We.addElement(H).beforeClearStyles([we]).fromTo(we,0,.1),ut.addElement(ae).beforeClearStyles([we]).fromTo(we,.03,.7),se.addAnimation([We,ut]),Ve.addAnimation([se])}}const G=ce.querySelector("ion-header.header-collapse-condense"),{forward:S,backward:D}=((Oe,Se,be,Ke,we)=>{const ct=me(Ke,be),ue=vt(we),$e=vt(Ke),Fe=me(we,be),Ze=null!==ct&&null!==ue&&!be,St=null!==$e&&null!==Fe&&be;if(Ze){const ce=ue.getBoundingClientRect(),qe=ct.getBoundingClientRect(),It=Xe(ct).querySelector(".button-text"),qt=null==It?void 0:It.getBoundingClientRect(),mt=Xe(ue).querySelector(".toolbar-title").getBoundingClientRect();Ie(Oe,Se,be,ue,ce,mt,qe,It,qt),Ne(Oe,Se,be,ct,qe,It,qt,ue,mt)}else if(St){const ce=$e.getBoundingClientRect(),qe=Fe.getBoundingClientRect(),It=Xe(Fe).querySelector(".button-text"),qt=null==It?void 0:It.getBoundingClientRect(),mt=Xe($e).querySelector(".toolbar-title").getBoundingClientRect();Ie(Oe,Se,be,$e,ce,mt,qe,It,qt),Ne(Oe,Se,be,Fe,qe,It,qt,$e,mt)}return{forward:Ze,backward:St}})(Kt,Fe,It,ce,qe);if(mt.forEach(k=>{const H=(0,E.c)();H.addElement(k),Kt.addAnimation(H);const ae=(0,E.c)();ae.addElement(k.querySelector("ion-title"));const se=(0,E.c)(),We=Array.from(k.querySelectorAll("ion-buttons,[menuToggle]")),ut=k.closest("ion-header"),cn=null==ut?void 0:ut.classList.contains("header-collapse-condense-inactive");let At;At=We.filter(It?Sn=>{const On=Sn.classList.contains("buttons-collapse");return On&&!cn||!On}:Sn=>!Sn.classList.contains("buttons-collapse")),se.addElement(At);const un=(0,E.c)();un.addElement(k.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const dn=(0,E.c)();dn.addElement(Xe(k).querySelector(".toolbar-background"));const zt=(0,E.c)(),nr=k.querySelector("ion-back-button");if(nr&&zt.addElement(nr),H.addAnimation([ae,se,un,dn,zt]),se.fromTo(we,.01,1),un.fromTo(we,.01,1),It)cn||ae.fromTo("transform",`translateX(${St})`,`translateX(${ue})`).fromTo(we,.01,1),un.fromTo("transform",`translateX(${St})`,`translateX(${ue})`),zt.fromTo(we,.01,1);else if(G||ae.fromTo("transform",`translateX(${Ze})`,`translateX(${ue})`).fromTo(we,.01,1),un.fromTo("transform",`translateX(${Ze})`,`translateX(${ue})`),dn.beforeClearStyles([we,"transform"]),(null==ut?void 0:ut.translucent)?dn.fromTo("transform",Fe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):dn.fromTo(we,.01,"var(--opacity)"),S||zt.fromTo(we,.01,1),nr&&!S){const On=(0,E.c)();On.addElement(Xe(nr).querySelector(".button-text")).fromTo("transform",Fe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),H.addAnimation(On)}}),qe){const k=(0,E.c)(),H=qe.querySelector(":scope > ion-content"),ae=qe.querySelectorAll(":scope > ion-header > ion-toolbar"),se=qe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(H||0!==ae.length||0!==se.length?(k.addElement(H),k.addElement(se)):k.addElement(qe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Kt.addAnimation(k),It){k.beforeClearStyles([we]).fromTo("transform",`translateX(${ue})`,Fe?"translateX(-100%)":"translateX(100%)");const We=(0,De.g)(qe);Kt.afterAddWrite(()=>{"normal"===Kt.getDirection()&&We.style.setProperty("display","none")})}else k.fromTo("transform",`translateX(${ue})`,`translateX(${St})`).fromTo(we,1,.8);if(H){const We=Xe(H).querySelector(".transition-effect");if(We){const ut=We.querySelector(".transition-cover"),cn=We.querySelector(".transition-shadow"),At=(0,E.c)(),un=(0,E.c)(),dn=(0,E.c)();At.addElement(We).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),un.addElement(ut).beforeClearStyles([we]).fromTo(we,.1,0),dn.addElement(cn).beforeClearStyles([we]).fromTo(we,.7,.03),At.addAnimation([un,dn]),k.addAnimation([At])}}ae.forEach(We=>{const ut=(0,E.c)();ut.addElement(We);const cn=(0,E.c)();cn.addElement(We.querySelector("ion-title"));const At=(0,E.c)(),un=We.querySelectorAll("ion-buttons,[menuToggle]"),dn=We.closest("ion-header"),zt=null==dn?void 0:dn.classList.contains("header-collapse-condense-inactive"),nr=Array.from(un).filter(ke=>{const Me=ke.classList.contains("buttons-collapse");return Me&&!zt||!Me});At.addElement(nr);const Sn=(0,E.c)(),On=We.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");On.length>0&&Sn.addElement(On);const Tn=(0,E.c)();Tn.addElement(Xe(We).querySelector(".toolbar-background"));const kn=(0,E.c)(),it=We.querySelector("ion-back-button");if(it&&kn.addElement(it),ut.addAnimation([cn,At,Sn,kn,Tn]),Kt.addAnimation(ut),kn.fromTo(we,.99,0),At.fromTo(we,.99,0),Sn.fromTo(we,.99,0),It){if(zt||cn.fromTo("transform",`translateX(${ue})`,Fe?"translateX(-100%)":"translateX(100%)").fromTo(we,.99,0),Sn.fromTo("transform",`translateX(${ue})`,Fe?"translateX(-100%)":"translateX(100%)"),Tn.beforeClearStyles([we,"transform"]),(null==dn?void 0:dn.translucent)?Tn.fromTo("transform","translateX(0px)",Fe?"translateX(-100%)":"translateX(100%)"):Tn.fromTo(we,"var(--opacity)",0),it&&!D){const Me=(0,E.c)();Me.addElement(Xe(it).querySelector(".button-text")).fromTo("transform",`translateX(${ue})`,`translateX(${(Fe?-124:124)+"px"})`),ut.addAnimation(Me)}}else zt||cn.fromTo("transform",`translateX(${ue})`,`translateX(${St})`).fromTo(we,.99,0).afterClearStyles([ct,we]),Sn.fromTo("transform",`translateX(${ue})`,`translateX(${St})`).afterClearStyles([ct,we]),kn.afterClearStyles([we]),cn.afterClearStyles([we]),At.afterClearStyles([we])})}return Kt}catch(Ke){throw Ke}},ot=10},3314:(fr,rn,pe)=>{"use strict";pe.r(rn),pe.d(rn,{mdTransitionAnimation:()=>xt});var E=pe(9986),De=pe(2725);pe(8476),pe(3664),pe(9672);const xt=(Ce,Xe)=>{var vt,me,re;const Re="back"===Xe.direction,Oe=Xe.leavingEl,Se=(0,De.g)(Xe.enteringEl),be=Se.querySelector("ion-toolbar"),Ke=(0,E.c)();if(Ke.addElement(Se).fill("both").beforeRemoveClass("ion-page-invisible"),Re?Ke.duration((null!==(vt=Xe.duration)&&void 0!==vt?vt:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ke.duration((null!==(me=Xe.duration)&&void 0!==me?me:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),be){const we=(0,E.c)();we.addElement(be),Ke.addAnimation(we)}if(Oe&&Re){Ke.duration((null!==(re=Xe.duration)&&void 0!==re?re:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const we=(0,E.c)();we.addElement((0,De.g)(Oe)).onFinish(ct=>{1===ct&&we.elements.length>0&&we.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ke.addAnimation(we)}return Ke}},6002:(fr,rn,pe)=>{"use strict";pe.d(rn,{B:()=>un,F:()=>kn,G:()=>dn,O:()=>zt,a:()=>Se,b:()=>be,c:()=>ue,d:()=>nr,e:()=>Sn,f:()=>S,g:()=>k,h:()=>se,i:()=>ut,j:()=>Fe,k:()=>Ze,m:()=>we,n:()=>me,o:()=>Ve,q:()=>re,s:()=>At});var E=pe(467),De=pe(8476),L=pe(4920),at=pe(6411),Gt=pe(3664),xt=pe(8621),Ce=pe(1970),Xe=pe(4929);const vt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',me=(it,ke)=>{const Me=it.querySelector(vt);Ne(Me,null!=ke?ke:it)},re=(it,ke)=>{const Me=Array.from(it.querySelectorAll(vt));Ne(Me.length>0?Me[Me.length-1]:null,null!=ke?ke:it)},Ne=(it,ke)=>{let Me=it;const kt=null==it?void 0:it.shadowRoot;kt&&(Me=kt.querySelector(vt)||it),Me?(0,L.f)(Me):ke.focus()};let Ie=0,Re=0;const ot=new WeakMap,Oe=it=>({create:ke=>St(it,ke),dismiss:(ke,Me,kt)=>en(document,ke,Me,it,kt),getTop:()=>(0,E.A)(function*(){return Ve(document,it)})()}),Se=Oe("ion-alert"),be=Oe("ion-action-sheet"),we=Oe("ion-modal"),ue=Oe("ion-popover"),Fe=it=>{typeof document<"u"&&qt(document);const ke=Ie++;it.overlayIndex=ke},Ze=it=>(it.hasAttribute("id")||(it.id="ion-overlay-"+ ++Re),it.id),St=(it,ke)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(it).then(()=>{const Me=document.createElement(it);return Me.classList.add("overlay-hidden"),Object.assign(Me,Object.assign(Object.assign({},ke),{hasController:!0})),H(document).appendChild(Me),new Promise(kt=>(0,L.c)(Me,kt))}):Promise.resolve(),qe=(it,ke)=>{let Me=it;const kt=null==it?void 0:it.shadowRoot;kt&&(Me=kt.querySelector(vt)||it),Me?(0,L.f)(Me):ke.focus()},qt=it=>{0===Ie&&(Ie=1,it.addEventListener("focus",ke=>{((it,ke)=>{const Me=Ve(ke,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),kt=it.target;Me&&kt&&!Me.classList.contains(kn)&&(Me.shadowRoot?(()=>{if(Me.contains(kt))Me.lastFocus=kt;else if("ION-TOAST"===kt.tagName)qe(Me.lastFocus,Me);else{const jn=Me.lastFocus;me(Me),jn===ke.activeElement&&re(Me),Me.lastFocus=ke.activeElement}})():(()=>{if(Me===kt)Me.lastFocus=void 0;else if("ION-TOAST"===kt.tagName)qe(Me.lastFocus,Me);else{const jn=(0,L.g)(Me);if(!jn.contains(kt))return;const zn=jn.querySelector(".ion-overlay-wrapper");if(!zn)return;if(zn.contains(kt)||kt===jn.querySelector("ion-backdrop"))Me.lastFocus=kt;else{const An=Me.lastFocus;me(zn,Me),An===ke.activeElement&&re(zn,Me),Me.lastFocus=ke.activeElement}}})())})(ke,it)},!0),it.addEventListener("ionBackButton",ke=>{const Me=Ve(it);null!=Me&&Me.backdropDismiss&&ke.detail.register(at.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Me.dismiss(void 0,un)})}),(0,at.shouldUseCloseWatcher)()||it.addEventListener("keydown",ke=>{if("Escape"===ke.key){const Me=Ve(it);null!=Me&&Me.backdropDismiss&&Me.dismiss(void 0,un)}}))},en=(it,ke,Me,kt,Pn)=>{const rr=Ve(it,kt,Pn);return rr?rr.dismiss(ke,Me):Promise.reject("overlay does not exist")},Kt=(it,ke)=>((it,ke)=>(void 0===ke&&(ke="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(it.querySelectorAll(ke)).filter(Me=>Me.overlayIndex>0)))(it,ke).filter(Me=>!(it=>it.classList.contains("overlay-hidden"))(Me)),Ve=(it,ke,Me)=>{const kt=Kt(it,ke);return void 0===Me?kt[kt.length-1]:kt.find(Pn=>Pn.id===Me)},G=(it=!1)=>{const Me=H(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Me&&(it?Me.setAttribute("aria-hidden","true"):Me.removeAttribute("aria-hidden"))},S=function(){var it=(0,E.A)(function*(ke,Me,kt,Pn,rr){var jn,zn;if(ke.presented)return;G(!0),document.body.classList.add(Ce.B),On(ke.el),ke.presented=!0,ke.willPresent.emit(),null===(jn=ke.willPresentShorthand)||void 0===jn||jn.emit();const An=(0,Gt.b)(ke),Wn=ke.enterAnimation?ke.enterAnimation:Gt.c.get(Me,"ios"===An?kt:Pn);(yield ae(ke,Wn,ke.el,rr))&&(ke.didPresent.emit(),null===(zn=ke.didPresentShorthand)||void 0===zn||zn.emit()),"ION-TOAST"!==ke.el.tagName&&D(ke.el),ke.keyboardClose&&(null===document.activeElement||!ke.el.contains(document.activeElement))&&ke.el.focus(),ke.el.removeAttribute("aria-hidden")});return function(Me,kt,Pn,rr,jn){return it.apply(this,arguments)}}(),D=function(){var it=(0,E.A)(function*(ke){let Me=document.activeElement;if(!Me)return;const kt=null==Me?void 0:Me.shadowRoot;kt&&(Me=kt.querySelector(vt)||Me),yield ke.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Me.focus()});return function(Me){return it.apply(this,arguments)}}(),k=function(){var it=(0,E.A)(function*(ke,Me,kt,Pn,rr,jn,zn){var An,Wn;if(!ke.presented)return!1;void 0!==De.d&&1===Kt(De.d).length&&(G(!1),document.body.classList.remove(Ce.B)),ke.presented=!1;try{ke.el.style.setProperty("pointer-events","none"),ke.willDismiss.emit({data:Me,role:kt}),null===(An=ke.willDismissShorthand)||void 0===An||An.emit({data:Me,role:kt});const vr=(0,Gt.b)(ke),Ei=ke.leaveAnimation?ke.leaveAnimation:Gt.c.get(Pn,"ios"===vr?rr:jn);kt!==dn&&(yield ae(ke,Ei,ke.el,zn)),ke.didDismiss.emit({data:Me,role:kt}),null===(Wn=ke.didDismissShorthand)||void 0===Wn||Wn.emit({data:Me,role:kt}),(ot.get(ke)||[]).forEach(pr=>pr.destroy()),ot.delete(ke),ke.el.classList.add("overlay-hidden"),ke.el.style.removeProperty("pointer-events"),void 0!==ke.el.lastFocus&&(ke.el.lastFocus=void 0)}catch(vr){console.error(vr)}return ke.el.remove(),Tn(),!0});return function(Me,kt,Pn,rr,jn,zn,An){return it.apply(this,arguments)}}(),H=it=>it.querySelector("ion-app")||it.body,ae=function(){var it=(0,E.A)(function*(ke,Me,kt,Pn){kt.classList.remove("overlay-hidden");const jn=Me(ke.el,Pn);(!ke.animated||!Gt.c.getBoolean("animated",!0))&&jn.duration(0),ke.keyboardClose&&jn.beforeAddWrite(()=>{const An=kt.ownerDocument.activeElement;null!=An&&An.matches("input,ion-input, ion-textarea")&&An.blur()});const zn=ot.get(ke)||[];return ot.set(ke,[...zn,jn]),yield jn.play(),!0});return function(Me,kt,Pn,rr){return it.apply(this,arguments)}}(),se=(it,ke)=>{let Me;const kt=new Promise(Pn=>Me=Pn);return We(it,ke,Pn=>{Me(Pn.detail)}),kt},We=(it,ke,Me)=>{const kt=Pn=>{(0,L.b)(it,ke,kt),Me(Pn)};(0,L.a)(it,ke,kt)},ut=it=>"cancel"===it||it===un,cn=it=>it(),At=(it,ke)=>{if("function"==typeof it)return Gt.c.get("_zoneGate",cn)(()=>{try{return it(ke)}catch(kt){throw kt}})},un="backdrop",dn="gesture",zt=39,nr=it=>{let Me,ke=!1;const kt=(0,xt.C)(),Pn=(zn=!1)=>{if(Me&&!zn)return{delegate:Me,inline:ke};const{el:An,hasController:Wn,delegate:Kn}=it;return ke=null!==An.parentNode&&!Wn,Me=ke?Kn||kt:Kn,{inline:ke,delegate:Me}};return{attachViewToDom:function(){var zn=(0,E.A)(function*(An){const{delegate:Wn}=Pn(!0);if(Wn)return yield Wn.attachViewToDom(it.el,An);const{hasController:Kn}=it;if(Kn&&void 0!==An)throw new Error("framework delegate is missing");return null});return function(Wn){return zn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:zn}=Pn();zn&&void 0!==it.el&&zn.removeViewFromDom(it.el.parentElement,it.el)}}},Sn=()=>{let it;const ke=()=>{it&&(it(),it=void 0)};return{addClickListener:(kt,Pn)=>{ke();const rr=void 0!==Pn?document.getElementById(Pn):null;rr?it=((zn,An)=>{const Wn=()=>{An.present()};return zn.addEventListener("click",Wn),()=>{zn.removeEventListener("click",Wn)}})(rr,kt):(0,Xe.p)(`A trigger element with the ID "${Pn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,kt)},removeClickListener:ke}},On=it=>{var ke;if(void 0===De.d)return;const Me=Kt(De.d);for(let kt=Me.length-1;kt>=0;kt--){const Pn=Me[kt],rr=null!==(ke=Me[kt+1])&&void 0!==ke?ke:it;(rr.hasAttribute("aria-hidden")||"ION-TOAST"!==rr.tagName)&&Pn.setAttribute("aria-hidden","true")}},Tn=()=>{if(void 0===De.d)return;const it=Kt(De.d);for(let ke=it.length-1;ke>=0;ke--){const Me=it[ke];if(Me.removeAttribute("aria-hidden"),"ION-TOAST"!==Me.tagName)break}},kn="ion-disable-focus-trap"},9346:(fr,rn,pe)=>{"use strict";var E=pe(467);let L=null,Gt=1;const xt=Symbol("SIGNAL");function Ce(t){const e=L;return L=t,e}function Re(t){if((!Fe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Gt)){if(!t.producerMustRecompute(t)&&!we(t))return t.dirty=!1,void(t.lastCleanEpoch=Gt);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Gt}}function we(t){Ze(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Re(n),r!==n.version))return!0}return!1}function $e(t,e){if(function St(t){var e,n;null!==(e=t.liveConsumerNode)&&void 0!==e||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}(t),Ze(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)$e(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ze(i),i.producerIndexOfThis[r]=e}}function Fe(t){var e,n;return t.consumerIsAlwaysLive||(null!==(e=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==e?e:0)>0}function Ze(t){var e,n,r;null!==(e=t.producerNode)&&void 0!==e||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(r=t.producerLastReadVersion)&&void 0!==r||(t.producerLastReadVersion=[])}let Kt=null;function zt(t){return"function"==typeof t}function nr(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Sn=nr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function On(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Tn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(zt(r))try{r()}catch(o){e=o instanceof Sn?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ke(o)}catch(s){e=null!=e?e:[],s instanceof Sn?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Sn(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ke(e);else{if(e instanceof Tn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&On(n,e)}remove(e){const{_finalizers:n}=this;n&&On(n,e),e instanceof Tn&&e._removeParent(this)}}Tn.EMPTY=(()=>{const t=new Tn;return t.closed=!0,t})();const kn=Tn.EMPTY;function it(t){return t instanceof Tn||t&&"closed"in t&&zt(t.remove)&&zt(t.add)&&zt(t.unsubscribe)}function ke(t){zt(t)?t():t.unsubscribe()}const Me={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kt={setTimeout(t,e,...n){const{delegate:r}=kt;return null!=r&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=kt;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Pn(t){kt.setTimeout(()=>{const{onUnhandledError:e}=Me;if(!e)throw t;e(t)})}function rr(){}const jn=Wn("C",void 0,void 0);function Wn(t,e,n){return{kind:t,value:e,error:n}}let Kn=null;function vr(t){if(Me.useDeprecatedSynchronousErrorHandling){const e=!Kn;if(e&&(Kn={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Kn;if(Kn=null,n)throw r}}else t()}class si extends Tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,it(e)&&e.add(this)):this.destination=wr}static create(e,n,r){return new Bn(e,n,r)}next(e){this.isStopped?br(function An(t){return Wn("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?br(function zn(t){return Wn("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?br(jn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pr=Function.prototype.bind;function Mi(t,e){return pr.call(t,e)}class vo{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ai(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ai(r)}else ai(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ai(n)}}}class Bn extends si{constructor(e,n,r){let i;if(super(),zt(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&Me.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Mi(e.next,o),error:e.error&&Mi(e.error,o),complete:e.complete&&Mi(e.complete,o)}):i=e}this.destination=new vo(i)}}function ai(t){Me.useDeprecatedSynchronousErrorHandling?function Ei(t){Me.useDeprecatedSynchronousErrorHandling&&Kn&&(Kn.errorThrown=!0,Kn.error=t)}(t):Pn(t)}function br(t,e){const{onStoppedNotification:n}=Me;n&&kt.setTimeout(()=>n(t,e))}const wr={closed:!0,next:rr,error:function so(t){throw t},complete:rr},kr="function"==typeof Symbol&&Symbol.observable||"@@observable";function ti(t){return t}function Qi(t){return 0===t.length?ti:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Mn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Y(t){return t&&t instanceof si||function jo(t){return t&&zt(t.next)&&zt(t.error)&&zt(t.complete)}(t)&&it(t)}(n)?n:new Bn(n,r,i);return vr(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=yo(r))((i,o)=>{const s=new Bn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[kr](){return this}pipe(...n){return Qi(n)(this)}toPromise(n){return new(n=yo(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function yo(t){var e;return null!==(e=null!=t?t:Me.Promise)&&void 0!==e?e:Promise}const j=nr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let M=(()=>{class t extends Mn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new F(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new j}next(n){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?kn:(this.currentObservers=null,o.push(n),new Tn(()=>{this.currentObservers=null,On(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Mn;return n.source=this,n}}return t.create=(e,n)=>new F(e,n),t})();class F extends M{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:kn}}class R extends M{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function oe(t){return zt(null==t?void 0:t.lift)}function Pe(t){return e=>{if(oe(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function gt(t,e,n,r,i){return new yn(t,e,n,r,i)}class yn extends si{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ct(t,e){return Pe((n,r)=>{let i=0;n.subscribe(gt(r,o=>{r.next(t.call(e,o,i++))}))})}const on="https://g.co/ng/security#xss";class he extends Error{constructor(e,n){super(function tn(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Bi(t){return{toString:t}.toString()}const Io="__parameters__";function Ft(t,e,n){return Bi(()=>{const r=function je(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,d){const p=l.hasOwnProperty(Io)?l[Io]:Object.defineProperty(l,Io,{value:[]})[Io];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const J=globalThis;function Ht(t){for(let e in t)if(t[e]===Ht)return e;throw Error("Could not find renamed property on target object.")}function dr(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Qn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Qn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Yn(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Il=Ht({__forward_ref__:Ht});function mr(t){return t.__forward_ref__=mr,t.toString=function(){return Qn(this())},t}function _n(t){return El(t)?t():t}function El(t){return"function"==typeof t&&t.hasOwnProperty(Il)&&t.__forward_ref__===mr}function Rt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ki(t){return{providers:t.providers||[],imports:t.imports||[]}}function aa(t){return mc(t,Fa)||mc(t,Va)}function mc(t,e){return t.hasOwnProperty(e)?t[e]:null}function Hs(t){return t&&(t.hasOwnProperty(La)||t.hasOwnProperty(gc))?t[La]:null}const Fa=Ht({\u0275prov:Ht}),La=Ht({\u0275inj:Ht}),Va=Ht({ngInjectableDef:Ht}),gc=Ht({ngInjectorDef:Ht});class Et{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Rt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Je(t){return t&&!!t.\u0275providers}const Ge=Ht({\u0275cmp:Ht}),et=Ht({\u0275dir:Ht}),Lt=Ht({\u0275pipe:Ht}),Wt=Ht({\u0275mod:Ht}),Qt=Ht({\u0275fac:Ht}),sn=Ht({__NG_ELEMENT_ID__:Ht}),lr=Ht({__NG_ENV_ID__:Ht});function nn(t){return"string"==typeof t?t:null==t?"":String(t)}function Eo(t,e){throw new he(-201,!1)}var Xn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Xn||{});let Qp;function vc(){return Qp}function Ho(t){const e=Qp;return Qp=t,e}function Xd(t,e,n){const r=aa(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Xn.Optional?null:void 0!==e?e:void Eo()}const ca={},Yp="__NG_DI_FLAG__",Zd="ngTempTokenPath",Ob=/\n/gm,Nv="__source";let ua;function da(t){const e=ua;return ua=t,e}function Xp(t,e=Xn.Default){if(void 0===ua)throw new he(-203,!1);return null===ua?Xd(t,void 0,e):ua.get(t,e&Xn.Optional?null:void 0,e)}function Qe(t,e=Xn.Default){return(vc()||Xp)(_n(t),e)}function nt(t,e=Xn.Default){return Qe(t,Ic(e))}function Ic(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ec(t){const e=[];for(let n=0;n<t.length;n++){const r=_n(t[n]);if(Array.isArray(r)){if(0===r.length)throw new he(900,!1);let i,o=Xn.Default;for(let s=0;s<r.length;s++){const a=r[s],l=kv(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(Qe(i,o))}else e.push(Qe(r))}return e}function bc(t,e){return t[Yp]=e,t.prototype[Yp]=e,t}function kv(t){return t[Yp]}const co=bc(Ft("Optional"),8),Cc=bc(Ft("SkipSelf"),4);function ha(t,e){return t.hasOwnProperty(Qt)?t[Qt]:null}function fa(t,e){t.forEach(n=>Array.isArray(n)?fa(n,e):e(n))}function eh(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Go(t,e,n){let r=Gs(t,e);return r>=0?t[1|r]=n:(r=~r,function Vv(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function xu(t,e){const n=Gs(t,e);if(n>=0)return t[1|n]}function Gs(t,e){return function nh(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const qo={},or=[],pa=new Et(""),Uv=new Et("",-1),Nu=new Et("");class rh{get(e,n=ca){if(n===ca){const r=new Error(`NullInjectorError: No provider for ${Qn(e)}!`);throw r.name="NullInjectorError",r}return n}}var Tc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Tc||{}),Es=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Es||{}),Tr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Tr||{});function jv(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ku(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];ih(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function zv(t){return 3===t||4===t||6===t}function ih(t){return 64===t.charCodeAt(0)}function Ou(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||oh(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function oh(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Hv="ng-template";function Vb(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==jv(e[i+1].toLowerCase(),n,0))return!0}else if(Fu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function Fu(t){return 4===t.type&&t.value!==Hv}function $b(t,e,n){return e===(4!==t.type||n?t.value:Hv)}function Bb(t,e,n){let r=4;const i=t.attrs,o=null!==i?function tm(t){for(let e=0;e<t.length;e++)if(zv(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!$b(t,l,n)||""===l&&1===e.length){if(Wo(r))return!1;s=!0}}else if(8&r){if(null===i||!Vb(t,i,l,n)){if(Wo(r))return!1;s=!0}}else{const c=e[++a],d=Ub(l,i,Fu(t),n);if(-1===d){if(Wo(r))return!1;s=!0;continue}if(""!==c){let p;if(p=d>o?"":i[d+1].toLowerCase(),2&r&&c!==p){if(Wo(r))return!1;s=!0}}}}else{if(!s&&!Wo(r)&&!Wo(l))return!1;if(s&&Wo(l))continue;s=!1,r=l|1&r}}return Wo(r)||s}function Wo(t){return!(1&t)}function Ub(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function zb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function sh(t,e,n=!1){for(let r=0;r<e.length;r++)if(Bb(t,e[r],n))return!0;return!1}function nm(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Gv(t,e){return t?":not("+e.trim()+")":e}function rm(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Wo(s)&&(e+=Gv(o,i),i=""),r=s,o=o||!Wo(r);n++}return""!==i&&(e+=Gv(o,i)),e}function ft(t){return Bi(()=>{var e;const n=qv(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(e=t.signals)&&void 0!==e&&e,data:t.data||{},encapsulation:t.encapsulation||Es.Emulated,styles:t.styles||or,_:null,schemas:t.schemas||null,tView:null,id:""};Wv(r);const i=t.dependencies;return r.directiveDefs=am(i,!1),r.pipeDefs=am(i,!0),r.id=function _M(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(r),r})}function om(t){return xn(t)||pi(t)}function Gb(t){return null!==t}function uo(t){return Bi(()=>({type:t.type,bootstrap:t.bootstrap||or,declarations:t.declarations||or,imports:t.imports||or,exports:t.exports||or,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function sm(t,e){if(null==t)return qo;const n={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];let s,a,l=Tr.None;var r;Array.isArray(o)?(l=o[0],s=o[1],a=null!==(r=o[2])&&void 0!==r?r:s):(s=o,a=o),e?(n[s]=l!==Tr.None?[i,l]:i,e[s]=a):n[s]=i}return n}function Zt(t){return Bi(()=>{const e=qv(t);return Wv(e),e})}function xn(t){return t[Ge]||null}function pi(t){return t[et]||null}function ji(t){return t[Lt]||null}function Xi(t,e){const n=t[Wt]||null;if(!n&&!0===e)throw new Error(`Type ${Qn(t)} does not have '\u0275mod' property.`);return n}function qv(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||or,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sm(t.inputs,e),outputs:sm(t.outputs),debugInfo:null}}function Wv(t){var e;null===(e=t.features)||void 0===e||e.forEach(n=>n(t))}function am(t,e){if(!t)return null;const n=e?ji:om;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Gb)}function ma(t){return{\u0275providers:t}}function qb(...t){return{\u0275providers:lm(0,t),\u0275fromNgModule:!0}}function lm(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return fa(e,s=>{const a=s;cm(a,o,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&Wb(i,o),n}function Wb(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Kv(i,o=>{e(o,r)})}}function cm(t,e,n,r){if(!(t=_n(t)))return!1;let i=null,o=Hs(t);const s=!o&&xn(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=Hs(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)cm(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{fa(o.imports,d=>{cm(d,e,n,r)&&(c||(c=[]),c.push(d))})}finally{}void 0!==c&&Wb(c,e)}if(!a){const c=ha(i)||(()=>new i);e({provide:i,useFactory:c,deps:or},i),e({provide:Nu,useValue:i,multi:!0},i),e({provide:pa,useValue:()=>Qe(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=t;Kv(l,d=>{e(d,c)})}}}return i!==t&&void 0!==t.providers}function Kv(t,e){for(let n of t)Je(n)&&(n=n.\u0275providers),Array.isArray(n)?Kv(n,e):e(n)}const vM=Ht({provide:String,useValue:Ht});function Qv(t){return null!==t&&"object"==typeof t&&vM in t}function ga(t){return"function"==typeof t}const um=new Et(""),lh={},yM={};let dm;function ch(){return void 0===dm&&(dm=new rh),dm}class ui{}class ja extends ui{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jv(e,s=>this.processProvider(s)),this.records.set(Uv,Ac(void 0,this)),i.has("environment")&&this.records.set(ui,Ac(void 0,this));const o=this.records.get(um);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Nu,or,Xn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=Ce(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=da(this),r=Ho(void 0);try{return e()}finally{da(n),Ho(r)}}get(e,n=ca,r=Xn.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lr))return e[lr](this);r=Ic(r);const o=da(this),s=Ho(void 0);try{if(!(r&Xn.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function Zv(t){return"function"==typeof t||"object"==typeof t&&t instanceof Et}(e)&&aa(e);l=c&&this.injectableDefInScope(c)?Ac(hm(e),lh):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Xn.Self?ch():this.parent).get(e,n=r&Xn.Optional&&n===ca?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Zd]=a[Zd]||[]).unshift(Qn(e)),o)throw a;return function Lb(t,e,n,r){const i=t[Zd];throw e[Nv]&&i.unshift(e[Nv]),t.message=function Jp(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Qn(e);if(Array.isArray(e))i=e.map(Qn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Qn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ob,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Zd]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Ho(s),da(o)}}resolveInjectorInitializers(){const e=Ce(null),n=da(this),r=Ho(void 0);try{const o=this.get(pa,or,Xn.Self);for(const s of o)s()}finally{da(n),Ho(r),Ce(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Qn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(e){let n=ga(e=_n(e))?e:_n(e&&e.provide);const r=function Yv(t){return Qv(t)?Ac(void 0,t.useValue):Ac(Xv(t),lh)}(e);if(!ga(e)&&!0===e.multi){let i=this.records.get(n);i||(i=Ac(void 0,lh,!0),i.factory=()=>Ec(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=Ce(null);try{return n.value===lh&&(n.value=yM,n.value=n.factory()),"object"==typeof n.value&&n.value&&function IM(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ce(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=_n(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function hm(t){const e=aa(t),n=null!==e?e.factory:ha(t);if(null!==n)return n;if(t instanceof Et)throw new he(204,!1);if(t instanceof Function)return function uh(t){if(t.length>0)throw new he(204,!1);const n=function Kp(t){return t&&(t[Fa]||t[Va])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new he(204,!1)}function Xv(t,e,n){let r;if(ga(t)){const i=_n(t);return ha(i)||hm(i)}if(Qv(t))r=()=>_n(t.useValue);else if(function Ua(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ec(t.deps||[]));else if(function ah(t){return!(!t||!t.useExisting)}(t))r=()=>Qe(_n(t.useExisting));else{const i=_n(t&&(t.useClass||t.provide));if(!function Qb(t){return!!t.deps}(t))return ha(i)||hm(i);r=()=>new i(...Ec(t.deps))}return r}function Ac(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Jv(t,e){for(const n of t)Array.isArray(n)?Jv(n,e):n&&Je(n)?Jv(n.\u0275providers,e):e(n)}function bs(t,e){t instanceof ja&&t.assertNotDestroyed();const r=da(t),i=Ho(void 0);try{return e()}finally{da(r),Ho(i)}}function ey(){return void 0!==vc()||null!=function Fb(){return ua}()}const Br=0,wt=1,fn=2,Gr=3,Cs=4,Oi=5,Co=6,Dc=7,Rr=8,wi=9,ls=10,Cn=11,Lu=12,ry=13,Sc=14,qr=15,za=16,Rc=17,Ws=18,Vu=19,ph=20,Ha=21,$u=22,Al=23,Rn=25,mh=1,Ks=7,Ga=9,di=10;var Uu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Uu||{});function Zi(t){return Array.isArray(t)&&"object"==typeof t[mh]}function Fi(t){return Array.isArray(t)&&!0===t[mh]}function fm(t){return!!(4&t.flags)}function _a(t){return t.componentOffset>-1}function Dl(t){return!(1&~t.flags)}function Ko(t){return!!t.template}function pm(t){return!!(512&t[fn])}class iC{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function _m(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function ho(){return vm}function vm(t){return t.type.prototype.ngOnChanges&&(t.setInput=sC),oC}function oC(){const t=fy(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===qo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sC(t,e,n,r,i){const o=this.declaredInputs[r],s=fy(t)||function aC(t,e){return t[vh]=e}(t,{previous:qo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new iC(c&&c.currentValue,n,l===qo),_m(t,e,i,n)}ho.ngInherit=!0;const vh="__ngSimpleChanges__";function fy(t){return t[vh]||null}const Qs=function(t,e,n){};let Ih=!1;function yr(t){for(;Array.isArray(t);)t=t[Br];return t}function Hu(t,e){return yr(e[t])}function Ji(t,e){return yr(e[t.index])}function Mc(t,e){return t.data[e]}function wo(t,e){const n=e[t];return Zi(n)?n:n[Br]}function Em(t){return!(128&~t[fn])}function Ys(t,e){return null==e?null:t[e]}function Eh(t){t[Rc]=0}function uC(t){1024&t[fn]||(t[fn]|=1024,Em(t)&&qa(t))}function bh(t){var e;return!!(9216&t[fn]||null!==(e=t[Al])&&void 0!==e&&e.dirty)}function bm(t){var e;if(null===(e=t[ls].changeDetectionScheduler)||void 0===e||e.notify(1),bh(t))qa(t);else if(64&t[fn])if(function ym(){return Ih}())t[fn]|=1024,qa(t);else{var n;null===(n=t[ls].changeDetectionScheduler)||void 0===n||n.notify()}}function qa(t){var e;null===(e=t[ls].changeDetectionScheduler)||void 0===e||e.notify();let n=Sl(t);for(;null!==n&&!(8192&n[fn])&&(n[fn]|=8192,Em(n));)n=Sl(n)}function Ch(t,e){if(!(256&~t[fn]))throw new he(911,!1);null===t[Ha]&&(t[Ha]=[]),t[Ha].push(e)}function Sl(t){const e=t[Gr];return Fi(e)?e[Gr]:e}const wn={lFrame:h(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yy(){return wn.bindingsEnabled}function Nc(){return null!==wn.skipHydrationRootTNode}function ze(){return wn.lFrame.lView}function Zn(){return wn.lFrame.tView}function Pt(t){return wn.lFrame.contextLView=t,t[Rr]}function Mt(t){return wn.lFrame.contextLView=null,t}function hr(){let t=wh();for(;null!==t&&64===t.type;)t=t.parent;return t}function wh(){return wn.lFrame.currentTNode}function cs(t,e){const n=wn.lFrame;n.currentTNode=t,n.isParent=e}function Tm(){return wn.lFrame.isParent}function Th(){wn.lFrame.isParent=!1}function Ao(){return wn.lFrame.bindingIndex++}function Xs(t){const e=wn.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _C(t,e){const n=wn.lFrame;n.bindingIndex=n.bindingRootIndex=t,Dm(e)}function Dm(t){wn.lFrame.currentDirectiveIndex=t}function Sm(t){const e=wn.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Ah(){return wn.lFrame.currentQueryIndex}function Dh(t){wn.lFrame.currentQueryIndex=t}function RM(t){const e=t[wt];return 2===e.type?e.declTNode:1===e.type?t[Oi]:null}function Ay(t,e,n){if(n&Xn.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Xn.Host||(i=RM(o),null===i||(o=o[Sc],10&i.type))););if(null===i)return!1;e=i,t=o}const r=wn.lFrame=u();return r.currentTNode=e,r.lView=t,!0}function m(t){const e=u(),n=t[wt];wn.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function u(){const t=wn.lFrame,e=null===t?null:t.child;return null===e?h(t):e}function h(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function g(){const t=wn.lFrame;return wn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const C=g;function N(){const t=g();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _e(){return wn.lFrame.selectedIndex}function rt(t){wn.lFrame.selectedIndex=t}function bt(){const t=wn.lFrame;return Mc(t.tView,t.selectedIndex)}let Rm=!0;function Rl(){return Rm}function Ts(t){Rm=t}function kc(t,e){for(let c=e.directiveStart,d=e.directiveEnd;c<d;c++){const _=t.data[c].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:A,ngAfterViewInit:x,ngAfterViewChecked:V,ngOnDestroy:B}=_;var n,r,i,o,s,a,l;I&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-c,I),A&&((null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(c,A),(null!==(i=t.contentCheckHooks)&&void 0!==i?i:t.contentCheckHooks=[]).push(c,A)),x&&(null!==(o=t.viewHooks)&&void 0!==o?o:t.viewHooks=[]).push(-c,x),V&&((null!==(s=t.viewHooks)&&void 0!==s?s:t.viewHooks=[]).push(c,V),(null!==(a=t.viewCheckHooks)&&void 0!==a?a:t.viewCheckHooks=[]).push(c,V)),null!=B&&(null!==(l=t.destroyHooks)&&void 0!==l?l:t.destroyHooks=[]).push(c,B)}}function Wu(t,e,n){Pm(t,e,3,n)}function Ku(t,e,n,r){(3&t[fn])===n&&Pm(t,e,n,r)}function Qu(t,e){let n=t[fn];(3&n)===e&&(n&=16383,n+=1,t[fn]=n)}function Pm(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Rc]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Rc]+=65536),(a<o||-1==o)&&(Mm(t,n,e,l),t[Rc]=(4294901760&t[Rc])+l+2),l++}function Sy(t,e){Qs(4,t,e);const n=Ce(null);try{e.call(t)}finally{Ce(n),Qs(5,t,e)}}function Mm(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[fn]>>14<t[Rc]>>16&&(3&t[fn])===e&&(t[fn]+=16384,Sy(a,o)):Sy(a,o)}const Oc=-1;class xm{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function IC(t){return t!==Oc}function Nm(t){return 32767&t}function km(t,e){let n=function M5(t){return t>>16}(t),r=e;for(;n>0;)r=r[Sc],n--;return r}let EC=!0;function Ry(t){const e=EC;return EC=t,e}const PM=255,MM=5;let x5=0;const Ka={};function Py(t,e){const n=xM(t,e);if(-1!==n)return n;const r=e[wt];r.firstCreatePass&&(t.injectorIndex=e.length,bC(r.data,t),bC(e,null),bC(r.blueprint,null));const i=My(t,e),o=t.injectorIndex;if(IC(i)){const s=Nm(i),a=km(i,e),l=a[wt].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function bC(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function My(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=$M(i),null===r)return Oc;if(n++,i=i[Sc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Oc}function CC(t,e,n){!function N5(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(sn)&&(r=n[sn]),null==r&&(r=n[sn]=x5++);const i=r&PM;e.data[t+(i>>MM)]|=1<<i}(t,e,n)}function NM(t,e,n){if(n&Xn.Optional||void 0!==t)return t;Eo()}function kM(t,e,n,r){if(n&Xn.Optional&&void 0===r&&(r=null),!(n&(Xn.Self|Xn.Host))){const i=t[wi],o=Ho(void 0);try{return i?i.get(e,r,n&Xn.Optional):Xd(e,r,n&Xn.Optional)}finally{Ho(o)}}return NM(r,0,n)}function OM(t,e,n,r=Xn.Default,i){if(null!==t){if(2048&e[fn]&&!(r&Xn.Self)){const s=function V5(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[fn]&&!(512&s[fn]);){const a=FM(o,s,n,r|Xn.Self,Ka);if(a!==Ka)return a;let l=o.parent;if(!l){const c=s[ph];if(c){const d=c.get(n,Ka,r);if(d!==Ka)return d}l=$M(s),s=s[Sc]}o=l}return i}(t,e,n,r,Ka);if(s!==Ka)return s}const o=FM(t,e,n,r,Ka);if(o!==Ka)return o}return kM(e,n,r,i)}function FM(t,e,n,r,i){const o=function F5(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(sn)?t[sn]:void 0;return"number"==typeof e?e>=0?e&PM:L5:e}(n);if("function"==typeof o){if(!Ay(e,t,r))return r&Xn.Host?NM(i,0,r):kM(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Xn.Optional)return s;Eo()}finally{C()}}else if("number"==typeof o){let s=null,a=xM(t,e),l=Oc,c=r&Xn.Host?e[qr][Oi]:null;for((-1===a||r&Xn.SkipSelf)&&(l=-1===a?My(t,e):e[a+8],l!==Oc&&VM(r,!1)?(s=e[wt],a=Nm(l),e=km(l,e)):a=-1);-1!==a;){const d=e[wt];if(LM(o,a,d.data)){const p=O5(a,e,n,s,r,c);if(p!==Ka)return p}l=e[a+8],l!==Oc&&VM(r,e[wt].data[a+8]===c)&&LM(o,a,e)?(s=d,a=Nm(l),e=km(l,e)):a=-1}}return i}function O5(t,e,n,r,i,o){const s=e[wt],a=s.data[t+8],d=xy(a,s,n,null==r?_a(a)&&EC:r!=s&&!!(3&a.type),i&Xn.Host&&o===a);return null!==d?Yu(e,s,d,a):Ka}function xy(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,d=o>>20,_=i?a+d:t.directiveEnd;for(let I=r?a:a+d;I<_;I++){const A=s[I];if(I<l&&n===A||I>=l&&A.type===n)return I}if(i){const I=s[l];if(I&&Ko(I)&&I.type===n)return l}return null}function Yu(t,e,n,r){let i=t[n];const o=e.data;if(function D5(t){return t instanceof xm}(i)){const s=i;s.resolving&&function lo(t,e){throw e&&e.join(" > "),new he(-200,t)}(function hn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():nn(t)}(o[n]));const a=Ry(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Ho(s.injectImpl):null;Ay(t,r,Xn.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Dy(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){var s,a;const p=vm(e);(null!==(s=n.preOrderHooks)&&void 0!==s?s:n.preOrderHooks=[]).push(t,p),(null!==(a=n.preOrderCheckHooks)&&void 0!==a?a:n.preOrderCheckHooks=[]).push(t,p)}var l,c,d;i&&(null!==(l=n.preOrderHooks)&&void 0!==l?l:n.preOrderHooks=[]).push(0-t,i),o&&((null!==(c=n.preOrderHooks)&&void 0!==c?c:n.preOrderHooks=[]).push(t,o),(null!==(d=n.preOrderCheckHooks)&&void 0!==d?d:n.preOrderCheckHooks=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&Ho(c),Ry(a),s.resolving=!1,C()}}return i}function LM(t,e,n){return!!(n[e+(t>>MM)]&1<<t)}function VM(t,e){return!(t&Xn.Self||t&Xn.Host&&e)}class zi{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return OM(this._tNode,this._lView,e,Ic(r),n)}}function L5(){return new zi(hr(),ze())}function Wr(t){return Bi(()=>{const e=t.prototype.constructor,n=e[Qt]||wC(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Qt]||wC(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wC(t){return El(t)?()=>{const e=wC(_n(t));return e&&e()}:ha(t)}function $M(t){const e=t[wt],n=e.type;return 2===n?e.declTNode:1===n?t[Oi]:null}function Pl(t){return function k5(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(zv(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(hr(),t)}function HM(t,e=null,n=null,r){const i=GM(t,e,n,r);return i.resolveInjectorInitializers(),i}function GM(t,e=null,n=null,r,i=new Set){const o=[n||or,qb(t)];return r=r||("object"==typeof t?void 0:Qn(t)),new ja(o,e||ch(),r||null,i)}let Ar=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return HM({name:""},i,r,"");{var o;const s=null!==(o=r.name)&&void 0!==o?o:"";return HM({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=ca,t.NULL=new rh,t.\u0275prov=Rt({token:t,providedIn:"any",factory:()=>Qe(Uv)}),t.__NG_ELEMENT_ID__=-1,e})();function AC(t){return t.ngOriginalError}class Qa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&AC(e);for(;n&&AC(n);)n=AC(n);return n||null}}const WM=new Et("",{providedIn:"root",factory:()=>nt(Qa).handleError.bind(void 0)});let Ph=(()=>{var t;class e{}return(t=e).__NG_ELEMENT_ID__=W5,t.__NG_ENV_ID__=n=>n,e})();class q5 extends Ph{constructor(e){super(),this._lView=e}onDestroy(e){return Ch(this._lView,e),()=>function Cm(t,e){if(null===t[Ha])return;const n=t[Ha].indexOf(e);-1!==n&&t[Ha].splice(n,1)}(this._lView,e)}}function W5(){return new q5(ze())}function K5(){return Mh(hr(),ze())}function Mh(t,e){return new st(Ji(t,e))}let st=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=K5,e})();function QM(t){return t instanceof st?t.nativeElement:t}function DC(t){return e=>{setTimeout(t,void 0,e)}}const Pr=class Q5 extends M{constructor(e=!1){var n;super(),this.destroyRef=void 0,this.__isAsync=e,ey()&&(this.destroyRef=null!==(n=nt(Ph,{optional:!0}))&&void 0!==n?n:void 0)}emit(e){const n=Ce(null);try{super.next(e)}finally{Ce(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){var a,l,c;const p=e;i=null===(a=p.next)||void 0===a?void 0:a.bind(p),o=null===(l=p.error)||void 0===l?void 0:l.bind(p),s=null===(c=p.complete)||void 0===c?void 0:c.bind(p)}this.__isAsync&&(o=DC(o),i&&(i=DC(i)),s&&(s=DC(s)));const d=super.subscribe({next:i,error:o,complete:s});return e instanceof Tn&&e.add(d),d}};function Y5(){return this._results[Symbol.iterator]()}class SC{get changes(){var e;return null!==(e=this._changes)&&void 0!==e?e:this._changes=new Pr}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=SC.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Y5)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function Yi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Fv(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){var e;this.dirty=!0,null===(e=this._onDirty)||void 0===e||e.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function ky(t){return!(128&~t.flags)}const RC=new Map;let Z5=0;const MC="__ngContext__";function So(t,e){Zi(e)?(t[MC]=e[Vu],function eH(t){RC.set(t[Vu],t)}(e)):t[MC]=e}function o1(t){return a1(t[Lu])}function s1(t){return a1(t[Cs])}function a1(t){for(;null!==t&&!Fi(t);)t=t[Cs];return t}let xC;function Fc(){if(void 0!==xC)return xC;if(typeof document<"u")return document;throw new he(210,!1)}const Ly=new Et("",{providedIn:"root",factory:()=>vH}),vH="ng",m1=new Et(""),Zs=new Et("",{providedIn:"platform",factory:()=>"unknown"}),g1=new Et(""),_1=new Et("",{providedIn:"root",factory:()=>{var t;return(null===(t=Fc().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let v1=()=>null;function LC(t,e,n=!1){return v1(t,e,n)}const C1=new Et("",{providedIn:"root",factory:()=>!1});let Gy,qy;function Oh(t){var e;return(null===(e=function UC(){if(void 0===Gy&&(Gy=null,J.trustedTypes))try{Gy=J.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gy}())||void 0===e?void 0:e.createHTML(t))||t}function jC(){if(void 0===qy&&(qy=null,J.trustedTypes))try{qy=J.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qy}function T1(t){var e;return(null===(e=jC())||void 0===e?void 0:e.createHTML(t))||t}function D1(t){var e;return(null===(e=jC())||void 0===e?void 0:e.createScriptURL(t))||t}class Xu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${on})`}}class xH extends Xu{getTypeName(){return"HTML"}}class NH extends Xu{getTypeName(){return"Style"}}class kH extends Xu{getTypeName(){return"Script"}}class OH extends Xu{getTypeName(){return"URL"}}class FH extends Xu{getTypeName(){return"ResourceURL"}}function As(t){return t instanceof Xu?t.changingThisBreaksApplicationSecurity:t}function Ya(t,e){const n=function LH(t){return t instanceof Xu&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${on})`)}return n===e}class zH{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Oh(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class HH{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Oh(e),n}}const qH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wy(t){return(t=String(t)).match(qH)?t:"unsafe:"+t}function Ml(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function jm(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const R1=Ml("area,br,col,hr,img,wbr"),P1=Ml("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),M1=Ml("rp,rt"),zC=jm(R1,jm(P1,Ml("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jm(M1,Ml("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jm(M1,P1)),HC=Ml("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),x1=jm(HC,Ml("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ml("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),WH=Ml("script,style,template");class KH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)i.push(n),n=XH(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=YH(n);if(o){n=o;break}n=i.pop()}return this.buf.join("")}startElement(e){const n=N1(e).toLowerCase();if(!zC.hasOwnProperty(n))return this.sanitizedSomething=!0,!WH.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!x1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;HC[a]&&(l=Wy(l)),this.buf.push(" ",s,'="',O1(l),'"')}return this.buf.push(">"),!0}endElement(e){const n=N1(e).toLowerCase();zC.hasOwnProperty(n)&&!R1.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(O1(e))}}function YH(t){const e=t.nextSibling;if(e&&t!==e.previousSibling)throw k1(e);return e}function XH(t){const e=t.firstChild;if(e&&function QH(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,e))throw k1(e);return e}function N1(t){const e=t.nodeName;return"string"==typeof e?e:"FORM"}function k1(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const ZH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JH=/([^\#-~ |!])/g;function O1(t){return t.replace(/&/g,"&amp;").replace(ZH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(JH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ky;function F1(t,e){let n=null;try{Ky=Ky||function S1(t){const e=new HH(t);return function GH(){try{return!!(new window.DOMParser).parseFromString(Oh(""),"text/html")}catch{return!1}}()?new zH(e):e}(t);let r=e?String(e):"";n=Ky.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Ky.getInertBodyElement(r)}while(r!==o);return Oh((new KH).sanitizeChildren(GC(n)||n))}finally{if(n){const r=GC(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function GC(t){return"content"in t&&function e6(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ds=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ds||{});function qC(t){const e=zm();return e?T1(e.sanitize(Ds.HTML,t)||""):Ya(t,"HTML")?T1(As(t)):F1(Fc(),nn(t))}function eo(t){const e=zm();return e?e.sanitize(Ds.URL,t)||"":Ya(t,"URL")?As(t):Wy(nn(t))}function L1(t){const e=zm();if(e)return D1(e.sanitize(Ds.RESOURCE_URL,t)||"");if(Ya(t,"ResourceURL"))return D1(As(t));throw new he(904,!1)}function zm(){const t=ze();return t&&t[ls].sanitizer}const s6=/^>|^->|<!--|-->|--!>|<!-$/g,a6=/(<|>)/g,l6="\u200b$1\u200b";function Ss(t){return t instanceof Function?t():t}var Lc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Lc||{});let YC;function XC(t,e){return YC(t,e)}function Lh(t,e,n,r,i){if(null!=r){let o,s=!1;Fi(r)?o=r:Zi(r)&&(s=!0,r=r[Br]);const a=yr(r);0===t&&null!==n?null==i?Y1(e,n,a):Zu(e,n,a,i||null,!0):1===t&&null!==n?Zu(e,n,a,i||null,!0):2===t?function qm(t,e,n){const r=Jy(t,e);r&&function D6(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function P6(t,e,n,r,i){const o=n[Ks];o!==yr(n)&&Lh(e,t,r,o,i);for(let a=di;a<n.length;a++){const l=n[a];t0(l[wt],l,t,e,r,o)}}(e,t,o,n,i)}}function JC(t,e){return t.createComment(function $1(t){return t.replace(s6,e=>e.replace(a6,l6))}(e))}function Xy(t,e,n){return t.createElement(e,n)}function W1(t,e){var n;null===(n=e[ls].changeDetectionScheduler)||void 0===n||n.notify(1),t0(t,e,e[Cn],2,null,null)}function K1(t,e){const n=t[Ga],r=n.indexOf(e);n.splice(r,1)}function Hm(t,e){if(t.length<=di)return;const n=di+e,r=t[n];if(r){const i=r[za];null!==i&&i!==t&&K1(i,r),e>0&&(t[n-1][Cs]=r[Cs]);const o=Mu(t,di+e);!function I6(t,e){W1(t,e),e[Br]=null,e[Oi]=null}(r[wt],r);const s=o[Ws];null!==s&&s.detachView(o[wt]),r[Gr]=null,r[Cs]=null,r[fn]&=-129}return r}function Zy(t,e){if(!(256&e[fn])){const n=e[Cn];n.destroyNode&&t0(t,e,n,3,null,null),function b6(t){let e=t[Lu];if(!e)return ew(t[wt],t);for(;e;){let n=null;if(Zi(e))n=e[Lu];else{const r=e[di];r&&(n=r)}if(!n){for(;e&&!e[Cs]&&e!==t;)Zi(e)&&ew(e[wt],e),e=e[Gr];null===e&&(e=t),Zi(e)&&ew(e[wt],e),n=e&&e[Cs]}e=n}}(e)}}function ew(t,e){if(256&e[fn])return;const n=Ce(null);try{e[fn]&=-129,e[fn]|=256,e[Al]&&function ct(t){if(Ze(t),Fe(t))for(let e=0;e<t.producerNode.length;e++)$e(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[Al]),function A6(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof xm)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Qs(4,a,l);try{l.call(a)}finally{Qs(5,a,l)}}else{Qs(4,i,o);try{o.call(i)}finally{Qs(5,i,o)}}}}}(t,e),function T6(t,e){const n=t.cleanup,r=e[Dc];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Dc]=null);const i=e[Ha];if(null!==i){e[Ha]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[wt].type&&e[Cn].destroy();const r=e[za];if(null!==r&&Fi(e[Gr])){r!==e[Gr]&&K1(r,e);const i=e[Ws];null!==i&&i.detachView(t)}!function tH(t){RC.delete(t[Vu])}(e)}finally{Ce(n)}}function tw(t,e,n){return function Q1(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Br];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Es.None||o===Es.Emulated)return null}return Ji(r,n)}}(t,e.parent,n)}function Zu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Y1(t,e,n){t.appendChild(e,n)}function X1(t,e,n,r,i){null!==r?Zu(t,e,n,r,i):Y1(t,e,n)}function Jy(t,e){return t.parentNode(e)}function Z1(t,e,n){return ex(t,e,n)}let nw,ex=function J1(t,e,n){return 40&t.type?Ji(t,n):null};function e0(t,e,n,r){const i=tw(t,r,e),o=e[Cn],a=Z1(r.parent||e[Oi],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)X1(o,i,n[l],a,!1);else X1(o,i,n,a,!1);void 0!==nw&&nw(o,r,e,n,i)}function Gm(t,e){if(null!==e){const n=e.type;if(3&n)return Ji(e,t);if(4&n)return rw(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Gm(t,r);{const i=t[e.index];return Fi(i)?rw(-1,i):yr(i)}}if(32&n)return XC(e,t)()||yr(t[e.index]);{const r=nx(t,e);return null!==r?Array.isArray(r)?r[0]:Gm(Sl(t[qr]),r):Gm(t,e.next)}}return null}function nx(t,e){return null!==e?t[qr][Oi].projection[e.projection]:null}function rw(t,e){const n=di+t+1;if(n<e.length){const r=e[n],i=r[wt].firstChild;if(null!==i)return Gm(r,i)}return e[Ks]}function iw(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&So(yr(a),r),n.flags|=2),32&~n.flags)if(8&l)iw(t,e,n.child,r,i,o,!1),Lh(e,t,i,a,o);else if(32&l){const c=XC(n,r);let d;for(;d=c();)Lh(e,t,i,d,o);Lh(e,t,i,a,o)}else 16&l?ix(t,e,r,n,i,o):Lh(e,t,i,a,o);n=s?n.projectionNext:n.next}}function t0(t,e,n,r,i,o){iw(n,r,t.firstChild,e,i,o,!1)}function ix(t,e,n,r,i,o){const s=n[qr],l=s[Oi].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Lh(e,t,i,l[c],o);else{let c=l;const d=s[Gr];ky(r)&&(c.flags|=128),iw(t,e,c,d,i,o,!0)}}function ox(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sx(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&ku(t,e,r),null!==i&&ox(t,e,i),null!==o&&function x6(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}const Fn={};function Te(t=1){ax(Zn(),ze(),_e()+t,!1)}function ax(t,e,n,r){if(!r)if(3&~e[fn]){const o=t.preOrderHooks;null!==o&&Ku(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&Wu(e,o,n)}rt(n)}function T(t,e=Xn.Default){const n=ze();return null===n?Qe(t,e):OM(hr(),n,_n(t),e)}function cx(t,e,n,r,i,o){const s=Ce(null);try{let a=null;i&Tr.SignalBased&&(a=e[r][xt]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Tr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),null!==t.setInput?t.setInput(e,a,o,n,r):_m(e,a,r,o)}finally{Ce(s)}}function n0(t,e,n,r,i,o,s,a,l,c,d){const p=e.blueprint.slice();return p[Br]=i,p[fn]=204|r,(null!==c||t&&2048&t[fn])&&(p[fn]|=2048),Eh(p),p[Gr]=p[Sc]=t,p[Rr]=n,p[ls]=s||t&&t[ls],p[Cn]=a||t&&t[Cn],p[wi]=l||t&&t[wi]||null,p[Oi]=o,p[Vu]=function J5(){return Z5++}(),p[Co]=d,p[ph]=c,p[qr]=2==e.type?t[qr]:p,p}function Vh(t,e,n,r,i){let o=t.data[e];if(null===o)o=function ow(t,e,n,r,i){const o=wh(),s=Tm(),l=t.data[e]=function B6(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Nc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function wy(){return wn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Gu(){const t=wn.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return cs(o,!0),o}function Wm(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ux(t,e,n,r,i){const o=_e(),s=2&r;try{rt(-1),s&&e.length>Rn&&ax(t,e,Rn,!1),Qs(s?2:0,i),n(r,i)}finally{rt(o),Qs(s?3:1,i)}}function sw(t,e,n){if(fm(e)){const r=Ce(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Ce(r)}}}function aw(t,e,n){yy()&&(function W6(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;_a(n)&&function eG(t,e,n){const r=Ji(e,t),i=dx(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=r0(t,n0(t,i,null,s,r,e,null,t[ls].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Py(n,e),So(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],c=Yu(e,t,a,n);So(c,e),null!==s&&tG(0,a-i,c,l,0,s),Ko(l)&&(wo(n.index,e)[Rr]=Yu(e,t,a,n))}}(t,e,n,Ji(n,e)),!(64&~n.flags)&&gx(t,e,n))}function lw(t,e,n=Ji){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function dx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=cw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function cw(t,e,n,r,i,o,s,a,l,c,d){const p=Rn+r,_=p+i,I=function k6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fn);return n}(p,_),A="function"==typeof c?c():c;return I[wt]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:d}}let hx=()=>null;function fx(t,e,n,r,i){for(let s in e){var o;if(!e.hasOwnProperty(s))continue;const a=e[s];if(void 0===a)continue;null!==(o=r)&&void 0!==o||(r={});let l,c=Tr.None;Array.isArray(a)?(l=a[0],c=a[1]):l=a;let d=s;if(null!==i){if(!i.hasOwnProperty(s))continue;d=i[s]}0===t?px(r,n,d,l,c):px(r,n,d,l)}return r}function px(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],void 0!==i&&o.push(i)}function ds(t,e,n,r,i,o,s,a){const l=Ji(e,n);let d,c=e.inputs;!a&&null!=c&&(d=c[r])?(pw(t,n,d,r,i),_a(e)&&function z6(t,e){const n=wo(e,t);16&n[fn]||(n[fn]|=64)}(n,e.index)):3&e.type&&(r=function j6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function uw(t,e,n,r){if(yy()){const i=null===r?null:{"":-1},o=function Q6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(sh(e,a.selectors,!1))if(r||(r=[]),Ko(a))if(null!==a.findHostDirectiveDefs){const l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a),dw(t,e,l.length)}else r.unshift(a),dw(t,e,0);else{var o;i=i||new Map,null===(o=a.findHostDirectiveDefs)||void 0===o||o.call(a,a,r,i),r.push(a)}}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&mx(t,e,n,s,i,a),i&&function Y6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new he(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Ou(n.mergedAttrs,n.attrs)}function mx(t,e,n,r,i,o){for(let p=0;p<r.length;p++)CC(Py(n,e),t,r[p].type);!function Z6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let p=0;p<r.length;p++){const _=r[p];_.providersResolver&&_.providersResolver(_)}let s=!1,a=!1,l=Wm(t,e,r.length,null);for(let p=0;p<r.length;p++){const _=r[p];n.mergedAttrs=Ou(n.mergedAttrs,_.hostAttrs),J6(t,n,e,l,_),X6(l,_,i),null!==_.contentQueries&&(n.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(n.flags|=64);const I=_.type.prototype;var c,d;!s&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((null!==(c=t.preOrderHooks)&&void 0!==c?c:t.preOrderHooks=[]).push(n.index),s=!0),a||!I.ngOnChanges&&!I.ngDoCheck||((null!==(d=t.preOrderCheckHooks)&&void 0!==d?d:t.preOrderCheckHooks=[]).push(n.index),a=!0),l++}!function U6(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,c=null;for(let d=e.directiveStart;d<i;d++){const p=o[d],_=n?n.get(p):null,A=_?_.outputs:null;l=fx(0,p.inputs,d,l,_?_.inputs:null),c=fx(1,p.outputs,d,c,A);const x=null===l||null===s||Fu(e)?null:nG(l,d,s);a.push(x)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,n,o)}function gx(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function vC(){return wn.lFrame.currentDirectiveIndex}();try{rt(o);for(let a=r;a<i;a++){const l=t.data[a],c=e[a];Dm(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&K6(l,c)}}finally{rt(-1),Dm(s)}}function K6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function dw(t,e,n){var r;e.componentOffset=n,(null!==(r=t.components)&&void 0!==r?r:t.components=[]).push(e.index)}function X6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ko(e)&&(n[""]=t)}}function J6(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ha(i.type)),s=new xm(o,Ko(i),T);t.blueprint[r]=s,n[r]=s,function G6(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function q6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Wm(t,n,i.hostVars,Fn),i)}function Xa(t,e,n,r,i,o){const s=Ji(t,e);!function hw(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?nn(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Cn],s,o,t.value,n,r,i)}function tG(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)cx(r,n,s[a++],s[a++],s[a++],s[a++])}function nG(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function _x(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function vx(t,e){const n=t.contentQueries;if(null!==n){const r=Ce(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];Dh(n[i]),a.contentQueries(2,e[s],s)}}}finally{Ce(r)}}}function r0(t,e){return t[Lu]?t[ry][Cs]=e:t[Lu]=e,t[ry]=e,e}function fw(t,e,n){Dh(0);const r=Ce(null);try{e(t,n)}finally{Ce(r)}}function yx(t){return t[Dc]||(t[Dc]=[])}function Ix(t){return t.cleanup||(t.cleanup=[])}function Ex(t,e,n){return(null===t||Ko(t))&&(n=function zu(t){for(;Array.isArray(t);){if("object"==typeof t[mh])return t;t=t[Br]}return null}(n[e.index])),n[Cn]}function o0(t,e){const n=t[wi],r=n?n.get(Qa,null):null;r&&r.handleError(e)}function pw(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=n[o++];cx(t.data[s],e[s],r,a,l,i)}}function xl(t,e,n){const r=Hu(e,t);!function q1(t,e,n){t.setValue(e,n)}(t[Cn],r,n)}function rG(t,e){const n=wo(e,t),r=n[wt];!function iG(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Br];null!==i&&null===n[Co]&&(n[Co]=LC(i,n[wi])),mw(r,n,n[Rr])}function mw(t,e,n){m(e);try{var r;const i=t.viewQuery;null!==i&&fw(1,i,n);const o=t.template;null!==o&&ux(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(r=e[Ws])||void 0===r||r.finishViewCreation(t),t.staticContentQueries&&vx(t,e),t.staticViewQueries&&fw(2,t.viewQuery,n);const s=t.components;null!==s&&function oG(t,e){for(let n=0;n<e.length;n++)rG(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[fn]&=-5,N()}}function $h(t,e){return!e||null===e.firstChild||ky(t)}function Qm(t,e,n,r=!0){const i=e[wt];if(function C6(t,e,n,r){const i=di+r,o=n.length;r>0&&(n[i-1][Cs]=e),r<o-di?(e[Cs]=n[i],eh(n,di+r,e)):(n.push(e),e[Cs]=null),e[Gr]=n;const s=e[za];null!==s&&n!==s&&function w6(t,e){const n=t[Ga];e[qr]!==e[Gr][Gr][qr]&&(t[fn]|=Uu.HasTransplantedViews),null===n?t[Ga]=[e]:n.push(e)}(s,e);const a=e[Ws];null!==a&&a.insertView(t),bm(e),e[fn]|=128}(i,e,t,n),r){const s=rw(n,t),a=e[Cn],l=Jy(a,t[Ks]);null!==l&&function E6(t,e,n,r,i,o){r[Br]=i,r[Oi]=e,t0(t,r,n,1,i,o)}(i,t[Oi],a,e,l,s)}const o=e[Co];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Ym(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(yr(o)),Fi(o)&&Cx(o,r);const s=n.type;if(8&s)Ym(t,e,n.child,r);else if(32&s){const a=XC(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=nx(e,n);if(Array.isArray(a))r.push(...a);else{const l=Sl(e[qr]);Ym(l[wt],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Cx(t,e){for(let n=di;n<t.length;n++){const r=t[n],i=r[wt].firstChild;null!==i&&Ym(r[wt],r,i,e)}t[Ks]!==t[Br]&&e.push(t[Ks])}let wx=[];const cG={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qa(t.lView)},consumerOnSignalRead(){this.lView[Al]=this}},Tx=100;function s0(t,e=!0,n=0){const r=t[ls],i=r.rendererFactory;var s;null===(s=i.begin)||void 0===s||s.call(i);try{!function uG(t,e){_w(t,e);let n=0;for(;bh(t);){if(n===Tx)throw new he(103,!1);n++,_w(t,1)}}(t,n)}catch(c){throw e&&o0(t,c),c}finally{var a,l;null===(a=i.end)||void 0===a||a.call(i),null===(l=r.inlineEffectRunner)||void 0===l||l.flush()}}function dG(t,e,n,r){var i;const o=e[fn];if(!(256&~o))return;null===(i=e[ls].inlineEffectRunner)||void 0===i||i.flush(),m(e);let a=null,l=null;(function hG(t){return 2!==t.type})(t)&&(l=function sG(t){var e;return null!==(e=t[Al])&&void 0!==e?e:function aG(t){var e;const n=null!==(e=wx.pop())&&void 0!==e?e:Object.create(cG);return n.lView=t,n}(t)}(e),a=function be(t){return t&&(t.nextProducerIndex=0),Ce(t)}(l));try{Eh(e),function Am(t){return wn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&ux(t,e,n,2,r);const c=!(3&~o);if(c){const _=t.preOrderCheckHooks;null!==_&&Wu(e,_,null)}else{const _=t.preOrderHooks;null!==_&&Ku(e,_,0,null),Qu(e,0)}if(function fG(t){for(let e=o1(t);null!==e;e=s1(e)){if(!(e[fn]&Uu.HasTransplantedViews))continue;const n=e[Ga];for(let r=0;r<n.length;r++){uC(n[r])}}}(e),Ax(e,0),null!==t.contentQueries&&vx(t,e),c){const _=t.contentCheckHooks;null!==_&&Wu(e,_)}else{const _=t.contentHooks;null!==_&&Ku(e,_,1),Qu(e,1)}!function N6(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)rt(~i);else{const o=i,s=n[++r],a=n[++r];_C(s,o),a(2,e[o])}}}finally{rt(-1)}}(t,e);const d=t.components;null!==d&&Sx(e,d,0);const p=t.viewQuery;if(null!==p&&fw(2,p,r),c){const _=t.viewCheckHooks;null!==_&&Wu(e,_)}else{const _=t.viewHooks;null!==_&&Ku(e,_,2),Qu(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[$u]){for(const _ of e[$u])_();e[$u]=null}e[fn]&=-73}catch(c){throw qa(e),c}finally{null!==l&&(function Ke(t,e){if(Ce(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Fe(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$e(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(l,a),function lG(t){t.lView[Al]!==t&&(t.lView=null,wx.push(t))}(l)),N()}}function Ax(t,e){for(let n=o1(t);null!==n;n=s1(n))for(let r=di;r<n.length;r++)Dx(n[r],e)}function pG(t,e,n){Dx(wo(e,t),n)}function Dx(t,e){Em(t)&&_w(t,e)}function _w(t,e){const r=t[wt],i=t[fn],o=t[Al];let s=!!(0===e&&16&i);if(s||(s=!!(64&i&&0===e)),s||(s=!!(1024&i)),s||(s=!(null==o||!o.dirty||!we(o))),o&&(o.dirty=!1),t[fn]&=-9217,s)dG(r,t,r.template,t[Rr]);else if(8192&i){Ax(t,1);const a=r.components;null!==a&&Sx(t,a,1)}}function Sx(t,e,n){for(let r=0;r<e.length;r++)pG(t,e[r],n)}function Xm(t){var e;for(null===(e=t[ls].changeDetectionScheduler)||void 0===e||e.notify();t;){t[fn]|=64;const n=Sl(t);if(pm(t)&&!n)return t;t=n}return null}class Zm{get rootNodes(){const e=this._lView,n=e[wt];return Ym(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rr]}set context(e){this._lView[Rr]=e}get destroyed(){return!(256&~this._lView[fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Gr];if(Fi(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Hm(e,r),Mu(n,r))}this._attachedToViewContainer=!1}Zy(this._lView[wt],this._lView)}onDestroy(e){Ch(this._lView,e)}markForCheck(){Xm(this._cdRefInjectingView||this._lView)}detach(){this._lView[fn]&=-129}reattach(){bm(this._lView),this._lView[fn]|=128}detectChanges(){this._lView[fn]|=1024,s0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,W1(this._lView[wt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=e,bm(this._lView)}}let Ia=(()=>{class e{}return e.__NG_ELEMENT_ID__=_G,e})();const mG=Ia,gG=class extends mG{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){var e;return(null===(e=this._declarationTContainer.tView)||void 0===e?void 0:e.ssrId)||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Km(t,e,n,r){const i=Ce(null);try{var o,s,a;const l=e.tView,p=n0(t,l,n,4096&t[fn]?4096:16,null,e,null,null,null!==(o=null==r?void 0:r.injector)&&void 0!==o?o:null,null!==(s=null==r?void 0:r.embeddedViewInjector)&&void 0!==s?s:null,null!==(a=null==r?void 0:r.dehydratedView)&&void 0!==a?a:null);p[za]=t[e.index];const I=t[Ws];return null!==I&&(p[Ws]=I.createEmbeddedView(l)),mw(l,p,n),p}finally{Ce(i)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Zm(i)}};function _G(){return a0(hr(),ze())}function a0(t,e){return 4&t.type?new gG(e,t,Mh(t,e)):null}class h0{}class UG{}class Ox{}class zG{resolveComponentFactory(e){throw function jG(t){const e=Error(`No component factory found for ${Qn(t)}.`);return e.ngComponent=t,e}(e)}}let rg=(()=>{class e{}return e.NULL=new zG,e})();class Cw{}let Nl=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function HG(){const t=ze(),n=wo(hr().index,t);return(Zi(n)?n:t)[Cn]}(),e})(),GG=(()=>{var t;class e{}return(t=e).\u0275prov=Rt({token:t,providedIn:"root",factory:()=>null}),e})();const ww={},Lx=new Set;function Za(t){var e,n;Lx.has(t)||(Lx.add(t),null===(e=performance)||void 0===e||null===(n=e.mark)||void 0===n||n.call(e,"mark_feature_usage",{detail:{feature:t}}))}function Vx(...t){}class He{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pr(!1),this.onMicrotaskEmpty=new Pr(!1),this.onStable=new Pr(!1),this.onError=new Pr(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function qG(){const t="function"==typeof J.requestAnimationFrame;let e=J[t?"requestAnimationFrame":"setTimeout"],n=J[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function QG(t){const e=()=>{!function KG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(J,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Aw(t),t.isCheckStableRunning=!0,Tw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Aw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function YG(t){var e;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(e=t[0].data)||void 0===e?void 0:e.__ignore_ng_zone__)}(a))return n.invokeTask(i,o,s,a);try{return $x(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Bx(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return $x(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Bx(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Aw(t),Tw(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(He.isInAngularZone())throw new he(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,WG,Vx,Vx);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const WG={};function Tw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Aw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function $x(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Bx(t){t._nesting--,Tw(t)}class Ux{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pr,this.onMicrotaskEmpty=new Pr,this.onStable=new Pr,this.onError=new Pr}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var Ju=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ju||{});const jx={destroy(){}};function Sw(t,e){var n,r,i;!e&&function dh(t){if(!ey())throw new he(-203,!1)}();const o=null!==(n=null==e?void 0:e.injector)&&void 0!==n?n:nt(Ar);if(!function ya(t){return"browser"===(null!=t?t:nt(Ar)).get(Zs)}(o))return jx;Za("NgAfterNextRender");const s=o.get(ig),a=null!==(r=s.handler)&&void 0!==r?r:s.handler=new Hx,l=null!==(i=null==e?void 0:e.phase)&&void 0!==i?i:Ju.MixedReadWrite,c=()=>{a.unregister(p),d()},d=o.get(Ph).onDestroy(c),p=bs(o,()=>new zx(l,()=>{c(),t()}));return a.register(p),{destroy:c}}class zx{constructor(e,n){var r;this.phase=e,this.callbackFn=n,this.zone=nt(He),this.errorHandler=nt(Qa,{optional:!0}),null===(r=nt(h0,{optional:!0}))||void 0===r||r.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){var e;null===(e=this.errorHandler)||void 0===e||e.handleError(n)}}}class Hx{constructor(){this.executingCallbacks=!1,this.buckets={[Ju.EarlyRead]:new Set,[Ju.Write]:new Set,[Ju.MixedReadWrite]:new Set,[Ju.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let ig=(()=>{var t;class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var r;this.executeInternalCallbacks(),null===(r=this.handler)||void 0===r||r.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of r)i()}ngOnDestroy(){var r;null===(r=this.handler)||void 0===r||r.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=e).\u0275prov=Rt({token:t,providedIn:"root",factory:()=>new t}),e})();function p0(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Yn(i,a):2==o&&(r=Yn(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class Wx extends rg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=xn(e);return new ag(n,this.ngModule)}}function Kx(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class m0{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ic(r);const i=this.injector.get(e,ww,r);return i!==ww||n===ww?i:this.parentInjector.get(e,n,r)}}class ag extends Ox{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Kx(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Kx(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Hb(t){return t.map(rm).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){const o=Ce(null);try{var a;let l=(i=i||this.ngModule)instanceof ui?i:null===(a=i)||void 0===a?void 0:a.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const c=l?new m0(e,l):e,d=c.get(Cw,null);if(null===d)throw new he(407,!1);const p=c.get(GG,null),A={rendererFactory:d,sanitizer:p,inlineEffectRunner:null,afterRenderEventManager:c.get(ig,null),changeDetectionScheduler:c.get(h0,null)},x=d.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",B=r?function O6(t,e,n,r){const o=r.get(C1,!1)||n===Es.ShadowDom,s=t.selectRootElement(e,o);return function F6(t){hx(t)}(s),s}(x,r,this.componentDef.encapsulation,c):Xy(x,V,function tq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(V));let z=512;this.componentDef.signals?z|=4096:this.componentDef.onPush||(z|=16);let fe=null;null!==B&&(fe=LC(B,c,!0));const ge=cw(0,null,null,1,0,null,null,null,null,null,null),tt=n0(null,ge,null,z,null,null,A,x,c,null,fe);let _t,X;m(tt);try{const $=this.componentDef;let K,te=null;$.findHostDirectiveDefs?(K=[],te=new Map,$.findHostDirectiveDefs($,K,te),K.push($)):K=[$];const le=function rq(t,e){const n=t[wt],r=Rn;return t[r]=e,Vh(n,r,2,"#host",null)}(tt,B),ye=function iq(t,e,n,r,i,o,s){const a=i[wt];!function oq(t,e,n,r){for(const i of t)e.mergedAttrs=Ou(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(p0(e,e.mergedAttrs,!0),null!==n&&sx(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=LC(e,i[wi]));const c=o.rendererFactory.createRenderer(e,n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const p=n0(i,dx(n),null,d,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&dw(a,t,r.length-1),r0(i,p),i[t.index]=p}(le,B,$,K,tt,A,x);X=Mc(ge,Rn),B&&function aq(t,e,n,r){if(r)ku(t,n,["ng-version","17.3.10"]);else{const{attrs:i,classes:o}=function im(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Wo(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&ku(t,n,i),o&&o.length>0&&ox(t,n,o.join(" "))}}(x,$,B,r),void 0!==n&&function lq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(X,this.ngContentSelectors,n),_t=function sq(t,e,n,r,i,o){const s=hr(),a=i[wt],l=Ji(s,i);mx(a,i,s,n,null,r);for(let d=0;d<n.length;d++)So(Yu(i,a,s.directiveStart+d,s),i);gx(a,i,s),l&&So(l,i);const c=Yu(i,a,s.directiveStart+s.componentOffset,s);if(t[Rr]=i[Rr]=c,null!==o)for(const d of o)d(c,e);return sw(a,s,i),c}(ye,$,K,te,tt,[cq]),mw(ge,tt,null)}finally{N()}return new nq(this.componentType,_t,Mh(X,tt),tt,X)}finally{Ce(o)}}}class nq extends UG{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Zm(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){var o;if(null!==(o=this.previousInputValues)&&void 0!==o||(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;pw(s[wt],s,i,e,n),this.previousInputValues.set(e,n),Xm(wo(this._tNode.index,s))}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function cq(){const t=hr();kc(ze()[wt],t)}let Rs=(()=>{class e{}return e.__NG_ELEMENT_ID__=uq,e})();function uq(){return Xx(hr(),ze())}const dq=Rs,Qx=class extends dq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Mh(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){const e=My(this._hostTNode,this._hostLView);if(IC(e)){const n=km(e,this._hostLView),r=Nm(e);return new zi(n[wt].data[r+8],n)}return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Yx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-di}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,$h(this._hostTNode,null)),a}createComponent(e,n,r,i,o){var s,l;const c=e&&!function Cl(t){return"function"==typeof t}(e);let d;if(c)d=n;else{const B=n||{};d=B.index,r=B.injector,i=B.projectableNodes,o=B.environmentInjector||B.ngModuleRef}const p=c?e:new ag(xn(e)),_=r||this.parentInjector;if(!o&&null==p.ngModule){const z=(c?_:this.parentInjector).get(ui,null);z&&(o=z)}const I=xn(null!==(s=p.componentType)&&void 0!==s?s:{}),A=(null==I?void 0:I.id,null),x=null!==(l=null==A?void 0:A.firstChild)&&void 0!==l?l:null,V=p.create(_,i,x,o);return this.insertImpl(V.hostView,d,$h(this._hostTNode,A)),V}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function cC(t){return Fi(t[Gr])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[Gr],c=new Qx(l,l[Oi],l[Gr]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return Qm(s,i,o,r),e.attachToViewContainerRef(),eh(Mw(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Yx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Hm(this._lContainer,n);r&&(Mu(Mw(this._lContainer),n),Zy(r[wt],r))}detach(e){const n=this._adjustIndex(e,-1),r=Hm(this._lContainer,n);return r&&null!=Mu(Mw(this._lContainer),n)?new Zm(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function Yx(t){return t[8]}function Mw(t){return t[8]||(t[8]=[])}function Xx(t,e){let n;const r=e[t.index];return Fi(r)?n=r:(n=_x(r,e,null,t),e[t.index]=n,r0(e,n)),Zx(n,e,t,r),new Qx(n,t,e)}let Zx=function eN(t,e,n,r){if(t[Ks])return;let i;i=8&n.type?yr(r):function hq(t,e){const n=t[Cn],r=n.createComment(""),i=Ji(e,t);return Zu(n,Jy(n,i),r,function S6(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ks]=i},xw=()=>!1;class Nw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Nw(this.queryList)}setDirty(){this.queryList.setDirty()}}class kw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new kw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==$w(e,n).matches&&this.queries[n].setDirty()}}class tN{constructor(e,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof e?function Iq(t){return t.split(",").map(e=>e.trim())}(e):e}}class Ow{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Ow(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Fw{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Fw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,gq(n,o)),this.matchTNodeWithReadOption(e,n,xy(n,e,o,!1,!1))}else r===Ia?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,xy(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===st||i===Rs||i===Ia&&4&n.type)this.addMatch(n.index,-2);else{const o=xy(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function gq(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function vq(t,e,n,r){return-1===n?function _q(t,e){return 11&t.type?Mh(t,e):4&t.type?a0(t,e):null}(e,t):-2===n?function yq(t,e,n){return n===st?Mh(e,t):n===Ia?a0(e,t):n===Rs?Xx(e,t):void 0}(t,e,r):Yu(t,t[wt],n,e)}function nN(t,e,n,r){const i=e[Ws].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:vq(e,o[c],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function Lw(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=nN(t,e,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],d=e[-l];for(let p=di;p<d.length;p++){const _=d[p];_[za]===_[Gr]&&Lw(_[wt],_,c,r)}if(null!==d[Ga]){const p=d[Ga];for(let _=0;_<p.length;_++){const I=p[_];Lw(I[wt],I,c,r)}}}}}return r}function rN(t,e,n){var r;const i=new SC(!(4&~n));return function $6(t,e,n,r){const i=yx(e);i.push(n),t.firstCreatePass&&Ix(t).push(r,i.length-1)}(t,e,i,i.destroy),(null!==(r=e[Ws])&&void 0!==r?r:e[Ws]=new kw).queries.push(new Nw(i))-1}function sN(t,e,n){null===t.queries&&(t.queries=new Ow),t.queries.track(new Fw(e,n))}function $w(t,e){return t.queries.getByIndex(e)}function aN(t,e){const n=t[wt],r=$w(n,e);return r.crossesNgTemplate?Lw(n,t,e,[]):nN(n,t,r,e)}function uN(t){return function lN(t){return"function"==typeof t&&void 0!==t[xt]}(t)&&"function"==typeof t.set}function Ln(t){let e=function EN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ko(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new he(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=_0(t.inputs),s.inputTransforms=_0(t.inputTransforms),s.declaredInputs=_0(t.declaredInputs),s.outputs=_0(t.outputs);const a=i.hostBindings;a&&Fq(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&kq(t,l),c&&Oq(t,c),xq(t,i),dr(t.outputs,i.outputs),Ko(i)&&i.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Ln&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Nq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ou(i.hostAttrs,n=Ou(n,i.hostAttrs))}}(r)}function xq(t,e){for(const r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const i=e.inputs[r];if(void 0!==i&&(t.inputs[r]=i,t.declaredInputs[r]=e.declaredInputs[r],null!==e.inputTransforms)){var n;const o=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(o))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[o]=e.inputTransforms[o]}}}function _0(t){return t===qo?{}:t===or?[]:t}function kq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Oq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function Fq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function TN(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}class ed{}class AN{}class Uw extends ed{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wx(this);const i=Xi(e);this._bootstrapComponents=Ss(i.bootstrap),this._r3Injector=GM(e,n,[{provide:ed,useValue:this},{provide:rg,useValue:this.componentFactoryResolver},...r],Qn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jw extends AN{constructor(e){super(),this.moduleType=e}create(e){return new Uw(this.moduleType,e,[])}}class DN extends ed{constructor(e){super(),this.componentFactoryResolver=new Wx(this),this.instance=null;const n=new ja([...e.providers,{provide:ed,useValue:this},{provide:rg,useValue:this.componentFactoryResolver}],e.parent||ch(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function v0(t,e,n=null){return new DN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let jh=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new R(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function I0(t){return!!function zw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ti(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Gn(t,e,n,r,i,o,s,a){const l=ze(),c=Zn(),d=t+Rn,p=c.firstCreatePass?function Qq(t,e,n,r,i,o,s,a,l){const c=e.consts,d=Vh(e,t,4,s||null,Ys(c,a));uw(e,n,d,Ys(c,l)),kc(e,d);const p=d.tView=cw(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}(d,c,l,e,n,r,i,o,s):c.data[d];cs(p,!1);const _=SN(c,l,p,t);Rl()&&e0(c,l,_,p),So(_,l);const I=_x(_,l,_,p);return l[d]=I,r0(l,I),function Jx(t,e,n){return xw(t,e,n)}(I,p,l),Dl(p)&&aw(c,l,p),null!=s&&lw(l,p,a),Gn}let SN=function RN(t,e,n,r){return Ts(!0),e[Cn].createComment("")};function Ro(t,e,n,r){const i=ze();return Ti(i,Ao(),e)&&(Zn(),Xa(bt(),i,t,e,n,r)),Ro}function Yh(t,e,n,r){return Ti(t,Ao(),n)?e+nn(n)+r:Fn}function Xh(t,e,n,r,i,o){const a=function td(t,e,n,r){const i=Ti(t,e,n);return Ti(t,e+1,r)||i}(t,function ws(){return wn.lFrame.bindingIndex}(),n,i);return Xs(2),a?e+nn(n)+r+nn(i)+o:Fn}function D0(t,e){return t<<17|e<<2}function Uc(t){return t>>17&32767}function Jw(t){return 2|t}function rd(t){return(131068&t)>>2}function eT(t,e){return-131069&t|e<<2}function tT(t){return 1|t}function sk(t,e,n,r){const i=t[n+1],o=null===e;let s=r?Uc(i):rd(i),a=!1;for(;0!==s&&(!1===a||o);){const c=t[s+1];OW(t[s],e)&&(a=!0,t[s+1]=r?tT(c):Jw(c)),s=r?Uc(c):rd(c)}a&&(t[n+1]=r?Jw(i):tT(i))}function OW(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Gs(t,e)>=0}const Hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ak(t){return t.substring(Hi.key,Hi.keyEnd)}function lk(t,e){const n=Hi.textEnd;return n===e?-1:(e=Hi.keyEnd=function $W(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Hi.key=e,n),sf(t,e,n))}function sf(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ht(t,e,n){const r=ze();return Ti(r,Ao(),e)&&ds(Zn(),bt(),r,t,e,r[Cn],n,!1),ht}function nT(t,e,n,r,i){const s=i?"class":"style";pw(t,n,e.inputs[s],s,r)}function af(t,e,n){return Ea(t,e,n,!1),af}function Po(t,e){return Ea(t,e,null,!0),Po}function kl(t){!function ba(t,e,n,r){const i=Zn(),o=Xs(2);i.firstUpdatePass&&pk(i,null,o,r);const s=ze();if(n!==Fn&&Ti(s,o,n)){const a=i.data[_e()];if(vk(a,r)&&!fk(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=Yn(l,n||"")),nT(i,a,s,n,r)}else!function QW(t,e,n,r,i,o,s,a){i===Fn&&(i=or);let l=0,c=0,d=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;null!==d||null!==p;){const _=l<i.length?i[l+1]:void 0,I=c<o.length?o[c+1]:void 0;let x,A=null;d===p?(l+=2,c+=2,_!==I&&(A=p,x=I)):null===p||null!==d&&d<p?(l+=2,A=d):(c+=2,A=p,x=I),null!==A&&gk(t,e,n,r,A,x,s,a),d=l<i.length?i[l]:null,p=c<o.length?o[c]:null}}(i,a,s,s[Cn],s[o+1],s[o+1]=function WW(t,e,n){if(null==n||""===n)return or;const r=[],i=As(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(KW,tl,t,!0)}function tl(t,e){for(let n=function LW(t){return function uk(t){Hi.key=0,Hi.keyEnd=0,Hi.value=0,Hi.valueEnd=0,Hi.textEnd=t.length}(t),lk(t,sf(t,0,Hi.textEnd))}(e);n>=0;n=lk(e,n))Go(t,ak(e),!0)}function Ea(t,e,n,r){const i=ze(),o=Zn(),s=Xs(2);o.firstUpdatePass&&pk(o,t,s,r),e!==Fn&&Ti(i,s,e)&&gk(o,o.data[_e()],i,i[Cn],t,i[s+1]=function YW(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Qn(As(t)))),t}(e,n),r,s)}function fk(t,e){return e>=t.expandoStartIndex}function pk(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[_e()],s=fk(t,n);vk(o,r)&&null===e&&!s&&(e=!1),e=function zW(t,e,n,r){const i=Sm(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=pg(n=rT(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=rT(i,t,e,n,r),null===o){let l=function HW(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==rd(r))return t[Uc(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=rT(null,t,e,l[1],r),l=pg(l,e.attrs,r),function GW(t,e,n,r){t[Uc(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else o=function qW(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=pg(r,t[o].hostAttrs,n);return pg(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function NW(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Uc(s),l=rd(s);t[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||Gs(n,d)>0)&&(c=!0)):d=n,i)if(0!==l){const _=Uc(t[a+1]);t[r+1]=D0(_,a),0!==_&&(t[_+1]=eT(t[_+1],r)),t[a+1]=function MW(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=D0(a,0),0!==a&&(t[a+1]=eT(t[a+1],r)),a=r;else t[r+1]=D0(l,0),0===a?a=r:t[l+1]=eT(t[l+1],r),l=r;c&&(t[r+1]=Jw(t[r+1])),sk(t,d,r,!0),sk(t,d,r,!1),function kW(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Gs(o,e)>=0&&(n[r+1]=tT(n[r+1]))}(e,d,t,r,o),s=D0(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function rT(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=pg(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function pg(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Go(t,s,!!n||e[++o]))}return void 0===t?null:t}function KW(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Go(t,r,n)}function gk(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],d=function xW(t){return!(1&~t)}(c)?_k(l,e,n,i,rd(c),s):void 0;S0(d)||(S0(o)||function PW(t){return!(2&~t)}(c)&&(o=_k(l,null,n,i,a,s)),function M6(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Lc.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Lc.Important),t.setStyle(n,r,i,o))}}(r,s,Hu(_e(),n),i,o))}function _k(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),d=c?l[1]:l,p=null===d;let _=n[i+1];_===Fn&&(_=p?or:void 0);let I=p?xu(_,r):d===r?_:void 0;if(c&&!S0(I)&&(I=xu(l,r)),S0(I)&&(a=I,s))return a;const A=t[i+1];i=s?Uc(A):rd(A)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=xu(l,r))}return a}function S0(t){return void 0!==t}function vk(t,e){return!!(t.flags&(e?8:16))}function q(t,e,n,r){const i=ze(),o=Zn(),s=Rn+t,a=i[Cn],l=o.firstCreatePass?function y9(t,e,n,r,i,o){const s=e.consts,l=Vh(e,t,2,r,Ys(s,i));return uw(e,n,l,Ys(s,o)),null!==l.attrs&&p0(l,l.attrs,!1),null!==l.mergedAttrs&&p0(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],c=bk(o,i,l,a,e,t);i[s]=c;const d=Dl(l);return cs(l,!0),sx(a,c,l),!function ug(t){return!(32&~t.flags)}(l)&&Rl()&&e0(o,i,c,l),0===function dC(){return wn.lFrame.elementDepthCount}()&&So(c,i),function hC(){wn.lFrame.elementDepthCount++}(),d&&(aw(o,i,l),sw(o,l,i)),null!==r&&lw(i,l),q}function Q(){let t=hr();Tm()?Th():(t=t.parent,cs(t,!1));const e=t;(function fC(t){return wn.skipHydrationRootTNode===t})(e)&&function gC(){wn.skipHydrationRootTNode=null}(),function wm(){wn.lFrame.elementDepthCount--}();const n=Zn();return n.firstCreatePass&&(kc(n,t),fm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function R5(t){return!!(8&t.flags)}(e)&&nT(n,e,ze(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function P5(t){return!!(16&t.flags)}(e)&&nT(n,e,ze(),e.stylesWithoutHost,!1),Q}function gn(t,e,n,r){return q(t,e,n,r),Q(),gn}let bk=(t,e,n,r,i,o)=>(Ts(!0),Xy(r,i,function qu(){return wn.lFrame.currentNamespace}()));function lf(t,e,n){const r=ze(),i=Zn(),o=t+Rn,s=i.firstCreatePass?function b9(t,e,n,r,i){const o=e.consts,s=Ys(o,r),a=Vh(e,t,8,"ng-container",s);return null!==s&&p0(a,s,!0),uw(e,n,a,Ys(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];cs(s,!0);const a=Ck(i,r,s,t);return r[o]=a,Rl()&&e0(i,r,a,s),So(a,r),Dl(s)&&(aw(i,r,s),sw(i,s,r)),null!=n&&lw(r,s),lf}function cf(){let t=hr();const e=Zn();return Tm()?Th():(t=t.parent,cs(t,!1)),e.firstCreatePass&&(kc(e,t),fm(t)&&e.queries.elementEnd(t)),cf}function R0(t,e,n){return lf(t,e,n),cf(),R0}let Ck=(t,e,n,r)=>(Ts(!0),JC(e[Cn],""));function er(){return ze()}function lT(t,e,n){const r=ze();if(Ti(r,Ao(),e)){const o=Zn(),s=bt();ds(o,s,r,t,e,Ex(Sm(o.data),s,r),n,!0)}return lT}const df="en-US";let Dk=df;function yt(t,e,n,r){const i=ze(),o=Zn(),s=hr();return dT(o,i,i[Cn],s,t,e,r),yt}function dT(t,e,n,r,i,o,s){const a=Dl(r),c=t.firstCreatePass&&Ix(t),d=e[Rr],p=yx(e);let _=!0;if(3&r.type||s){const x=Ji(r,e),V=s?s(x):x,B=p.length,z=s?ge=>s(yr(ge[r.index])):r.index;let fe=null;if(!s&&a&&(fe=function C7(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Dc],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==fe)(fe.__ngLastListenerFn__||fe).__ngNextListenerFn__=o,fe.__ngLastListenerFn__=o,_=!1;else{o=tO(r,e,d,o,!1);const ge=n.listen(V,i,o);p.push(o,ge),c&&c.push(i,z,B,B+1)}}else o=tO(r,e,d,o,!1);const I=r.outputs;let A;if(_&&null!==I&&(A=I[i])){const x=A.length;if(x)for(let V=0;V<x;V+=2){const tt=e[A[V]][A[V+1]].subscribe(o),_t=p.length;p.push(o,tt),c&&c.push(i,r.index,_t,-(_t+1))}}}function eO(t,e,n,r){const i=Ce(null);try{return Qs(6,e,n),!1!==n(r)}catch(o){return o0(t,o),!1}finally{Qs(7,e,n),Ce(i)}}function tO(t,e,n,r,i){return function o(s){if(s===Function)return r;Xm(t.componentOffset>-1?wo(t.index,e):e);let l=eO(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)l=eO(e,n,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function Ue(t=1){return function ee(t){return(wn.lFrame.contextLView=function _y(t,e){for(;t>0;)e=e[Sc],t--;return e}(t,wn.lFrame.contextLView))[Rr]}(t)}function w7(t,e){let n=null;const r=function jb(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?sh(t,o,!0):nm(r,o))return i}else n=i}return n}function Ot(t){const e=ze()[qr][Oi];if(!e.projection){const r=e.projection=function wc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?w7(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Nt(t,e=0,n){const r=ze(),i=Zn(),o=Vh(i,Rn+t,16,null,n||null);null===o.projection&&(o.projection=e),Th(),(!r[Co]||Nc())&&32&~o.flags&&function R6(t,e,n){ix(e[Cn],0,e,n,tw(t,n,e),Z1(n.parent||e[Oi],n,e))}(i,r,o)}function hT(t,e,n){return fT(t,"",e,"",n),hT}function fT(t,e,n,r,i){const o=ze(),s=Yh(o,e,n,r);return s!==Fn&&ds(Zn(),bt(),o,t,s,o[Cn],i,!1),fT}function hf(t,e,n,r){!function oN(t,e,n,r){const i=Zn();if(i.firstCreatePass){const o=hr();sN(i,new tN(e,n,r),o.index),function Eq(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),!(2&~n)&&(i.staticContentQueries=!0)}return rN(i,ze(),n)}(t,e,n,r)}function Ol(t,e,n){!function iN(t,e,n){const r=Zn();return r.firstCreatePass&&(sN(r,new tN(t,e,n),-1),!(2&~e)&&(r.staticViewQueries=!0)),rN(r,ze(),e)}(t,e,n)}function fs(t){const e=ze(),n=Zn(),r=Ah();Dh(r+1);const i=$w(n,r);if(t.dirty&&function Im(t){return!(4&~t[fn])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)t.reset([]);else{const o=aN(e,r);t.reset(o,QM),t.notifyOnChanges()}return!0}return!1}function ps(){return function Vw(t,e){return t[Ws].queries[e].queryList}(ze(),Ah())}function Eg(t){return function xc(t,e){return t[e]}(function Ey(){return wn.lFrame.contextLView}(),Rn+t)}function Ye(t,e=""){const n=ze(),r=Zn(),i=t+Rn,o=r.firstCreatePass?Vh(r,i,1,e,null):r.data[i],s=yO(r,n,o,e,t);n[i]=s,Rl()&&e0(r,n,s,o),cs(o,!1)}let yO=(t,e,n,r,i)=>(Ts(!0),function ZC(t,e){return t.createText(e)}(e[Cn],r));function gi(t){return Si("",t,""),gi}function Si(t,e,n){const r=ze(),i=Yh(r,t,e,n);return i!==Fn&&xl(r,_e(),i),Si}function k0(t,e,n,r,i){const o=ze(),s=Xh(o,t,e,n,r,i);return s!==Fn&&xl(o,_e(),s),k0}function Mo(t,e,n){uN(e)&&(e=e());const r=ze();return Ti(r,Ao(),e)&&ds(Zn(),bt(),r,t,e,r[Cn],n,!1),Mo}function Yo(t,e){const n=uN(t);return n&&t.set(e),n}function xo(t,e){const n=ze(),r=Zn(),i=hr();return dT(r,n,n[Cn],i,t,e),xo}function pT(t,e,n,r,i){if(t=_n(t),Array.isArray(t))for(let o=0;o<t.length;o++)pT(t[o],e,n,r,i);else{const o=Zn(),s=ze(),a=hr();let l=ga(t)?t:_n(t.provide);const c=Xv(t),d=1048575&a.providerIndexes,p=a.directiveStart,_=a.providerIndexes>>20;if(ga(t)||!t.multi){const I=new xm(c,i,T),A=gT(l,e,i?d:d+_,p);-1===A?(CC(Py(a,s),o,l),mT(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)):(n[A]=I,s[A]=I)}else{const I=gT(l,e,d+_,p),A=gT(l,e,d,d+_),V=A>=0&&n[A];if(i&&!V||!i&&!(I>=0&&n[I])){CC(Py(a,s),o,l);const B=function z7(t,e,n,r,i){const o=new xm(t,n,T);return o.multi=[],o.index=e,o.componentProviders=0,DO(o,i,r&&!n),o}(i?j7:U7,n.length,i,r,c);!i&&V&&(n[A].providerFactory=B),mT(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(B),s.push(B)}else mT(o,t,I>-1?I:A,DO(n[i?A:I],c,!i&&r));!i&&r&&V&&n[A].componentProviders++}}}function mT(t,e,n,r){const i=ga(e),o=function Kb(t){return!!t.useClass}(e);if(i||o){const l=(o?_n(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,l]):c[d+1].push(r,l)}else c.push(n,l)}}}function DO(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gT(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function U7(t,e,n,r){return _T(this.multi,[])}function j7(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Yu(n,n[wt],this.providerFactory.index,r);o=a.slice(0,s),_T(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],_T(i,o);return o}function _T(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Cr(t,e=[]){return n=>{n.providersResolver=(r,i)=>function B7(t,e,n){const r=Zn();if(r.firstCreatePass){const i=Ko(t);pT(n,r.data,r.blueprint,i,!0),pT(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let H7=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=lm(0,r.type),o=i.length>0?v0([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Rt({token:t,providedIn:"environment",factory:()=>new t(Qe(ui))}),e})();function O0(t){Za("NgStandalone"),t.getStandaloneInjector=e=>e.get(H7).getOrCreateStandaloneInjector(t)}function Fl(t,e,n,r){return function RO(t,e,n,r,i,o){const s=e+n;return Ti(t,s,i)?function Ja(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function bg(t,e){const n=t[e];return n===Fn?void 0:n}(t,s+1)}(ze(),function To(){const t=wn.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}class mf{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const QO=new mf("17.3.10");let YO=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const eF=new Et(""),$0=new Et("");let AT,wT=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,AT||(function nK(t){AT=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(He),Qe(TT),Qe($0))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})(),TT=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){var o,s;return null!==(o=null===(s=AT)||void 0===s?void 0:s.findTestabilityInTree(this,r,i))&&void 0!==o?o:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function Ag(t){return!!t&&"function"==typeof t.then}function tF(t){return!!t&&"function"==typeof t.subscribe}const B0=new Et("");let DT=(()=>{var t;class e{constructor(){var r;this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=null!==(r=nt(B0,{optional:!0}))&&void 0!==r?r:[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(Ag(s))r.push(s);else if(tF(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const ST=new Et("");function iF(t,e){return Array.isArray(e)?e.reduce(iF,t):{...t,...e}}let Ca=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nt(WM),this.afterRenderEffectManager=nt(ig),this.externalTestViews=new Set,this.beforeRender=new M,this.afterTick=new M,this.componentTypes=[],this.components=[],this.isStable=nt(jh).hasPendingTasks.pipe(Ct(r=>!r)),this._injector=nt(ui)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof Ox;if(!this._injector.get(DT).done)throw!o&&function Ba(t){const e=xn(t)||pi(t)||ji(t);return null!==e&&e.standalone}(r),new he(405,!1);let a;a=o?r:this._injector.get(rg).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function rK(t){return t.isBoundToModule}(a)?void 0:this._injector.get(ed),d=a.create(Ar.NULL,[],i||a.selector,l),p=d.location.nativeElement,_=d.injector.get(eF,null);return null==_||_.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),U0(this.components,d),null==_||_.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new he(101,!1);const i=Ce(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Ce(i)}}detectChangesInAttachedViews(r){let i=0;const o=this.afterRenderEffectManager;for(;;){if(i===Tx)throw new he(103,!1);if(r){const s=0===i;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)oK(a,s,l)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>RT(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>RT(s))))break}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;U0(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(ST,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>U0(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new he(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function U0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function oK(t,e,n){!e&&!RT(t)||function sK(t,e,n){let r;n?(r=0,t[fn]|=1024):r=64&t[fn]?0:1,s0(t,e,r)}(t,n,e)}function RT(t){return bh(t)}class aK{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let oF=(()=>{var t;class e{compileModuleSync(r){return new jw(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Ss(Xi(r).declarations).reduce((a,l)=>{const c=xn(l);return c&&a.push(new ag(c)),a},[]);return new aK(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),uK=(()=>{var t;class e{constructor(){this.zone=nt(He),this.applicationRef=nt(Ca)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var r;null===(r=this._onMicrotaskEmptySubscription)||void 0===r||r.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function dK(){const t=nt(He),e=nt(Qa);return n=>t.runOutsideAngular(()=>e.handleError(n))}let fK=(()=>{var t;class e{constructor(){this.subscription=new Tn,this.initialized=!1,this.zone=nt(He),this.pendingTasks=nt(jh)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var i;He.assertInAngularZone(),null!==(i=r)&&void 0!==i||(r=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ll=new Et("",{providedIn:"root",factory:()=>nt(Ll,Xn.Optional|Xn.SkipSelf)||function pK(){return typeof $localize<"u"&&$localize.locale||df}()}),PT=new Et("");let cF=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function XG(t="zone.js",e){return"noop"===t?new Ux:"zone.js"===t?new He(e):t}(null==i?void 0:i.ngZone,function lF(t){var e,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(e=null==t?void 0:t.eventCoalescing)&&void 0!==e&&e,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}({eventCoalescing:null==i?void 0:i.ngZoneEventCoalescing,runCoalescing:null==i?void 0:i.ngZoneRunCoalescing}));return o.run(()=>{const s=function zq(t,e,n){return new Uw(t,e,n)}(r.moduleType,this.injector,function aF(t){return[{provide:He,useFactory:t},{provide:pa,multi:!0,useFactory:()=>{const e=nt(uK,{optional:!0});return()=>e.initialize()}},{provide:pa,multi:!0,useFactory:()=>{const e=nt(fK);return()=>{e.initialize()}}},{provide:WM,useFactory:dK}]}(()=>o)),a=s.injector.get(Qa,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{U0(this._modules,s),l.unsubscribe()})}),function rF(t,e,n){try{const r=n();return Ag(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const l=s.injector.get(DT);return l.runInitializers(),l.donePromise.then(()=>(function Sk(t){"string"==typeof t&&(Dk=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ll,df)||df),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=iF({},i);return function cK(t,e,n){const r=new jw(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(Ca);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new he(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(PT,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(Ar))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),jc=null;const uF=new Et("");function dF(t,e,n=[]){const r=`Platform: ${e}`,i=new Et(r);return(o=[])=>{let s=MT();if(!s||s.injector.get(uF,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function _K(t){if(jc&&!jc.get(uF,!1))throw new he(400,!1);(function nF(){!function G(t){Kt=t}(()=>{throw new he(600,!1)})})(),jc=t;const e=t.get(cF);(function fF(t){const e=t.get(m1,null);null==e||e.forEach(n=>n())})(t)}(function hF(t=[],e){return Ar.create({name:e,providers:[{provide:um,useValue:"platform"},{provide:PT,useValue:new Set([()=>jc=null])},...t]})}(a,r))}return function vK(t){const e=MT();if(!e)throw new he(401,!1);return e}()}}function MT(){var t,e;return null!==(t=null===(e=jc)||void 0===e?void 0:e.get(cF))&&void 0!==t?t:null}let Tt=(()=>{class e{}return e.__NG_ELEMENT_ID__=IK,e})();function IK(t){return function EK(t,e,n){if(_a(t)&&!n){const r=wo(t.index,e);return new Zm(r,r)}return 47&t.type?new Zm(e[qr],e):null}(hr(),ze(),!(16&~t))}class yF{constructor(){}supports(e){return I0(e)}create(e){return new AK(e)}}const TK=(t,e)=>e;class AK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||TK}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<EF(r,i,o)?n:r,a=EF(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,d=l-i;if(c!=d){for(let _=0;_<c;_++){const I=_<o.length?o[_]:o[_]=0,A=I+_;d<=A&&A<c&&(o[_]=I+1)}o[s.previousIndex]=d-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!I0(e))throw new he(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function Wq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new DK(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new IF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class DK{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class IF{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new SK,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EF(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function CF(){return new FT([new yF])}let FT=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||CF()),deps:[[e,new Cc,new co]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new he(901,!1)}}return(t=e).\u0275prov=Rt({token:t,providedIn:"root",factory:CF}),e})();const NK=dF(null,"core",[]);let kK=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(Ca))},t.\u0275mod=uo({type:t}),t.\u0275inj=ki({}),e})();function _f(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function WF(t){const e=xn(t);if(!e)return null;const n=new ag(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}let $T=null;function zc(){return $T}class _Q{}const to=new Et("");let BT=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:()=>nt(yQ),providedIn:"platform"}),e})();const vQ=new Et("");let yQ=(()=>{var t;class e extends BT{constructor(){super(),this._doc=nt(to),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zc().getBaseHref(this._doc)}onPopState(r){const i=zc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=zc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:()=>new t,providedIn:"platform"}),e})();function UT(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function KF(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Vl(t){return t&&"?"!==t[0]?"?"+t:t}let $l=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:()=>nt(YF),providedIn:"root"}),e})();const QF=new Et("");let YF=(()=>{var t;class e extends $l{constructor(r,i){var o,s,a;super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=null!==(o=null!==(s=null!=i?i:this._platformLocation.getBaseHrefFromDOM())&&void 0!==s?s:null===(a=nt(to).location)||void 0===a?void 0:a.origin)&&void 0!==o?o:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return UT(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Vl(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Vl(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Vl(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(BT),Qe(QF,8))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),IQ=(()=>{var t;class e extends $l{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){var i;const o=null!==(i=this._platformLocation.hash)&&void 0!==i?i:"#";return o.length>0?o.substring(1):o}prepareExternalUrl(r){const i=UT(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Vl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Vl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(BT),Qe(QF,8))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})(),Ms=(()=>{var t;class e{constructor(r){this._subject=new Pr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function CQ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(KF(XF(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var r;null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Vl(i))}normalize(r){return e.stripTrailingSlash(function bQ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,XF(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Vl(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Vl(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){var i,o;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,r)}onUrlChange(r){var i;return this._urlChangeListeners.push(r),null!==(i=this._urlChangeSubscription)&&void 0!==i||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(r);var s;this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(null===(s=this._urlChangeSubscription)||void 0===s||s.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Vl,t.joinWithSlash=UT,t.stripTrailingSlash=KF,t.\u0275fac=function(r){return new(r||t)(Qe($l))},t.\u0275prov=Rt({token:t,factory:()=>function EQ(){return new Ms(Qe($l))}(),providedIn:"root"}),e})();function XF(t){return t.replace(/\/index.html$/,"")}const XT=/\s+/,sL=[];let xg=(()=>{var t;class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=sL,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(XT):sL}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(XT):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(XT).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(st),T(Nl))},t.\u0275dir=Zt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Tr.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class cY{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ng=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new cY(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),lL(l,o)}});for(let o=0,s=i.length;o<s;o++){const l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{lL(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Rs),T(Ia),T(FT))},t.\u0275dir=Zt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function lL(t,e){t.context.$implicit=e.item}let Ns=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new uY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){cL("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){cL("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Rs),T(Ia))},t.\u0275dir=Zt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class uY{constructor(){this.$implicit=null,this.ngIf=null}}function cL(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Qn(e)}'.`)}let eA=(()=>{var t;class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){var i;const o=this._viewContainerRef;if(this._viewRef&&o.remove(o.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const s=this._createContextForwardProxy();this._viewRef=o.createEmbeddedView(this.ngTemplateOutlet,s,{injector:null!==(i=this.ngTemplateOutletInjector)&&void 0!==i?i:void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,o)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,o),get:(r,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Rs))},t.\u0275dir=Zt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ho]}),e})(),hL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=ki({}),e})();const fL="browser";function sI(t){return"server"===t}let jY=(()=>{var t;class e{}return(t=e).\u0275prov=Rt({token:t,providedIn:"root",factory:()=>function UY(t){return t===fL}(nt(Zs))?new zY(nt(to),window):new GY}),e})();class zY{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function HY(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class GY{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class IX extends _Q{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class iA extends IX{static makeCurrent(){!function gQ(t){var e;null!==(e=$T)&&void 0!==e||($T=t)}(new iA)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function EX(){return Fg=Fg||document.querySelector("base"),Fg?Fg.getAttribute("href"):null}();return null==n?null:function bX(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){Fg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function aY(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Fg=null,wX=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})();const oA=new Et("");let bL=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new he(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(oA),Qe(He))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})();class CL{constructor(e){this._doc=e}}const sA="ng-app-id";let wL=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sI(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){var i;const o=this.styleRef;null===(i=o.get(r))||void 0===i||null===(i=i.elements)||void 0===i||i.forEach(s=>s.remove()),o.delete(r)}collectServerRenderedStyles(){var r;const i=null===(r=this.doc.head)||void 0===r?void 0:r.querySelectorAll(`style[${sA}="${this.appId}"]`);if(null!=i&&i.length){const o=new Map;return i.forEach(s=>{null!=s.textContent&&o.set(s.textContent,s)}),o}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=null==o?void 0:o.get(i);if((null==s?void 0:s.parentNode)===r)return o.delete(i),s.removeAttribute(sA),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(sA,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){var o;const s=this.getStyleElement(r,i),a=this.styleRef,l=null===(o=a.get(i))||void 0===o?void 0:o.elements;l?l.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(to),Qe(Ly),Qe(_1,8),Qe(Zs))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})();const aA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lA=/%COMP%/g,SX=new Et("",{providedIn:"root",factory:()=>!0});function AL(t,e){return e.map(n=>n.replace(lA,t))}let cA=(()=>{var t;class e{constructor(r,i,o,s,a,l,c,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=sI(l),this.defaultRenderer=new uA(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Es.ShadowDom&&(i={...i,encapsulation:Es.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof SL?o.applyToHost(r):o instanceof dA&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case Es.Emulated:s=new SL(c,d,i,this.appId,p,a,l,_);break;case Es.ShadowDom:return new xX(c,d,r,i,a,l,this.nonce,_);default:s=new dA(c,d,i,p,a,l,_)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(bL),Qe(wL),Qe(Ly),Qe(SX),Qe(to),Qe(Zs),Qe(He),Qe(_1))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})();class uA{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(aA[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(DL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(DL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new he(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=aA[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=aA[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Lc.DashCase|Lc.Important)?e.style.setProperty(n,r,i&Lc.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Lc.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=zc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function DL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class xX extends uA{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=AL(i.id,i.styles);for(const d of c){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dA extends uA{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?AL(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class SL extends dA{constructor(e,n,r,i,o,s,a,l){const c=i+"-"+r.id;super(e,n,r,o,s,a,l,c),this.contentAttr=function RX(t){return"_ngcontent-%COMP%".replace(lA,t)}(c),this.hostAttr=function PX(t){return"_nghost-%COMP%".replace(lA,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let NX=(()=>{var t;class e extends CL{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(to))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})();const RL=["alt","control","meta","shift"],kX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OX={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let FX=(()=>{var t;class e extends CL{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zc().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),RL.forEach(d=>{const p=i.indexOf(d);p>-1&&(i.splice(p,1),a+=d+".")}),a+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=kX[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),RL.forEach(a=>{a!==o&&(0,OX[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(to))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})();const BX=dF(NK,"browser",[{provide:Zs,useValue:fL},{provide:m1,useValue:function LX(){iA.makeCurrent()},multi:!0},{provide:to,useFactory:function $X(){return function _H(t){xC=t}(document),document},deps:[]}]),UX=new Et(""),xL=[{provide:$0,useClass:class CX{addToWindow(e){J.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new he(5103,!1);return o},J.getAllAngularTestabilities=()=>e.getAllTestabilities(),J.getAllAngularRootElements=()=>e.getAllRootElements(),J.frameworkStabilizers||(J.frameworkStabilizers=[]),J.frameworkStabilizers.push(r=>{const i=J.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?zc().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}},deps:[]},{provide:eF,useClass:wT,deps:[He,TT,$0]},{provide:wT,useClass:wT,deps:[He,TT,$0]}],NL=[{provide:um,useValue:"root"},{provide:Qa,useFactory:function VX(){return new Qa},deps:[]},{provide:oA,useClass:NX,multi:!0,deps:[to,He,Zs]},{provide:oA,useClass:FX,multi:!0,deps:[to]},cA,wL,bL,{provide:Cw,useExisting:cA},{provide:class qY{},useClass:wX,deps:[]},[]];let kL=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Ly,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(UX,12))},t.\u0275mod=uo({type:t}),t.\u0275inj=ki({providers:[...NL,...xL],imports:[hL,kK]}),e})(),jX=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(to))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),LL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:function(r){let i=null;return i=r?new(r||t):Qe(qX),i},providedIn:"root"}),e})(),qX=(()=>{var t;class e extends LL{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case Ds.NONE:return i;case Ds.HTML:return Ya(i,"HTML")?As(i):F1(this._doc,String(i)).toString();case Ds.STYLE:return Ya(i,"Style")?As(i):i;case Ds.SCRIPT:if(Ya(i,"Script"))return As(i);throw new he(5200,!1);case Ds.URL:return Ya(i,"URL")?As(i):Wy(String(i));case Ds.RESOURCE_URL:if(Ya(i,"ResourceURL"))return As(i);throw new he(5201,!1);default:throw new he(5202,!1)}}bypassSecurityTrustHtml(r){return function VH(t){return new xH(t)}(r)}bypassSecurityTrustStyle(r){return function $H(t){return new NH(t)}(r)}bypassSecurityTrustScript(r){return function BH(t){return new kH(t)}(r)}bypassSecurityTrustUrl(r){return function UH(t){return new OH(t)}(r)}bypassSecurityTrustResourceUrl(r){return function jH(t){return new FH(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(to))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Dt=pe(1635);const hA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function $L(t){return zt(null==t?void 0:t.then)}function BL(t){return zt(t[kr])}function UL(t){return Symbol.asyncIterator&&zt(null==t?void 0:t[Symbol.asyncIterator])}function jL(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zL=function KX(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function HL(t){return zt(null==t?void 0:t[zL])}function GL(t){return(0,Dt.AQ)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,Dt.N3)(n.read());if(i)return yield(0,Dt.N3)(void 0);yield yield(0,Dt.N3)(r)}}finally{n.releaseLock()}})}function qL(t){return zt(null==t?void 0:t.getReader)}function ms(t){if(t instanceof Mn)return t;if(null!=t){if(BL(t))return function QX(t){return new Mn(e=>{const n=t[kr]();if(zt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(hA(t))return function YX(t){return new Mn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if($L(t))return function XX(t){return new Mn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Pn)})}(t);if(UL(t))return WL(t);if(HL(t))return function ZX(t){return new Mn(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(qL(t))return function JX(t){return WL(GL(t))}(t)}throw jL(t)}function WL(t){return new Mn(e=>{(function eZ(t,e){var n,r,i,o;return(0,Dt.sH)(this,void 0,void 0,function*(){try{for(n=(0,Dt.xN)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function jl(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function zl(t,e=0){return Pe((n,r)=>{n.subscribe(gt(r,i=>jl(r,t,()=>r.next(i),e),()=>jl(r,t,()=>r.complete(),e),i=>jl(r,t,()=>r.error(i),e)))})}function sd(t,e=0){return Pe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function KL(t,e){if(!t)throw new Error("Iterable cannot be null");return new Mn(n=>{jl(n,e,()=>{const r=t[Symbol.asyncIterator]();jl(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dr(t,e){return e?function sZ(t,e){if(null!=t){if(BL(t))return function tZ(t,e){return ms(t).pipe(sd(e),zl(e))}(t,e);if(hA(t))return function rZ(t,e){return new Mn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if($L(t))return function nZ(t,e){return ms(t).pipe(sd(e),zl(e))}(t,e);if(UL(t))return KL(t,e);if(HL(t))return function iZ(t,e){return new Mn(n=>{let r;return jl(n,e,()=>{r=t[zL](),jl(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>zt(null==r?void 0:r.return)&&r.return()})}(t,e);if(qL(t))return function oZ(t,e){return KL(GL(t),e)}(t,e)}throw jL(t)}(t,e):ms(t)}function fA(t){return t[t.length-1]}function QL(t){return zt(fA(t))?t.pop():void 0}function Vg(t){return function aZ(t){return t&&zt(t.schedule)}(fA(t))?t.pop():void 0}function En(...t){return Dr(t,Vg(t))}const{isArray:cZ}=Array,{getPrototypeOf:uZ,prototype:dZ,keys:hZ}=Object;function YL(t){if(1===t.length){const e=t[0];if(cZ(e))return{args:e,keys:null};if(function fZ(t){return t&&"object"==typeof t&&uZ(t)===dZ}(e)){const n=hZ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:pZ}=Array;function pA(t){return Ct(e=>function mZ(t,e){return pZ(e)?t(...e):t(e)}(t,e))}function XL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function uI(...t){const e=Vg(t),n=QL(t),{args:r,keys:i}=YL(t);if(0===r.length)return Dr([],e);const o=new Mn(function gZ(t,e,n=ti){return r=>{ZL(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)ZL(e,()=>{const c=Dr(t[l],e);let d=!1;c.subscribe(gt(r,p=>{o[l]=p,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>XL(i,s):ti));return n?o.pipe(pA(n)):o}function ZL(t,e,n){t?jl(n,t,e):e()}const dI=nr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function fo(t,e,n=1/0){return zt(e)?fo((r,i)=>Ct((o,s)=>e(r,o,i,s))(ms(t(r,i))),n):("number"==typeof e&&(n=e),Pe((r,i)=>function _Z(t,e,n,r,i,o,s,a){const l=[];let c=0,d=0,p=!1;const _=()=>{p&&!l.length&&!c&&e.complete()},I=x=>c<r?A(x):l.push(x),A=x=>{o&&e.next(x),c++;let V=!1;ms(n(x,d++)).subscribe(gt(e,B=>{null==i||i(B),o?I(B):e.next(B)},()=>{V=!0},void 0,()=>{if(V)try{for(c--;l.length&&c<r;){const B=l.shift();s?jl(e,s,()=>A(B)):A(B)}_()}catch(B){e.error(B)}}))};return t.subscribe(gt(e,I,()=>{p=!0,_()})),()=>{null==a||a()}}(r,i,t,n)))}function yf(t=1/0){return fo(ti,t)}function mA(...t){return function vZ(){return yf(1)}()(Dr(t,Vg(t)))}function JL(t){return new Mn(e=>{ms(t()).subscribe(e)})}function hI(t,e){const n=zt(t)?t:()=>t,r=i=>i.error(n());return new Mn(e?i=>e.schedule(r,0,i):r)}const Aa=new Mn(t=>t.complete());function gA(){return Pe((t,e)=>{let n=null;t._refCount++;const r=gt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class eV extends Mn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,oe(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tn;const n=this.getSubject();e.add(this.source.subscribe(gt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tn.EMPTY)}return e}refCount(){return gA()(this)}}function hi(t,e){return Pe((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(gt(r,l=>{null==i||i.unsubscribe();let c=0;const d=o++;ms(t(l,d)).subscribe(i=gt(r,p=>r.next(e?e(l,p,d,c++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function If(t){return t<=0?()=>Aa:Pe((e,n)=>{let r=0;e.subscribe(gt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function fI(...t){const e=Vg(t);return Pe((n,r)=>{(e?mA(t,n,e):mA(t,n)).subscribe(r)})}function ks(t,e){return Pe((n,r)=>{let i=0;n.subscribe(gt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function pI(t){return Pe((e,n)=>{let r=!1;e.subscribe(gt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function tV(t=IZ){return Pe((e,n)=>{let r=!1;e.subscribe(gt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function IZ(){return new dI}function Hc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ks((i,o)=>t(i,o,r)):ti,If(1),n?pI(e):tV(()=>new dI))}function $g(t,e){return zt(e)?fo(t,e,1):fo(t,1)}function No(t,e,n){const r=zt(t)||e||n?{next:t,error:e,complete:n}:t;return r?Pe((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(gt(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ti}function ad(t){return Pe((e,n)=>{let o,r=null,i=!1;r=e.subscribe(gt(n,void 0,void 0,s=>{o=ms(t(s,ad(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function mI(t,e){return Pe(function EZ(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(gt(s,d=>{const p=c++;l=a?t(l,d,p):(a=!0,d),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}function _A(t){return t<=0?()=>Aa:Pe((e,n)=>{let r=[];e.subscribe(gt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ld(t){return Pe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Vn="primary",Bg=Symbol("RouteTitle");class TZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ef(t){return new TZ(t)}function AZ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function nl(t,e){const n=t?vA(t):void 0,r=e?vA(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!nV(t[i],e[i]))return!1;return!0}function vA(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function rV(t){return t.length>0?t[t.length-1]:null}function Gc(t){return function WX(t){return!!t&&(t instanceof Mn||zt(t.lift)&&zt(t.subscribe))}(t)?t:Ag(t)?Dr(Promise.resolve(t)):En(t)}const SZ={exact:function sV(t,e,n){if(!cd(t.segments,e.segments)||!gI(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!sV(t.children[r],e.children[r],n))return!1;return!0},subset:aV},iV={exact:function RZ(t,e){return nl(t,e)},subset:function PZ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nV(t[n],e[n]))},ignored:()=>!0};function oV(t,e,n){return SZ[n.paths](t.root,e.root,n.matrixParams)&&iV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function aV(t,e,n){return lV(t,e,e.segments,n)}function lV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!cd(i,n)||e.hasChildren()||!gI(i,n,r))}if(t.segments.length===n.length){if(!cd(t.segments,n)||!gI(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!aV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(cd(t.segments,i)&&gI(t.segments,i,r)&&t.children[Vn])&&lV(t.children[Vn],e,o,r)}}function gI(t,e,n){return e.every((r,i)=>iV[n](t[i].parameters,r.parameters))}class bf{constructor(e=new Mr([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=Ef(this.queryParams)),this._queryParamMap}toString(){return NZ.serialize(this)}}class Mr{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _I(this)}}class Ug{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){var e;return null!==(e=this._parameterMap)&&void 0!==e||(this._parameterMap=Ef(this.parameters)),this._parameterMap}toString(){return dV(this)}}function cd(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ud=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:()=>new yA,providedIn:"root"}),e})();class yA{parse(e){const n=new HZ(e);return new bf(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${jg(e.root,!0)}`,r=function FZ(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${vI(n)}=${vI(i)}`).join("&"):`${vI(n)}=${vI(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function kZ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const NZ=new yA;function _I(t){return t.segments.map(e=>dV(e)).join("/")}function jg(t,e){if(!t.hasChildren())return _I(t);if(e){const n=t.children[Vn]?jg(t.children[Vn],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Vn&&r.push(`${i}:${jg(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function xZ(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Vn&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Vn&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Vn?[jg(t.children[Vn],!1)]:[`${i}:${jg(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Vn]?`${_I(t)}/${n[0]}`:`${_I(t)}/(${n.join("//")})`}}function cV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vI(t){return cV(t).replace(/%3B/gi,";")}function IA(t){return cV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yI(t){return decodeURIComponent(t)}function uV(t){return yI(t.replace(/\+/g,"%20"))}function dV(t){return`${IA(t.path)}${function OZ(t){return Object.entries(t).map(([e,n])=>`;${IA(e)}=${IA(n)}`).join("")}(t.parameters)}`}const LZ=/^[^\/()?;#]+/;function EA(t){const e=t.match(LZ);return e?e[0]:""}const VZ=/^[^\/()?;=#]+/,BZ=/^[^=?&#]+/,jZ=/^[^&#]+/;class HZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mr([],{}):new Mr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Vn]=new Mr(e,n)),r}parseSegment(){const e=EA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new he(4009,!1);return this.capture(e),new Ug(yI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function $Z(t){const e=t.match(VZ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=EA(this.remaining);i&&(r=i,this.capture(r))}e[yI(n)]=yI(r)}parseQueryParam(e){const n=function UZ(t){const e=t.match(BZ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function zZ(t){const e=t.match(jZ);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=uV(n),o=uV(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=EA(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new he(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Vn);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Vn]:new Mr([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new he(4011,!1)}}function hV(t){return t.segments.length>0?new Mr([],{[Vn]:t}):t}function fV(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=fV(i);if(r===Vn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function GZ(t){if(1===t.numberOfChildren&&t.children[Vn]){const e=t.children[Vn];return new Mr(t.segments.concat(e.segments),e.children)}return t}(new Mr(t.segments,e))}function Cf(t){return t instanceof bf}function pV(t){var e;let n;const o=hV(function r(s){const a={};for(const c of s.children){const d=r(c);a[c.outlet]=d}const l=new Mr(s.url,a);return s===t&&(n=l),l}(t.root));return null!==(e=n)&&void 0!==e?e:o}function mV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return bA(i,i,i,n,r);const o=function WZ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _V(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new _V(n,e,r)}(e);if(o.toRoot())return bA(i,i,new Mr([],{}),n,r);const s=function KZ(t,e,n){if(t.isAbsolute)return new EI(e,!0,0);if(!n)return new EI(e,!1,NaN);if(null===n.parent)return new EI(n,!0,0);const r=II(t.commands[0])?0:1;return function QZ(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new he(4005,!1);i=r.segments.length}return new EI(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Hg(s.segmentGroup,s.index,o.commands):vV(s.segmentGroup,s.index,o.commands);return bA(i,s.segmentGroup,a,n,r)}function II(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function zg(t){return"object"==typeof t&&null!=t&&t.outlets}function bA(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=t===e?n:gV(t,e,n);const a=hV(fV(s));return new bf(a,o,i)}function gV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:gV(o,e,n)}),new Mr(t.segments,r)}class _V{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&II(r[0]))throw new he(4003,!1);const i=r.find(zg);if(i&&i!==rV(r))throw new he(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class EI{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function vV(t,e,n){var r;if(null!==(r=t)&&void 0!==r||(t=new Mr([],{})),0===t.segments.length&&t.hasChildren())return Hg(t,e,n);const i=function XZ(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(zg(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!IV(l,c,s))return o;r+=2}else{if(!IV(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Mr(t.segments.slice(0,i.pathIndex),{});return s.children[Vn]=new Mr(t.segments.slice(i.pathIndex),t.children),Hg(s,0,o)}return i.match&&0===o.length?new Mr(t.segments,{}):i.match&&!t.hasChildren()?CA(t,e,n):i.match?Hg(t,0,o):CA(t,e,n)}function Hg(t,e,n){if(0===n.length)return new Mr(t.segments,{});{const r=function YZ(t){return zg(t[0])?t[0].outlets:{[Vn]:t}}(n),i={};if(Object.keys(r).some(o=>o!==Vn)&&t.children[Vn]&&1===t.numberOfChildren&&0===t.children[Vn].segments.length){const o=Hg(t.children[Vn],e,n);return new Mr(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=vV(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Mr(t.segments,i)}}function CA(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(zg(o)){const l=ZZ(o.outlets);return new Mr(r,l)}if(0===i&&II(n[0])){r.push(new Ug(t.segments[e].path,yV(n[0]))),i++;continue}const s=zg(o)?o.outlets[Vn]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&II(a)?(r.push(new Ug(s,yV(a))),i+=2):(r.push(new Ug(s,{})),i++)}return new Mr(r,{})}function ZZ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=CA(new Mr([],{}),0,r))}),e}function yV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function IV(t,e,n){return t==n.path&&nl(e,n.parameters)}const Gg="imperative";var cr=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(cr||{});class rl{constructor(e,n){this.id=e,this.url=n}}class qg extends rl{constructor(e,n,r="imperative",i=null){super(e,n),this.type=cr.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hl extends rl{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=cr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Os=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Os||{}),bI=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(bI||{});class wf extends rl{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=cr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tf extends rl{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=cr.NavigationSkipped}}class CI extends rl{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=cr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EV extends rl{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=cr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JZ extends rl{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=cr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eJ extends rl{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=cr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tJ extends rl{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=cr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nJ extends rl{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=cr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rJ{constructor(e){this.route=e,this.type=cr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iJ{constructor(e){this.route=e,this.type=cr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oJ{constructor(e){this.snapshot=e,this.type=cr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sJ{constructor(e){this.snapshot=e,this.type=cr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aJ{constructor(e){this.snapshot=e,this.type=cr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lJ{constructor(e){this.snapshot=e,this.type=cr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bV{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=cr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wA{}class TA{constructor(e){this.url=e}}class cJ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new dd,this.attachRef=null}}let dd=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new cJ,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class CV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=AA(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=AA(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=DA(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return DA(e,this._root).map(n=>n.value)}}function AA(t,e){if(t===e.value)return e;for(const n of e.children){const r=AA(t,n);if(r)return r}return null}function DA(t,e){if(t===e.value)return[e];for(const n of e.children){const r=DA(t,n);if(r.length)return r.unshift(e),r}return[]}class Da{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Af(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class wV extends CV{constructor(e,n){super(e),this.snapshot=n,PA(this,e)}toString(){return this.snapshot.toString()}}function TV(t){const e=function uJ(t){const o=new RA([],{},{},"",{},Vn,t,null,{});return new AV("",new Da(o,[]))}(t),n=new R([new Ug("",{})]),r=new R({}),i=new R({}),o=new R({}),s=new R(""),a=new il(n,r,o,s,i,Vn,t,e.root);return a.snapshot=e.root,new wV(new Da(a,[]),e)}class il{constructor(e,n,r,i,o,s,a,l){var c,d;this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=null!==(c=null===(d=this.dataSubject)||void 0===d?void 0:d.pipe(Ct(p=>p[Bg])))&&void 0!==c?c:En(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=this.params.pipe(Ct(n=>Ef(n)))),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=this.queryParams.pipe(Ct(n=>Ef(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function SA(t,e,n="emptyOnly"){var r;let i;const{routeConfig:o}=t;var s;return i=null===e||"always"!==n&&""!==(null==o?void 0:o.path)&&(e.component||null!==(r=e.routeConfig)&&void 0!==r&&r.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...null!==(s=t._resolvedData)&&void 0!==s?s:{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...null==o?void 0:o.data,...t._resolvedData}},o&&SV(o)&&(i.resolve[Bg]=o.title),i}class RA{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[Bg]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=Ef(this.params)),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=Ef(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AV extends CV{constructor(e,n){super(n),this.url=e,PA(this,n)}toString(){return DV(this._root)}}function PA(t,e){e.value._routerState=t,e.children.forEach(n=>PA(t,n))}function DV(t){const e=t.children.length>0?` { ${t.children.map(DV).join(", ")} } `:"";return`${t.value}${e}`}function MA(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nl(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),nl(e.params,n.params)||t.paramsSubject.next(n.params),function DZ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!nl(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),nl(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xA(t,e){const n=nl(t.params,e.params)&&function MZ(t,e){return cd(t,e)&&t.every((n,r)=>nl(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||xA(t.parent,e.parent))}function SV(t){return"string"==typeof t.title||null===t.title}let RV=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vn,this.activateEvents=new Pr,this.deactivateEvents=new Pr,this.attachEvents=new Pr,this.detachEvents=new Pr,this.parentContexts=nt(dd),this.location=nt(Rs),this.changeDetector=nt(Tt),this.environmentInjector=nt(ui),this.inputBinder=nt(wI,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){var r;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(r=this.inputBinder)||void 0===r||r.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){var i;return(null===(i=this.parentContexts.getContext(r))||void 0===i?void 0:i.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);null!=r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){var o;this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var o;if(this.isActivated)throw new he(4013,!1);this._activatedRoute=r;const s=this.location,l=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,d=new NA(r,c,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:d,environmentInjector:null!=i?i:this.environmentInjector}),this.changeDetector.markForCheck(),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Zt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ho]}),e})();class NA{__ngOutletInjector(e){return new NA(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===il?this.route:e===dd?this.childContexts:this.parent.get(e,n)}}const wI=new Et("");let PV=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;null===(i=this.outletDataSubscriptions.get(r))||void 0===i||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=uI([i.queryParams,i.params,i.data]).pipe(hi(([s,a,l],c)=>(l={...s,...a,...l},0===c?En(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=WF(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})();function Wg(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function hJ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Wg(t,r,i);return Wg(t,r)})}(t,e,n);return new Da(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wg(t,a)),s}}const r=function fJ(t){return new il(new R(t.url),new R(t.params),new R(t.queryParams),new R(t.fragment),new R(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Wg(t,o));return new Da(r,i)}}const MV="ngNavigationCancelingError";function xV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Cf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NV(!1,Os.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function NV(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[MV]=!0,n.cancellationCode=e,n}function kV(t){return!!t&&t[MV]}let OV=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ft({type:t,selectors:[["ng-component"]],standalone:!0,features:[O0],decls:1,vars:0,template:function(r,i){1&r&&gn(0,"router-outlet")},dependencies:[RV],encapsulation:2}),e})();function kA(t){const e=t.children&&t.children.map(kA),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Vn&&(n.component=OV),n}function ol(t){return t.outlet||Vn}function Kg(t){var e;if(!t)return null;if(null!==(e=t.routeConfig)&&void 0!==e&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class EJ{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),MA(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Af(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Af(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Af(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Af(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new lJ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new sJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(MA(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),MA(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Kg(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class FV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class TI{constructor(e,n){this.component=e,this.route=n}}function bJ(t,e,n){const r=t._root;return Qg(r,e?e._root:null,n,[r.value])}function Df(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Wp(t){return null!==aa(t)}(t)?e.get(t):t:r}function Qg(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Af(e);return t.children.forEach(s=>{(function wJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function TJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!cd(t.url,e.url);case"pathParamsOrQueryParamsChange":return!cd(t.url,e.url)||!nl(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xA(t,e)||!nl(t.queryParams,e.queryParams);default:return!xA(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new FV(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Qg(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new TI(a.outlet.component,s))}else s&&Yg(e,a,i),i.canActivateChecks.push(new FV(r)),Qg(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Yg(a,n.getContext(s),i)),i}function Yg(t,e,n){const r=Af(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Yg(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new TI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xg(t){return"function"==typeof t}function LV(t){return t instanceof dI||"EmptyError"===(null==t?void 0:t.name)}const AI=Symbol("INITIAL_VALUE");function Sf(){return hi(t=>uI(t.map(e=>e.pipe(If(1),fI(AI)))).pipe(Ct(e=>{for(const n of e)if(!0!==n){if(n===AI)return AI;if(!1===n||n instanceof bf)return n}return!0}),ks(e=>e!==AI),If(1)))}function VV(t){return function xi(...t){return Qi(t)}(No(e=>{if(Cf(e))throw xV(0,e)}),Ct(e=>!0===e))}class OA{constructor(e){this.segmentGroup=e||null}}class FA extends Error{constructor(e){super(),this.urlTree=e}}function Rf(t){return hI(new OA(t))}class HJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return En(r);if(i.numberOfChildren>1||!i.children[Vn])return hI(new he(4e3,!1));i=i.children[Vn]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new FA(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new bf(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Mr(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new he(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const LA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GJ(t,e,n,r,i){const o=VA(t,e,n);return o.matched?(r=function mJ(t,e){var n;return t.providers&&!t._injector&&(t._injector=v0(t.providers,e,`Route: ${t.path}`)),null!==(n=t._injector)&&void 0!==n?n:e}(e,r),function UJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?En(i.map(s=>{const a=Df(s,t);return Gc(function MJ(t){return t&&Xg(t.canMatch)}(a)?a.canMatch(e,n):bs(t,()=>a(e,n)))})).pipe(Sf(),VV()):En(!0)}(r,e,n).pipe(Ct(s=>!0===s?o:{...LA}))):En(o)}function VA(t,e,n){var r,i;if("**"===e.path)return function qJ(t){return{matched:!0,parameters:t.length>0?rV(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...LA}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||AZ)(n,t,e);if(!s)return{...LA};const a={};Object.entries(null!==(r=s.posParams)&&void 0!==r?r:{}).forEach(([c,d])=>{a[c]=d.path});const l=s.consumed.length>0?{...a,...s.consumed[s.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function $V(t,e,n,r){return n.length>0&&function QJ(t,e,n){return n.some(r=>DI(t,e,r)&&ol(r)!==Vn)}(t,n,r)?{segmentGroup:new Mr(e,KJ(r,new Mr(n,t.children))),slicedSegments:[]}:0===n.length&&function YJ(t,e,n){return n.some(r=>DI(t,e,r))}(t,n,r)?{segmentGroup:new Mr(t.segments,WJ(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Mr(t.segments,t.children),slicedSegments:n}}function WJ(t,e,n,r){const i={};for(const o of n)if(DI(t,e,o)&&!r[ol(o)]){const s=new Mr([],{});i[ol(o)]=s}return{...r,...i}}function KJ(t,e){const n={};n[Vn]=e;for(const r of t)if(""===r.path&&ol(r)!==Vn){const i=new Mr([],{});n[ol(r)]=i}return n}function DI(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class JJ{}class nee{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new HJ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new he(4002,`'${e.segmentGroup}'`)}recognize(){const e=$V(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ct(n=>{const r=new RA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vn,this.rootComponentType,null,{}),i=new Da(r,n),o=new AV("",i),s=function qZ(t,e,n=null,r=null){return mV(pV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Vn).pipe(ad(r=>{if(r instanceof FA)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof OA?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=SA(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Ct(o=>o instanceof Da?[o]:[]))}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Dr(i).pipe($g(o=>{const s=r.children[o],a=function yJ(t,e){const n=t.filter(r=>ol(r)===e);return n.push(...t.filter(r=>ol(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),mI((o,s)=>(o.push(...s),o)),pI(null),function bZ(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ks((i,o)=>t(i,o,r)):ti,_A(1),n?pI(e):tV(()=>new dI))}(),fo(o=>{if(null===o)return Rf(r);const s=BV(o);return function ree(t){t.sort((e,n)=>e.value.outlet===Vn?-1:n.value.outlet===Vn?1:e.value.outlet.localeCompare(n.value.outlet))}(s),En(s)}))}processSegment(e,n,r,i,o,s){return Dr(n).pipe($g(a=>{var l;return this.processSegmentAgainstRoute(null!==(l=a._injector)&&void 0!==l?l:e,n,a,r,i,o,s).pipe(ad(c=>{if(c instanceof OA)return En(null);throw c}))}),Hc(a=>!!a),ad(a=>{if(LV(a))return function ZJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?En(new JJ):Rf(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function XJ(t,e,n,r){return!!(ol(t)===r||r!==Vn&&DI(e,n,t))&&VA(e,t,n).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Rf(i):Rf(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=VA(n,i,o);if(!a)return Rf(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,p).pipe(fo(_=>this.processSegment(e,r,n,_.concat(d),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){const s=GJ(n,r,i,e);return"**"===r.path&&(n.children={}),s.pipe(hi(a=>{var l;return a.matched?(e=null!==(l=r._injector)&&void 0!==l?l:e,this.getChildConfig(e,r,i).pipe(hi(({routes:c})=>{var d,p,_;const I=null!==(d=r._loadedInjector)&&void 0!==d?d:e,{consumedSegments:A,remainingSegments:x,parameters:V}=a,B=new RA(A,V,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function oee(t){return t.data||{}}(r),ol(r),null!==(p=null!==(_=r.component)&&void 0!==_?_:r._loadedComponent)&&void 0!==p?p:null,r,function see(t){return t.resolve||{}}(r)),{segmentGroup:z,slicedSegments:fe}=$V(n,A,x,c);if(0===fe.length&&z.hasChildren())return this.processChildren(I,c,z).pipe(Ct(tt=>null===tt?null:new Da(B,tt)));if(0===c.length&&0===fe.length)return En(new Da(B,[]));const ge=ol(r)===o;return this.processSegment(I,c,z,fe,ge?Vn:o,!0).pipe(Ct(tt=>new Da(B,tt instanceof Da?[tt]:[])))}))):Rf(n)}))}getChildConfig(e,n,r){return n.children?En({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?En({routes:n._loadedRoutes,injector:n._loadedInjector}):function BJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?En(!0):En(i.map(s=>{const a=Df(s,t);return Gc(function DJ(t){return t&&Xg(t.canLoad)}(a)?a.canLoad(e,n):bs(t,()=>a(e,n)))})).pipe(Sf(),VV())}(e,n,r).pipe(fo(i=>i?this.configLoader.loadChildren(e,n).pipe(No(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function zJ(t){return hI(NV(!1,Os.GuardRejected))}())):En({routes:[],injector:e})}}function iee(t){const e=t.value.routeConfig;return e&&""===e.path}function BV(t){const e=[],n=new Set;for(const r of t){if(!iee(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=BV(r.children);e.push(new Da(r.value,i))}return e.filter(r=>!n.has(r))}function UV(t){const e=t.children.map(n=>UV(n)).flat();return[t,...e]}function $A(t){return hi(e=>{const n=t(e);return n?Dr(n).pipe(Ct(()=>e)):En(e)})}let jV=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;){var s;i=null!==(s=this.getResolvedTitleForRoute(o))&&void 0!==s?s:i,o=o.children.find(a=>a.outlet===Vn)}return i}getResolvedTitleForRoute(r){return r.data[Bg]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:()=>nt(hee),providedIn:"root"}),e})(),hee=(()=>{var t;class e extends jV{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(jX))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Pf=new Et("",{providedIn:"root",factory:()=>({})}),Mf=new Et("");let BA=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=nt(oF)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return En(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Gc(r.loadComponent()).pipe(Ct(zV),No(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ld(()=>{this.componentLoaders.delete(r)})),o=new eV(i,()=>new M).pipe(gA());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return En({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function fee(t,e,n,r){return Gc(t.loadChildren()).pipe(Ct(zV),fo(i=>i instanceof AN||Array.isArray(i)?En(i):Dr(e.compileModuleAsync(i))),Ct(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Mf,[],{optional:!0,self:!0}).flat()),{routes:s.map(kA),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(ld(()=>{this.childrenLoaders.delete(i)})),a=new eV(s,()=>new M).pipe(gA());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function zV(t){return function pee(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let UA=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:()=>nt(mee),providedIn:"root"}),e})(),mee=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const HV=new Et(""),GV=new Et("");function gee(t,e,n){const r=t.get(GV),i=t.get(to);return t.get(He).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o;const s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),function _ee(t){return new Promise(e=>{Sw(e,{injector:t})})}(t))),{onViewTransitionCreated:l}=r;return l&&bs(t,()=>l({transition:a,from:e,to:n})),s})}let SI=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new M,this.transitionAbortSubject=new M,this.configLoader=nt(BA),this.environmentInjector=nt(ui),this.urlSerializer=nt(ud),this.rootContexts=nt(dd),this.location=nt(Ms),this.inputBindingEnabled=null!==nt(wI,{optional:!0}),this.titleStrategy=nt(jV),this.options=nt(Pf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=nt(UA),this.createViewTransition=nt(HV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>En(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new iJ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new rJ(o))}complete(){var r;null===(r=this.transitions)||void 0===r||r.complete()}handleNavigationRequest(r){var i;const o=++this.navigationId;null===(i=this.transitions)||void 0===i||i.next({...this.transitions.value,...r,id:o})}setupNavigations(r,i,o){return this.transitions=new R({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gg,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ks(s=>0!==s.id),Ct(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),hi(s=>{let a=!1,l=!1;return En(s).pipe(hi(c=>{var d;if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Os.SupersededByNewNavigation),Aa;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const p=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),_=null!==(d=c.extras.onSameUrlNavigation)&&void 0!==d?d:r.onSameUrlNavigation;if(!p&&"reload"!==_){const I="";return this.events.next(new Tf(c.id,this.urlSerializer.serialize(c.rawUrl),I,bI.IgnoredSameUrlNavigation)),c.resolve(null),Aa}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return En(c).pipe(hi(I=>{var A,x;const V=null===(A=this.transitions)||void 0===A?void 0:A.getValue();return this.events.next(new qg(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),V!==(null===(x=this.transitions)||void 0===x?void 0:x.getValue())?Aa:Promise.resolve(I)}),function aee(t,e,n,r,i,o){return fo(s=>function eee(t,e,n,r,i,o,s="emptyOnly"){return new nee(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Ct(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),No(I=>{s.targetSnapshot=I.targetSnapshot,s.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects};const A=new EV(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(A)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:I,extractedUrl:A,source:x,restoredState:V,extras:B}=c,z=new qg(I,this.urlSerializer.serialize(A),x,V);this.events.next(z);const fe=TV(this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:fe,urlAfterRedirects:A,extras:{...B,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=A,En(s)}{const I="";return this.events.next(new Tf(c.id,this.urlSerializer.serialize(c.extractedUrl),I,bI.IgnoredByUrlHandlingStrategy)),c.resolve(null),Aa}}),No(c=>{const d=new JZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Ct(c=>(this.currentTransition=s={...c,guards:bJ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function xJ(t,e){return fo(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?En({...n,guardsResult:!0}):function NJ(t,e,n,r){return Dr(t).pipe(fo(i=>function $J(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?En(o.map(a=>{var l;const c=null!==(l=Kg(e))&&void 0!==l?l:i,d=Df(a,c);return Gc(function PJ(t){return t&&Xg(t.canDeactivate)}(d)?d.canDeactivate(t,e,n,r):bs(c,()=>d(t,e,n,r))).pipe(Hc())})).pipe(Sf()):En(!0)}(i.component,i.route,n,e,r)),Hc(i=>!0!==i,!0))}(s,r,i,t).pipe(fo(a=>a&&function AJ(t){return"boolean"==typeof t}(a)?function kJ(t,e,n,r){return Dr(e).pipe($g(i=>mA(function FJ(t,e){return null!==t&&e&&e(new oJ(t)),En(!0)}(i.route.parent,r),function OJ(t,e){return null!==t&&e&&e(new aJ(t)),En(!0)}(i.route,r),function VJ(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function CJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>JL(()=>En(s.guards.map(l=>{var c;const d=null!==(c=Kg(s.node))&&void 0!==c?c:n,p=Df(l,d);return Gc(function RJ(t){return t&&Xg(t.canActivateChild)}(p)?p.canActivateChild(r,t):bs(d,()=>p(r,t))).pipe(Hc())})).pipe(Sf())));return En(o).pipe(Sf())}(t,i.path,n),function LJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return En(!0);const i=r.map(o=>JL(()=>{var s;const a=null!==(s=Kg(e))&&void 0!==s?s:n,l=Df(o,a);return Gc(function SJ(t){return t&&Xg(t.canActivate)}(l)?l.canActivate(e,t):bs(a,()=>l(e,t))).pipe(Hc())}));return En(i).pipe(Sf())}(t,i.route,n))),Hc(i=>!0!==i,!0))}(r,o,t,e):En(a)),Ct(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),No(c=>{if(s.guardsResult=c.guardsResult,Cf(c.guardsResult))throw xV(0,c.guardsResult);const d=new eJ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),ks(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",Os.GuardRejected),!1)),$A(c=>{if(c.guards.canActivateChecks.length)return En(c).pipe(No(d=>{const p=new tJ(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),hi(d=>{let p=!1;return En(d).pipe(function lee(t,e){return fo(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return En(n);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const c of UV(l))s.add(c);let a=0;return Dr(s).pipe($g(l=>o.has(l)?function cee(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==(null==i?void 0:i.title)&&!SV(i)&&(o[Bg]=i.title),function uee(t,e,n,r){const i=vA(t);if(0===i.length)return En({});const o={};return Dr(i).pipe(fo(s=>function dee(t,e,n,r){var i;const o=null!==(i=Kg(e))&&void 0!==i?i:r,s=Df(t,o);return Gc(s.resolve?s.resolve(e,n):bs(o,()=>s(e,n)))}(t[s],e,n,r).pipe(Hc(),No(a=>{o[s]=a}))),_A(1),function CZ(t){return Ct(()=>t)}(o),ad(s=>LV(s)?Aa:hI(s)))}(o,t,e,r).pipe(Ct(s=>(t._resolvedData=s,t.data=SA(t,t.parent,n).resolve,null)))}(l,r,t,e):(l.data=SA(l,l.parent,t).resolve,En(void 0))),No(()=>a++),_A(1),fo(l=>a===s.size?En(n):Aa))})}(this.paramsInheritanceStrategy,this.environmentInjector),No({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Os.NoDataFromResolver)}}))}),No(d=>{const p=new nJ(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),$A(c=>{const d=p=>{var _;const I=[];null!==(_=p.routeConfig)&&void 0!==_&&_.loadComponent&&!p.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(p.routeConfig).pipe(No(A=>{p.component=A}),Ct(()=>{})));for(const A of p.children)I.push(...d(A));return I};return uI(d(c.targetSnapshot.root)).pipe(pI(null),If(1))}),$A(()=>this.afterPreactivation()),hi(()=>{var c;const{currentSnapshot:d,targetSnapshot:p}=s,_=null===(c=this.createViewTransition)||void 0===c?void 0:c.call(this,this.environmentInjector,d.root,p.root);return _?Dr(_).pipe(Ct(()=>s)):En(s)}),Ct(c=>{const d=function dJ(t,e,n){const r=Wg(t,e._root,n?n._root:void 0);return new wV(r,e)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:d},this.currentNavigation.targetRouterState=d,s}),No(()=>{this.events.next(new wA)}),((t,e,n,r)=>Ct(i=>(new EJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),If(1),No({next:c=>{var d;a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),null===(d=this.titleStrategy)||void 0===d||d.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),function wZ(t){return Pe((e,n)=>{ms(t).subscribe(gt(n,()=>n.complete(),rr)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(No(c=>{throw c}))),ld(()=>{var c;!a&&!l&&this.cancelNavigationTransition(s,"",Os.SupersededByNewNavigation),(null===(c=this.currentTransition)||void 0===c?void 0:c.id)===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ad(c=>{if(l=!0,kV(c))this.events.next(new wf(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function pJ(t){return kV(t)&&Cf(t.url)}(c)?this.events.next(new TA(c.url)):s.resolve(!1);else{var d;this.events.next(new CI(s.id,this.urlSerializer.serialize(s.extractedUrl),c,null!==(d=s.targetSnapshot)&&void 0!==d?d:void 0));try{s.resolve(r.errorHandler(c))}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Aa}))}))}cancelNavigationTransition(r,i,o){const s=new wf(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){var r,i;return(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())!==(null===(i=this.currentTransition)||void 0===i?void 0:i.currentUrlTree.toString())}isUpdatedBrowserUrl(){var r,i;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())&&!(null!==(i=this.currentTransition)&&void 0!==i&&i.extras.skipLocationChange)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function vee(t){return t!==Gg}let qV=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:()=>nt(Iee),providedIn:"root"}),e})();class yee{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Iee=(()=>{var t;class e extends yee{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),WV=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:()=>nt(Eee),providedIn:"root"}),e})(),Eee=(()=>{var t;class e extends WV{constructor(){super(...arguments),this.location=nt(Ms),this.urlSerializer=nt(ud),this.options=nt(Pf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=nt(UA),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new bf,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=TV(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var r,i;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(r=null===(i=this.restoredState())||void 0===i?void 0:i.\u0275routerPageId)&&void 0!==r?r:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{"popstate"===i.type&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof qg)this.stateMemento=this.createStateMemento();else if(r instanceof Tf)this.rawUrlTree=i.initialUrl;else if(r instanceof EV){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof wA?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof wf&&(r.code===Os.GuardRejected||r.code===Os.NoDataFromResolver)?this.restoreHistory(i):r instanceof CI?this.restoreHistory(i,!0):r instanceof Hl&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&0===s&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){var i;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(i=r.finalUrl)&&void 0!==i?i:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Zg=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Zg||{});function KV(t,e){t.events.pipe(ks(n=>n instanceof Hl||n instanceof wf||n instanceof CI||n instanceof Tf),Ct(n=>n instanceof Hl||n instanceof Tf?Zg.COMPLETE:n instanceof wf&&(n.code===Os.Redirect||n.code===Os.SupersededByNewNavigation)?Zg.REDIRECTING:Zg.FAILED),ks(n=>n!==Zg.REDIRECTING),If(1)).subscribe(()=>{e()})}function bee(t){throw t}const Cee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lr=(()=>{var t;class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var r,i;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=nt(YO),this.stateManager=nt(WV),this.options=nt(Pf,{optional:!0})||{},this.pendingTasks=nt(jh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=nt(SI),this.urlSerializer=nt(ud),this.location=nt(Ms),this.urlHandlingStrategy=nt(UA),this._events=new M,this.errorHandler=this.options.errorHandler||bee,this.navigated=!1,this.routeReuseStrategy=nt(qV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(r=null===(i=nt(Mf,{optional:!0}))||void 0===i?void 0:i.flat())&&void 0!==r?r:[],this.componentInputBindingEnabled=!!nt(wI,{optional:!0}),this.eventsSubscription=new Tn,this.isNgZoneEnabled=nt(He)instanceof He&&He.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof wf&&i.code!==Os.Redirect&&i.code!==Os.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Hl)this.navigated=!0;else if(i instanceof TA){const a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vee(o.source)};this.scheduleNavigation(a,Gg,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function Aee(t){return!(t instanceof wA||t instanceof TA)})(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gg,this.stateManager.restoredState())}setUpLocationChangeListener(){var r;null!==(r=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==r||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",o)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=null!=o&&o.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(kA),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a;let _,p=null;switch(l){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{_=pV(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),_=this.currentUrlTree.root}return mV(_,r,p,null!=d?d:null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=Cf(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Gg,null,i)}navigate(r,i={skipLocationChange:!1}){return function Tee(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new he(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(o=!0===i?{...Cee}:!1===i?{...wee}:i,Cf(r))return oV(this.currentUrlTree,r,o);const s=this.parseUrl(r);return oV(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(null!=s&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((_,I)=>{l=_,c=I});const p=this.pendingTasks.add();return KV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(_=>Promise.reject(_))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Gl=(()=>{var t;class e{constructor(r,i,o,s,a,l){var c;this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new M,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const d=null===(c=a.nativeElement.tagName)||void 0===c?void 0:c.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=r.events.subscribe(p=>{p instanceof Hl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var r;null===(r=this.subscription)||void 0===r||r.unsubscribe()}updateHref(){var r;const i=this.urlTree;this.href=null!==i&&this.locationStrategy?null===(r=this.locationStrategy)||void 0===r?void 0:r.prepareExternalUrl(this.router.serializeUrl(i)):null;const o=null===this.href?null:function V1(t,e,n){return function o6(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?L1:eo}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Lr),T(il),Pl("tabindex"),T(Nl),T(st),T($l))},t.\u0275dir=Zt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&yt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Ro("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Tr.HasDecoratorInputTransform,"preserveFragment","preserveFragment",_f],skipLocationChange:[Tr.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",_f],replaceUrl:[Tr.HasDecoratorInputTransform,"replaceUrl","replaceUrl",_f],routerLink:"routerLink"},standalone:!0,features:[TN,ho]}),e})();class QV{}let Ree=(()=>{var t;class e{preload(r,i){return i().pipe(ad(()=>En(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Pee=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ks(r=>r instanceof Hl),$g(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const c of i){var s,a;c.providers&&!c._injector&&(c._injector=v0(c.providers,r,`Route: ${c.path}`));const d=null!==(s=c._injector)&&void 0!==s?s:r,p=null!==(a=c._loadedInjector)&&void 0!==a?a:d;var l;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&o.push(this.preloadConfig(d,c)),(c.children||c._loadedRoutes)&&o.push(this.processRoutes(p,null!==(l=c.children)&&void 0!==l?l:c._loadedRoutes))}return Dr(o).pipe(yf())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):En(null);const s=o.pipe(fo(a=>{var l;return null===a?En(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(null!==(l=a.injector)&&void 0!==l?l:r,a.routes))}));return i.loadComponent&&!i._loadedComponent?Dr([s,this.loader.loadComponent(i)]).pipe(yf()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(Lr),Qe(oF),Qe(ui),Qe(QV),Qe(BA))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const jA=new Et("");let YV=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=nt(ui),a.scrollPositionRestoration||(a.scrollPositionRestoration="disabled"),a.anchorScrolling||(a.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof qg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Hl?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Tf&&r.code===bI.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof bV&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){var o=this;this.zone.runOutsideAngular((0,E.A)(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Sw(()=>{s()},{injector:o.environmentInjector})}),o.zone.run(()=>{o.transitions.events.next(new bV(r,"popstate"===o.lastSource?o.store[o.restoredId]:null,i))})}))}ngOnDestroy(){var r,i;null===(r=this.routerEventsSubscription)||void 0===r||r.unsubscribe(),null===(i=this.scrollEventsSubscription)||void 0===i||i.unsubscribe()}}return(t=e).\u0275fac=function(r){!function lx(){throw new Error("invalid")}()},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})();function sl(t,e){return{\u0275kind:t,\u0275providers:e}}function ZV(){const t=nt(Ar);return e=>{var n,r;const i=t.get(Ca);if(e!==i.components[0])return;const o=t.get(Lr),s=t.get(JV);1===t.get(zA)&&o.initialNavigation(),null===(n=t.get(e2,null,Xn.Optional))||void 0===n||n.setUpPreloading(),null===(r=t.get(jA,null,Xn.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const JV=new Et("",{factory:()=>new M}),zA=new Et("",{providedIn:"root",factory:()=>1}),e2=new Et("");function kee(t){return sl(0,[{provide:e2,useExisting:Pee},{provide:QV,useExisting:t}])}function Fee(t){return sl(9,[{provide:HV,useValue:gee},{provide:GV,useValue:{skipNextTransition:!(null==t||!t.skipInitialTransition),...t}}])}const t2=new Et("ROUTER_FORROOT_GUARD"),Lee=[Ms,{provide:ud,useClass:yA},Lr,dd,{provide:il,useFactory:function XV(t){return t.routerState.root},deps:[Lr]},BA,[]];let n2=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Lee,[],{provide:Mf,multi:!0,useValue:r},{provide:t2,useFactory:Uee,deps:[[Lr,new co,new Cc]]},{provide:Pf,useValue:i||{}},null!=i&&i.useHash?{provide:$l,useClass:IQ}:{provide:$l,useClass:YF},{provide:jA,useFactory:()=>{const t=nt(jY),e=nt(He),n=nt(Pf),r=nt(SI),i=nt(ud);return n.scrollOffset&&t.setOffset(n.scrollOffset),new YV(i,r,t,e,n)}},null!=i&&i.preloadingStrategy?kee(i.preloadingStrategy).\u0275providers:[],null!=i&&i.initialNavigation?jee(i):[],null!=i&&i.bindToComponentInputs?sl(8,[PV,{provide:wI,useExisting:PV}]).\u0275providers:[],null!=i&&i.enableViewTransitions?Fee().\u0275providers:[],[{provide:r2,useFactory:ZV},{provide:ST,multi:!0,useExisting:r2}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Mf,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(t2,8))},t.\u0275mod=uo({type:t}),t.\u0275inj=ki({}),e})();function Uee(t){return"guarded"}function jee(t){return["disabled"===t.initialNavigation?sl(3,[{provide:B0,multi:!0,useFactory:()=>{const e=nt(Lr);return()=>{e.setUpLocationChangeListener()}}},{provide:zA,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?sl(2,[{provide:zA,useValue:0},{provide:B0,multi:!0,deps:[Ar],useFactory:e=>{const n=e.get(vQ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Lr),o=e.get(JV);KV(i,()=>{r(!0)}),e.get(SI).afterPreactivation=()=>(r(!0),o.closed?En(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const r2=new Et("");let i2=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Nl),T(st))},t.\u0275dir=Zt({type:t}),e})(),hd=(()=>{var t;class e extends i2{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275dir=Zt({type:t,features:[Ln]}),e})();const gs=new Et(""),qee={provide:gs,useExisting:mr(()=>xf),multi:!0},Kee=new Et("");let xf=(()=>{var t;class e extends i2{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wee(){const t=zc()?zc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Nl),T(st),T(Kee,8))},t.\u0275dir=Zt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&yt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Cr([qee]),Ln]}),e})();function qc(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function s2(t){return null!=t&&"number"==typeof t.length}const no=new Et(""),Wc=new Et(""),Qee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Sa{static min(e){return a2(e)}static max(e){return l2(e)}static required(e){return c2(e)}static requiredTrue(e){return function u2(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return d2(e)}static minLength(e){return function h2(t){return e=>qc(e.value)||!s2(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return f2(e)}static pattern(e){return function p2(t){if(!t)return RI;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(qc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return I2(e)}static composeAsync(e){return E2(e)}}function a2(t){return e=>{if(qc(e.value)||qc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function l2(t){return e=>{if(qc(e.value)||qc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function c2(t){return qc(t.value)?{required:!0}:null}function d2(t){return qc(t.value)||Qee.test(t.value)?null:{email:!0}}function f2(t){return e=>s2(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function RI(t){return null}function m2(t){return null!=t}function g2(t){return Ag(t)?Dr(t):t}function _2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function v2(t,e){return e.map(n=>n(t))}function y2(t){return t.map(e=>function Yee(t){return!t.validate}(e)?e:n=>e.validate(n))}function I2(t){if(!t)return null;const e=t.filter(m2);return 0==e.length?null:function(n){return _2(v2(n,e))}}function HA(t){return null!=t?I2(y2(t)):null}function E2(t){if(!t)return null;const e=t.filter(m2);return 0==e.length?null:function(n){return function Hee(...t){const e=QL(t),{args:n,keys:r}=YL(t),i=new Mn(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let p=!1;ms(n[d]).subscribe(gt(o,_=>{p||(p=!0,c--),a[d]=_},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(r?XL(r,a):a),o.complete())}))}});return e?i.pipe(pA(e)):i}(v2(n,e).map(g2)).pipe(Ct(_2))}}function GA(t){return null!=t?E2(y2(t)):null}function b2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function C2(t){return t._rawValidators}function w2(t){return t._rawAsyncValidators}function qA(t){return t?Array.isArray(t)?t:[t]:[]}function PI(t,e){return Array.isArray(t)?t.includes(e):t===e}function T2(t,e){const n=qA(e);return qA(t).forEach(i=>{PI(n,i)||n.push(i)}),n}function A2(t,e){return qA(e).filter(n=>!PI(t,n))}class D2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Jo extends D2{get formDirective(){return null}get path(){return null}}class ql extends D2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class S2{constructor(e){this._cd=e}get isTouched(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.touched)}get isUntouched(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.untouched)}get isPristine(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.pristine)}get isDirty(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.dirty)}get isValid(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.valid)}get isInvalid(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.invalid)}get isPending(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let Wl=(()=>{var t;class e extends S2{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(T(ql,2))},t.\u0275dir=Zt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Po("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ln]}),e})(),Kc=(()=>{var t;class e extends S2{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Jo,10))},t.\u0275dir=Zt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Po("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ln]}),e})();const Jg="VALID",xI="INVALID",Nf="PENDING",e_="DISABLED";function QA(t){return(NI(t)?t.validators:t)||null}function YA(t,e){return(NI(e)?e.asyncValidators:t)||null}function NI(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function P2(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new he(1e3,"");if(!r[n])throw new he(1001,"")}function M2(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new he(1002,"")})}class kI{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jg}get invalid(){return this.status===xI}get pending(){return this.status==Nf}get disabled(){return this.status===e_}get enabled(){return this.status!==e_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(T2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(T2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(A2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(A2(e,this._rawAsyncValidators))}hasValidator(e){return PI(this._rawValidators,e)}hasAsyncValidator(e){return PI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=e_,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jg||this.status===Nf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?e_:Jg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nf,this._hasOwnPendingAsyncValidator=!0;const n=g2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pr,this.statusChanges=new Pr}_calculateStatus(){return this._allControlsDisabled()?e_:this.errors?xI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nf)?Nf:this._anyControlsHaveStatus(xI)?xI:Jg}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){NI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ete(t){return Array.isArray(t)?HA(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function tte(t){return Array.isArray(t)?GA(t):t||null}(this._rawAsyncValidators)}}class t_ extends kI{constructor(e,n,r){super(QA(n),YA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){M2(this,0,e),Object.keys(e).forEach(r=>{P2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class x2 extends t_{}const fd=new Et("CallSetDisabledState",{providedIn:"root",factory:()=>n_}),n_="always";function OI(t,e){return[...e.path,t]}function r_(t,e,n=n_){var r,i;XA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&(null===(r=(i=e.valueAccessor).setDisabledState)||void 0===r||r.call(i,t.disabled)),function rte(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&N2(t,e)})}(t,e),function ote(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function ite(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&N2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function nte(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function FI(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),VI(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function LI(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function XA(t,e){const n=C2(t);null!==e.validator?t.setValidators(b2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=w2(t);null!==e.asyncValidator?t.setAsyncValidators(b2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();LI(e._rawValidators,i),LI(e._rawAsyncValidators,i)}function VI(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=C2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=w2(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return LI(e._rawValidators,r),LI(e._rawAsyncValidators,r),n}function N2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function k2(t,e){XA(t,e)}function JA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function O2(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function eD(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===xf?n=o:function lte(t){return Object.getPrototypeOf(t.constructor)===hd}(o)?r=o:i=o}),i||r||n||null}const ute={provide:Jo,useExisting:mr(()=>pd)},i_=Promise.resolve();let pd=(()=>{var t;class e extends Jo{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pr,this.form=new t_({},HA(r),GA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){i_.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),r_(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){i_.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){i_.then(()=>{const i=this._findContainer(r.path),o=new t_({});k2(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){i_.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){i_.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){var i;return this.submitted=!0,O2(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===(null==r||null===(i=r.target)||void 0===i?void 0:i.method)}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(T(no,10),T(Wc,10),T(fd,8))},t.\u0275dir=Zt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&yt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[Tr.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Cr([ute]),Ln]}),e})();function F2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function L2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const o_=class extends kI{constructor(e=null,n,r){super(QA(n),YA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),NI(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=L2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){F2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){F2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){L2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},fte={provide:ql,useExisting:mr(()=>md)},B2=Promise.resolve();let md=(()=>{var t;class e extends ql{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new o_,this._registered=!1,this.name="",this.update=new Pr,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=eD(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),JA(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){r_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){B2.then(()=>{var i;this.control.setValue(r,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&_f(i);B2.then(()=>{var s;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(r){return this._parent?OI(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Jo,9),T(no,10),T(Wc,10),T(gs,10),T(Tt,8),T(fd,8))},t.\u0275dir=Zt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Tr.None,"disabled","isDisabled"],model:[Tr.None,"ngModel","model"],options:[Tr.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Cr([fte]),Ln,ho]}),e})(),Qc=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Zt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const tD=new Et(""),yte={provide:Jo,useExisting:mr(()=>kf)};let kf=(()=>{var t;class e extends Jo{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pr,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(VI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return r_(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){FI(r.control||null,r,!1),function cte(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){var i;return this.submitted=!0,O2(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===(null==r||null===(i=r.target)||void 0===i?void 0:i.method)}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,o=this.form.get(r.path);i!==o&&(FI(i||null,r),(t=>t instanceof o_)(o)&&(r_(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);k2(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function ste(t,e){return VI(t,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XA(this.form,this),this._oldForm&&VI(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(T(no,10),T(Wc,10),T(fd,8))},t.\u0275dir=Zt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&yt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[Tr.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Cr([yte]),Ln,ho]}),e})();const bte={provide:ql,useExisting:mr(()=>s_)};let s_=(()=>{var t;class e extends ql{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Pr,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=eD(0,s)}ngOnChanges(r){this._added||this._setUpControl(),JA(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return OI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(T(Jo,13),T(no,10),T(Wc,10),T(gs,10),T(tD,8))},t.\u0275dir=Zt({type:t,selectors:[["","formControlName",""]],inputs:{name:[Tr.None,"formControlName","name"],isDisabled:[Tr.None,"disabled","isDisabled"],model:[Tr.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Cr([bte]),Ln,ho]}),e})();function Q2(t){return"number"==typeof t?t:parseFloat(t)}let gd=(()=>{var t;class e{constructor(){this._validator=RI}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):RI,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Zt({type:t,features:[ho]}),e})();const Rte={provide:no,useExisting:mr(()=>sD),multi:!0};let sD=(()=>{var t;class e extends gd{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>Q2(r),this.createValidator=r=>l2(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275dir=Zt({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ro("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Cr([Rte]),Ln]}),e})();const Pte={provide:no,useExisting:mr(()=>aD),multi:!0};let aD=(()=>{var t;class e extends gd{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>Q2(r),this.createValidator=r=>a2(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275dir=Zt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ro("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Cr([Pte]),Ln]}),e})();const Mte={provide:no,useExisting:mr(()=>Yc),multi:!0};let Yc=(()=>{var t;class e extends gd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_f,this.createValidator=r=>c2}enabled(r){return r}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275dir=Zt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Ro("required",i._enabled?"":null)},inputs:{required:"required"},features:[Cr([Mte]),Ln]}),e})();const Nte={provide:no,useExisting:mr(()=>Of),multi:!0};let Of=(()=>{var t;class e extends gd{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=_f,this.createValidator=r=>d2}enabled(r){return r}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275dir=Zt({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Cr([Nte]),Ln]}),e})();const Ote={provide:no,useExisting:mr(()=>lD),multi:!0};let lD=(()=>{var t;class e extends gd{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=r=>function K2(t){return"number"==typeof t?t:parseInt(t,10)}(r),this.createValidator=r=>f2(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})(),t.\u0275dir=Zt({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ro("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Cr([Ote]),Ln]}),e})(),J2=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=ki({}),e})();class e$ extends kI{constructor(e,n,r){super(QA(n),YA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){M2(this,0,e),e.forEach((r,i)=>{P2(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){var n;return null!==(n=this.at(e))&&void 0!==n?n:null}}function t$(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let cD=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,i=null){const o=this._reduceControls(r);let s={};return t$(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new t_(o,s)}record(r,i=null){const o=this._reduceControls(r);return new x2(o,i)}control(r,i,o){let s={};return this.useNonNullable?(t$(i)?s=i:(s.validators=i,s.asyncValidators=o),new o_(r,{...s,nonNullable:!0})):new o_(r,i,o)}array(r,i,o){const s=r.map(a=>this._createControl(a));return new e$(s,i,o)}_reduceControls(r){const i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){return r instanceof o_||r instanceof kI?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Lte=(()=>{var t;class e{static withConfig(r){var i;return{ngModule:e,providers:[{provide:fd,useValue:null!==(i=r.callSetDisabledState)&&void 0!==i?i:n_}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=ki({imports:[J2]}),e})(),Vte=(()=>{var t;class e{static withConfig(r){var i,o;return{ngModule:e,providers:[{provide:tD,useValue:null!==(i=r.warnOnNgModelWithFormControl)&&void 0!==i?i:"always"},{provide:fd,useValue:null!==(o=r.callSetDisabledState)&&void 0!==o?o:n_}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=ki({imports:[J2]}),e})();var Dn=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Dn||{});const Kl="*";function $te(t,e){return{type:Dn.Trigger,name:t,definitions:e,options:{}}}function n$(t,e=null){return{type:Dn.Animate,styles:e,timings:t}}function a_(t){return{type:Dn.Style,styles:t,offset:null}}function uD(t,e,n){return{type:Dn.State,name:t,styles:e,options:n}}function r$(t,e,n=null){return{type:Dn.Transition,expr:t,animation:e,options:n}}class l_{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class i${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function a$(t){return new he(3e3,!1)}function Xc(t){switch(t.length){case 0:return new l_;case 1:return t[0];default:return new i$(t)}}function l$(t,e,n=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),d=c==s,p=d&&a||new Map;l.forEach((_,I)=>{let A=I,x=_;if("offset"!==I)switch(A=t.normalizePropertyName(A,i),x){case"!":x=n.get(I);break;case Kl:x=r.get(I);break;default:x=t.normalizeStyleValue(I,A,x,i)}p.set(A,x)}),d||o.push(p),a=p,s=c}),i.length)throw function fne(t){return new he(3502,!1)}();return o}function hD(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&fD(n,"start",t)));break;case"done":t.onDone(()=>r(n&&fD(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&fD(n,"destroy",t)))}}function fD(t,e,n){const r=n.totalTime,o=pD(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(o._data=s),o}function pD(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Fs(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function c$(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const Tne=typeof document>"u"?null:document.documentElement;function mD(t){const e=t.parentNode||t.host||null;return e===Tne?null:e}let _d=null,u$=!1;function d$(t,e){for(;e;){if(e===t)return!0;e=mD(e)}return!1}function h$(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let gD=(()=>{var t;class e{validateStyleProperty(r){return function Dne(t){_d||(_d=function Sne(){return typeof document<"u"?document.body:null}()||{},u$=!!_d.style&&"WebkitAppearance"in _d.style);let e=!0;return _d.style&&!function Ane(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in _d.style,!e&&u$&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in _d.style)),e}(r)}matchesElement(r,i){return!1}containsElement(r,i){return d$(r,i)}getParentElement(r){return mD(r)}query(r,i,o){return h$(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,l=[],c){return new l_(o,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})();class $I{}$I.NOOP=new gD;class _D{}const Pne=1e3,vD="ng-enter",BI="ng-leave",UI="ng-trigger",jI=".ng-trigger",p$="ng-animating",yD=".ng-animating";function Ql(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ID(parseFloat(e[1]),e[2])}function ID(t,e){return"s"===e?t*Pne:t}function zI(t,e,n){return t.hasOwnProperty("duration")?t:function xne(t,e,n){let i,o=0,s="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(a$()),{duration:0,delay:0,easing:""};i=ID(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=ID(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(function Gte(){return new he(3100,!1)}()),a=!0),o<0&&(e.push(function qte(){return new he(3101,!1)}()),a=!0),a&&e.splice(l,0,a$())}return{duration:i,delay:o,easing:s}}(t,e,n)}function al(t,e,n){e.forEach((r,i)=>{const o=bD(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function vd(t,e){e.forEach((n,r)=>{const i=bD(r);t.style[i]=""})}function c_(t){return Array.isArray(t)?1==t.length?t[0]:function Bte(t,e=null){return{type:Dn.Sequence,steps:t,options:e}}(t):t}const ED=new RegExp("{{\\s*(.+?)\\s*}}","g");function g$(t){let e=[];if("string"==typeof t){let n;for(;n=ED.exec(t);)e.push(n[1]);ED.lastIndex=0}return e}function u_(t,e,n){const r=`${t}`,i=r.replace(ED,(o,s)=>{let a=e[s];return null==a&&(n.push(function Kte(t){return new he(3003,!1)}()),a=""),a.toString()});return i==r?t:i}const One=/-+([a-z0-9])/g;function bD(t){return t.replace(One,(...e)=>e[1].toUpperCase())}function Ls(t,e,n){switch(e.type){case Dn.Trigger:return t.visitTrigger(e,n);case Dn.State:return t.visitState(e,n);case Dn.Transition:return t.visitTransition(e,n);case Dn.Sequence:return t.visitSequence(e,n);case Dn.Group:return t.visitGroup(e,n);case Dn.Animate:return t.visitAnimate(e,n);case Dn.Keyframes:return t.visitKeyframes(e,n);case Dn.Style:return t.visitStyle(e,n);case Dn.Reference:return t.visitReference(e,n);case Dn.AnimateChild:return t.visitAnimateChild(e,n);case Dn.AnimateRef:return t.visitAnimateRef(e,n);case Dn.Query:return t.visitQuery(e,n);case Dn.Stagger:return t.visitStagger(e,n);default:throw function Qte(t){return new he(3004,!1)}()}}function CD(t,e){return window.getComputedStyle(t)[e]}const Vne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _$ extends _D{normalizePropertyName(e,n){return bD(e)}normalizeStyleValue(e,n,r,i){let o="";const s=r.toString().trim();if(Vne.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Yte(t,e){return new he(3005,!1)}())}return s+o}}const HI="*";const GI=new Set(["true","1"]),qI=new Set(["false","0"]);function v$(t,e){const n=GI.has(t)||qI.has(t),r=GI.has(e)||qI.has(e);return(i,o)=>{let s=t==HI||t==i,a=e==HI||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?GI.has(t):qI.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?GI.has(e):qI.has(e)),s&&a}}const jne=new RegExp("s*:selfs*,?","g");function wD(t,e,n,r){return new zne(t).build(e,n,r)}class zne{constructor(e){this._driver=e}build(e,n,r){const i=new qne(n);return this._resetContextStyleTimingState(i),Ls(this,c_(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&n.errors.push(function Xte(){return new he(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Dn.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,n))}),l.name=c}else if(a.type==Dn.Transition){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,s.push(l)}else n.errors.push(function Zte(){return new he(3007,!1)}())}),{type:Dn.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{g$(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&n.errors.push(function Jte(t,e){return new he(3008,!1)}(0,o.values()))}return{type:Dn.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=Ls(this,c_(e.animation),n),i=function $ne(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Bne(t,e,n){if(":"==t[0]){const l=function Une(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function cne(t){return new he(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof l)return void e.push(l);t=l}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function lne(t){return new he(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(v$(i,s)),"<"==o[0]&&(i!=HI||s!=HI)&&e.push(v$(s,i))}(r,n,e)):n.push(t),n}(e.expr,n.errors);return{type:Dn.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:yd(e.options)}}visitSequence(e,n){return{type:Dn.Sequence,steps:e.steps.map(r=>Ls(this,r,n)),options:yd(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const o=e.steps.map(s=>{n.currentTime=r;const a=Ls(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:Dn.Group,steps:o,options:yd(e.options)}}visitAnimate(e,n){const r=function Kne(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return TD(zI(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=TD(0,0,"");return o.dynamic=!0,o.strValue=n,o}const i=zI(n,e);return TD(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:a_({});if(o.type==Dn.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=a_(c)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:Dn.Animate,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Kl?r.push(a):n.errors.push(new he(3002,!1)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:Dn.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=n.collectedStyles.get(n.currentQuerySelector),d=c.get(l);let p=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(n.errors.push(function tne(t,e,n,r,i){return new he(3010,!1)}()),p=!1),o=d.startTime),p&&c.set(l,{startTime:o,endTime:i}),n.options&&function kne(t,e,n){const r=e.params||{},i=g$(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(function Wte(t){return new he(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:Dn.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function nne(){return new he(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const d=e.steps.map(B=>{const z=this._makeStyleAst(B,n);let fe=null!=z.offset?z.offset:function Wne(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(z.styles),ge=0;return null!=fe&&(o++,ge=z.offset=fe),l=l||ge<0||ge>1,a=a||ge<c,c=ge,s.push(ge),z});l&&n.errors.push(function rne(){return new he(3012,!1)}()),a&&n.errors.push(function ine(){return new he(3200,!1)}());const p=e.steps.length;let _=0;o>0&&o<p?n.errors.push(function one(){return new he(3202,!1)}()):0==o&&(_=1/(p-1));const I=p-1,A=n.currentTime,x=n.currentAnimateTimings,V=x.duration;return d.forEach((B,z)=>{const fe=_>0?z==I?1:_*z:s[z],ge=fe*V;n.currentTime=A+x.delay+ge,x.duration=ge,this._validateStyleAst(B,n),B.offset=fe,r.styles.push(B)}),r}visitReference(e,n){return{type:Dn.Reference,animation:Ls(this,c_(e.animation),n),options:yd(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Dn.AnimateChild,options:yd(e.options)}}visitAnimateRef(e,n){return{type:Dn.AnimateRef,animation:this.visitReference(e.animation,n),options:yd(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[o,s]=function Hne(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(jne,"")),t=t.replace(/@\*/g,jI).replace(/@\w+/g,n=>jI+"-"+n.slice(1)).replace(/:animating/g,yD),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,Fs(n.collectedStyles,n.currentQuerySelector,new Map);const a=Ls(this,c_(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:Dn.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:yd(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function sne(){return new he(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:zI(e.timings,n.errors,!0);return{type:Dn.Stagger,animation:Ls(this,c_(e.animation),n),timings:r,options:null}}}class qne{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yd(t){return t?(t={...t}).params&&(t.params=function Gne(t){return t?{...t}:null}(t.params)):t={},t}function TD(t,e,n){return{duration:t,delay:e,easing:n}}function AD(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class WI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Xne=new RegExp(":enter","g"),Jne=new RegExp(":leave","g");function DD(t,e,n,r,i,o=new Map,s=new Map,a,l,c=[]){return(new ere).buildKeyframes(t,e,n,r,i,o,s,a,l,c)}class ere{buildKeyframes(e,n,r,i,o,s,a,l,c,d=[]){c=c||new WI;const p=new SD(e,n,c,i,o,d,[]);p.options=l;const _=l.delay?Ql(l.delay):0;p.currentTimeline.delayNextStep(_),p.currentTimeline.setStyles([s],null,p.errors,l),Ls(this,r,p);const I=p.timelines.filter(A=>A.containsAnimation());if(I.length&&a.size){let A;for(let x=I.length-1;x>=0;x--){const V=I[x];if(V.element===n){A=V;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([a],null,p.errors,l)}return I.length?I.map(A=>A.buildKeyframes()):[AD(n,[],[],[],0,_,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const o of e){const s=null==o?void 0:o.delay;if(s){var i;const a="number"==typeof s?s:Ql(u_(s,null!==(i=null==o?void 0:o.params)&&void 0!==i?i:{},n.errors));r.delayNextStep(a)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime;const s=null!=r.duration?Ql(r.duration):null,a=null!=r.delay?Ql(r.delay):null;return 0!==s&&e.forEach(l=>{const c=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Ls(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){i.previousNode.type==Dn.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=KI);const s=Ql(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Ls(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ql(e.options.delay):0;e.steps.forEach(s=>{const a=n.createSubContext(e.options);o&&a.delayNextStep(o),Ls(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return zI(n.params?u_(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;o.type==Dn.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ql(i.delay):0;o&&(n.previousNode.type===Dn.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=KI);let s=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{n.currentQueryIndex=d;const p=n.createSubContext(e.options,c);o&&p.delayNextStep(o),c===n.element&&(l=p.currentTimeline),Ls(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1);let l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const d=n.currentTimeline;l&&d.delayNextStep(l);const p=d.currentTime;Ls(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}}const KI={};class SD{constructor(e,n,r,i,o,s,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=KI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new QI(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ql(r.duration)),null!=r.delay&&(i.delay=Ql(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=u_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,o=new SD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=KI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:null!=n?n:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},o=new tre(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Xne,"."+this._enterClassName)).replace(Jne,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function ane(t){return new he(3014,!1)}()),a}}class QI{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new QI(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Kl),this._currentKeyframe.set(n,Kl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const o=i&&i.params||{},s=function nre(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){var o;null!==(o=r)&&void 0!==o||(r=e.keys());for(let s of r)n.set(s,Kl)}else for(let[s,a]of i)n.set(s,a)}),n}(e,this._globalTimelineStyles);for(let[l,c]of s){const d=u_(c,o,r);var a;this._pendingStyles.set(l,d),this._localTimelineStyles.has(l)||this._backFill.set(l,null!==(a=this._globalTimelineStyles.get(l))&&void 0!==a?a:Kl),this._updateStyle(l,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((d,p)=>{"!"===d?e.add(p):d===Kl&&n.add(p)}),r||c.set("offset",l/this.duration),i.push(c)});const o=[...e.values()],s=[...n.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return AD(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class tre extends QI{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=r+n,a=n/s,l=new Map(e[0]);l.set("offset",0),o.push(l);const c=new Map(e[0]);c.set("offset",E$(a)),o.push(c);const d=e.length-1;for(let p=1;p<=d;p++){let _=new Map(e[p]);const I=_.get("offset");_.set("offset",E$((n+I*r)/s)),o.push(_)}r=s,n=0,i="",e=o}return AD(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function E$(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}function b$(t,e,n,r,i,o,s,a,l,c,d,p,_){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:p,errors:_}}const RD={};class C${constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function rre(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(null==e?void 0:e.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,l,c,d){var p;const _=[],I=this.ast.options&&this.ast.options.params||RD,x=this.buildStyles(r,a&&a.params||RD,_),V=l&&l.params||RD,B=this.buildStyles(i,V,_),z=new Set,fe=new Map,ge=new Map,tt="void"===i,_t={params:w$(V,I),delay:null===(p=this.ast.options)||void 0===p?void 0:p.delay},X=d?[]:DD(e,n,this.ast.animation,o,s,x,B,_t,c,_);let $=0;return X.forEach(K=>{$=Math.max(K.duration+K.delay,$)}),_.length?b$(n,this._triggerName,r,i,tt,x,B,[],[],fe,ge,$,_):(X.forEach(K=>{const te=K.element,le=Fs(fe,te,new Set);K.preStyleProps.forEach(Z=>le.add(Z));const ye=Fs(ge,te,new Set);K.postStyleProps.forEach(Z=>ye.add(Z)),te!==n&&z.add(te)}),b$(n,this._triggerName,r,i,tt,x,B,X,[...z.values()],fe,ge,$))}}function w$(t,e){const n={...e};return Object.entries(t).forEach(([r,i])=>{null!=i&&(n[r]=i)}),n}class ire{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=w$(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=u_(s,i,n));const l=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,l,s,n),r.set(a,s)})}),r}}class sre{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new ire(i.style,i.options&&i.options.params||{},r))}),T$(this.states,"true","1"),T$(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new C$(e,i,this.states))}),this.fallbackTransition=function are(t,e,n){return new C$(t,{type:Dn.Transition,animation:{type:Dn.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function T$(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const lre=new WI;class cre{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],o=wD(this._driver,n,r,[]);if(r.length)throw function pne(t){return new he(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,n,r){const i=e.element,o=l$(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=DD(this._driver,n,o,vD,BI,new Map,new Map,r,lre,i),s.forEach(d=>{const p=Fs(a,d.element,new Map);d.postStyleProps.forEach(_=>p.set(_,null))})):(i.push(function mne(){return new he(3300,!1)}()),s=[]),i.length)throw function gne(t){return new he(3504,!1)}();a.forEach((d,p)=>{d.forEach((_,I)=>{d.set(I,this._driver.computeStyle(p,I,Kl))})});const c=Xc(s.map(d=>{const p=a.get(d.element);return this._buildPlayer(d,new Map,p)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function _ne(t){return new he(3301,!1)}();return n}listen(e,n,r,i){const o=pD(n,"","","");return hD(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const A$="ng-animate-queued",PD="ng-animate-disabled",pre=[],D$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ra="__ng_removed";class MD{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function yre(t){return null!=t?t:null}(r?e.value:e),r){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const d_="void",xD=new MD(d_);class gre{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,na(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function vne(t,e){return new he(3302,!1)}();if(null==r||0==r.length)throw function yne(t){return new he(3303,!1)}();if(!function Ire(t){return"start"==t||"done"==t}(r))throw function Ine(t,e){return new he(3400,!1)}();const o=Fs(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);const a=Fs(this._engine.statesByElement,e,new Map);return a.has(n)||(na(e,UI),na(e,UI+"-"+n),a.set(n,xD)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function Ene(t){return new he(3401,!1)}();return n}trigger(e,n,r,i=!0){const o=this._getTrigger(n),s=new ND(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(na(e,UI),na(e,UI+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n);const c=new MD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=xD),c.value!==d_&&l.value===c.value){if(!function Cre(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(l.params,c.params)){const x=[],V=o.matchStyles(l.value,l.params,x),B=o.matchStyles(c.value,c.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{vd(e,V),al(e,B)})}return}const _=Fs(this._engine.playersByElement,e,[]);_.forEach(x=>{x.namespaceId==this.id&&x.triggerName==n&&x.queued&&x.destroy()});let I=o.matchTransition(l.value,c.value,e,c.params),A=!1;if(!I){if(!i)return;I=o.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:I,fromState:l,toState:c,player:s,isFallbackTransition:A}),A||(na(e,A$),s.onStart(()=>{Ff(e,A$)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);const V=this._engine.playersByElement.get(e);if(V){let B=V.indexOf(s);B>=0&&V.splice(B,1)}}),this.players.push(s),_.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,jI,!0);r.forEach(i=>{if(i[Ra])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const d=this.trigger(e,c,d_,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&Xc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||xD,d=new MD(d_),p=new ND(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:d,player:p,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const o=e[Ra];(!o||o===D$)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){na(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=pD(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,hD(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class _re{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new gre(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}return n}trigger(e,n,r,i){if(YI(n)){const o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!YI(n))return;const o=n[Ra];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),na(e,PD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ff(e,PD))}removeNode(e,n,r){if(YI(n)){var i;null===(i=this.scheduler)||void 0===i||i.notify();const o=e?this._fetchNamespace(e):null;o?o.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[Ra]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return YI(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,jI,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,yD,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xc(this.players).onDone(()=>e());e()})}processLeaveNode(e){var n;const r=e[Ra];if(r&&r.setForRemoval){if(e[Ra]=D$,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}null!==(n=e.classList)&&void 0!==n&&n.contains(PD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)na(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Xc(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function bne(t){return new he(3402,!1)}()}_flushAnimations(e,n){const r=new WI,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(Jt=>{d.add(Jt);const ln=this.driver.query(Jt,".ng-animate-queued",!0);for(let vn=0;vn<ln.length;vn++)d.add(ln[vn])});const p=this.bodyNode,_=Array.from(this.statesByElement.keys()),I=P$(_,this.collectedEnterElements),A=new Map;let x=0;I.forEach((Jt,ln)=>{const vn=vD+x++;A.set(ln,vn),Jt.forEach(qn=>na(qn,vn))});const V=[],B=new Set,z=new Set;for(let Jt=0;Jt<this.collectedLeaveElements.length;Jt++){const ln=this.collectedLeaveElements[Jt],vn=ln[Ra];vn&&vn.setForRemoval&&(V.push(ln),B.add(ln),vn.hasAnimation?this.driver.query(ln,".ng-star-inserted",!0).forEach(qn=>B.add(qn)):z.add(ln))}const fe=new Map,ge=P$(_,Array.from(B));ge.forEach((Jt,ln)=>{const vn=BI+x++;fe.set(ln,vn),Jt.forEach(qn=>na(qn,vn))}),e.push(()=>{I.forEach((Jt,ln)=>{const vn=A.get(ln);Jt.forEach(qn=>Ff(qn,vn))}),ge.forEach((Jt,ln)=>{const vn=fe.get(ln);Jt.forEach(qn=>Ff(qn,vn))}),V.forEach(Jt=>{this.processLeaveNode(Jt)})});const tt=[],_t=[];for(let Jt=this._namespaceList.length-1;Jt>=0;Jt--)this._namespaceList[Jt].drainQueuedTransitions(n).forEach(vn=>{const qn=vn.player,Xr=vn.element;if(tt.push(qn),this.collectedEnterElements.length){const yi=Xr[Ra];if(yi&&yi.setForMove){if(yi.previousTriggersValues&&yi.previousTriggersValues.has(vn.triggerName)){const dc=yi.previousTriggersValues.get(vn.triggerName),Is=this.statesByElement.get(vn.element);if(Is&&Is.has(vn.triggerName)){const hc=Is.get(vn.triggerName);hc.value=dc,Is.set(vn.triggerName,hc)}}return void qn.destroy()}}const oa=!p||!this.driver.containsElement(p,Xr),vi=fe.get(Xr),Zr=A.get(Xr),Jr=this._buildInstruction(vn,r,Zr,vi,oa);if(Jr.errors&&Jr.errors.length)return void _t.push(Jr);if(oa)return qn.onStart(()=>vd(Xr,Jr.fromStyles)),qn.onDestroy(()=>al(Xr,Jr.toStyles)),void i.push(qn);if(vn.isFallbackTransition)return qn.onStart(()=>vd(Xr,Jr.fromStyles)),qn.onDestroy(()=>al(Xr,Jr.toStyles)),void i.push(qn);const Eu=[];Jr.timelines.forEach(yi=>{yi.stretchStartingKeyframe=!0,this.disabledNodes.has(yi.element)||Eu.push(yi)}),Jr.timelines=Eu,r.append(Xr,Jr.timelines),s.push({instruction:Jr,player:qn,element:Xr}),Jr.queriedElements.forEach(yi=>Fs(a,yi,[]).push(qn)),Jr.preStyleProps.forEach((yi,dc)=>{if(yi.size){let Is=l.get(dc);Is||l.set(dc,Is=new Set),yi.forEach((hc,bu)=>Is.add(bu))}}),Jr.postStyleProps.forEach((yi,dc)=>{let Is=c.get(dc);Is||c.set(dc,Is=new Set),yi.forEach((hc,bu)=>Is.add(bu))})});if(_t.length){const Jt=[];_t.forEach(ln=>{Jt.push(function Cne(t,e){return new he(3505,!1)}())}),tt.forEach(ln=>ln.destroy()),this.reportError(Jt)}const X=new Map,$=new Map;s.forEach(Jt=>{const ln=Jt.element;r.has(ln)&&($.set(ln,ln),this._beforeAnimationBuild(Jt.player.namespaceId,Jt.instruction,X))}),i.forEach(Jt=>{const ln=Jt.element;this._getPreviousPlayers(ln,!1,Jt.namespaceId,Jt.triggerName,null).forEach(qn=>{Fs(X,ln,[]).push(qn),qn.destroy()})});const K=V.filter(Jt=>x$(Jt,l,c)),te=new Map;R$(te,this.driver,z,c,Kl).forEach(Jt=>{x$(Jt,l,c)&&K.push(Jt)});const ye=new Map;I.forEach((Jt,ln)=>{R$(ye,this.driver,new Set(Jt),l,"!")}),K.forEach(Jt=>{var ln,vn;const qn=te.get(Jt),Xr=ye.get(Jt);te.set(Jt,new Map([...null!==(ln=null==qn?void 0:qn.entries())&&void 0!==ln?ln:[],...null!==(vn=null==Xr?void 0:Xr.entries())&&void 0!==vn?vn:[]]))});const Z=[],os=[],yl={};s.forEach(Jt=>{const{element:ln,player:vn,instruction:qn}=Jt;if(r.has(ln)){if(d.has(ln))return vn.onDestroy(()=>al(ln,qn.toStyles)),vn.disabled=!0,vn.overrideTotalTime(qn.totalTime),void i.push(vn);let Xr=yl;if($.size>1){let vi=ln;const Zr=[];for(;vi=vi.parentNode;){const Jr=$.get(vi);if(Jr){Xr=Jr;break}Zr.push(vi)}Zr.forEach(Jr=>$.set(Jr,Xr))}const oa=this._buildAnimation(vn.namespaceId,qn,X,o,ye,te);if(vn.setRealPlayer(oa),Xr===yl)Z.push(vn);else{const vi=this.playersByElement.get(Xr);vi&&vi.length&&(vn.parentPlayer=Xc(vi)),i.push(vn)}}else vd(ln,qn.fromStyles),vn.onDestroy(()=>al(ln,qn.toStyles)),os.push(vn),d.has(ln)&&i.push(vn)}),os.forEach(Jt=>{const ln=o.get(Jt.element);if(ln&&ln.length){const vn=Xc(ln);Jt.setRealPlayer(vn)}}),i.forEach(Jt=>{Jt.parentPlayer?Jt.syncPlayerEvents(Jt.parentPlayer):Jt.destroy()});for(let Jt=0;Jt<V.length;Jt++){const ln=V[Jt],vn=ln[Ra];if(Ff(ln,BI),vn&&vn.hasAnimation)continue;let qn=[];if(a.size){let oa=a.get(ln);oa&&oa.length&&qn.push(...oa);let vi=this.driver.query(ln,yD,!0);for(let Zr=0;Zr<vi.length;Zr++){let Jr=a.get(vi[Zr]);Jr&&Jr.length&&qn.push(...Jr)}}const Xr=qn.filter(oa=>!oa.destroyed);Xr.length?Ere(this,ln,Xr):this.processLeaveNode(ln)}return V.length=0,Z.forEach(Jt=>{this.players.push(Jt),Jt.onDone(()=>{Jt.destroy();const ln=this.players.indexOf(Jt);this.players.splice(ln,1)}),Jt.play()}),Z}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==d_;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){const o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const c=l.element,d=c!==o,p=Fs(r,c,[]);this._getPreviousPlayers(c,d,s,a,n.toState).forEach(I=>{const A=I.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),I.destroy(),p.push(I)})}vd(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){const a=n.triggerName,l=n.element,c=[],d=new Set,p=new Set,_=n.timelines.map(A=>{const x=A.element;d.add(x);const V=x[Ra];if(V&&V.removedBeforeQueried)return new l_(A.duration,A.delay);const B=x!==l,z=function bre(t){const e=[];return M$(t,e),e}((r.get(x)||pre).map(X=>X.getRealPlayer())).filter(X=>!!X.element&&X.element===x),fe=o.get(x),ge=s.get(x),tt=l$(this._normalizer,A.keyframes,fe,ge),_t=this._buildPlayer(A,tt,z);if(A.subTimeline&&i&&p.add(x),B){const X=new ND(e,a,x);X.setRealPlayer(_t),c.push(X)}return _t});c.forEach(A=>{Fs(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function vre(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,A.element,A))}),d.forEach(A=>na(A,p$));const I=Xc(_);return I.onDestroy(()=>{d.forEach(A=>Ff(A,p$)),al(l,n.toStyles)}),p.forEach(A=>{Fs(i,A,[]).push(I)}),I}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new l_(e.duration,e.delay)}}class ND{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new l_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>hD(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Fs(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function YI(t){return t&&1===t.nodeType}function S$(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function R$(t,e,n,r,i){const o=[];n.forEach(l=>o.push(S$(l)));const s=[];r.forEach((l,c)=>{const d=new Map;l.forEach(p=>{const _=e.computeStyle(c,p,i);d.set(p,_),(!_||0==_.length)&&(c[Ra]=mre,s.push(c))}),t.set(c,d)});let a=0;return n.forEach(l=>S$(l,o[a++])),s}function P$(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=n.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&n.get(l).push(a)}),n}function na(t,e){var n;null===(n=t.classList)||void 0===n||n.add(e)}function Ff(t,e){var n;null===(n=t.classList)||void 0===n||n.remove(e)}function Ere(t,e,n){Xc(n).onDone(()=>t.processLeaveNode(e))}function M$(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof i$?M$(r.players,e):e.push(r)}}function x$(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}class h_{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new _re(e.body,n,r,i),this._timelineEngine=new cre(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],d=wD(this._driver,o,l,[]);if(l.length)throw function hne(t,e){return new he(3404,!1)}();a=function ore(t,e,n){return new sre(t,e,n)}(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[o,s]=c$(r);this._timelineEngine.command(o,n,s,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if("@"==r.charAt(0)){const[s,a]=c$(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class Lf{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Lf.initialStylesByElement.get(e);i||Lf.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&al(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(al(this._element,this._initialStyles),this._endStyles&&(al(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Lf.initialStylesByElement.delete(this._element),this._startStyles&&(vd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vd(this._element,this._endStyles),this._endStyles=null),al(this._element,this._initialStyles),this._state=3)}}function kD(t){let e=null;return t.forEach((n,r)=>{(function Tre(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}Lf.initialStylesByElement=new WeakMap;class N${constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){var e;return+(null!==(e=this.domPlayer.currentTime)&&void 0!==e?e:0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:CD(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class k${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return d$(e,n)}getParentElement(e){return mD(e)}query(e,n,r){return h$(e,n,r)}computeStyle(e,n,r){return CD(e,n)}animate(e,n,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,d=s.filter(I=>I instanceof N$);(function Fne(t,e){return 0===t||0===e})(r,i)&&d.forEach(I=>{I.currentSnapshot.forEach((A,x)=>c.set(x,A))});let p=function Nne(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}(n).map(I=>new Map(I));p=function Lne(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,CD(t,a)))}}return e}(e,p,c);const _=function wre(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=kD(e[0]),e.length>1&&(r=kD(e[e.length-1]))):e instanceof Map&&(n=kD(e)),n||r?new Lf(t,n,r):null}(e,p);return new N$(e,p,l,_)}}const O$="@.disabled";class F${constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){var n,r;null===(n=(r=this.delegate).destroyNode)||void 0===n||n.call(r,e)}destroy(){var e;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),null===(e=this._onDestroy)||void 0===e||e.call(this)}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==O$?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class Are extends F${constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==O$?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function Dre(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=n.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Sre(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}class Rre{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{const s=null==o?void 0:o.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){var r;const o=this.delegate.createRenderer(e,n);if(!e||null==n||null===(r=n.data)||void 0===r||!r.animation){const d=this._rendererCache;let p=d.get(o);return p||(p=new F$("",o,this.engine,()=>d.delete(o)),d.set(o,p)),p}const s=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(s,a,e,d.name,d)};return n.data.animation.forEach(l),new Are(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>n(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const L$=[{provide:_D,useFactory:function Mre(){return new _$}},{provide:h_,useClass:(()=>{var t;class e extends h_{constructor(r,i,o){super(r,i,o,nt(h0,{optional:!0}))}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(to),Qe($I),Qe(_D))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac}),e})()},{provide:Cw,useFactory:function xre(t,e,n){return new Rre(t,e,n)},deps:[cA,h_,He]}],OD=[{provide:$I,useFactory:()=>new k$},{provide:g1,useValue:"BrowserAnimations"},...L$],V$=[{provide:$I,useClass:gD},{provide:g1,useValue:"NoopAnimations"},...L$];let Nre=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?V$:OD}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=ki({providers:OD,imports:[kL]}),e})();function f_(t){return(f_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function v(t,e,n){return(e=function Ore(t){var e=function kre(t,e){if("object"!=f_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=f_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f_(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $$=pe(5531),p_=pe(4442);const zre=["addListener","removeListener"],Hre=["addEventListener","removeEventListener"],Gre=["on","off"];function ZI(t,e,n,r){if(zt(n)&&(r=n,n=void 0),r)return ZI(t,e,n).pipe(pA(r));const[i,o]=function Kre(t){return zt(t.addEventListener)&&zt(t.removeEventListener)}(t)?Hre.map(s=>a=>t[s](e,a,n)):function qre(t){return zt(t.addListener)&&zt(t.removeListener)}(t)?zre.map(B$(t,e)):function Wre(t){return zt(t.on)&&zt(t.off)}(t)?Gre.map(B$(t,e)):[];if(!i&&hA(t))return fo(s=>ZI(s,e,n))(ms(t));if(!i)throw new TypeError("Invalid event target");return new Mn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function B$(t,e){return n=>r=>t[n](e,r)}function U$(t,e=ti){return t=null!=t?t:Qre,Pe((n,r)=>{let i,o=!0;n.subscribe(gt(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Qre(t,e){return t===e}class Xre{constructor(e){v(this,"menuController",void 0),this.menuController=e}open(e){return this.menuController.open(e)}close(e){return this.menuController.close(e)}toggle(e){return this.menuController.toggle(e)}enable(e,n){return this.menuController.enable(e,n)}swipeGesture(e,n){return this.menuController.swipeGesture(e,n)}isOpen(e){return this.menuController.isOpen(e)}isEnabled(e){return this.menuController.isEnabled(e)}get(e){return this.menuController.get(e)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(e,n){return this.menuController.registerAnimation(e,n)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(e,n){return this.menuController._createAnimation(e,n)}_register(e){return this.menuController._register(e)}_unregister(e){return this.menuController._unregister(e)}_setOpen(e,n,r){return this.menuController._setOpen(e,n,r)}}let Zre=(()=>{var t;class e{constructor(r,i){v(this,"doc",void 0),v(this,"_readyPromise",void 0),v(this,"win",void 0),v(this,"backButton",new M),v(this,"keyboardDidShow",new M),v(this,"keyboardDidHide",new M),v(this,"pause",new M),v(this,"resume",new M),v(this,"resize",new M),this.doc=r,i.run(()=>{var o;let s;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(a,l){return this.subscribe(c=>c.register(a,d=>i.run(()=>l(d))))},Vf(this.pause,r,"pause",i),Vf(this.resume,r,"resume",i),Vf(this.backButton,r,"ionBackButton",i),Vf(this.resize,this.win,"resize",i),Vf(this.keyboardDidShow,this.win,"ionKeyboardDidShow",i),Vf(this.keyboardDidHide,this.win,"ionKeyboardDidHide",i),this._readyPromise=new Promise(a=>{s=a}),null!==(o=this.win)&&void 0!==o&&o.cordova?r.addEventListener("deviceready",()=>{s("cordova")},{once:!0}):s("dom")})}is(r){return(0,$$.a)(this.win,r)}platforms(){return(0,$$.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return Jre(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){var r,i;return null===(r=(i=this.win).matchMedia)||void 0===r?void 0:r.call(i,"(orientation: portrait)").matches}testUserAgent(r){const i=this.win.navigator;return!!(null!=i&&i.userAgent&&i.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(to),Qe(He))}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();const Jre=(t,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Vf=(t,e,n,r)=>{e&&e.addEventListener(n,i=>{r.run(()=>{t.next(null!=i?i.detail:void 0)})})};let $f=(()=>{var t;class e{constructor(r,i,o,s){v(this,"location",void 0),v(this,"serializer",void 0),v(this,"router",void 0),v(this,"topOutlet",void 0),v(this,"direction",j$),v(this,"animated",z$),v(this,"animationBuilder",void 0),v(this,"guessDirection","forward"),v(this,"guessAnimation",void 0),v(this,"lastNavId",-1),this.location=i,this.serializer=o,this.router=s,s&&s.events.subscribe(a=>{if(a instanceof qg){const l=a.restoredState?a.restoredState.navigationId:a.id;this.guessDirection=this.guessAnimation=l<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?a.id:l}}),r.backButton.subscribeWithPriority(0,a=>{this.pop(),a()})}navigateForward(r,i={}){return this.setDirection("forward",i.animated,i.animationDirection,i.animation),this.navigate(r,i)}navigateBack(r,i={}){return this.setDirection("back",i.animated,i.animationDirection,i.animation),this.navigate(r,i)}navigateRoot(r,i={}){return this.setDirection("root",i.animated,i.animationDirection,i.animation),this.navigate(r,i)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,E.A)(function*(){let i=r.topOutlet;for(;i;){if(yield i.pop())return!0;i=i.parentOutlet}return!1})()}setDirection(r,i,o,s){this.direction=r,this.animated=eie(r,i,o),this.animationBuilder=s}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let i,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,i=this.guessAnimation):(i=this.animated,r=this.direction),this.direction=j$,this.animated=z$,this.animationBuilder=void 0,{direction:r,animation:i,animationBuilder:o}}navigate(r,i){if(Array.isArray(r))return this.router.navigate(r,i);{const o=this.serializer.parse(r.toString());return void 0!==i.queryParams&&(o.queryParams={...i.queryParams}),void 0!==i.fragment&&(o.fragment=i.fragment),this.router.navigateByUrl(o,i)}}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(Zre),Qe(Ms),Qe(ud),Qe(Lr,8))}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();const eie=(t,e,n)=>{if(!1!==e){if(void 0!==n)return n;if("forward"===t||"back"===t)return t;if("root"===t&&!0===e)return"forward"}},j$="auto",z$=void 0;let FD=(()=>{var t;class e{get(r,i){const o=VD();return o?o.get(r,i):null}getBoolean(r,i){const o=VD();return!!o&&o.getBoolean(r,i)}getNumber(r,i){const o=VD();return o?o.getNumber(r,i):0}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();const LD=new Et("USERCONFIG"),VD=()=>{if(typeof window<"u"){const t=window.Ionic;if(null!=t&&t.config)return t.config}return null};class H${constructor(e={}){v(this,"data",void 0),this.data=e,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(e){return this.data[e]}}let m_=(()=>{var t;class e{constructor(){v(this,"zone",nt(He)),v(this,"applicationRef",nt(Ca)),v(this,"config",nt(LD))}create(r,i,o){var s;return new tie(r,i,this.applicationRef,this.zone,o,null!==(s=this.config.useSetInputAPI)&&void 0!==s&&s)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac})),e})();class tie{constructor(e,n,r,i,o,s){v(this,"environmentInjector",void 0),v(this,"injector",void 0),v(this,"applicationRef",void 0),v(this,"zone",void 0),v(this,"elementReferenceKey",void 0),v(this,"enableSignalsSupport",void 0),v(this,"elRefMap",new WeakMap),v(this,"elEventsMap",new WeakMap),this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=o,this.enableSignalsSupport=s}attachViewToDom(e,n,r,i){return this.zone.run(()=>new Promise(o=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),o(nie(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,s,i,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(e,n){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);const o=this.elEventsMap.get(n);o&&(o(),this.elEventsMap.delete(n))}r()}))}}const nie=(t,e,n,r,i,o,s,a,l,c,d,p)=>{const I=function mQ(t,e){const n=xn(t),r=e.elementInjector||ch();return new ag(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}(a,{environmentInjector:e,elementInjector:Ar.create({providers:iie(l),parent:n})}),A=I.instance,x=I.location.nativeElement;if(l)if(d&&void 0!==A[d]&&console.error(`[Ionic Error]: ${d} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${d}" property from ${a.name}.`),!0===p&&void 0!==I.setInput){const{modal:B,popover:z,...fe}=l;for(const ge in fe)I.setInput(ge,fe[ge]);void 0!==B&&Object.assign(A,{modal:B}),void 0!==z&&Object.assign(A,{popover:z})}else Object.assign(A,l);if(c)for(const B of c)x.classList.add(B);const V=G$(t,A,x);return s.appendChild(x),r.attachView(I.hostView),i.set(x,I),o.set(x,V),x},rie=[p_.L,p_.a,p_.b,p_.c,p_.d],G$=(t,e,n)=>t.run(()=>{const r=rie.filter(i=>"function"==typeof e[i]).map(i=>{const o=s=>e[i](s.detail);return n.addEventListener(i,o),()=>n.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),q$=new Et("NavParamsToken"),iie=t=>[{provide:q$,useValue:t},{provide:H$,useFactory:oie,deps:[q$]}],oie=t=>new H$(t),sie=(t,e)=>{const n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)}})})},aie=(t,e)=>{const n=t.prototype;e.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})};function JI(t){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=t;return void 0!==r&&r(),i&&sie(n,i),o&&aie(n,o),n}}const die=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],hie=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let fie=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"template",void 0),v(this,"isCmpOpen",!1),v(this,"el",void 0),this.z=o,this.el=i.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,r.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,r.detectChanges()}),((t,e,n)=>{n.forEach(r=>t[r]=ZI(e,r))})(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275dir",Zt({type:t,selectors:[["ion-modal"]],contentQueries:function(r,i,o){if(1&r&&hf(o,Ia,5),2&r){let s;fs(s=ps())&&(i.template=s.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),t);return e=(0,Dt.Cg)([JI({inputs:die,methods:hie})],e),e})();const W$=(t,e)=>((t=t.filter(n=>n.stackId!==e.stackId)).push(e),t),BD=(t,e)=>{const n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},K$=(t,e)=>!e||t.stackId!==e.stackId,_ie=(t,e)=>{if(!t)return;const n=Q$(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},Q$=t=>t.split("/").map(e=>e.trim()).filter(e=>""!==e),Y$=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class vie{constructor(e,n,r,i,o,s){v(this,"containerEl",void 0),v(this,"router",void 0),v(this,"navCtrl",void 0),v(this,"zone",void 0),v(this,"location",void 0),v(this,"views",[]),v(this,"runningTask",void 0),v(this,"skipTransition",!1),v(this,"tabsPrefix",void 0),v(this,"activeView",void 0),v(this,"nextId",0),this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=o,this.location=s,this.tabsPrefix=void 0!==e?Q$(e):void 0}createView(e,n){var r;const i=BD(this.router,n),o=null==e||null===(r=e.location)||void 0===r?void 0:r.nativeElement,s=G$(this.zone,e.instance,o);return{id:this.nextId++,stackId:_ie(this.tabsPrefix,i),unlistenEvents:s,element:o,ref:e,url:i}}getExistingView(e){const n=BD(this.router,e),r=this.views.find(i=>i.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var n,r;const i=this.navCtrl.consumeTransition();let{direction:o,animation:s,animationBuilder:a}=i;const l=this.activeView,c=K$(e,l);c&&(o="back",s=void 0);const d=this.views.slice();let p;const _=this.router;_.getCurrentNavigation?p=_.getCurrentNavigation():null!==(n=_.navigations)&&void 0!==n&&n.value&&(p=_.navigations.value),null!==(r=p)&&void 0!==r&&null!==(r=r.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const I=this.views.includes(e),A=this.insertView(e,o);I||e.ref.changeDetectorRef.detectChanges();const x=e.animationBuilder;return void 0===a&&"back"===o&&!c&&void 0!==x&&(a=x),l&&(l.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(l&&l.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,l,s,this.canGoBack(1),!1,a).then(()=>yie(e,A,d,this.location,this.zone)).then(()=>({enteringView:e,direction:o,animation:s,tabSwitch:c})))))}canGoBack(e,n=this.getActiveStackId()){return this.getStack(n).length>e}pop(e,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=e)return Promise.resolve(!1);const i=r[r.length-e-1];let o=i.url;const s=i.savedData;if(s){var a;const c=s.get("primary");null!=c&&null!==(a=c.route)&&void 0!==a&&null!==(a=a._routerState)&&void 0!==a&&a.snapshot.url&&(o=c.route._routerState.snapshot.url)}const{animationBuilder:l}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(o,{...i.savedExtras,animation:l}).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const n=this.getStack(e.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&X$(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const n=this.getStack(e);return n.length>0?n[n.length-1]:void 0}getRootUrl(e){const n=this.getStack(e);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Y$),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(n=>n.stackId===e)}insertView(e,n){return this.activeView=e,this.views=((t,e,n)=>"root"===n?W$(t,e):"forward"===n?((t,e)=>(t.indexOf(e)>=0?t=t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):t.push(e),t))(t,e):((t,e)=>t.indexOf(e)>=0?t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):W$(t,e))(t,e))(this.views,e,n),this.views.slice()}transition(e,n,r,i,o,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===e)return Promise.resolve(!1);const a=e?e.element:void 0,l=n?n.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),c.commit)?c.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:o,animationBuilder:s}):Promise.resolve(!1)}wait(e){var n=this;return(0,E.A)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=e();return r.finally(()=>n.runningTask=void 0),r})()}}const yie=(t,e,n,r,i)=>"function"==typeof requestAnimationFrame?new Promise(o=>{requestAnimationFrame(()=>{X$(t,e,n,r,i),o()})}):Promise.resolve(),X$=(t,e,n,r,i)=>{i.run(()=>n.filter(o=>!e.includes(o)).forEach(Y$)),e.forEach(o=>{const a=r.path().split("?")[0].split("#")[0];if(o!==t&&o.url!==a){const l=o.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),o.ref.changeDetectorRef.detach()}})};let Z$=(()=>{var t;class e{get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:i=>this.stackCtrl.endBackTransition(i)}:void 0}constructor(r,i,o,s,a,l,c,d){v(this,"parentOutlet",void 0),v(this,"nativeEl",void 0),v(this,"activatedView",null),v(this,"tabsPrefix",void 0),v(this,"_swipeGesture",void 0),v(this,"stackCtrl",void 0),v(this,"proxyMap",new WeakMap),v(this,"currentActivatedRoute$",new R(null)),v(this,"activated",null),v(this,"_activatedRoute",null),v(this,"name",Vn),v(this,"stackWillChange",new Pr),v(this,"stackDidChange",new Pr),v(this,"activateEvents",new Pr),v(this,"deactivateEvents",new Pr),v(this,"parentContexts",nt(dd)),v(this,"location",nt(Rs)),v(this,"environmentInjector",nt(ui)),v(this,"inputBinder",nt(J$,{optional:!0})),v(this,"supportsBindingToComponentInputs",!0),v(this,"config",nt(FD)),v(this,"navCtrl",nt($f)),this.parentOutlet=d,this.nativeEl=s.nativeElement,this.name=r||Vn,this.tabsPrefix="true"===i?BD(a,c):void 0,this.stackCtrl=new vie(this.tabsPrefix,this.nativeEl,a,this.navCtrl,l,o),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var r;this.stackCtrl.destroy(),null===(r=this.inputBinder)||void 0===r||r.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();null!=r&&r.route&&this.activateWith(r.route,r.injector)}new Promise(r=>((t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):(t=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t)})(()=>e(t))})(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,i){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const i=this.getContext();this.activatedView.savedData=new Map(i.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&i.route&&(o.route={...i.route}),this.activatedView.savedExtras={},i.route){const s=i.route.snapshot;this.activatedView.savedExtras.queryParams=s.queryParams,this.activatedView.savedExtras.fragment=s.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let s,a=this.stackCtrl.getExistingView(r);if(a){s=this.activated=a.ref;const d=a.savedData;d&&(this.getContext().children.contexts=d),this.updateActivatedRouteProxy(s.instance,r)}else{var l;const d=r._futureSnapshot,p=this.parentContexts.getOrCreateContext(this.name).children,_=new R(null),I=this.createActivatedRouteProxy(_,r),A=new Iie(I,p,this.location.injector),x=null!==(l=d.routeConfig.component)&&void 0!==l?l:d.component;s=this.activated=this.outletContent.createComponent(x,{index:this.outletContent.length,injector:A,environmentInjector:null!=i?i:this.environmentInjector}),_.next(s.instance),a=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(s.instance,I),this.currentActivatedRoute$.next({component:s.instance,activatedRoute:r})}null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.activatedView=a,this.navCtrl.setTopOutlet(this);const c=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:a,tabSwitch:K$(a,c)}),this.stackCtrl.setActive(a).then(d=>{this.activateEvents.emit(s.instance),this.stackDidChange.emit(d)})}canGoBack(r=1,i){return this.stackCtrl.canGoBack(r,i)}pop(r=1,i){return this.stackCtrl.pop(r,i)}getLastUrl(r){const i=this.stackCtrl.getLastUrl(r);return i?i.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,i){const o=new il;return o._futureSnapshot=i._futureSnapshot,o._routerState=i._routerState,o.snapshot=i.snapshot,o.outlet=i.outlet,o.component=i.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,i){return r.pipe(ks(o=>!!o),hi(o=>this.currentActivatedRoute$.pipe(ks(s=>null!==s&&s.component===o),hi(s=>s&&s.activatedRoute[i]),U$())))}updateActivatedRouteProxy(r,i){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=i._futureSnapshot,o._routerState=i._routerState,o.snapshot=i.snapshot,o.outlet=i.outlet,o.component=i.component,this.currentActivatedRoute$.next({component:r,activatedRoute:i})}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Pl("name"),Pl("tabs"),T(Ms),T(st),T(Lr),T(He),T(il),T(t,12))}),v(e,"\u0275dir",Zt({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),e})();class Iie{constructor(e,n,r){v(this,"route",void 0),v(this,"childContexts",void 0),v(this,"parent",void 0),this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===il?this.route:e===dd?this.childContexts:this.parent.get(e,n)}}const J$=new Et("");let Eie=(()=>{var t;class e{constructor(){v(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;null===(i=this.outletDataSubscriptions.get(r))||void 0===i||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=uI([i.queryParams,i.params,i.data]).pipe(hi(([s,a,l],c)=>(l={...s,...a,...l},0===c?En(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=WF(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac})),e})();function Cie(t){return null!=t&&t.componentInputBindingEnabled?new Eie:null}let Aie=(()=>{var t;class e{constructor(r,i,o,s,a){v(this,"locationStrategy",void 0),v(this,"navCtrl",void 0),v(this,"elementRef",void 0),v(this,"router",void 0),v(this,"routerLink",void 0),v(this,"routerDirection","forward"),v(this,"routerAnimation",void 0),this.locationStrategy=r,this.navCtrl=i,this.elementRef=o,this.router=s,this.routerLink=a}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var r;if(null!==(r=this.routerLink)&&void 0!==r&&r.urlTree){const i=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=i}}onClick(r){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),r.preventDefault()}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T($l),T($f),T(st),T(Lr),T(Gl,8))}),v(e,"\u0275dir",Zt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(r,i){1&r&&yt("click",function(s){return i.onClick(s)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[ho]})),e})(),Die=(()=>{var t;class e{constructor(r,i,o,s,a){v(this,"locationStrategy",void 0),v(this,"navCtrl",void 0),v(this,"elementRef",void 0),v(this,"router",void 0),v(this,"routerLink",void 0),v(this,"routerDirection","forward"),v(this,"routerAnimation",void 0),this.locationStrategy=r,this.navCtrl=i,this.elementRef=o,this.router=s,this.routerLink=a}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var r;if(null!==(r=this.routerLink)&&void 0!==r&&r.urlTree){const i=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=i}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T($l),T($f),T(st),T(Lr),T(Gl,8))}),v(e,"\u0275dir",Zt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(r,i){1&r&&yt("click",function(){return i.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[ho]})),e})();const eB=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);let eE=(()=>{var t;class e{constructor(r,i){v(this,"injector",void 0),v(this,"elementRef",void 0),v(this,"onChange",()=>{}),v(this,"onTouched",()=>{}),v(this,"lastValue",void 0),v(this,"statusChanges",void 0),this.injector=r,this.elementRef=i}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,Bf(this.elementRef)}handleValueChange(r,i){r===this.elementRef.nativeElement&&(i!==this.lastValue&&(this.lastValue=i,this.onChange(i)),Bf(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),Bf(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(ql)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>Bf(this.elementRef)));const i=r.control;i&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(s=>{if(typeof i[s]<"u"){const a=i[s].bind(i);i[s]=(...l)=>{a(...l),Bf(this.elementRef)}}})}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T(Ar),T(st))}),v(e,"\u0275dir",Zt({type:t,hostBindings:function(r,i){1&r&&yt("ionBlur",function(s){return i._handleBlurEvent(s.target)})}})),e})();const Bf=t=>{eB(()=>{const e=t.nativeElement,n=null!=e.value&&e.value.toString().length>0,r=xie(e);UD(e,r);const i=e.closest("ion-item");i&&UD(i,n?[...r,"item-has-value"]:r)})},xie=t=>{const e=t.classList,n=[];for(let r=0;r<e.length;r++){const i=e.item(r);null!==i&&Nie(i,"ng-")&&n.push(`ion-${i.substring(3)}`)}return n},UD=(t,e)=>{const n=t.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add(...e)},Nie=(t,e)=>t.substring(0,e.length)===e;class kie{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,n){}retrieve(e){return null}shouldReuseRoute(e,n){if(e.routeConfig!==n.routeConfig)return!1;const r=e.params,i=n.params,o=Object.keys(r),s=Object.keys(i);if(o.length!==s.length)return!1;for(const a of o)if(i[a]!==r[a])return!1;return!0}}class tE{constructor(e){v(this,"ctrl",void 0),this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}}pe(9986),pe(2725),pe(8454),pe(3314),pe(8607);var Oie=pe(3664),Fie=pe(464),Lie=pe(5465),nE=pe(6002),Vie=(pe(8476),pe(9672));pe(1970),pe(6411);const Bie=Oie.i,Uie=function(){var t=(0,E.A)(function*(e,n){if(!(typeof window>"u"))return yield Bie(),(0,Vie.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),n)});return function(n,r){return t.apply(this,arguments)}}(),Vt=["*"],jie=["outletContent"];function qie(t,e){if(1&t&&(q(0,"div",1),R0(1,2),Q()),2&t){const n=Ue();Te(),ht("ngTemplateOutlet",n.template)}}let tB=(()=>{var t;class e extends eE{constructor(r,i){super(r,i),v(this,"el",void 0),this.el=i}handleInputEvent(r){this.handleValueChange(r,r.value)}registerOnChange(r){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?i=>{r(""===i?null:parseFloat(i))}:r)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T(Ar),T(st))}),v(e,"\u0275dir",Zt({type:t,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(r,i){1&r&&yt("ionInput",function(s){return i.handleInputEvent(s.target)})},features:[Cr([{provide:gs,useExisting:t,multi:!0}]),Ln]})),e})(),nB=(()=>{var t;class e extends eE{constructor(r,i){super(r,i)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T(Ar),T(st))}),v(e,"\u0275dir",Zt({type:t,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,i){1&r&&yt("ionChange",function(s){return i._handleChangeEvent(s.target)})},features:[Cr([{provide:gs,useExisting:t,multi:!0}]),Ln]})),e})(),Uf=(()=>{var t;class e extends eE{constructor(r,i){super(r,i)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T(Ar),T(st))}),v(e,"\u0275dir",Zt({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(r,i){1&r&&yt("ionInput",function(s){return i._handleInputEvent(s.target)})},features:[Cr([{provide:gs,useExisting:t,multi:!0}]),Ln]})),e})();const Qie=(t,e)=>{const n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},Yie=(t,e)=>{const n=t.prototype;e.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},gr=(t,e,n)=>{n.forEach(r=>t[r]=ZI(e,r))};function $t(t){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=t;return void 0!==r&&r(),i&&Qie(n,i),o&&Yie(n,o),n}}let rB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,gr(this,this.el,["ionAlertDidPresent","ionAlertWillPresent","ionAlertWillDismiss","ionAlertDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-alert"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",buttons:"buttons",cssClass:"cssClass",enterAnimation:"enterAnimation",header:"header",htmlAttributes:"htmlAttributes",inputs:"inputs",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",subHeader:"subHeader",translucent:"translucent",trigger:"trigger"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["animated","backdropDismiss","buttons","cssClass","enterAnimation","header","htmlAttributes","inputs","isOpen","keyboardClose","leaveAnimation","message","mode","subHeader","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],e),e})(),iB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-app"]],ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({})],e),e})(),oB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-avatar"]],ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({})],e),e})(),Yl=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,gr(this,this.el,["ionFocus","ionBlur"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),jf=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["collapse"]})],e),e})(),Zc=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,gr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),sB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,gr(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],e),e})(),aB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-datetime-button"]],inputs:{color:"color",datetime:"datetime",disabled:"disabled",mode:"mode"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["color","datetime","disabled","mode"]})],e),e})(),Jc=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["collapse","mode","translucent"]})],e),e})(),eu=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),g_=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,gr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),jD=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-input-password-toggle"]],inputs:{color:"color",hideIcon:"hideIcon",mode:"mode",showIcon:"showIcon"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["color","hideIcon","mode","showIcon"]})],e),e})(),zD=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),zf=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["color","mode","position"]})],e),e})(),HD=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),lB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,gr(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],e),e})(),cB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["autoHide","color","disabled","menu","mode","type"]})],e),e})(),uB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,gr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),dB=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["disabled","value"]})],e),e})(),rE=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["color","duration","name","paused"]})],e),e})(),__=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),GD=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),qD=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement,gr(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],e),e})(),Pa=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["color","size"]})],e),e})(),tu=(()=>{var t;let e=(t=class{constructor(r,i,o){v(this,"z",void 0),v(this,"el",void 0),this.z=o,r.detach(),this.el=i.nativeElement}},v(t,"\u0275fac",function(r){return new(r||t)(T(Tt),T(st),T(He))}),v(t,"\u0275cmp",ft({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Vt,decls:1,vars:0,template:function(r,i){1&r&&(Ot(),Nt(0))},encapsulation:2,changeDetection:0})),t);return e=(0,Dt.Cg)([$t({inputs:["color","mode"]})],e),e})(),v_=(()=>{var t;class e extends Z${constructor(r,i,o,s,a,l,c,d){super(r,i,o,s,a,l,c,d),v(this,"parentOutlet",void 0),v(this,"outletContent",void 0),this.parentOutlet=d}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Pl("name"),Pl("tabs"),T(Ms),T(st),T(Lr),T(He),T(il),T(t,12))}),v(e,"\u0275cmp",ft({type:t,selectors:[["ion-router-outlet"]],viewQuery:function(r,i){if(1&r&&Ol(jie,7,Rs),2&r){let o;fs(o=ps())&&(i.outletContent=o.first)}},features:[Ln],ngContentSelectors:Vt,decls:3,vars:0,consts:[["outletContent",""]],template:function(r,i){1&r&&(Ot(),lf(0,null,0),Nt(2),cf())},encapsulation:2})),e})(),WD=(()=>{var t;class e extends Aie{}return t=e,v(e,"\u0275fac",(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})()),v(e,"\u0275dir",Zt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],features:[Ln]})),e})(),KD=(()=>{var t;class e extends Die{}return t=e,v(e,"\u0275fac",(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})()),v(e,"\u0275dir",Zt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[Ln]})),e})(),Hf=(()=>{var t;class e extends fie{}return t=e,v(e,"\u0275fac",(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})()),v(e,"\u0275cmp",ft({type:t,selectors:[["ion-modal"]],features:[Ln],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(r,i){1&r&&Gn(0,qie,2,1,"div",0),2&r&&ht("ngIf",i.isCmpOpen||i.keepContentsMounted)},dependencies:[Ns,eA],encapsulation:2,changeDetection:0})),e})();const rse={provide:no,useExisting:mr(()=>hB),multi:!0};let hB=(()=>{var t;class e extends sD{}return t=e,v(e,"\u0275fac",(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})()),v(e,"\u0275dir",Zt({type:t,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ro("max",i._enabled?i.max:null)},features:[Cr([rse]),Ln]})),e})();const ise={provide:no,useExisting:mr(()=>fB),multi:!0};let fB=(()=>{var t;class e extends aD{}return t=e,v(e,"\u0275fac",(()=>{let n;return function(i){return(n||(n=Wr(t)))(i||t)}})()),v(e,"\u0275dir",Zt({type:t,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Ro("min",i._enabled?i.min:null)},features:[Cr([ise]),Ln]})),e})(),iE=(()=>{var t;class e extends tE{constructor(){super(nE.a)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"root"})),e})(),oE=(()=>{var t;class e extends tE{constructor(){super(nE.b)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"root"})),e})(),ose=(()=>{var t;class e extends Xre{constructor(){super(Lie.m)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"root"})),e})(),sse=(()=>{var t;class e extends tE{constructor(){super(nE.m),v(this,"angularDelegate",nt(m_)),v(this,"injector",nt(Ar)),v(this,"environmentInjector",nt(ui))}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac})),e})();class ase extends tE{constructor(){super(nE.c),v(this,"angularDelegate",nt(m_)),v(this,"injector",nt(Ar)),v(this,"environmentInjector",nt(ui))}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const lse=(t,e,n)=>()=>{const r=e.defaultView;if(r&&typeof window<"u"){(0,Fie.s)({...t,_zoneGate:o=>n.run(o)});const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function $ie(){var t=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&t.push(pe.e(7278).then(pe.t.bind(pe,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(pe.e(9329).then(pe.t.bind(pe,7783,23)))}return Promise.all(t)}().then(()=>Uie(r,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:eB,jmp:o=>n.runOutsideAngular(o),ael(o,s,a,l){o[i](s,a,l)},rel(o,s,a,l){o.removeEventListener(s,a,l)}}))}};let cse=(()=>{var t;class e{static forRoot(r={}){return{ngModule:e,providers:[{provide:LD,useValue:r},{provide:B0,useFactory:lse,multi:!0,deps:[LD,to,He]},m_,{provide:J$,useFactory:Cie,deps:[Lr]}]}}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275mod",uo({type:t})),v(e,"\u0275inj",ki({providers:[sse,ase],imports:[hL]})),e})();const pB=["toast-component",""];function use(t,e){if(1&t){const n=er();q(0,"button",5),yt("click",function(){return Pt(n),Mt(Ue().remove())}),q(1,"span",6),Ye(2,"\xd7"),Q()()}}function dse(t,e){if(1&t&&(lf(0),Ye(1),cf()),2&t){const n=Ue(2);Te(),Si("[",n.duplicatesCount+1,"]")}}function hse(t,e){if(1&t&&(q(0,"div"),Ye(1),Gn(2,dse,2,1,"ng-container",4),Q()),2&t){const n=Ue();kl(n.options.titleClass),Ro("aria-label",n.title),Te(),Si(" ",n.title," "),Te(),ht("ngIf",n.duplicatesCount)}}function fse(t,e){if(1&t&&gn(0,"div",7),2&t){const n=Ue();kl(n.options.messageClass),ht("innerHTML",n.message,qC)}}function pse(t,e){if(1&t&&(q(0,"div",8),Ye(1),Q()),2&t){const n=Ue();kl(n.options.messageClass),Ro("aria-label",n.message),Te(),Si(" ",n.message," ")}}function mse(t,e){if(1&t&&(q(0,"div"),gn(1,"div",9),Q()),2&t){const n=Ue();Te(),af("width",n.width+"%")}}class bse{constructor(e,n){v(this,"_attachedHost",void 0),v(this,"component",void 0),v(this,"viewContainerRef",void 0),v(this,"injector",void 0),this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Cse{constructor(){v(this,"_attachedPortal",void 0),v(this,"_disposeFn",void 0)}attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class wse{constructor(e){v(this,"_overlayRef",void 0),v(this,"componentInstance",void 0),v(this,"duplicatesCount",0),v(this,"_afterClosed",new M),v(this,"_activate",new M),v(this,"_manualClose",new M),v(this,"_resetTimeout",new M),v(this,"_countDuplicate",new M),this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class sE{constructor(e,n,r,i,o,s){v(this,"toastId",void 0),v(this,"config",void 0),v(this,"message",void 0),v(this,"title",void 0),v(this,"toastType",void 0),v(this,"toastRef",void 0),v(this,"_onTap",new M),v(this,"_onAction",new M),this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const gB=new Et("ToastConfig");class Tse extends Cse{constructor(e,n,r){super(),v(this,"_hostDomElement",void 0),v(this,"_componentFactoryResolver",void 0),v(this,"_appRef",void 0),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ase=(()=>{var t;class e{constructor(){v(this,"_document",nt(to)),v(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const r=this._document.createElement("div");r.classList.add("overlay-container"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),this._containerElement=r}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();class Dse{constructor(e){v(this,"_portalHost",void 0),this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}}let Sse=(()=>{var t;class e{constructor(){v(this,"_overlayContainer",nt(Ase)),v(this,"_componentFactoryResolver",nt(rg)),v(this,"_appRef",nt(Ca)),v(this,"_document",nt(to)),v(this,"_paneElements",new Map)}create(r,i){return this._createOverlayRef(this.getPaneElement(r,i))}getPaneElement(r="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[r]||(this._paneElements.get(i)[r]=this._createPaneElement(r,i)),this._paneElements.get(i)[r]}_createPaneElement(r,i){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(r),o.classList.add("toast-container"),i?i.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(r){return new Tse(r,this._componentFactoryResolver,this._appRef)}_createOverlayRef(r){return new Dse(this._createPortalHost(r))}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"root"})),e})(),Xl=(()=>{var t;class e{constructor(r,i,o,s,a){v(this,"overlay",void 0),v(this,"_injector",void 0),v(this,"sanitizer",void 0),v(this,"ngZone",void 0),v(this,"toastrConfig",void 0),v(this,"currentlyActive",0),v(this,"toasts",[]),v(this,"overlayContainer",void 0),v(this,"previousToastMessage",void 0),v(this,"index",0),this.overlay=i,this._injector=o,this.sanitizer=s,this.ngZone=a,this.toastrConfig={...r.default,...r.config},r.config.iconClasses&&(this.toastrConfig.iconClasses={...r.default.iconClasses,...r.config.iconClasses})}show(r,i,o={},s=""){return this._preBuildNotification(s,r,i,this.applyConfig(o))}success(r,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",r,i,this.applyConfig(o))}error(r,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",r,i,this.applyConfig(o))}info(r,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",r,i,this.applyConfig(o))}warning(r,i,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",r,i,this.applyConfig(o))}clear(r){for(const i of this.toasts)if(void 0!==r){if(i.toastId===r)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(r){const i=this._findToast(r);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(r="",i="",o,s){const{includeTitleDuplicates:a}=this.toastrConfig;for(const l of this.toasts)if((!a||a&&l.title===r)&&l.message===i)return l.toastRef.onDuplicate(o,s),l;return null}applyConfig(r={}){return{...this.toastrConfig,...r}}_findToast(r){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===r)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(r,i,o,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(r,i,o,s)):this._buildNotification(r,i,o,s)}_buildNotification(r,i,o,s){if(!s.toastComponent)throw new Error("toastComponent required");const a=this.findDuplicate(o,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||i)&&this.toastrConfig.preventDuplicates&&null!==a)return a;this.previousToastMessage=i;let l=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(l=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let d=i;i&&s.enableHtml&&(d=this.sanitizer.sanitize(Ds.HTML,i));const p=new wse(c),_=new sE(this.index,s,d,o,r,p),A=Ar.create({providers:[{provide:sE,useValue:_}],parent:this._injector}),x=new bse(s.toastComponent,A),V=c.attach(x,s.newestOnTop);p.componentInstance=V.instance;const B={toastId:this.index,title:o||"",message:i||"",toastRef:p,onShown:p.afterActivate(),onHidden:p.afterClosed(),onTap:_.onTap(),onAction:_.onAction(),portal:V};return l||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{B.toastRef.activate()})),this.toasts.push(B),B}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(gB),Qe(Sse),Qe(Ar),Qe(LL),Qe(He))}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();const Rse={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{var t;class e{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(r,i,o){v(this,"toastrService",void 0),v(this,"toastPackage",void 0),v(this,"ngZone",void 0),v(this,"message",void 0),v(this,"title",void 0),v(this,"options",void 0),v(this,"duplicatesCount",void 0),v(this,"originalTimeout",void 0),v(this,"width",-1),v(this,"toastClasses",""),v(this,"state",void 0),v(this,"timeout",void 0),v(this,"intervalId",void 0),v(this,"hideTime",void 0),v(this,"sub",void 0),v(this,"sub1",void 0),v(this,"sub2",void 0),v(this,"sub3",void 0),this.toastrService=r,this.toastPackage=i,this.ngZone=o,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const r=(new Date).getTime();this.width=(this.hideTime-r)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(r,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(r),i)):this.timeout=setTimeout(()=>r(),i)}outsideInterval(r,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(r),i)):this.intervalId=setInterval(()=>r(),i)}runInsideAngular(r){this.ngZone?this.ngZone.run(()=>r()):r()}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(T(Xl),T(sE),T(He))}),v(e,"\u0275cmp",ft({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&yt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(lT("@flyInOut",i.state),kl(i.toastClasses),af("display",i.displayStyle))},standalone:!0,features:[O0],attrs:pB,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&Gn(0,use,3,0,"button",0)(1,hse,3,5,"div",1)(2,fse,1,3,"div",2)(3,pse,2,4,"div",3)(4,mse,2,2,"div",4),2&r&&(ht("ngIf",i.options.closeButton),Te(),ht("ngIf",i.title),Te(),ht("ngIf",i.message&&i.options.enableHtml),Te(),ht("ngIf",i.message&&!i.options.enableHtml),Te(),ht("ngIf",i.options.progressBar))},dependencies:[Ns],encapsulation:2,data:{animation:[$te("flyInOut",[uD("inactive",a_({opacity:0})),uD("active",a_({opacity:1})),uD("removed",a_({opacity:0})),r$("inactive => active",n$("{{ easeTime }}ms {{ easing }}")),r$("active => removed",n$("{{ easeTime }}ms {{ easing }}"))])]}})),e})()},Pse=(t={})=>ma([{provide:gB,useValue:{default:Rse,config:t}}]);let Mse=(()=>{var t;class e{static forRoot(r={}){return{ngModule:e,providers:[Pse(r)]}}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275mod",uo({type:t})),v(e,"\u0275inj",ki({})),e})();pe(2438);var qi=pe(7852);(0,qi.registerVersion)("firebase","10.12.1","app");class kse extends Tn{constructor(e,n){super()}schedule(e,n=0){return this}}const aE={setInterval(t,e,...n){const{delegate:r}=aE;return null!=r&&r.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=aE;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class _B extends kse{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return aE.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&aE.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,On(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const QD={now:()=>(QD.delegate||Date).now(),delegate:void 0};class y_{constructor(e,n=y_.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}y_.now=QD.now;class vB extends y_{constructor(e,n=y_.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Lse=new class Fse extends vB{}(class Ose extends _B{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),YD=new vB(_B),Gf=new mf("ANGULARFIRE2_VERSION");const XD=(t,e)=>{const n=e?[e]:(0,qi.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class lE{constructor(){return XD(Vse)}}const Vse="app-check";function qf(){}class IB{constructor(e,n=Lse){v(this,"zone",void 0),v(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class $se{constructor(e){v(this,"zone",void 0),v(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qf,{},qf,qf)),n.pipe(No({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let I_=(()=>{var t;class e{constructor(r){v(this,"ngZone",void 0),v(this,"outsideAngular",void 0),v(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new IB(Zone.current)),this.insideAngular=r.run(()=>new IB(Zone.current,YD)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(He))}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Wf(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Id(t){return Wf().ngZone.run(()=>t())}function EB(t){return t.pipe(zl(Wf().outsideAngular))}function es(t){return function Use(t){return function(n){return(n=n.lift(new $se(t.ngZone))).pipe(sd(t.outsideAngular),zl(t.insideAngular))}}(Wf())(t)}const jse=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Id(()=>t.apply(void 0,r))},zse=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=Id(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qf,{},qf,qf)))),r[o]=jse(r[o],n));const i=function Bse(t){return Wf().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Mn){const o=Wf();return i.pipe(sd(o.outsideAngular),zl(o.insideAngular))}return Id(()=>i)}return i instanceof Mn?i.pipe(es):i instanceof Promise?Id(()=>new Promise((o,s)=>i.then(a=>Id(()=>o(a)),a=>Id(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Id(()=>i)};var Zl=pe(3345);Zl.A.registerVersion("firebase","10.12.1","app-compat");const qse=["ngOnDestroy"];class bB{constructor(e){return e}}const E_=new Et("angularfire2.app.options"),b_=new Et("angularfire2.app.name");function cE(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=Zl.A.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Zl.A.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;Qse("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new bB(s)}const Qse=(t,...e)=>{},Yse={provide:bB,useFactory:cE,deps:[E_,He,[new co,b_]]};let Xse=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:E_,useValue:r},{provide:b_,useValue:i}]}}constructor(r){Zl.A.registerVersion("angularfire",Gf.full,"core"),Zl.A.registerVersion("angularfire",Gf.full,"app-compat"),Zl.A.registerVersion("angular",QO.full,r.toString())}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(Zs))}),v(e,"\u0275mod",uo({type:t})),v(e,"\u0275inj",ki({providers:[Yse]})),e})();function ZD(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function Zse(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(CB("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Jse?" You may need to reload as Firebase is not HMR aware.":""}`),CB("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const Jse=typeof module<"u"&&!!module.hot,CB=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class tae extends M{constructor(e=1/0,n=1/0,r=QD){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function JD(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Bn({next:()=>{r.unsubscribe(),t()}});return ms(e(...n)).subscribe(r)}function wB(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=null!=t?t:1/0,function nae(t={}){const{connector:e=(()=>new M),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,d=!1,p=!1;const _=()=>{null==a||a.unsubscribe(),a=void 0},I=()=>{_(),s=l=void 0,d=p=!1},A=()=>{const x=s;I(),null==x||x.unsubscribe()};return Pe((x,V)=>{c++,!p&&!d&&_();const B=l=null!=l?l:e();V.add(()=>{c--,0===c&&!p&&!d&&(a=JD(A,i))}),B.subscribe(V),!s&&c>0&&(s=new Bn({next:z=>B.next(z),error:z=>{p=!0,_(),a=JD(I,n,z),B.error(z)},complete:()=>{d=!0,_(),a=JD(I,r),B.complete()}}),ms(x).subscribe(s))})(o)}}({connector:()=>new tae(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function TB(t,e){return zt(e)?hi(()=>t,e):hi(()=>t)}const AB=new Et("angularfire2.auth.use-emulator"),DB=new Et("angularfire2.auth.settings"),SB=new Et("angularfire2.auth.tenant-id"),RB=new Et("angularfire2.auth.langugage-code"),PB=new Et("angularfire2.auth.use-device-language"),MB=new Et("angularfire.auth.persistence"),xB=(t,e,n,r,i,o,s,a)=>ZD(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(const[c,d]of Object.entries(s))l.settings[c]=d;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]);let ra=(()=>{var t;class e{constructor(r,i,o,s,a,l,c,d,p,_,I,A){v(this,"authState",void 0),v(this,"idToken",void 0),v(this,"user",void 0),v(this,"idTokenResult",void 0),v(this,"credential",void 0);const x=new M,V=En(void 0).pipe(zl(a.outsideAngular),hi(()=>s.runOutsideAngular(()=>Promise.resolve().then(pe.bind(pe,2438)))),Ct(()=>cE(r,s,i)),Ct(B=>xB(B,s,l,d,p,_,c,I)),wB({bufferSize:1,refCount:!1}));if(sI(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=En(null);else{V.pipe(Hc()).subscribe();const B=V.pipe(hi(ge=>ge.getRedirectResult().then(tt=>tt,()=>null)),es,wB({bufferSize:1,refCount:!1})),z=V.pipe(hi(ge=>new Mn(tt=>({unsubscribe:s.runOutsideAngular(()=>ge.onAuthStateChanged(_t=>tt.next(_t),_t=>tt.error(_t),()=>tt.complete()))})))),fe=V.pipe(hi(ge=>new Mn(tt=>({unsubscribe:s.runOutsideAngular(()=>ge.onIdTokenChanged(_t=>tt.next(_t),_t=>tt.error(_t),()=>tt.complete()))}))));this.authState=B.pipe(TB(z),sd(a.outsideAngular),zl(a.insideAngular)),this.user=B.pipe(TB(fe),sd(a.outsideAngular),zl(a.insideAngular)),this.idToken=this.user.pipe(hi(ge=>ge?Dr(ge.getIdToken()):En(null))),this.idTokenResult=this.user.pipe(hi(ge=>ge?Dr(ge.getIdTokenResult()):En(null))),this.credential=function eae(...t){const e=Vg(t),n=function lZ(t,e){return"number"==typeof fA(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ms(r[0]):yf(n)(Dr(r,e)):Aa}(B,x,this.authState.pipe(ks(ge=>!ge))).pipe(Ct(ge=>null!=ge&&ge.user?ge:null),sd(a.outsideAngular),zl(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var s;if(t[o])return null!=r&&null!==(s=r.spy)&&void 0!==s&&s.get&&r.spy.get(o,t[o]),t[o];if(qse.indexOf(o)>-1)return()=>{};const a=e.toPromise().then(l=>{const c=null==l?void 0:l[o];return"function"==typeof c?c.bind(l):null!=c&&c.then?c.then(d=>n.run(()=>d)):n.run(()=>c)});return new Proxy(()=>{},{get:(l,c)=>a[c],apply:(l,c,d)=>a.then(p=>{var _;const I=null==p?void 0:p(...d);return null!=r&&null!==(_=r.spy)&&void 0!==_&&_.apply&&r.spy.apply(o,d,I),I})})})}))(this,V,s,{spy:{apply:(B,z,fe)=>{(B.startsWith("signIn")||B.startsWith("createUser"))&&fe.then(ge=>x.next(ge))}}})}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(E_),Qe(b_,8),Qe(Zs),Qe(He),Qe(I_),Qe(AB,8),Qe(DB,8),Qe(SB,8),Qe(RB,8),Qe(PB,8),Qe(MB,8),Qe(lE,8))}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),iae=(()=>{var t;class e{constructor(){Zl.A.registerVersion("angularfire",Gf.full,"auth-compat")}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)}),v(e,"\u0275mod",uo({type:t})),v(e,"\u0275inj",ki({providers:[ra]})),e})();function eS(){return Pe((t,e)=>{let n,r=!1;t.subscribe(gt(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}var Ed,OB,uE=pe(1362),ll=pe(8041),$n=pe(1076),NB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kB={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(X,$,K){K||(K=0);var te=Array(16);if("string"==typeof $)for(var le=0;16>le;++le)te[le]=$.charCodeAt(K++)|$.charCodeAt(K++)<<8|$.charCodeAt(K++)<<16|$.charCodeAt(K++)<<24;else for(le=0;16>le;++le)te[le]=$[K++]|$[K++]<<8|$[K++]<<16|$[K++]<<24;var ye=X.g[3],Z=($=X.g[0])+(ye^(K=X.g[1])&((le=X.g[2])^ye))+te[0]+3614090360&4294967295;Z=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=(K=(le=(ye=($=K+(Z<<7&4294967295|Z>>>25))+((Z=ye+(le^$&(K^le))+te[1]+3905402710&4294967295)<<12&4294967295|Z>>>20))+((Z=le+(K^ye&($^K))+te[2]+606105819&4294967295)<<17&4294967295|Z>>>15))+((Z=K+($^le&(ye^$))+te[3]+3250441966&4294967295)<<22&4294967295|Z>>>10))+((Z=$+(ye^K&(le^ye))+te[4]+4118548399&4294967295)<<7&4294967295|Z>>>25))+((Z=ye+(le^$&(K^le))+te[5]+1200080426&4294967295)<<12&4294967295|Z>>>20))+((Z=le+(K^ye&($^K))+te[6]+2821735955&4294967295)<<17&4294967295|Z>>>15))+((Z=K+($^le&(ye^$))+te[7]+4249261313&4294967295)<<22&4294967295|Z>>>10))+((Z=$+(ye^K&(le^ye))+te[8]+1770035416&4294967295)<<7&4294967295|Z>>>25))+((Z=ye+(le^$&(K^le))+te[9]+2336552879&4294967295)<<12&4294967295|Z>>>20))+((Z=le+(K^ye&($^K))+te[10]+4294925233&4294967295)<<17&4294967295|Z>>>15))+((Z=K+($^le&(ye^$))+te[11]+2304563134&4294967295)<<22&4294967295|Z>>>10))+((Z=$+(ye^K&(le^ye))+te[12]+1804603682&4294967295)<<7&4294967295|Z>>>25))+((Z=ye+(le^$&(K^le))+te[13]+4254626195&4294967295)<<12&4294967295|Z>>>20))+((Z=le+(K^ye&($^K))+te[14]+2792965006&4294967295)<<17&4294967295|Z>>>15))+((Z=K+($^le&(ye^$))+te[15]+1236535329&4294967295)<<22&4294967295|Z>>>10))+((Z=$+(le^ye&(K^le))+te[1]+4129170786&4294967295)<<5&4294967295|Z>>>27))+((Z=ye+(K^le&($^K))+te[6]+3225465664&4294967295)<<9&4294967295|Z>>>23))+((Z=le+($^K&(ye^$))+te[11]+643717713&4294967295)<<14&4294967295|Z>>>18))+((Z=K+(ye^$&(le^ye))+te[0]+3921069994&4294967295)<<20&4294967295|Z>>>12))+((Z=$+(le^ye&(K^le))+te[5]+3593408605&4294967295)<<5&4294967295|Z>>>27))+((Z=ye+(K^le&($^K))+te[10]+38016083&4294967295)<<9&4294967295|Z>>>23))+((Z=le+($^K&(ye^$))+te[15]+3634488961&4294967295)<<14&4294967295|Z>>>18))+((Z=K+(ye^$&(le^ye))+te[4]+3889429448&4294967295)<<20&4294967295|Z>>>12))+((Z=$+(le^ye&(K^le))+te[9]+568446438&4294967295)<<5&4294967295|Z>>>27))+((Z=ye+(K^le&($^K))+te[14]+3275163606&4294967295)<<9&4294967295|Z>>>23))+((Z=le+($^K&(ye^$))+te[3]+4107603335&4294967295)<<14&4294967295|Z>>>18))+((Z=K+(ye^$&(le^ye))+te[8]+1163531501&4294967295)<<20&4294967295|Z>>>12))+((Z=$+(le^ye&(K^le))+te[13]+2850285829&4294967295)<<5&4294967295|Z>>>27))+((Z=ye+(K^le&($^K))+te[2]+4243563512&4294967295)<<9&4294967295|Z>>>23))+((Z=le+($^K&(ye^$))+te[7]+1735328473&4294967295)<<14&4294967295|Z>>>18))+((Z=K+(ye^$&(le^ye))+te[12]+2368359562&4294967295)<<20&4294967295|Z>>>12))+((Z=$+(K^le^ye)+te[5]+4294588738&4294967295)<<4&4294967295|Z>>>28))+((Z=ye+($^K^le)+te[8]+2272392833&4294967295)<<11&4294967295|Z>>>21))+((Z=le+(ye^$^K)+te[11]+1839030562&4294967295)<<16&4294967295|Z>>>16))+((Z=K+(le^ye^$)+te[14]+4259657740&4294967295)<<23&4294967295|Z>>>9))+((Z=$+(K^le^ye)+te[1]+2763975236&4294967295)<<4&4294967295|Z>>>28))+((Z=ye+($^K^le)+te[4]+1272893353&4294967295)<<11&4294967295|Z>>>21))+((Z=le+(ye^$^K)+te[7]+4139469664&4294967295)<<16&4294967295|Z>>>16))+((Z=K+(le^ye^$)+te[10]+3200236656&4294967295)<<23&4294967295|Z>>>9))+((Z=$+(K^le^ye)+te[13]+681279174&4294967295)<<4&4294967295|Z>>>28))+((Z=ye+($^K^le)+te[0]+3936430074&4294967295)<<11&4294967295|Z>>>21))+((Z=le+(ye^$^K)+te[3]+3572445317&4294967295)<<16&4294967295|Z>>>16))+((Z=K+(le^ye^$)+te[6]+76029189&4294967295)<<23&4294967295|Z>>>9))+((Z=$+(K^le^ye)+te[9]+3654602809&4294967295)<<4&4294967295|Z>>>28))+((Z=ye+($^K^le)+te[12]+3873151461&4294967295)<<11&4294967295|Z>>>21))+((Z=le+(ye^$^K)+te[15]+530742520&4294967295)<<16&4294967295|Z>>>16))+((Z=K+(le^ye^$)+te[2]+3299628645&4294967295)<<23&4294967295|Z>>>9))+((Z=$+(le^(K|~ye))+te[0]+4096336452&4294967295)<<6&4294967295|Z>>>26))+((Z=ye+(K^($|~le))+te[7]+1126891415&4294967295)<<10&4294967295|Z>>>22))+((Z=le+($^(ye|~K))+te[14]+2878612391&4294967295)<<15&4294967295|Z>>>17))+((Z=K+(ye^(le|~$))+te[5]+4237533241&4294967295)<<21&4294967295|Z>>>11))+((Z=$+(le^(K|~ye))+te[12]+1700485571&4294967295)<<6&4294967295|Z>>>26))+((Z=ye+(K^($|~le))+te[3]+2399980690&4294967295)<<10&4294967295|Z>>>22))+((Z=le+($^(ye|~K))+te[10]+4293915773&4294967295)<<15&4294967295|Z>>>17))+((Z=K+(ye^(le|~$))+te[1]+2240044497&4294967295)<<21&4294967295|Z>>>11))+((Z=$+(le^(K|~ye))+te[8]+1873313359&4294967295)<<6&4294967295|Z>>>26))+((Z=ye+(K^($|~le))+te[15]+4264355552&4294967295)<<10&4294967295|Z>>>22))+((Z=le+($^(ye|~K))+te[6]+2734768916&4294967295)<<15&4294967295|Z>>>17))+((Z=K+(ye^(le|~$))+te[13]+1309151649&4294967295)<<21&4294967295|Z>>>11))+((ye=($=K+((Z=$+(le^(K|~ye))+te[4]+4149444226&4294967295)<<6&4294967295|Z>>>26))+((Z=ye+(K^($|~le))+te[11]+3174756917&4294967295)<<10&4294967295|Z>>>22))^((le=ye+((Z=le+($^(ye|~K))+te[2]+718787259&4294967295)<<15&4294967295|Z>>>17))|~$))+te[9]+3951481745&4294967295,X.g[0]=X.g[0]+$&4294967295,X.g[1]=X.g[1]+(le+(Z<<21&4294967295|Z>>>11))&4294967295,X.g[2]=X.g[2]+le&4294967295,X.g[3]=X.g[3]+ye&4294967295}function s(X,$){this.h=$;for(var K=[],te=!0,le=X.length-1;0<=le;le--){var ye=0|X[le];te&&ye==$||(K[le]=ye,te=!1)}this.g=K}(function e(X,$){function K(){}K.prototype=$.prototype,X.D=$.prototype,X.prototype=new K,X.prototype.constructor=X,X.C=function(te,le,ye){for(var Z=Array(arguments.length-2),os=2;os<arguments.length;os++)Z[os-2]=arguments[os];return $.prototype[le].apply(te,Z)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(X,$){void 0===$&&($=X.length);for(var K=$-this.blockSize,te=this.B,le=this.h,ye=0;ye<$;){if(0==le)for(;ye<=K;)i(this,X,ye),ye+=this.blockSize;if("string"==typeof X){for(;ye<$;)if(te[le++]=X.charCodeAt(ye++),le==this.blockSize){i(this,te),le=0;break}}else for(;ye<$;)if(te[le++]=X[ye++],le==this.blockSize){i(this,te),le=0;break}}this.h=le,this.o+=$},r.prototype.v=function(){var X=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);X[0]=128;for(var $=1;$<X.length-8;++$)X[$]=0;var K=8*this.o;for($=X.length-8;$<X.length;++$)X[$]=255&K,K/=256;for(this.u(X),X=Array(16),$=K=0;4>$;++$)for(var te=0;32>te;te+=8)X[K++]=this.g[$]>>>te&255;return X};var a={};function l(X){return-128<=X&&128>X?function o(X,$){var K=a;return Object.prototype.hasOwnProperty.call(K,X)?K[X]:K[X]=$(X)}(X,function($){return new s([0|$],0>$?-1:0)}):new s([0|X],0>X?-1:0)}function c(X){if(isNaN(X)||!isFinite(X))return p;if(0>X)return V(c(-X));for(var $=[],K=1,te=0;X>=K;te++)$[te]=X/K|0,K*=4294967296;return new s($,0)}var p=l(0),_=l(1),I=l(16777216);function A(X){if(0!=X.h)return!1;for(var $=0;$<X.g.length;$++)if(0!=X.g[$])return!1;return!0}function x(X){return-1==X.h}function V(X){for(var $=X.g.length,K=[],te=0;te<$;te++)K[te]=~X.g[te];return new s(K,~X.h).add(_)}function B(X,$){return X.add(V($))}function z(X,$){for(;(65535&X[$])!=X[$];)X[$+1]+=X[$]>>>16,X[$]&=65535,$++}function fe(X,$){this.g=X,this.h=$}function ge(X,$){if(A($))throw Error("division by zero");if(A(X))return new fe(p,p);if(x(X))return $=ge(V(X),$),new fe(V($.g),V($.h));if(x($))return $=ge(X,V($)),new fe(V($.g),$.h);if(30<X.g.length){if(x(X)||x($))throw Error("slowDivide_ only works with positive integers.");for(var K=_,te=$;0>=te.l(X);)K=tt(K),te=tt(te);var le=_t(K,1),ye=_t(te,1);for(te=_t(te,2),K=_t(K,2);!A(te);){var Z=ye.add(te);0>=Z.l(X)&&(le=le.add(K),ye=Z),te=_t(te,1),K=_t(K,1)}return $=B(X,le.j($)),new fe(le,$)}for(le=p;0<=X.l($);){for(K=Math.max(1,Math.floor(X.m()/$.m())),te=48>=(te=Math.ceil(Math.log(K)/Math.LN2))?1:Math.pow(2,te-48),Z=(ye=c(K)).j($);x(Z)||0<Z.l(X);)Z=(ye=c(K-=te)).j($);A(ye)&&(ye=_),le=le.add(ye),X=B(X,Z)}return new fe(le,X)}function tt(X){for(var $=X.g.length+1,K=[],te=0;te<$;te++)K[te]=X.i(te)<<1|X.i(te-1)>>>31;return new s(K,X.h)}function _t(X,$){var K=$>>5;$%=32;for(var te=X.g.length-K,le=[],ye=0;ye<te;ye++)le[ye]=0<$?X.i(ye+K)>>>$|X.i(ye+K+1)<<32-$:X.i(ye+K);return new s(le,X.h)}(t=s.prototype).m=function(){if(x(this))return-V(this).m();for(var X=0,$=1,K=0;K<this.g.length;K++){var te=this.i(K);X+=(0<=te?te:4294967296+te)*$,$*=4294967296}return X},t.toString=function(X){if(2>(X=X||10)||36<X)throw Error("radix out of range: "+X);if(A(this))return"0";if(x(this))return"-"+V(this).toString(X);for(var $=c(Math.pow(X,6)),K=this,te="";;){var le=ge(K,$).g,ye=((0<(K=B(K,le.j($))).g.length?K.g[0]:K.h)>>>0).toString(X);if(A(K=le))return ye+te;for(;6>ye.length;)ye="0"+ye;te=ye+te}},t.i=function(X){return 0>X?0:X<this.g.length?this.g[X]:this.h},t.l=function(X){return x(X=B(this,X))?-1:A(X)?0:1},t.abs=function(){return x(this)?V(this):this},t.add=function(X){for(var $=Math.max(this.g.length,X.g.length),K=[],te=0,le=0;le<=$;le++){var ye=te+(65535&this.i(le))+(65535&X.i(le)),Z=(ye>>>16)+(this.i(le)>>>16)+(X.i(le)>>>16);te=Z>>>16,K[le]=(Z&=65535)<<16|(ye&=65535)}return new s(K,-2147483648&K[K.length-1]?-1:0)},t.j=function(X){if(A(this)||A(X))return p;if(x(this))return x(X)?V(this).j(V(X)):V(V(this).j(X));if(x(X))return V(this.j(V(X)));if(0>this.l(I)&&0>X.l(I))return c(this.m()*X.m());for(var $=this.g.length+X.g.length,K=[],te=0;te<2*$;te++)K[te]=0;for(te=0;te<this.g.length;te++)for(var le=0;le<X.g.length;le++){var ye=this.i(te)>>>16,Z=65535&this.i(te),os=X.i(le)>>>16,yl=65535&X.i(le);K[2*te+2*le]+=Z*yl,z(K,2*te+2*le),K[2*te+2*le+1]+=ye*yl,z(K,2*te+2*le+1),K[2*te+2*le+1]+=Z*os,z(K,2*te+2*le+1),K[2*te+2*le+2]+=ye*os,z(K,2*te+2*le+2)}for(te=0;te<$;te++)K[te]=K[2*te+1]<<16|K[2*te];for(te=$;te<2*$;te++)K[te]=0;return new s(K,0)},t.A=function(X){return ge(this,X).h},t.and=function(X){for(var $=Math.max(this.g.length,X.g.length),K=[],te=0;te<$;te++)K[te]=this.i(te)&X.i(te);return new s(K,this.h&X.h)},t.or=function(X){for(var $=Math.max(this.g.length,X.g.length),K=[],te=0;te<$;te++)K[te]=this.i(te)|X.i(te);return new s(K,this.h|X.h)},t.xor=function(X){for(var $=Math.max(this.g.length,X.g.length),K=[],te=0;te<$;te++)K[te]=this.i(te)^X.i(te);return new s(K,this.h^X.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OB=kB.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(X,$){if(0==X.length)throw Error("number format error: empty string");if(2>($=$||10)||36<$)throw Error("radix out of range: "+$);if("-"==X.charAt(0))return V(d(X.substring(1),$));if(0<=X.indexOf("-"))throw Error('number format error: interior "-" character');for(var K=c(Math.pow($,8)),te=p,le=0;le<X.length;le+=8){var ye=Math.min(8,X.length-le),Z=parseInt(X.substring(le,le+ye),$);8>ye?(ye=c(Math.pow($,ye)),te=te.j(ye).add(c(Z))):te=(te=te.j(K)).add(c(Z))}return te},Ed=kB.Integer=s}).apply(typeof NB<"u"?NB:typeof self<"u"?self:typeof window<"u"?window:{});var FB,LB,C_,VB,hE,tS,$B,BB,UB,dE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jl={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,y,w){return f==Array.prototype||f==Object.prototype||(f[y]=w.value),f},r=function n(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof dE&&dE];for(var y=0;y<f.length;++y){var w=f[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}(this);!function i(f,y){if(y)e:{var w=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var ve=f[O];if(!(ve in w))break e;w=w[ve]}(y=y(O=w[f=f[f.length-1]]))!=O&&null!=y&&e(w,f,{configurable:!0,writable:!0,value:y})}}("Array.prototype.values",function(f){return f||function(){return function o(f,y){f instanceof String&&(f+="");var w=0,O=!1,ve={next:function(){if(!O&&w<f.length){var Le=w++;return{value:y(Le,f[Le]),done:!1}}return O=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}(this,function(y,w){return w})}});var s=s||{},a=this||self;function l(f){var y=typeof f;return"array"==(y="object"!=y?y:f?Array.isArray(f)?"array":y:"null")||"object"==y&&"number"==typeof f.length}function c(f){var y=typeof f;return"object"==y&&null!=f||"function"==y}function d(f,y,w){return f.call.apply(f.bind,arguments)}function p(f,y,w){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,O),f.apply(y,ve)}}return function(){return f.apply(y,arguments)}}function _(f,y,w){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:p).apply(null,arguments)}function I(f,y){var w=Array.prototype.slice.call(arguments,1);return function(){var O=w.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function A(f,y){function w(){}w.prototype=y.prototype,f.aa=y.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(O,ve,Le){for(var Ut=Array(arguments.length-2),Vr=2;Vr<arguments.length;Vr++)Ut[Vr-2]=arguments[Vr];return y.prototype[ve].apply(O,Ut)}}function x(f){const y=f.length;if(0<y){const w=Array(y);for(let O=0;O<y;O++)w[O]=f[O];return w}return[]}function V(f,y){for(let w=1;w<arguments.length;w++){const O=arguments[w];if(l(O)){const ve=f.length||0,Le=O.length||0;f.length=ve+Le;for(let Ut=0;Ut<Le;Ut++)f[ve+Ut]=O[Ut]}else f.push(O)}}function z(f){return/^[\s\xa0]*$/.test(f)}function fe(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function ge(f){return ge[" "](f),f}ge[" "]=function(){};var tt=!(-1==fe().indexOf("Gecko")||-1!=fe().toLowerCase().indexOf("webkit")&&-1==fe().indexOf("Edge")||-1!=fe().indexOf("Trident")||-1!=fe().indexOf("MSIE")||-1!=fe().indexOf("Edge"));function _t(f,y,w){for(const O in f)y.call(w,f[O],O,f)}function $(f){const y={};for(const w in f)y[w]=f[w];return y}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(f,y){let w,O;for(let ve=1;ve<arguments.length;ve++){for(w in O=arguments[ve],O)f[w]=O[w];for(let Le=0;Le<K.length;Le++)w=K[Le],Object.prototype.hasOwnProperty.call(O,w)&&(f[w]=O[w])}}function le(f){var y=1;f=f.split(":");const w=[];for(;0<y&&f.length;)w.push(f.shift()),y--;return f.length&&w.push(f.join(":")),w}function ye(f){a.setTimeout(()=>{throw f},0)}function Z(){var f=qn;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}var yl=new class B{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}(()=>new Jt,f=>f.reset());class Jt{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ln,vn=!1,qn=new class os{constructor(){this.h=this.g=null}add(y,w){const O=yl.get();O.set(y,w),this.h?this.h.next=O:this.g=O,this.h=O}},Xr=()=>{const f=a.Promise.resolve(void 0);ln=()=>{f.then(oa)}};var oa=()=>{for(var f;f=Z();){try{f.h.call(f.g)}catch(w){ye(w)}var y=yl;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}vn=!1};function vi(){this.s=this.s,this.C=this.C}function Zr(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}vi.prototype.s=!1,vi.prototype.ma=function(){this.s||(this.s=!0,this.N())},vi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Zr.prototype.h=function(){this.defaultPrevented=!0};var Jr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};a.addEventListener("test",w,y),a.removeEventListener("test",w,y)}catch{}return f}();function Eu(f,y){if(Zr.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(tt){e:{try{ge(y.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(y=null)}}else"mouseover"==w?y=f.fromElement:"mouseout"==w&&(y=f.toElement);this.relatedTarget=y,O?(this.clientX=void 0!==O.clientX?O.clientX:O.pageX,this.clientY=void 0!==O.clientY?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:GP[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Eu.aa.h.call(this)}}A(Eu,Zr);var GP={2:"touch",3:"pen",4:"mouse"};Eu.prototype.h=function(){Eu.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var yi="closure_listenable_"+(1e6*Math.random()|0),dc=0;function Is(f,y,w,O,ve){this.listener=f,this.proxy=null,this.src=y,this.type=w,this.capture=!!O,this.ha=ve,this.key=++dc,this.da=this.fa=!1}function hc(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function bu(f){this.src=f,this.g={},this.h=0}function qP(f,y){var w=y.type;if(w in f.g){var Le,O=f.g[w],ve=Array.prototype.indexOf.call(O,y,void 0);(Le=0<=ve)&&Array.prototype.splice.call(O,ve,1),Le&&(hc(y),0==f.g[w].length&&(delete f.g[w],f.h--))}}function WP(f,y,w,O){for(var ve=0;ve<f.length;++ve){var Le=f[ve];if(!Le.da&&Le.listener==y&&Le.capture==!!w&&Le.ha==O)return ve}return-1}bu.prototype.add=function(f,y,w,O,ve){var Le=f.toString();(f=this.g[Le])||(f=this.g[Le]=[],this.h++);var Ut=WP(f,y,O,ve);return-1<Ut?(y=f[Ut],w||(y.fa=!1)):((y=new Is(y,this.src,Le,!!O,ve)).fa=w,f.push(y)),y};var KP="closure_lm_"+(1e6*Math.random()|0),QP={};function Az(f,y,w,O,ve){if(O&&O.once)return Sz(f,y,w,O,ve);if(Array.isArray(y)){for(var Le=0;Le<y.length;Le++)Az(f,y[Le],w,O,ve);return null}return w=JP(w),f&&f[yi]?f.K(y,w,c(O)?!!O.capture:!!O,ve):Dz(f,y,w,!1,O,ve)}function Dz(f,y,w,O,ve,Le){if(!y)throw Error("Invalid event type");var Ut=c(ve)?!!ve.capture:!!ve,Vr=XP(f);if(Vr||(f[KP]=Vr=new bu(f)),(w=Vr.add(y,w,O,Ut,Le)).proxy)return w;if(O=function Qpe(){const y=Ype;return function f(w){return y.call(f.src,f.listener,w)}}(),w.proxy=O,O.src=f,O.listener=w,f.addEventListener)Jr||(ve=Ut),void 0===ve&&(ve=!1),f.addEventListener(y.toString(),O,ve);else if(f.attachEvent)f.attachEvent(Pz(y.toString()),O);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(O)}return w}function Sz(f,y,w,O,ve){if(Array.isArray(y)){for(var Le=0;Le<y.length;Le++)Sz(f,y[Le],w,O,ve);return null}return w=JP(w),f&&f[yi]?f.L(y,w,c(O)?!!O.capture:!!O,ve):Dz(f,y,w,!0,O,ve)}function Rz(f,y,w,O,ve){if(Array.isArray(y))for(var Le=0;Le<y.length;Le++)Rz(f,y[Le],w,O,ve);else O=c(O)?!!O.capture:!!O,w=JP(w),f&&f[yi]?(f=f.i,(y=String(y).toString())in f.g&&-1<(w=WP(Le=f.g[y],w,O,ve))&&(hc(Le[w]),Array.prototype.splice.call(Le,w,1),0==Le.length&&(delete f.g[y],f.h--))):f&&(f=XP(f))&&(y=f.g[y.toString()],f=-1,y&&(f=WP(y,w,O,ve)),(w=-1<f?y[f]:null)&&YP(w))}function YP(f){if("number"!=typeof f&&f&&!f.da){var y=f.src;if(y&&y[yi])qP(y.i,f);else{var w=f.type,O=f.proxy;y.removeEventListener?y.removeEventListener(w,O,f.capture):y.detachEvent?y.detachEvent(Pz(w),O):y.addListener&&y.removeListener&&y.removeListener(O),(w=XP(y))?(qP(w,f),0==w.h&&(w.src=null,y[KP]=null)):hc(f)}}}function Pz(f){return f in QP?QP[f]:QP[f]="on"+f}function Ype(f,y){if(f.da)f=!0;else{y=new Eu(y,this);var w=f.listener,O=f.ha||f.src;f.fa&&YP(f),f=w.call(O,y)}return f}function XP(f){return(f=f[KP])instanceof bu?f:null}var ZP="__closure_events_fn_"+(1e9*Math.random()>>>0);function JP(f){return"function"==typeof f?f:(f[ZP]||(f[ZP]=function(y){return f.handleEvent(y)}),f[ZP])}function $o(){vi.call(this),this.i=new bu(this),this.M=this,this.F=null}function ss(f,y){var w,O=f.F;if(O)for(w=[];O;O=O.F)w.push(O);if(f=f.M,O=y.type||y,"string"==typeof y)y=new Zr(y,f);else if(y instanceof Zr)y.target=y.target||f;else{var ve=y;te(y=new Zr(O,f),ve)}if(ve=!0,w)for(var Le=w.length-1;0<=Le;Le--){var Ut=y.g=w[Le];ve=yb(Ut,O,!0,y)&&ve}if(ve=yb(Ut=y.g=f,O,!0,y)&&ve,ve=yb(Ut,O,!1,y)&&ve,w)for(Le=0;Le<w.length;Le++)ve=yb(Ut=y.g=w[Le],O,!1,y)&&ve}function yb(f,y,w,O){if(!(y=f.i.g[String(y)]))return!0;y=y.concat();for(var ve=!0,Le=0;Le<y.length;++Le){var Ut=y[Le];if(Ut&&!Ut.da&&Ut.capture==w){var Vr=Ut.listener,_o=Ut.ha||Ut.src;Ut.fa&&qP(f.i,Ut),ve=!1!==Vr.call(_o,O)&&ve}}return ve&&!O.defaultPrevented}function Mz(f,y,w){if("function"==typeof f)w&&(f=_(f,w));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=_(f.handleEvent,f)}return 2147483647<Number(y)?-1:a.setTimeout(f,y||0)}function xz(f){f.g=Mz(()=>{f.g=null,f.i&&(f.i=!1,xz(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}A($o,vi),$o.prototype[yi]=!0,$o.prototype.removeEventListener=function(f,y,w,O){Rz(this,f,y,w,O)},$o.prototype.N=function(){if($o.aa.N.call(this),this.i){var y,f=this.i;for(y in f.g){for(var w=f.g[y],O=0;O<w.length;O++)hc(w[O]);delete f.g[y],f.h--}}this.F=null},$o.prototype.K=function(f,y,w,O){return this.i.add(String(f),y,!1,w,O)},$o.prototype.L=function(f,y,w,O){return this.i.add(String(f),y,!0,w,O)};class Xpe extends vi{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xz(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vv(f){vi.call(this),this.h=f,this.g={}}A(vv,vi);var Nz=[];function kz(f){_t(f.g,function(y,w){this.g.hasOwnProperty(w)&&YP(y)},f),f.g={}}vv.prototype.N=function(){vv.aa.N.call(this),kz(this)},vv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eM=a.JSON.stringify,Zpe=a.JSON.parse,Jpe=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function tM(){}function Fz(){}tM.prototype.h=null;var yv={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nM(){Zr.call(this,"d")}function rM(){Zr.call(this,"c")}A(nM,Zr),A(rM,Zr);var Hd={},Lz=null;function Ib(){return Lz=Lz||new $o}function Vz(f){Zr.call(this,Hd.La,f)}function Iv(f){const y=Ib();ss(y,new Vz(y))}function $z(f,y){Zr.call(this,Hd.STAT_EVENT,f),this.stat=y}function as(f){const y=Ib();ss(y,new $z(y,f))}function Bz(f,y){Zr.call(this,Hd.Ma,f),this.size=y}function Ev(f,y){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},y)}function bv(){this.g=!0}function Fp(f,y,w,O){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+function rme(f,y){if(!f.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w)for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var O=w[f];if(!(2>O.length)){var ve=O[1];if(Array.isArray(ve)&&!(1>ve.length)){var Le=ve[0];if("noop"!=Le&&"stop"!=Le&&"close"!=Le)for(var Ut=1;Ut<ve.length;Ut++)ve[Ut]=""}}}return eM(w)}catch{return y}}(f,w)+(O?" "+O:"")})}Hd.La="serverreachability",A(Vz,Zr),Hd.STAT_EVENT="statevent",A($z,Zr),Hd.Ma="timingevent",A(Bz,Zr),bv.prototype.xa=function(){this.g=!1},bv.prototype.info=function(){};var iM,Eb={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Uz={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function bb(){}function Cu(f,y,w,O){this.j=f,this.i=y,this.l=w,this.R=O||1,this.U=new vv(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jz}function jz(){this.i=null,this.g="",this.h=!1}A(bb,tM),bb.prototype.g=function(){return new XMLHttpRequest},bb.prototype.i=function(){return{}},iM=new bb;var zz={},oM={};function sM(f,y,w){f.L=1,f.v=Ab(fc(y)),f.m=w,f.P=!0,Hz(f,null)}function Hz(f,y){f.F=Date.now(),Cb(f),f.A=fc(f.v);var w=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),i5(w.i,"t",O),f.C=0,w=f.j.J,f.h=new jz,f.g=b5(f.j,w?y:null,!f.m),0<f.O&&(f.M=new Xpe(_(f.Y,f,f.g),f.O)),y=f.U,w=f.g,O=f.ca;var ve="readystatechange";Array.isArray(ve)||(ve&&(Nz[0]=ve.toString()),ve=Nz);for(var Le=0;Le<ve.length;Le++){var Ut=Az(w,ve[Le],O||y.handleEvent,!1,y.h||y);if(!Ut)break;y.g[Ut.key]=Ut}y=f.H?$(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Iv(),function eme(f,y,w,O,ve,Le){f.info(function(){if(f.g)if(Le)for(var Ut="",Vr=Le.split("&"),_o=0;_o<Vr.length;_o++){var _r=Vr[_o].split("=");if(1<_r.length){var Bo=_r[0];_r=_r[1];var Uo=Bo.split("_");Ut=2<=Uo.length&&"type"==Uo[1]?Ut+(Bo+"=")+_r+"&":Ut+(Bo+"=redacted&")}}else Ut=null;else Ut=Le;return"XMLHTTP REQ ("+O+") [attempt "+ve+"]: "+y+"\n"+w+"\n"+Ut})}(f.i,f.u,f.A,f.l,f.R,f.m)}function Gz(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function ime(f,y){var w=f.C,O=y.indexOf("\n",w);return-1==O?oM:(w=Number(y.substring(w,O)),isNaN(w)?zz:(O+=1)+w>y.length?oM:(y=y.slice(O,O+w),f.C=O+w,y))}function Cb(f){f.S=Date.now()+f.I,qz(f,f.I)}function qz(f,y){if(null!=f.B)throw Error("WatchDog timer not null");f.B=Ev(_(f.ba,f),y)}function aM(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function Cv(f){0==f.j.G||f.J||v5(f.j,f)}function Gd(f){aM(f);var y=f.M;y&&"function"==typeof y.ma&&y.ma(),f.M=null,kz(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function lM(f,y){try{var w=f.j;if(0!=w.G&&(w.g==f||cM(w.h,f)))if(!f.K&&cM(w.h,f)&&3==w.G){try{var O=w.Da.g.parse(y)}catch{O=null}if(Array.isArray(O)&&3==O.length){var ve=O;if(0==ve[0]){e:if(!w.u){if(w.g){if(!(w.g.F+3e3<f.F))break e;Mb(w),Rb(w)}fM(w),as(18)}}else w.za=ve[1],0<w.za-w.T&&37500>ve[2]&&w.F&&0==w.v&&!w.C&&(w.C=Ev(_(w.Za,w),6e3));if(1>=Qz(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Wd(w,11)}else if((f.K||w.g==f)&&Mb(w),!z(y))for(ve=w.Da.g.parse(y),y=0;y<ve.length;y++){let _r=ve[y];if(w.T=_r[0],_r=_r[1],2==w.G)if("c"==_r[0]){w.K=_r[1],w.ia=_r[2];const Bo=_r[3];null!=Bo&&(w.la=Bo,w.j.info("VER="+w.la));const Uo=_r[4];null!=Uo&&(w.Aa=Uo,w.j.info("SVER="+w.Aa));const $p=_r[5];null!=$p&&"number"==typeof $p&&0<$p&&(w.L=O=1.5*$p,w.j.info("backChannelRequestTimeoutMs_="+O)),O=w;const xa=f.g;if(xa){const Nb=xa.g?xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nb){var Le=O.h;Le.g||-1==Nb.indexOf("spdy")&&-1==Nb.indexOf("quic")&&-1==Nb.indexOf("h2")||(Le.j=Le.l,Le.g=new Set,Le.h&&(uM(Le,Le.h),Le.h=null))}if(O.D){const mM=xa.g?xa.g.getResponseHeader("X-HTTP-Session-Id"):null;mM&&(O.ya=mM,ei(O.I,O.D,mM))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms"));var Ut=f;if((O=w).qa=E5(O,O.J?O.ia:null,O.W),Ut.K){Yz(O.h,Ut);var Vr=Ut,_o=O.L;_o&&(Vr.I=_o),Vr.B&&(aM(Vr),Cb(Vr)),O.g=Ut}else g5(O);0<w.i.length&&Pb(w)}else"stop"!=_r[0]&&"close"!=_r[0]||Wd(w,7);else 3==w.G&&("stop"==_r[0]||"close"==_r[0]?"stop"==_r[0]?Wd(w,7):hM(w):"noop"!=_r[0]&&w.l&&w.l.ta(_r),w.v=0)}Iv()}catch{}}Cu.prototype.ca=function(f){f=f.target;const y=this.M;y&&3==pc(f)?y.j():this.Y(f)},Cu.prototype.Y=function(f){try{if(f==this.g)e:{const Uo=pc(this.g);var y=this.g.Ba();if(this.g.Z(),!(3>Uo)&&(3!=Uo||this.g&&(this.h.h||this.g.oa()||d5(this.g)))){this.J||4!=Uo||7==y||Iv(),aM(this);var w=this.g.Z();this.X=w;t:if(Gz(this)){var O=d5(this.g);f="";var ve=O.length,Le=4==pc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Gd(this),Cv(this);var Ut="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ve;y++)this.h.h=!0,f+=this.h.i.decode(O[y],{stream:!(Le&&y==ve-1)});O.length=0,this.h.g+=f,this.C=0,Ut=this.h.g}else Ut=this.g.oa();if(this.o=200==w,function tme(f,y,w,O,ve,Le,Ut){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+ve+"]: "+y+"\n"+w+"\n"+Le+" "+Ut})}(this.i,this.u,this.A,this.l,this.R,Uo,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Vr,_o=this.g;if((Vr=_o.g?_o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Vr)){var _r=Vr;break t}}_r=null}if(!(w=_r)){this.o=!1,this.s=3,as(12),Gd(this),Cv(this);break e}Fp(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lM(this,w)}if(this.P){let xa;for(w=!0;!this.J&&this.C<Ut.length;){if(xa=ime(this,Ut),xa==oM){4==Uo&&(this.s=4,as(14),w=!1),Fp(this.i,this.l,null,"[Incomplete Response]");break}if(xa==zz){this.s=4,as(15),Fp(this.i,this.l,Ut,"[Invalid Chunk]"),w=!1;break}Fp(this.i,this.l,xa,null),lM(this,xa)}if(Gz(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Uo||0!=Ut.length||this.h.h||(this.s=1,as(16),w=!1),this.o=this.o&&w,w){if(0<Ut.length&&!this.W){this.W=!0;var Bo=this.j;Bo.g==this&&Bo.ba&&!Bo.M&&(Bo.j.info("Great, no buffering proxy detected. Bytes received: "+Ut.length),pM(Bo),Bo.M=!0,as(11))}}else Fp(this.i,this.l,Ut,"[Invalid Chunked Response]"),Gd(this),Cv(this)}else Fp(this.i,this.l,Ut,null),lM(this,Ut);4==Uo&&Gd(this),this.o&&!this.J&&(4==Uo?v5(this.j,this):(this.o=!1,Cb(this)))}else(function Eme(f){const y={};f=(f.g&&2<=pc(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let O=0;O<f.length;O++){if(z(f[O]))continue;var w=le(f[O]);const ve=w[0];if("string"!=typeof(w=w[1]))continue;w=w.trim();const Le=y[ve]||[];y[ve]=Le,Le.push(w)}!function X(f,y){for(const w in f)y.call(void 0,f[w],w,f)}(y,function(O){return O.join(", ")})})(this.g),400==w&&0<Ut.indexOf("Unknown SID")?(this.s=3,as(12)):(this.s=0,as(13)),Gd(this),Cv(this)}}}catch{}},Cu.prototype.cancel=function(){this.J=!0,Gd(this)},Cu.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function nme(f,y){f.info(function(){return"TIMEOUT: "+y})}(this.i,this.A),2!=this.L&&(Iv(),as(17)),Gd(this),this.s=2,Cv(this)):qz(this,this.S-f)};var ome=class{constructor(f,y){this.g=f,this.map=y}};function Wz(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kz(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Qz(f){return f.h?1:f.g?f.g.size:0}function cM(f,y){return f.h?f.h==y:!!f.g&&f.g.has(y)}function uM(f,y){f.g?f.g.add(y):f.h=y}function Yz(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}function Xz(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let y=f.i;for(const w of f.g.values())y=y.concat(w.D);return y}return x(f.i)}function Zz(f,y){if(f.forEach&&"function"==typeof f.forEach)f.forEach(y,void 0);else if(l(f)||"string"==typeof f)Array.prototype.forEach.call(f,y,void 0);else for(var w=function ame(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||"string"==typeof f){var y=[];f=f.length;for(var w=0;w<f;w++)y.push(w);return y}y=[],w=0;for(const O in f)y[w++]=O;return y}}}(f),O=function sme(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(l(f)){for(var y=[],w=f.length,O=0;O<w;O++)y.push(f[O]);return y}for(O in y=[],w=0,f)y[w++]=f[O];return y}(f),ve=O.length,Le=0;Le<ve;Le++)y.call(void 0,O[Le],w&&w[Le],f)}Wz.prototype.cancel=function(){if(this.i=Xz(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var Jz=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qd(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof qd){this.h=f.h,wb(this,f.j),this.o=f.o,this.g=f.g,Tb(this,f.s),this.l=f.l;var y=f.i,w=new Av;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),e5(this,w),this.m=f.m}else f&&(y=String(f).match(Jz))?(this.h=!1,wb(this,y[1]||"",!0),this.o=wv(y[2]||""),this.g=wv(y[3]||"",!0),Tb(this,y[4]),this.l=wv(y[5]||"",!0),e5(this,y[6]||"",!0),this.m=wv(y[7]||"")):(this.h=!1,this.i=new Av(null,this.h))}function fc(f){return new qd(f)}function wb(f,y,w){f.j=w?wv(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Tb(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function e5(f,y,w){y instanceof Av?(f.i=y,function pme(f,y){y&&!f.j&&(wu(f),f.i=null,f.g.forEach(function(w,O){var ve=O.toLowerCase();O!=ve&&(n5(this,O),i5(this,ve,w))},f)),f.j=y}(f.i,f.h)):(w||(y=Tv(y,hme)),f.i=new Av(y,f.h))}function ei(f,y,w){f.i.set(y,w)}function Ab(f){return ei(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function wv(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Tv(f,y,w){return"string"==typeof f?(f=encodeURI(f).replace(y,cme),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function cme(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}qd.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Tv(y,t5,!0),":");var w=this.g;return(w||"file"==y)&&(f.push("//"),(y=this.o)&&f.push(Tv(y,t5,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(w=this.s)&&f.push(":",String(w))),(w=this.l)&&(this.g&&"/"!=w.charAt(0)&&f.push("/"),f.push(Tv(w,"/"==w.charAt(0)?dme:ume,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",Tv(w,fme)),f.join("")};var t5=/[#\/\?@]/g,ume=/[#\?:]/g,dme=/[#\?]/g,hme=/[#\?@]/g,fme=/#/g;function Av(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function wu(f){f.g||(f.g=new Map,f.h=0,f.i&&function lme(f,y){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var O=f[w].indexOf("="),ve=null;if(0<=O){var Le=f[w].substring(0,O);ve=f[w].substring(O+1)}else Le=f[w];y(Le,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}(f.i,function(y,w){f.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}function n5(f,y){wu(f),y=Lp(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function r5(f,y){return wu(f),y=Lp(f,y),f.g.has(y)}function i5(f,y,w){n5(f,y),0<w.length&&(f.i=null,f.g.set(Lp(f,y),x(w)),f.h+=w.length)}function Lp(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Tu(f,y,w,O,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),O(w)}catch{}}function _me(){this.g=new Jpe}function vme(f,y,w){const O=w||"";try{Zz(f,function(ve,Le){let Ut=ve;c(ve)&&(Ut=eM(ve)),y.push(O+Le+"="+encodeURIComponent(Ut))})}catch(ve){throw y.push(O+"type="+encodeURIComponent("_badmap")),ve}}function Dv(f){this.l=f.Ub||null,this.j=f.eb||!1}function Db(f,y){$o.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function o5(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function Sv(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Rv(f)}function Rv(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function s5(f){let y="";return _t(f,function(w,O){y+=O,y+=":",y+=w,y+="\r\n"}),y}function dM(f,y,w){e:{for(O in w){var O=!1;break e}O=!0}O||(w=s5(w),"string"==typeof f?null!=w&&encodeURIComponent(String(w)):ei(f,y,w))}function Ii(f){$o.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Av.prototype).add=function(f,y){wu(this),this.i=null,f=Lp(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(y),this.h+=1,this},t.forEach=function(f,y){wu(this),this.g.forEach(function(w,O){w.forEach(function(ve){f.call(y,ve,O,this)},this)},this)},t.na=function(){wu(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let O=0;O<y.length;O++){const ve=f[O];for(let Le=0;Le<ve.length;Le++)w.push(y[O])}return w},t.V=function(f){wu(this);let y=[];if("string"==typeof f)r5(this,f)&&(y=y.concat(this.g.get(Lp(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)y=y.concat(f[w])}return y},t.set=function(f,y){return wu(this),this.i=null,r5(this,f=Lp(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f&&0<(f=this.V(f)).length?String(f[0]):y},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var O=y[w];const Le=encodeURIComponent(String(O)),Ut=this.V(O);for(O=0;O<Ut.length;O++){var ve=Le;""!==Ut[O]&&(ve+="="+encodeURIComponent(String(Ut[O]))),f.push(ve)}}return this.i=f.join("&")},A(Dv,tM),Dv.prototype.g=function(){return new Db(this.l,this.j)},Dv.prototype.i=function(f){return function(){return f}}({}),A(Db,$o),(t=Db.prototype).open=function(f,y){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Rv(this)},t.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sv(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Rv(this)),this.g&&(this.readyState=3,Rv(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;o5(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Sv(this):Rv(this),3==this.readyState&&o5(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Sv(this))},t.Qa=function(f){this.g&&(this.response=f,Sv(this))},t.ga=function(){this.g&&Sv(this)},t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var w=y.next();!w.done;)f.push((w=w.value)[0]+": "+w[1]),w=y.next();return f.join("\r\n")},Object.defineProperty(Db.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),A(Ii,$o);var yme=/^https?$/i,Ime=["POST","PUT"];function a5(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,l5(f),Sb(f)}function l5(f){f.A||(f.A=!0,ss(f,"complete"),ss(f,"error"))}function c5(f){if(f.h&&typeof s<"u"&&(!f.v[1]||4!=pc(f)||2!=f.Z()))if(f.u&&4==pc(f))Mz(f.Ea,0,f);else if(ss(f,"readystatechange"),4==pc(f)){f.h=!1;try{const Ut=f.Z();e:switch(Ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var O;if(O=0===Ut){var ve=String(f.D).match(Jz)[1]||null;!ve&&a.self&&a.self.location&&(ve=a.self.location.protocol.slice(0,-1)),O=!yme.test(ve?ve.toLowerCase():"")}w=O}if(w)ss(f,"complete"),ss(f,"success");else{f.m=6;try{var Le=2<pc(f)?f.g.statusText:""}catch{Le=""}f.l=Le+" ["+f.Z()+"]",l5(f)}}finally{Sb(f)}}}function Sb(f,y){if(f.g){u5(f);const w=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||ss(f,"ready");try{w.onreadystatechange=O}catch{}}}function u5(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function pc(f){return f.g?f.g.readyState:0}function d5(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Pv(f,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||y}function h5(f){this.Aa=0,this.i=[],this.j=new bv,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pv("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pv("baseRetryDelayMs",5e3,f),this.cb=Pv("retryDelaySeedMs",1e4,f),this.Wa=Pv("forwardChannelMaxRetries",2,f),this.wa=Pv("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Wz(f&&f.concurrentRequestLimit),this.Da=new _me,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function hM(f){if(f5(f),3==f.G){var y=f.U++,w=fc(f.I);if(ei(w,"SID",f.K),ei(w,"RID",y),ei(w,"TYPE","terminate"),Mv(f,w),(y=new Cu(f,f.j,y)).L=2,y.v=Ab(fc(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&a.Image&&((new Image).src=y.v,w=!0),w||(y.g=b5(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Cb(y)}I5(f)}function Rb(f){f.g&&(pM(f),f.g.cancel(),f.g=null)}function f5(f){Rb(f),f.u&&(a.clearTimeout(f.u),f.u=null),Mb(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function Pb(f){if(!Kz(f.h)&&!f.s){f.s=!0;var y=f.Ga;ln||Xr(),vn||(ln(),vn=!0),qn.add(y,f),f.B=0}}function p5(f,y){var w;w=y?y.l:f.U++;const O=fc(f.I);ei(O,"SID",f.K),ei(O,"RID",w),ei(O,"AID",f.T),Mv(f,O),f.m&&f.o&&dM(O,f.m,f.o),w=new Cu(f,f.j,w,f.B+1),null===f.m&&(w.H=f.o),y&&(f.i=y.D.concat(f.i)),y=m5(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),uM(f.h,w),sM(w,O,y)}function Mv(f,y){f.H&&_t(f.H,function(w,O){ei(y,O,w)}),f.l&&Zz({},function(w,O){ei(y,O,w)})}function m5(f,y,w){w=Math.min(f.i.length,w);var O=f.l?_(f.l.Na,f.l,f):null;e:{var ve=f.i;let Le=-1;for(;;){const Ut=["count="+w];-1==Le?0<w?(Le=ve[0].g,Ut.push("ofs="+Le)):Le=0:Ut.push("ofs="+Le);let Vr=!0;for(let _o=0;_o<w;_o++){let _r=ve[_o].g;const Bo=ve[_o].map;if(_r-=Le,0>_r)Le=Math.max(0,ve[_o].g-100),Vr=!1;else try{vme(Bo,Ut,"req"+_r+"_")}catch{O&&O(Bo)}}if(Vr){O=Ut.join("&");break e}}}return f=f.i.splice(0,w),y.D=f,O}function g5(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ln||Xr(),vn||(ln(),vn=!0),qn.add(y,f),f.v=0}}function fM(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=Ev(_(f.Fa,f),y5(f,f.v)),f.v++,0))}function pM(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function _5(f){f.g=new Cu(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var y=fc(f.qa);ei(y,"RID","rpc"),ei(y,"SID",f.K),ei(y,"AID",f.T),ei(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&ei(y,"TO",f.ja),ei(y,"TYPE","xmlhttp"),Mv(f,y),f.m&&f.o&&dM(y,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=Ab(fc(y)),w.m=null,w.P=!0,Hz(w,f)}function Mb(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function v5(f,y){var w=null;if(f.g==y){Mb(f),pM(f),f.g=null;var O=2}else{if(!cM(f.h,y))return;w=y.D,Yz(f.h,y),O=1}if(0!=f.G)if(y.o)if(1==O){w=y.m?y.m.length:0,y=Date.now()-y.F;var ve=f.B;ss(O=Ib(),new Bz(O,w)),Pb(f)}else g5(f);else if(3==(ve=y.s)||0==ve&&0<y.X||!(1==O&&function bme(f,y){return!(Qz(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=y.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=Ev(_(f.Ga,f,y),y5(f,f.B)),f.B++,0)))}(f,y)||2==O&&fM(f)))switch(w&&0<w.length&&(y=f.h,y.i=y.i.concat(w)),ve){case 1:Wd(f,5);break;case 4:Wd(f,10);break;case 3:Wd(f,6);break;default:Wd(f,2)}}function y5(f,y){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*y}function Wd(f,y){if(f.j.info("Error code "+y),2==y){var w=_(f.fb,f),O=f.Xa;const ve=!O;O=new qd(O||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||wb(O,"https"),Ab(O),ve?function mme(f,y){const w=new bv;if(a.Image){const O=new Image;O.onload=I(Tu,w,"TestLoadImage: loaded",!0,y,O),O.onerror=I(Tu,w,"TestLoadImage: error",!1,y,O),O.onabort=I(Tu,w,"TestLoadImage: abort",!1,y,O),O.ontimeout=I(Tu,w,"TestLoadImage: timeout",!1,y,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else y(!1)}(O.toString(),w):function gme(f,y){new bv;const O=new AbortController,ve=setTimeout(()=>{O.abort(),Tu(0,0,!1,y)},1e4);fetch(f,{signal:O.signal}).then(Le=>{clearTimeout(ve),Tu(0,0,!!Le.ok,y)}).catch(()=>{clearTimeout(ve),Tu(0,0,!1,y)})}(O.toString(),w)}else as(2);f.G=0,f.l&&f.l.sa(y),I5(f),f5(f)}function I5(f){if(f.G=0,f.ka=[],f.l){const y=Xz(f.h);(0!=y.length||0!=f.i.length)&&(V(f.ka,y),V(f.ka,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.ra()}}function E5(f,y,w){var O=w instanceof qd?fc(w):new qd(w);if(""!=O.g)y&&(O.g=y+"."+O.g),Tb(O,O.s);else{var ve=a.location;O=ve.protocol,y=y?y+"."+ve.hostname:ve.hostname,ve=+ve.port;var Le=new qd(null);O&&wb(Le,O),y&&(Le.g=y),ve&&Tb(Le,ve),w&&(Le.l=w),O=Le}return y=f.ya,(w=f.D)&&y&&ei(O,w,y),ei(O,"VER",f.la),Mv(f,O),O}function b5(f,y,w){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(y=new Ii(f.Ca&&!f.pa?new Dv({eb:w}):f.pa)).Ha(f.J),y}function C5(){}function xb(){}function Us(f,y){$o.call(this),this.g=new h5(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!z(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!z(y)&&(this.g.D=y,null!==(f=this.h)&&y in f&&y in(f=this.h)&&delete f[y]),this.j=new Vp(this)}function w5(f){nM.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const w in y){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,y=null!==y&&f in y?y[f]:void 0),this.data=y}else this.data=f}function T5(){rM.call(this),this.status=1}function Vp(f){this.g=f}(t=Ii.prototype).Ha=function(f){this.J=f},t.ea=function(f,y,w,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():iM.g(),this.v=function Oz(f){return f.h||(f.h=f.i())}(this.o?this.o:iM),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Le){return void a5(this,Le)}if(f=w||"",w=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var ve in O)w.set(ve,O[ve]);else{if("function"!=typeof O.keys||"function"!=typeof O.get)throw Error("Unknown input type for opt_headers: "+String(O));for(const Le of O.keys())w.set(Le,O.get(Le))}O=Array.from(w.keys()).find(Le=>"content-type"==Le.toLowerCase()),ve=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ime,y,void 0))||O||ve||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,Ut]of w)this.g.setRequestHeader(Le,Ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{u5(this),this.u=!0,this.g.send(f),this.u=!1}catch(Le){a5(this,Le)}},t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ss(this,"complete"),ss(this,"abort"),Sb(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sb(this,!0)),Ii.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?c5(this):this.bb())},t.bb=function(){c5(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<pc(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&0==y.indexOf(f)&&(y=y.substring(f.length)),Zpe(y)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=h5.prototype).la=8,t.G=1,t.connect=function(f,y,w,O){as(0),this.W=f,this.H=y||{},w&&void 0!==O&&(this.H.OSID=w,this.H.OAID=O),this.F=this.X,this.I=E5(this,null,this.W),Pb(this)},t.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ve=new Cu(this,this.j,f);let Le=this.o;if(this.S&&(Le?(Le=$(Le),te(Le,this.S)):Le=this.S),null!==this.m||this.O||(ve.H=Le,Le=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){var O=this.i[w];if(void 0===(O="__data__"in O.map&&"string"==typeof(O=O.map.__data__)?O.length:void 0))break;if(4096<(y+=O)){y=w;break e}if(4096===y||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=m5(this,ve,y),ei(w=fc(this.I),"RID",f),ei(w,"CVER",22),this.D&&ei(w,"X-HTTP-Session-Id",this.D),Mv(this,w),Le&&(this.O?y="headers="+encodeURIComponent(String(s5(Le)))+"&"+y:this.m&&dM(w,this.m,Le)),uM(this.h,ve),this.Ua&&ei(w,"TYPE","init"),this.P?(ei(w,"$req",y),ei(w,"SID","null"),ve.T=!0,sM(ve,w,null)):sM(ve,w,y),this.G=2}}else 3==this.G&&(f?p5(this,f):0==this.i.length||Kz(this.h)||p5(this))},t.Fa=function(){if(this.u=null,_5(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ev(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,as(10),Rb(this),_5(this))},t.Za=function(){null!=this.C&&(this.C=null,Rb(this),fM(this),as(19))},t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),as(2)):(this.j.info("Failed to ping google.com"),as(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=C5.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},xb.prototype.g=function(f,y){return new Us(f,y)},A(Us,$o),Us.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Us.prototype.close=function(){hM(this.g)},Us.prototype.o=function(f){var y=this.g;if("string"==typeof f){var w={};w.__data__=f,f=w}else this.u&&((w={}).__data__=eM(f),f=w);y.i.push(new ome(y.Ya++,f)),3==y.G&&Pb(y)},Us.prototype.N=function(){this.g.l=null,delete this.j,hM(this.g),delete this.g,Us.aa.N.call(this)},A(w5,nM),A(T5,rM),A(Vp,C5),Vp.prototype.ua=function(){ss(this.g,"a")},Vp.prototype.ta=function(f){ss(this.g,new w5(f))},Vp.prototype.sa=function(f){ss(this.g,new T5)},Vp.prototype.ra=function(){ss(this.g,"b")},xb.prototype.createWebChannel=xb.prototype.g,Us.prototype.send=Us.prototype.o,Us.prototype.open=Us.prototype.m,Us.prototype.close=Us.prototype.close,UB=Jl.createWebChannelTransport=function(){return new xb},BB=Jl.getStatEventTarget=function(){return Ib()},$B=Jl.Event=Hd,tS=Jl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eb.NO_ERROR=0,Eb.TIMEOUT=8,Eb.HTTP_ERROR=6,hE=Jl.ErrorCode=Eb,Uz.COMPLETE="complete",VB=Jl.EventType=Uz,Fz.EventType=yv,yv.OPEN="a",yv.CLOSE="b",yv.ERROR="c",yv.MESSAGE="d",$o.prototype.listen=$o.prototype.K,C_=Jl.WebChannel=Fz,LB=Jl.FetchXmlHttpFactory=Dv,Ii.prototype.listenOnce=Ii.prototype.L,Ii.prototype.getLastError=Ii.prototype.Ka,Ii.prototype.getLastErrorCode=Ii.prototype.Ba,Ii.prototype.getStatus=Ii.prototype.Z,Ii.prototype.getResponseJson=Ii.prototype.Oa,Ii.prototype.getResponseText=Ii.prototype.oa,Ii.prototype.send=Ii.prototype.ea,Ii.prototype.setWithCredentials=Ii.prototype.Ha,FB=Jl.XhrIo=Ii}).apply(typeof dE<"u"?dE:typeof self<"u"?self:typeof window<"u"?window:{});const jB="@firebase/firestore";class ro{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ro.UNAUTHENTICATED=new ro(null),ro.GOOGLE_CREDENTIALS=new ro("google-credentials-uid"),ro.FIRST_PARTY=new ro("first-party-uid"),ro.MOCK_USER=new ro("mock-user");let Kf="10.12.1";const nu=new ll.Vy("@firebase/firestore");function Qf(){return nu.logLevel}function pt(t,...e){if(nu.logLevel<=ll.$b.DEBUG){const n=e.map(nS);nu.debug(`Firestore (${Kf}): ${t}`,...n)}}function Ri(t,...e){if(nu.logLevel<=ll.$b.ERROR){const n=e.map(nS);nu.error(`Firestore (${Kf}): ${t}`,...n)}}function _s(t,...e){if(nu.logLevel<=ll.$b.WARN){const n=e.map(nS);nu.warn(`Firestore (${Kf}): ${t}`,...n)}}function nS(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Yt(t="Unexpected state"){const e=`FIRESTORE (${Kf}) INTERNAL ASSERTION FAILED: `+t;throw Ri(e),new Error(e)}function an(t,e){t||Yt()}function Bt(t,e){return t}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends $n.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class zB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ro.UNAUTHENTICATED))}shutdown(){}}class lae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cae{constructor(e){this.t=e,this.currentUser=ro.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable((0,E.A)(function*(){yield c.promise,yield o(r.currentUser)}))},l=c=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(an("string"==typeof r.accessToken),new zB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return an(null===e||"string"==typeof e),new ro(e)}}class uae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ro.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ro.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,pt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(an("string"==typeof n.token),this.R=n.token,new HB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class GB{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=fae(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Nn(t,e){return t<e?-1:t>e?1:0}function Yf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function qB(t){return t+"\0"}class ni{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new lt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new lt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ni(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nn(this.nanoseconds,e.nanoseconds):Nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mn(e)}static min(){return new mn(new ni(0,0))}static max(){return new mn(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class w_{constructor(e,n,r){void 0===n?n=0:n>e.length&&Yt(),void 0===r?r=e.length-n:r>e.length-n&&Yt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===w_.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof w_?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class sr extends w_{construct(e,n,r){return new sr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new sr(n)}static emptyPath(){return new sr([])}}const pae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends w_{construct(e,n,r){return new Kr(e,n,r)}static isValidIdentifier(e){return pae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new lt(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new lt(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new lt(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new lt(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(n)}static emptyPath(){return new Kr([])}}class jt{constructor(e){this.path=e}static fromPath(e){return new jt(sr.fromString(e))}static fromName(e){return new jt(sr.fromString(e).popFirst(5))}static empty(){return new jt(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return sr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jt(new sr(e.slice()))}}class Xf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function rS(t){return t.fields.find(e=>2===e.kind)}function bd(t){return t.fields.filter(e=>2!==e.kind)}Xf.UNKNOWN_ID=-1;class Cd{constructor(e,n){this.fieldPath=e,this.kind=n}}class Zf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Zf(0,Vs.min())}}function WB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=mn.fromTimestamp(1e9===r?new ni(n+1,0):new ni(n,r));return new Vs(i,jt.empty(),e)}function KB(t){return new Vs(t.readTime,t.key,-1)}class Vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vs(mn.min(),jt.empty(),-1)}static max(){return new Vs(mn.max(),jt.empty(),-1)}}function iS(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=jt.comparator(t.documentKey,e.documentKey),0!==n?n:Nn(t.largestBatchId,e.largestBatchId))}const QB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ru(t){return oS.apply(this,arguments)}function oS(){return(oS=(0,E.A)(function*(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==QB)throw t;pt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.reject(n)}static resolve(e){return new Ee((n,r)=>{n(e)})}static reject(e){return new Ee((n,r)=>{r(e)})}static waitFor(e){return new Ee((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Ee.resolve(!1);for(const r of e)n=n.next(i=>i?Ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Ee((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new Ee((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class fE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Wi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new T_(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=sS(r.target.error);this.V.reject(new T_(e,i))}}static open(e,n,r,i){try{return new fE(n,e.transaction(i,r))}catch(o){throw new T_(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(pt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new vae(n)}}class cl{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===cl.S((0,$n.ZQ)())&&Ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return pt("SimpleDb","Removing database:",e),wd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,$n.zW)())return!1;if(cl.C())return!0;const e=(0,$n.ZQ)(),n=cl.S(e),r=0<n&&n<10,i=XB(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){var n=this;return(0,E.A)(function*(){return n.db||(pt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new T_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new lt(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new lt(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new T_(e,a))},o.onupgradeneeded=s=>{pt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.O(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{pt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.N&&(n.db.onversionchange=r=>n.N(r)),n.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,E.A)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.M(e);const l=fE.open(o.db,e,s?"readonly":"readwrite",r),c=i(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),Ee.reject(d))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,d="FirebaseError"!==c.name&&a<3;if(pt("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),o.close(),!d)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function XB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class _ae{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return wd(this.B.delete())}}class T_ extends lt{constructor(e,n){super(xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function iu(t){return"IndexedDbTransactionError"===t.name}class vae{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(pt("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(pt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wd(r)}add(e){return pt("SimpleDb","ADD",this.store.name,e,e),wd(this.store.add(e))}get(e){return wd(this.store.get(e)).next(n=>(void 0===n&&(n=null),pt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return pt("SimpleDb","DELETE",this.store.name,e),wd(this.store.delete(e))}count(){return pt("SimpleDb","COUNT",this.store.name),wd(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new Ee((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new Ee((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){pt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new Ee((r,i)=>{n.onerror=o=>{const s=sS(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){const r=[];return new Ee((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new _ae(a),c=n(a.primaryKey,a.value,l);if(c instanceof Ee){const d=c.catch(p=>(l.done(),Ee.reject(p)));r.push(d)}l.isDone?i():null===l.K?a.continue():a.continue(l.K)}}).next(()=>Ee.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function wd(t){return new Ee((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=sS(r.target.error);n(i)}})}let ZB=!1;function sS(t){const e=cl.S((0,$n.ZQ)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZB||(ZB=!0,setTimeout(()=>{throw r},0)),r}}return t}class yae{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var n=this;pt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,E.A)(function*(){n.task=null;try{pt("IndexBackfiller",`Documents written: ${yield n.Z.ee()}`)}catch(r){iu(r)?pt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield ru(r)}yield n.X(6e4)}))}}class Iae{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){var n=this;return(0,E.A)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.te(r,e))})()}te(e,n){const r=new Set;let i=n,o=!0;return Ee.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return pt("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(pt("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=KB(o);iS(s,r)>0&&(r=s)}),new Vs(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let $s=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function A_(t){return null==t}function D_(t){return 0===t&&1/t==-1/0}function JB(t){return"number"==typeof t&&Number.isInteger(t)&&!D_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function ko(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eU(e)),e=Eae(t.get(n),e);return eU(e)}function Eae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function eU(t){return t+"\x01\x01"}function ul(t){const e=t.length;if(an(e>=2),2===e)return an("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),sr.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Yt(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Yt()}o=s+2}return new sr(r)}const tU=["userId","batchId"];function pE(t,e){return[t,ko(e)]}function nU(t,e,n){return[t,ko(e),n]}const bae={},Cae=["prefixPath","collectionGroup","readTime","documentId"],wae=["prefixPath","collectionGroup","documentId"],Tae=["collectionGroup","readTime","prefixPath","documentId"],Aae=["canonicalId","targetId"],Dae=["targetId","path"],Sae=["path","targetId"],Rae=["collectionId","parent"],Pae=["indexId","uid"],Mae=["uid","sequenceNumber"],xae=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Nae=["indexId","uid","orderedDocumentKey"],kae=["userId","collectionPath","documentId"],Oae=["userId","collectionPath","largestBatchId"],Fae=["userId","collectionGroup","largestBatchId"],rU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Lae=[...rU,"documentOverlays"],iU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oU=iU,sU=[...oU,"indexConfiguration","indexState","indexEntries"],Vae=sU;class aS extends YB{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function io(t,e){const n=Bt(t);return cl.F(n._e,e)}function aU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ou(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Hr{constructor(e,n){this.comparator=e,this.root=n||po.EMPTY}insert(e,n){return new Hr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,po.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,po.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mE(this.root,e,this.comparator,!1)}getReverseIterator(){return new mE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mE(this.root,e,this.comparator,!0)}}class mE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class po{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:po.RED,this.left=null!=i?i:po.EMPTY,this.right=null!=o?o:po.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new po(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return po.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return po.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,po.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,po.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yt();const e=this.left.check();if(e!==this.right.check())throw Yt();return e+(this.isRed()?0:1)}}po.EMPTY=null,po.RED=!0,po.BLACK=!1,po.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt()}get value(){throw Yt()}get color(){throw Yt()}get left(){throw Yt()}get right(){throw Yt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new po(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uU(this.data.getIterator())}getIteratorFrom(e){return new uU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xr(this.comparator);return n.data=e,n}}class uU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jf(t){return t.hasNext()?t.getNext():void 0}class vs{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new vs([])}unionWith(e){let n=new xr(Kr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class dU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ki{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dU("Invalid base64 string: "+o):o}}(e);return new Ki(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ki(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ki.EMPTY_BYTE_STRING=new Ki("");const Bae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ec(t){if(an(!!t),"string"==typeof t){let e=0;const n=Bae.exec(t);if(an(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_i(t.seconds),nanos:_i(t.nanos)}}function _i(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tc(t){return"string"==typeof t?Ki.fromBase64String(t):Ki.fromUint8Array(t)}function gE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _E(t){const e=t.mapValue.fields.__previous_value__;return gE(e)?_E(e):e}function S_(t){const e=ec(t.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}class Uae{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class su{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new su("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}const au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vE={nullValue:"NULL_VALUE"};function lu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gE(t)?4:mU(t)?9007199254740991:10:Yt()}function dl(t,e){if(t===e)return!0;const n=lu(t);if(n!==lu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return S_(t).isEqual(S_(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ec(i.timestampValue),a=ec(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,tc(t.bytesValue).isEqual(tc(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _i(i.geoPointValue.latitude)===_i(o.geoPointValue.latitude)&&_i(i.geoPointValue.longitude)===_i(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _i(i.integerValue)===_i(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=_i(i.doubleValue),a=_i(o.doubleValue);return s===a?D_(s)===D_(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Yf(t.arrayValue.values||[],e.arrayValue.values||[],dl);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(aU(s)!==aU(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!dl(s[l],a[l])))return!1;return!0}(t,e);default:return Yt()}var o}function R_(t,e){return void 0!==(t.values||[]).find(n=>dl(n,e))}function cu(t,e){if(t===e)return 0;const n=lu(t),r=lu(e);if(n!==r)return Nn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nn(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=_i(o.integerValue||o.doubleValue),l=_i(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return hU(t.timestampValue,e.timestampValue);case 4:return hU(S_(t),S_(e));case 5:return Nn(t.stringValue,e.stringValue);case 6:return function(o,s){const a=tc(o),l=tc(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Nn(a[c],l[c]);if(0!==d)return d}return Nn(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Nn(_i(o.latitude),_i(s.latitude));return 0!==a?a:Nn(_i(o.longitude),_i(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=cu(a[c],l[c]);if(d)return d}return Nn(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===au.mapValue&&s===au.mapValue)return 0;if(o===au.mapValue)return 1;if(s===au.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const _=Nn(l[p],d[p]);if(0!==_)return _;const I=cu(a[l[p]],c[d[p]]);if(0!==I)return I}return Nn(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Yt()}}function hU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Nn(t,e);const n=ec(t),r=ec(e),i=Nn(n.seconds,r.seconds);return 0!==i?i:Nn(n.nanos,r.nanos)}function ep(t){return lS(t)}function lS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ec(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?tc(t.bytesValue).toBase64():"referenceValue"in t?jt.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=lS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${lS(n.fields[s])}`;return i+"}"}(t.mapValue):Yt()}function Td(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cS(t){return!!t&&"integerValue"in t}function P_(t){return!!t&&"arrayValue"in t}function fU(t){return!!t&&"nullValue"in t}function pU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function IE(t){return!!t&&"mapValue"in t}function M_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ou(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=M_(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=M_(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function jae(t){return"nullValue"in t?vE:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Td(su.empty(),jt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Yt()}function zae(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Td(su.empty(),jt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?au:Yt()}function gU(t,e){const n=cu(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function _U(t,e){const n=cu(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class mo{constructor(e){this.value=e}static empty(){return new mo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!IE(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=M_(n)}setAll(e){let n=Kr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=M_(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());IE(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];IE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ou(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new mo(M_(this.value))}}function vU(t){const e=[];return ou(t.fields,(n,r)=>{const i=new Kr([n]);if(IE(r)){const o=vU(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new vs(e)}class Qr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Qr(e,0,mn.min(),mn.min(),mn.min(),mo.empty(),0)}static newFoundDocument(e,n,r,i){return new Qr(e,1,n,mn.min(),r,i,0)}static newNoDocument(e,n){return new Qr(e,2,n,mn.min(),mn.min(),mo.empty(),0)}static newUnknownDocument(e,n){return new Qr(e,3,n,mn.min(),mn.min(),mo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uu{constructor(e,n){this.position=e,this.inclusive=n}}function yU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?jt.comparator(jt.fromName(s.referenceValue),n.key):cu(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function IU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dl(t.position[n],e.position[n]))return!1;return!0}class x_{constructor(e,n="asc"){this.field=e,this.dir=n}}function Hae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class EU{}class ar extends EU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Gae(e,n,r):"array-contains"===n?new Kae(e,r):"in"===n?new DU(e,r):"not-in"===n?new Qae(e,r):"array-contains-any"===n?new Yae(e,r):new ar(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new qae(e,r):new Wae(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(cu(n,this.value)):null!==n&&lu(this.value)===lu(n)&&this.matchesComparison(cu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends EU{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Sr(e,n)}matches(e){return tp(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tp(t){return"and"===t.op}function uS(t){return"or"===t.op}function dS(t){return bU(t)&&tp(t)}function bU(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function hS(t){if(t instanceof ar)return t.field.canonicalString()+t.op.toString()+ep(t.value);if(dS(t))return t.filters.map(e=>hS(e)).join(",");{const e=t.filters.map(n=>hS(n)).join(",");return`${t.op}(${e})`}}function CU(t,e){return t instanceof ar?(r=t,(i=e)instanceof ar&&r.op===i.op&&r.field.isEqual(i.field)&&dl(r.value,i.value)):t instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&CU(s,i.filters[a]),!0)}(t,e):void Yt();var r,i}function wU(t,e){const n=t.filters.concat(e);return Sr.create(n,t.op)}function TU(t){return t instanceof ar?`${(n=t).field.canonicalString()} ${n.op} ${ep(n.value)}`:t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(TU).join(" ,")+"}"}(t):"Filter";var n}class Gae extends ar{constructor(e,n,r){super(e,n,r),this.key=jt.fromName(r.referenceValue)}matches(e){const n=jt.comparator(e.key,this.key);return this.matchesComparison(n)}}class qae extends ar{constructor(e,n){super(e,"in",n),this.keys=AU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Wae extends ar{constructor(e,n){super(e,"not-in",n),this.keys=AU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>jt.fromName(r.referenceValue))}class Kae extends ar{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return P_(n)&&R_(n.arrayValue,this.value)}}class DU extends ar{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&R_(this.value.arrayValue,n)}}class Qae extends ar{constructor(e,n){super(e,"not-in",n)}matches(e){if(R_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!R_(this.value.arrayValue,n)}}class Yae extends ar{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!P_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>R_(this.value.arrayValue,r))}}class Xae{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function fS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Xae(t,e,n,r,i,o,s)}function Ad(t){const e=Bt(t);if(null===e.ue){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),A_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ep(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ep(r)).join(",")),e.ue=n}return e.ue}function N_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Hae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IU(t.startAt,e.startAt)&&IU(t.endAt,e.endAt)}function EE(t){return jt.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function bE(t,e){return t.filters.filter(n=>n instanceof ar&&n.field.isEqual(e))}function SU(t,e,n){let r=vE,i=!0;for(const o of bE(t,e)){let s=vE,a=!0;switch(o.op){case"<":case"<=":s=jae(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=vE}gU({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];gU({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function RU(t,e,n){let r=au,i=!0;for(const o of bE(t,e)){let s=au,a=!0;switch(o.op){case">=":case">":s=zae(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=au}_U({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];_U({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class nc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function PU(t,e,n,r,i,o,s,a){return new nc(t,e,n,r,i,o,s,a)}function np(t){return new nc(t)}function MU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function pS(t){return null!==t.collectionGroup}function rp(t){const e=Bt(t);if(null===e.ce){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new xr(Kr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new x_(o,r))}),n.has(Kr.keyField().canonicalString())||e.ce.push(new x_(Kr.keyField(),r))}return e.ce}function Oo(t){const e=Bt(t);return e.le||(e.le=function NU(t,e){if("F"===t.limitType)return fS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new x_(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new uu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uu(t.startAt.position,t.startAt.inclusive):null;return fS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,rp(t))),e.le}function mS(t,e){const n=t.filters.concat([e]);return new nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function CE(t,e,n){return new nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function k_(t,e){return N_(Oo(t),Oo(e))&&t.limitType===e.limitType}function kU(t){return`${Ad(Oo(t))}|lt:${t.limitType}`}function ip(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TU(i)).join(", ")}]`),A_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ep(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ep(i)).join(",")),`Target(${r})`}(Oo(t))}; limitType=${t.limitType})`}function O_(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):jt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of rp(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,l){const c=yU(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,rp(r),i)||r.endAt&&!function(s,a,l){const c=yU(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,rp(r),i)));var r,i}function OU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FU(t){return(e,n)=>{let r=!1;for(const i of rp(t)){const o=Zae(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Zae(t,e,n){const r=t.field.isKeyField()?jt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?cu(l,c):Yt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Yt()}}class rc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ou(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return cU(this.inner)}size(){return this.innerSize}}const Jae=new Hr(jt.comparator);function ys(){return Jae}const LU=new Hr(jt.comparator);function F_(...t){let e=LU;for(const n of t)e=e.insert(n.key,n);return e}function VU(t){let e=LU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hl(){return L_()}function $U(){return L_()}function L_(){return new rc(t=>t.toString(),(t,e)=>t.isEqual(e))}const ele=new Hr(jt.comparator),tle=new xr(jt.comparator);function Un(...t){let e=tle;for(const n of t)e=e.add(n);return e}const nle=new xr(Nn);function gS(){return nle}function BU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:D_(e)?"-0":e}}function UU(t){return{integerValue:""+t}}function jU(t,e){return JB(e)?UU(e):BU(t,e)}class wE{constructor(){this._=void 0}}function rle(t,e,n){return t instanceof op?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&gE(o)&&(o=_E(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Dd?HU(t,e):t instanceof Sd?GU(t,e):function(i,o){const s=zU(i,o),a=qU(s)+qU(i.Pe);return cS(s)&&cS(i.Pe)?UU(a):BU(i.serializer,a)}(t,e)}function ile(t,e,n){return t instanceof Dd?HU(t,e):t instanceof Sd?GU(t,e):n}function zU(t,e){return t instanceof sp?cS(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class op extends wE{}class Dd extends wE{constructor(e){super(),this.elements=e}}function HU(t,e){const n=WU(e);for(const r of t.elements)n.some(i=>dl(i,r))||n.push(r);return{arrayValue:{values:n}}}class Sd extends wE{constructor(e){super(),this.elements=e}}function GU(t,e){let n=WU(e);for(const r of t.elements)n=n.filter(i=>!dl(i,r));return{arrayValue:{values:n}}}class sp extends wE{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qU(t){return _i(t.integerValue||t.doubleValue)}function WU(t){return P_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class V_{constructor(e,n){this.field=e,this.transform=n}}class sle{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function TE(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class AE{}function KU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new lp(t.key,ri.none()):new ap(t.key,t.data,ri.none());{const n=t.data,r=mo.empty();let i=new xr(Kr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ic(t.key,r,new vs(i.toArray()),ri.none())}}function ale(t,e,n){t instanceof ap?function(i,o,s){const a=i.value.clone(),l=XU(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ic?function(i,o,s){if(!TE(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=XU(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(YU(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function $_(t,e,n,r){return t instanceof ap?function(o,s,a,l){if(!TE(o.precondition,s))return a;const c=o.value.clone(),d=ZU(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ic?function(o,s,a,l){if(!TE(o.precondition,s))return a;const c=ZU(o.fieldTransforms,l,s),d=s.data;return d.setAll(YU(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):(a=n,TE(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function lle(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=zU(r.transform,i||null);null!=o&&(null===n&&(n=mo.empty()),n.set(r.field,o))}return n||null}function QU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Yf(r,i,(o,s)=>function ole(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Dd&&i instanceof Dd||r instanceof Sd&&i instanceof Sd?Yf(r.elements,i.elements,dl):r instanceof sp&&i instanceof sp?dl(r.Pe,i.Pe):r instanceof op&&i instanceof op);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class ap extends AE{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ic extends AE{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XU(t,e,n){const r=new Map;an(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,ile(s,a,n[i]))}return r}function ZU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,rle(o,s,e))}return r}class lp extends AE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _S extends AE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ale(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$U();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=KU(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(mn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Un())}isEqual(e){return this.batchId===e.batchId&&Yf(this.mutations,e.mutations,(n,r)=>QU(n,r))&&Yf(this.baseMutations,e.baseMutations,(n,r)=>QU(n,r))}}class yS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){an(e.mutations.length===r.length);let i=function(){return ele}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new yS(e,n,r,i)}}class IS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cle{constructor(e,n){this.count=e,this.unchangedNames=n}}var $i,ur;function ej(t){switch(t){default:return Yt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function tj(t){if(void 0===t)return Ri("GRPC error has no .code"),xe.UNKNOWN;switch(t){case $i.OK:return xe.OK;case $i.CANCELLED:return xe.CANCELLED;case $i.UNKNOWN:return xe.UNKNOWN;case $i.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case $i.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case $i.INTERNAL:return xe.INTERNAL;case $i.UNAVAILABLE:return xe.UNAVAILABLE;case $i.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case $i.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case $i.NOT_FOUND:return xe.NOT_FOUND;case $i.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case $i.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case $i.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case $i.ABORTED:return xe.ABORTED;case $i.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case $i.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case $i.DATA_LOSS:return xe.DATA_LOSS;default:return Yt()}}(ur=$i||($i={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";function nj(){return new TextEncoder}const ule=new Ed([4294967295,4294967295],0);function rj(t){const e=nj().encode(t),n=new OB;return n.update(e),new Uint8Array(n.digest())}function ij(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ed([n,r],0),new Ed([i,o],0)]}class ES{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new B_(`Invalid padding: ${n}`);if(r<0)throw new B_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new B_(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new B_(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ed.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ed.fromNumber(r)));return 1===i.compare(ule)&&(i=new Ed([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const n=rj(e),[r,i]=ij(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new ES(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const n=rj(e),[r,i]=ij(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class B_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class U_{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,j_.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new U_(mn.min(),i,new Hr(Nn),ys(),Un())}}class j_{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new j_(r,n,Un(),Un(),Un())}}class SE{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class oj{constructor(e,n){this.targetId=e,this.me=n}}class sj{constructor(e,n,r=Ki.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aj{constructor(){this.fe=0,this.ge=cj(),this.pe=Ki.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Un(),n=Un(),r=Un();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Yt()}}),new j_(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=cj()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,an(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dle{constructor(e){this.Le=e,this.Be=new Map,this.ke=ys(),this.qe=lj(),this.Qe=new Hr(Nn)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Yt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(EE(o))if(0===r){const s=new jt(o.path);this.Ue(n,s,Qr.newNoDocument(s,mn.min()))}else an(1===r);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;0!==l&&(this.je(n),this.Qe=this.Qe.insert(n,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=tc(r).toUint8Array()}catch(l){if(l instanceof dU)return _s("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ES(s,i,o)}catch(l){return _s(l instanceof B_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&EE(a.target)){const l=new jt(a.target.path);null!==this.ke.get(l)||this.it(s,l)||this.Ue(s,l,Qr.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=Un();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new U_(e,n,this.Qe,this.ke,r);return this.ke=ys(),this.qe=lj(),this.Qe=new Hr(Nn),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new aj,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xr(Nn),this.qe=this.qe.insert(e,n)),n}ze(e){const n=null!==this.Je(e);return n||pt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new aj),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function lj(){return new Hr(jt.comparator)}function cj(){return new Hr(jt.comparator)}const hle={asc:"ASCENDING",desc:"DESCENDING"},fle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ple={and:"AND",or:"OR"};class mle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bS(t,e){return t.useProto3Json||A_(e)?e:{value:e}}function cp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gle(t,e){return cp(t,e.toTimestamp())}function Pi(t){return an(!!t),mn.fromTimestamp(function(n){const r=ec(n);return new ni(r.seconds,r.nanos)}(t))}function CS(t,e){return wS(t,e).canonicalString()}function wS(t,e){const n=(i=t,new sr(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function dj(t){const e=sr.fromString(t);return an(bj(e)),e}function z_(t,e){return CS(t.databaseId,e.path)}function fl(t,e){const n=dj(e);if(n.get(1)!==t.databaseId.projectId)throw new lt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new lt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new jt(pj(n))}function hj(t,e){return CS(t.databaseId,e)}function fj(t){const e=dj(t);return 4===e.length?sr.emptyPath():pj(e)}function TS(t){return new sr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pj(t){return an(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function mj(t,e,n){return{name:z_(t,e),fields:n.value.mapValue.fields}}function gj(t,e,n){const r=fl(t,e.name),i=Pi(e.updateTime),o=e.createTime?Pi(e.createTime):mn.min(),s=new mo({mapValue:{fields:e.fields}}),a=Qr.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function H_(t,e){let n;if(e instanceof ap)n={update:mj(t,e.key,e.value)};else if(e instanceof lp)n={delete:z_(t,e.key)};else if(e instanceof ic)n={update:mj(t,e.key,e.data),updateMask:wle(e.fieldMask)};else{if(!(e instanceof _S))return Yt();n={verify:z_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof op)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Sd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Yt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:gle(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Yt()),n;var o}function AS(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?ri.updateTime(Pi(o.updateTime)):void 0!==o.exists?ri.exists(o.exists):ri.none():ri.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;"setToServerValue"in a?(an("REQUEST_TIME"===a.setToServerValue),l=new op):"appendMissingElements"in a?l=new Dd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Sd(a.removeAllFromArray.values||[]):"increment"in a?l=new sp(s,a.increment):Yt();const c=Kr.fromServerFormat(a.fieldPath);return new V_(c,l)}(t,i)):[];var o;if(e.update){const i=fl(t,e.update.name),o=new mo({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new vs((e.updateMask.fieldPaths||[]).map(d=>Kr.fromServerFormat(d)));return new ic(i,o,s,n,r)}return new ap(i,o,n,r)}if(e.delete){const i=fl(t,e.delete);return new lp(i,n)}if(e.verify){const i=fl(t,e.verify);return new _S(i,n)}return Yt()}function _j(t,e){return{documents:[hj(t,e.path)]}}function RE(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hj(t,i);const o=function(c){if(0!==c.length)return Ej(Sr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:du((_=d).field),direction:Ele(_.dir)};var _})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=bS(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i};var c}function yj(t){let e=fj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){an(1===r);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(p){const _=Ij(p);return _ instanceof Sr&&dS(_)?_.getFilters():[_]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(_=>{return new x_(up((A=_).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let a=null;n.limit&&(a=function(p){let _;return _="object"==typeof p?p.value:p,A_(_)?null:_}(n.limit));let l=null;var p;n.startAt&&(l=new uu((p=n.startAt).values||[],!!p.before));let c=null;return n.endAt&&(c=function(p){return new uu(p.values||[],!p.before)}(n.endAt)),PU(e,i,s,o,a,"F",l,c)}function Ij(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=up(n.unaryFilter.field);return ar.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=up(n.unaryFilter.field);return ar.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=up(n.unaryFilter.field);return ar.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=up(n.unaryFilter.field);return ar.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Yt()}}(t):void 0!==t.fieldFilter?ar.create(up((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Sr.create(n.compositeFilter.filters.map(r=>Ij(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Yt()}}(n.compositeFilter.op))}(t):Yt();var n}function Ele(t){return hle[t]}function ble(t){return fle[t]}function Cle(t){return ple[t]}function du(t){return{fieldPath:t.canonicalString()}}function up(t){return Kr.fromServerFormat(t.fieldPath)}function Ej(t){return t instanceof ar?function(n){if("=="===n.op){if(pU(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NAN"}};if(fU(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(pU(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NAN"}};if(fU(n.value))return{unaryFilter:{field:du(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(n.field),op:ble(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const r=n.getFilters().map(i=>Ej(i));return 1===r.length?r[0]:{compositeFilter:{op:Cle(n.op),filters:r}}}(t):Yt()}function wle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bj(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class oc{constructor(e,n,r,i,o=mn.min(),s=mn.min(),a=Ki.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cj{constructor(e){this.ct=e}}function wj(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:PE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:z_(o=t.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:cp(o,s.version.toTimestamp()),createTime:cp(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Rd(e.version)};else{if(!e.isUnknownDocument())return Yt();r.unknownDocument={path:n.path.toArray(),version:Rd(e.version)}}var o,s;return r}function PE(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Rd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pd(t){const e=new ni(t.seconds,t.nanoseconds);return mn.fromTimestamp(e)}function Md(t,e){const n=(e.baseMutations||[]).map(o=>AS(t.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>AS(t.ct,o)),i=ni.fromMillis(e.localWriteTimeMs);return new vS(e.batchId,i,n,r)}function G_(t){const e=Pd(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Pd(t.lastLimboFreeSnapshotVersion):mn.min();let r;return r=void 0!==t.query.documents?(an(1===(o=t.query).documents.length),Oo(np(fj(o.documents[0])))):function(o){return Oo(yj(o))}(t.query),new oc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ki.fromBase64String(t.resumeToken));var o}function Tj(t,e){const n=Rd(e.snapshotVersion),r=Rd(e.lastLimboFreeSnapshotVersion);let i;i=EE(e.target)?_j(t.ct,e.target):RE(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ad(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function DS(t){const e=yj({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?CE(e,e.limit,"L"):e}function SS(t,e){return new IS(e.largestBatchId,AS(t.ct,e.overlayMutation))}function Aj(t,e){const n=e.path.lastSegment();return[t,ko(e.path.popLast()),n]}function Dj(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Rd(r.readTime),documentKey:ko(r.documentKey.path),largestBatchId:r.largestBatchId}}class Ale{getBundleMetadata(e,n){return Sj(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Pd(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return Sj(e).put({bundleId:(i=n).id,createTime:Rd(Pi(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return Rj(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:DS(o.bundledQuery),readTime:Pd(o.readTime)};var o})}saveNamedQuery(e,n){return Rj(e).put({name:(i=n).name,readTime:Rd(Pi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Sj(t){return io(t,"bundles")}function Rj(t){return io(t,"namedQueries")}class ME{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new ME(e,n.uid||"")}getOverlay(e,n){return q_(e).get(Aj(this.userId,n)).next(r=>r?SS(this.serializer,r):null)}getOverlays(e,n){const r=hl();return Ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new IS(n,s);i.push(this.ht(e,a))}),Ee.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(ko(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(q_(e).j("collectionPathOverlayIndex",a))}),Ee.waitFor(o)}getOverlaysForCollection(e,n,r){const i=hl(),o=ko(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return q_(e).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=SS(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=hl();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return q_(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{const p=SS(this.serializer,c);o.size()<i||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):d.done()}).next(()=>o)}ht(e,n){return q_(e).put(function(i,o,s){const[a,l,c]=Aj(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:H_(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function q_(t){return io(t,"documentOverlays")}class xd{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(_i(e.integerValue));else if("doubleValue"in e){const r=_i(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),D_(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),"string"==typeof r&&(r=ec(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(tc(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?mU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Yt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),jt.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function Dle(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Pj(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=Dle(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}xd.bt=new xd;class Sle{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=Pj(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=Pj(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Rle{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Ple{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class W_{constructor(){this.Gt=new Sle,this.zt=new Rle(this.Gt),this.jt=new Ple(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Nd{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Nd(this.indexId,this.documentKey,this.arrayValue,r)}}function hu(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=Mj(t.arrayValue,e.arrayValue),0!==n?n:(n=Mj(t.directionalValue,e.directionalValue),0!==n?n:jt.comparator(t.documentKey,e.documentKey)))}function Mj(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class xj{constructor(e){this.Yt=new xr((n,r)=>Kr.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(an(e.collectionGroup===this.collectionId),this.en)return!1;const n=rS(e);if(void 0!==n&&!this.nn(n))return!1;const r=bd(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],r[o]))return!1;return!0}on(){if(this.en)return null;let e=new xr(Kr.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new Cd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Cd(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Cd(r.field,"asc"===r.dir?0:1)));return new Xf(Xf.UNKNOWN_ID,this.collectionId,n,Zf.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Nj(t){var e,n;if(an(t instanceof ar||t instanceof Sr),t instanceof ar){if(t instanceof DU){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>ar.create(t.field,"==",o)))||[];return Sr.create(i,"or")}return t}const r=t.filters.map(i=>Nj(i));return Sr.create(r,t.op)}function Mle(t){if(0===t.getFilters().length)return[];const e=MS(Nj(t));return an(kj(e)),RS(e)||PS(e)?[e]:e.getFilters()}function RS(t){return t instanceof ar}function PS(t){return t instanceof Sr&&dS(t)}function kj(t){return RS(t)||PS(t)||function(n){if(n instanceof Sr&&uS(n)){for(const r of n.getFilters())if(!RS(r)&&!PS(r))return!1;return!0}return!1}(t)}function MS(t){if(an(t instanceof ar||t instanceof Sr),t instanceof ar)return t;if(1===t.filters.length)return MS(t.filters[0]);const e=t.filters.map(r=>MS(r));let n=Sr.create(e,t.op);return n=xE(n),kj(n)?n:(an(n instanceof Sr),an(tp(n)),an(n.filters.length>1),n.filters.reduce((r,i)=>xS(r,i)))}function xS(t,e){let n;return an(t instanceof ar||t instanceof Sr),an(e instanceof ar||e instanceof Sr),n=t instanceof ar?e instanceof ar?Sr.create([t,e],"and"):Oj(t,e):e instanceof ar?Oj(e,t):function(i,o){if(an(i.filters.length>0&&o.filters.length>0),tp(i)&&tp(o))return wU(i,o.getFilters());const s=uS(i)?i:o,a=uS(i)?o:i,l=s.filters.map(c=>xS(c,a));return Sr.create(l,"or")}(t,e),xE(n)}function Oj(t,e){if(tp(e))return wU(e,t.getFilters());{const n=e.filters.map(r=>xS(t,r));return Sr.create(n,"or")}}function xE(t){if(an(t instanceof ar||t instanceof Sr),t instanceof ar)return t;const e=t.getFilters();if(1===e.length)return xE(e[0]);if(bU(t))return t;const n=e.map(i=>xE(i)),r=[];return n.forEach(i=>{i instanceof ar?r.push(i):i instanceof Sr&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Sr.create(r,t.op)}class xle{constructor(){this._n=new NS}addToCollectionParentIndex(e,n){return this._n.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(Vs.min())}updateCollectionGroup(e,n,r){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class NS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xr(sr.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xr(sr.comparator)).toArray()}}const NE=new Uint8Array(0);class Nle{constructor(e,n){this.databaseId=n,this.an=new NS,this.un=new rc(r=>Ad(r),(r,i)=>N_(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const o={collectionId:r,parent:ko(i)};return Fj(e).put(o)}return Ee.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[qB(n),""],!1,!0);return Fj(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(ul(s.parent))}return r})}addFieldIndex(e,n){const r=K_(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=hp(e);return o.next(a=>{s.put(Dj(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=K_(e),i=hp(e),o=dp(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=K_(e),r=dp(e),i=hp(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return Ee.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new xj(r).on();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=dp(e);let i=!0;const o=new Map;return Ee.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Un();const a=[];return Ee.forEach(o,(l,c)=>{var fe;pt("IndexedDbIndexManager",`Using index ${fe=l,`id=${fe.indexId}|cg=${fe.collectionGroup}|f=${fe.fields.map(ge=>`${ge.fieldPath}:${ge.kind}`).join(",")}`} to execute ${Ad(n)}`);const d=function(fe,ge){const tt=rS(ge);if(void 0===tt)return null;for(const _t of bE(fe,tt.fieldPath))switch(_t.op){case"array-contains-any":return _t.value.arrayValue.values||[];case"array-contains":return[_t.value]}return null}(c,l),p=function(fe,ge){const tt=new Map;for(const _t of bd(ge))for(const X of bE(fe,_t.fieldPath))switch(X.op){case"==":case"in":tt.set(_t.fieldPath.canonicalString(),X.value);break;case"not-in":case"!=":return tt.set(_t.fieldPath.canonicalString(),X.value),Array.from(tt.values())}return null}(c,l),_=function(fe,ge){const tt=[];let _t=!0;for(const X of bd(ge)){const $=0===X.kind?SU(fe,X.fieldPath,fe.startAt):RU(fe,X.fieldPath,fe.startAt);tt.push($.value),_t&&(_t=$.inclusive)}return new uu(tt,_t)}(c,l),I=function(fe,ge){const tt=[];let _t=!0;for(const X of bd(ge)){const $=0===X.kind?RU(fe,X.fieldPath,fe.endAt):SU(fe,X.fieldPath,fe.endAt);tt.push($.value),_t&&(_t=$.inclusive)}return new uu(tt,_t)}(c,l),A=this.hn(l,c,_),x=this.hn(l,c,I),V=this.Pn(l,c,p),B=this.In(l.indexId,d,A,_.inclusive,x,I.inclusive,V);return Ee.forEach(B,z=>r.G(z,n.limit).next(fe=>{fe.forEach(ge=>{const tt=jt.fromSegments(ge.documentKey);s.has(tt)||(s=s.add(tt),a.push(tt))})}))}).next(()=>a)}return Ee.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:Mle(Sr.create(e.filters,"and")).map(r=>fS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){const l=(null!=n?n.length:1)*Math.max(r.length,o.length),c=l/(null!=n?n.length:1),d=[];for(let p=0;p<l;++p){const _=n?this.Tn(n[p/c]):NE,I=this.En(e,_,r[p%c],i),A=this.dn(e,_,o[p%c],s),x=a.map(V=>this.En(e,_,V,!0));d.push(...this.createRange(I,A,x))}return d}En(e,n,r,i){const o=new Nd(e,jt.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){const o=new Nd(e,jt.empty(),n,r);return i?o.Jt():o}ln(e,n){const r=new xj(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return Ee.forEach(i,o=>this.ln(e,o).next(s=>{s?0!==r&&s.fields.length<function(l){let c=new xr(Kr.comparator),d=!1;for(const p of l.filters)for(const _ of p.getFlattenedFilters())_.field.isKeyField()||("array-contains"===_.op||"array-contains-any"===_.op?d=!0:c=c.add(_.field));for(const p of l.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}An(e,n){const r=new W_;for(const i of bd(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.Ht(i.kind);xd.bt.Pt(o,s)}return r.Wt()}Tn(e){const n=new W_;return xd.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new W_;return xd.bt.Pt(Td(this.databaseId,n),r.Ht(function(o){const s=bd(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(null===r)return[];let i=[];i.push(new W_);let o=0;for(const s of bd(e)){const a=r[o++];for(const l of i)if(this.Vn(n,s.fieldPath)&&P_(a))i=this.mn(i,s,a);else{const c=l.Ht(s.kind);xd.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new W_;l.seed(a.Wt()),xd.bt.Pt(s,l.Ht(n.kind)),o.push(l)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof ar&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=K_(e),i=hp(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const s=[];return Ee.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(d,p){const _=p?new Zf(p.sequenceNumber,new Vs(Pd(p.readTime),new jt(ul(p.documentKey)),p.largestBatchId)):Zf.empty(),I=d.fields.map(([A,x])=>new Cd(Kr.fromServerFormat(A),x));return new Xf(d.indexId,d.collectionGroup,I,_)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Nn(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=K_(e),o=hp(e);return this.gn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>Ee.forEach(a,l=>o.put(Dj(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return Ee.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?Ee.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Ee.forEach(a,l=>this.pn(e,i,l).next(c=>{const d=this.yn(o,l);return c.isEqual(d)?Ee.resolve():this.wn(e,o,l,c,d)}))))})}Sn(e,n,r,i){return dp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return dp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=dp(e);let o=new xr(hu);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new Nd(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new xr(hu);const i=this.An(n,e);if(null==i)return r;const o=rS(n);if(null!=o){const s=e.data.field(o.fieldPath);if(P_(s))for(const a of s.arrayValue.values||[])r=r.add(new Nd(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Nd(n.indexId,e.key,NE,i));return r}wn(e,n,r,i,o){pt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,c,d,p,_){const I=l.getIterator(),A=c.getIterator();let x=Jf(I),V=Jf(A);for(;x||V;){let B=!1,z=!1;if(x&&V){const fe=d(x,V);fe<0?z=!0:fe>0&&(B=!0)}else null!=x?z=!0:B=!0;B?(p(V),V=Jf(A)):z?(_(x),x=Jf(I)):(x=Jf(I),V=Jf(A))}}(i,o,hu,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),Ee.waitFor(s)}gn(e){let n=1;return hp(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>hu(s,a)).filter((s,a,l)=>!a||0!==hu(s,l[a-1]));const i=[];i.push(e);for(const s of r){const a=hu(s,e),l=hu(s,n);if(0===a)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,NE,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,NE,[]]))}return o}Dn(e,n){return hu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Lj)}getMinOffset(e,n){return Ee.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Yt())).next(Lj)}}function Fj(t){return io(t,"collectionParents")}function dp(t){return io(t,"indexEntries")}function K_(t){return io(t,"indexConfiguration")}function hp(t){return io(t,"indexState")}function Lj(t){an(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;iS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Vs(e.readTime,e.documentKey,n)}const Vj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fo{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fo(e,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $j(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},(d,p,_)=>(a++,_.delete()));o.push(l.next(()=>{an(1===a)}));const c=[];for(const d of n.mutations){const p=nU(e,d.key.path,n.batchId);o.push(i.delete(p)),c.push(d.key)}return Ee.waitFor(o).next(()=>c)}function kE(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Yt();e=t.noDocument}return JSON.stringify(e).length}Fo.DEFAULT_COLLECTION_PERCENTILE=10,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fo.DEFAULT=new Fo(41943040,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fo.DISABLED=new Fo(-1,0,0);class OE{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){an(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new OE(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fu(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=fp(e),s=fu(e);return s.add({}).next(a=>{an("number"==typeof a);const l=new vS(a,n,r,i),c=function(I,A,x){const V=x.baseMutations.map(z=>H_(I.ct,z)),B=x.mutations.map(z=>H_(I.ct,z));return{userId:A,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:V,mutations:B}}(this.serializer,this.userId,l),d=[];let p=new xr((_,I)=>Nn(_.canonicalString(),I.canonicalString()));for(const _ of i){const I=nU(this.userId,_.key.path,a);p=p.add(_.key.path.popLast()),d.push(s.put(c)),d.push(o.put(I,bae))}return p.forEach(_=>{d.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),Ee.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return fu(e).get(n).next(r=>r?(an(r.userId===this.userId),Md(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?Ee.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return fu(e).J({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(an(a.batchId>=r),o=Md(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return fu(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fu(e).U("userMutationsIndex",n).next(r=>r.map(i=>Md(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=pE(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return fp(e).J({range:i},(s,a,l)=>{const[c,d,p]=s,_=ul(d);if(c===this.userId&&n.path.isEqual(_))return fu(e).get(p).next(I=>{if(!I)throw Yt();an(I.userId===this.userId),o.push(Md(this.serializer,I))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xr(Nn);const i=[];return n.forEach(o=>{const s=pE(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=fp(e).J({range:a},(c,d,p)=>{const[_,I,A]=c,x=ul(I);_===this.userId&&o.path.isEqual(x)?r=r.add(A):p.done()});i.push(l)}),Ee.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=pE(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new xr(Nn);return fp(e).J({range:s},(l,c,d)=>{const[p,_,I]=l,A=ul(_);p===this.userId&&r.isPrefixOf(A)?A.length===i&&(a=a.add(I)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(fu(e).get(o).next(s=>{if(null===s)throw Yt();an(s.userId===this.userId),r.push(Md(this.serializer,s))}))}),Ee.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return $j(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),Ee.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ee.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return fp(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=ul(o[1]);i.push(l)}else a.done()}).next(()=>{an(0===i.length)})})}containsKey(e,n){return Bj(e,this.userId,n)}xn(e){return Uj(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Bj(t,e,n){const r=pE(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return fp(t).J({range:o,H:!0},(a,l,c)=>{const[d,p,_]=a;d===e&&p===i&&(s=!0),c.done()}).next(()=>s)}function fu(t){return io(t,"mutations")}function fp(t){return io(t,"documentMutations")}function Uj(t){return io(t,"mutationQueues")}class kd{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new kd(0)}static Ln(){return new kd(-1)}}class kle{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new kd(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>mn.fromTimestamp(new ni(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>pp(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(an(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return pp(e).J((s,a)=>{const l=G_(a);l.sequenceNumber<=n&&null===r.get(l.targetId)&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>Ee.waitFor(o)).next(()=>i)}forEachTarget(e,n){return pp(e).J((r,i)=>{const o=G_(i);n(o)})}Bn(e){return jj(e).get("targetGlobalKey").next(n=>(an(null!==n),n))}kn(e,n){return jj(e).put("targetGlobalKey",n)}qn(e,n){return pp(e).put(Tj(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Ad(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return pp(e).J({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const c=G_(a);N_(n,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=pu(e);return n.forEach(s=>{const a=ko(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),Ee.waitFor(i)}removeMatchingKeys(e,n,r){const i=pu(e);return Ee.forEach(n,o=>{const s=ko(o.path);return Ee.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=pu(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=pu(e);let o=Un();return i.J({range:r,H:!0},(s,a,l)=>{const c=ul(s[1]),d=new jt(c);o=o.add(d)}).next(()=>o)}containsKey(e,n){const r=ko(n.path),i=IDBKeyRange.bound([r],[qB(r)],!1,!0);let o=0;return pu(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],l,c)=>{0!==s&&(o++,c.done())}).next(()=>o>0)}ot(e,n){return pp(e).get(n).next(r=>r?G_(r):null)}}function pp(t){return io(t,"targets")}function jj(t){return io(t,"targetGlobal")}function pu(t){return io(t,"targetDocuments")}function zj([t,e],[n,r]){const i=Nn(t,n);return 0===i?Nn(e,r):i}class Ole{constructor(e){this.Kn=e,this.buffer=new xr(zj),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;pt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,E.A)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){iu(r)?pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ru(r)}yield n.zn(3e5)}))}}class Fle{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return Ee.resolve($s.oe);const r=new Ole(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(Vj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vj):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Qf()<=ll.$b.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${p} documents in `+(c-l)+`ms\nTotal Duration: ${c-d}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}class Lle{constructor(e,n){this.db=e,this.garbageCollector=function Gj(t,e){return new Fle(t,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return FE(e,r)}removeReference(e,n,r){return FE(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return FE(e,n)}er(e,n){return function(i,o){let s=!1;return Uj(i).Y(a=>Bj(i,a,o).next(l=>(l&&(s=!0),Ee.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=n){const l=this.er(e,s).next(c=>{if(!c)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,mn.min()),pu(e).delete([0,ko(s.path)])))});i.push(l)}}).next(()=>Ee.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return FE(e,n)}Xn(e,n){const r=pu(e);let i,o=$s.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{0===s?(o!==$s.oe&&n(new jt(ul(i)),o),o=c,i=l):o=$s.oe}).next(()=>{o!==$s.oe&&n(new jt(ul(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function FE(t,e){return pu(t).put((i=t.currentSequenceNumber,{targetId:0,path:ko(e.path),sequenceNumber:i}));var i}class qj{constructor(){this.changes=new rc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?Ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vle{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Od(e).put(r)}removeEntry(e,n,r){return Od(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],PE(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Qr.newInvalidDocument(n);return Od(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Q_(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:Qr.newInvalidDocument(n)};return Od(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Q_(n))},(i,o)=>{r={document:this.nr(n,o),size:kE(o)}}).next(()=>r)}getEntries(e,n){let r=ys();return this.ir(e,n,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=ys(),i=new Hr(jt.comparator);return this.ir(e,n,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,kE(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return Ee.resolve();let i=new xr(Yj);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(Q_(i.first()),Q_(i.last())),s=i.getIterator();let a=s.getNext();return Od(e).J({index:"documentKeyIndex",range:o},(l,c,d)=>{const p=jt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&Yj(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?d.$(Q_(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),PE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Od(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{null==o||o.incrementDocumentReadCount(c.length);let d=ys();for(const p of c){const _=this.nr(jt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);_.isFoundDocument()&&(O_(n,_)||i.has(_.key))&&(d=d.insert(_.key,_))}return d})}getAllFromCollectionGroup(e,n,r,i){let o=ys();const s=Qj(n,r),a=Qj(n,Vs.max());return Od(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,d)=>{const p=this.nr(jt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(p.key,p),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new $le(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Kj(e).get("remoteDocumentGlobalKey").next(n=>(an(!!n),n))}tr(e,n){return Kj(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=function Tle(t,e){let n;if(e.document)n=gj(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=jt.fromSegments(e.noDocument.path),i=Pd(e.noDocument.readTime);n=Qr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Yt();{const r=jt.fromSegments(e.unknownDocument.path),i=Pd(e.unknownDocument.version);n=Qr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new ni(i[0],i[1]);return mn.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(mn.min()))return r}return Qr.newInvalidDocument(e)}}function Wj(t){return new Vle(t)}class $le extends qj{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new rc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new xr((o,s)=>Nn(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=wj(this.ar.serializer,s);i=i.add(o.path.popLast());const c=kE(l);r+=c-a.size,n.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=wj(this.ar.serializer,s.convertToNoDocument(mn.min()));n.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),Ee.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function Kj(t){return io(t,"remoteDocumentGlobal")}function Od(t){return io(t,"remoteDocumentsV14")}function Q_(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Qj(t,e){const n=e.documentKey.path.toArray();return[t,PE(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Yj(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Nn(n[o],r[o]),i)return i;return i=Nn(n.length,r.length),i||(i=Nn(n[n.length-2],r[r.length-2]),i||Nn(n[n.length-1],r[r.length-1]))}class Ble{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Xj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&$_(r.mutation,i,vs.empty(),ni.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Un()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Un()){const i=hl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=F_();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=hl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Un()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ys();const s=L_(),a=L_();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof ic)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),$_(d.mutation,c,d.mutation.getFieldMask(),ni.now())):s.set(c.key,vs.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new Ble(d,null!==(p=s.get(c))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=L_();let i=new Hr((s,a)=>s-a),o=Un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(null===c)return;let d=r.get(l)||vs.empty();d=a.applyToLocalView(c,d),r.set(l,d);const p=(i.get(a.batchId)||Un()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,p=$U();d.forEach(_=>{if(!o.has(_)){const I=KU(n.get(_),r.get(_));null!==I&&p.set(_,I),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return Ee.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return jt.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):pS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ee.resolve(hl());let a=-1,l=o;return s.next(c=>Ee.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(d)?Ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(_=>{l=l.insert(d,_)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Un())).next(d=>({batchId:a,changes:VU(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new jt(n)).next(r=>{let i=F_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=F_();return this.indexManager.getCollectionParents(e,o).next(a=>Ee.forEach(a,l=>{const c=(p=n,_=l.child(o),new nc(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,_;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,_)=>{s=s.insert(p,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,Qr.newInvalidDocument(d)))});let a=F_();return s.forEach((l,c)=>{const d=o.get(l);void 0!==d&&$_(d.mutation,c,vs.empty(),ni.now()),O_(n,c)&&(a=a.insert(l,c))}),a})}}class Ule{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Ee.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:Pi(i.createTime)}),Ee.resolve();var i}getNamedQuery(e,n){return Ee.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:DS(i.bundledQuery),readTime:Pi(i.readTime)}),Ee.resolve();var i}}class jle{constructor(){this.overlays=new Hr(jt.comparator),this.hr=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hl();return Ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),Ee.resolve()}getOverlaysForCollection(e,n,r){const i=hl(),o=n.length+1,s=new jt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Hr((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);null===d&&(d=hl(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=hl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Ee.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new IS(n,r));let o=this.hr.get(n);void 0===o&&(o=Un(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}class kS{constructor(){this.Pr=new xr(oo.Ir),this.Tr=new xr(oo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new oo(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new oo(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new jt(new sr([])),r=new oo(n,e),i=new oo(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new jt(new sr([])),r=new oo(n,e),i=new oo(n,e+1);let o=Un();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new oo(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class oo{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return jt.comparator(e.key,n.key)||Nn(e.pr,n.pr)}static Er(e,n){return Nn(e.pr,n.pr)||jt.comparator(e.key,n.key)}}class zle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xr(oo.Ir)}checkEmpty(e){return Ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++;const s=new vS(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new oo(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ee.resolve(s)}lookupMutationBatch(e,n){return Ee.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),o=i<0?0:i;return Ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new oo(n,0),i=new oo(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),Ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xr(Nn);return n.forEach(i=>{const o=new oo(i,0),s=new oo(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),Ee.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;jt.isDocumentKey(o)||(o=o.child(""));const s=new oo(new jt(o),0);let a=new xr(Nn);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},s),Ee.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){an(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return Ee.forEach(n.mutations,i=>{const o=new oo(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new oo(n,0),i=this.wr.firstAfterOrEqual(r);return Ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return Ee.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Hle{constructor(e){this.vr=e,this.docs=new Hr(jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ee.resolve(r?r.document.mutableCopy():Qr.newInvalidDocument(n))}getEntries(e,n){let r=ys();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qr.newInvalidDocument(i))}),Ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ys();const s=n.path,a=new jt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||iS(KB(d),r)<=0||(i.has(d.key)||O_(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Yt()}Fr(e,n){return Ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Gle(this)}getSize(e){return Ee.resolve(this.size)}}class Gle extends qj{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Ee.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class qle{constructor(e){this.persistence=e,this.Mr=new rc(n=>Ad(n),N_),this.lastRemoteSnapshotVersion=mn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new kS,this.targetCount=0,this.Lr=kd.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Ee.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new kd(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.qn(n),Ee.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ee.waitFor(o).next(()=>i)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Ee.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Ee.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Ee.resolve(r)}containsKey(e,n){return Ee.resolve(this.Nr.containsKey(n))}}class OS{constructor(e,n){this.Br={},this.overlays={},this.kr=new $s(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new qle(this),this.indexManager=new xle,this.remoteDocumentCache=new Hle(r=>this.referenceDelegate.Kr(r)),this.serializer=new Cj(n),this.$r=new Ule(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new zle(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){pt("MemoryPersistence","Starting transaction:",e);const i=new Wle(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return Ee.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Wle extends YB{constructor(e){super(),this.currentSequenceNumber=e}}class LE{constructor(e){this.persistence=e,this.zr=new kS,this.jr=null}static Hr(e){return new LE(e)}get Jr(){if(this.jr)return this.jr;throw Yt()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Ee.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.Jr,r=>{const i=jt.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,mn.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Ee.or([()=>Ee.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class Kle{constructor(e){this.serializer=e}O(e,n,r,i){const o=new fE("createOrUpgrade",n);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tU,{unique:!0}),l.createObjectStore("documentMutations"),Zj(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=Ee.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),Zj(e)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mn.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tU,{unique:!0});const p=c.store("mutations"),_=d.map(I=>p.put(I));return Ee.waitFor(_)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:kae});c.createIndex("collectionPathOverlayIndex",Oae,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Fae,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Cae});c.createIndex("documentKeyIndex",wae),c.createIndex("collectionGroupIndex",Tae)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Pae}).createIndex("sequenceNumberIndex",Mae,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:xae}).createIndex("documentKeyIndex",Nae,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),s}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=kE(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>Ee.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>Ee.forEach(a,l=>{an(l.userId===o.userId);const c=Md(this.serializer,l);return $j(e,o.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const l=new sr(s),c=[0,ko(l)];o.push(n.get(c).next(d=>d?Ee.resolve():n.put({targetId:0,path:ko(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ee.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Rae});const r=n.store("collectionParents"),i=new NS,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:ko(l)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new sr(s);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,l],c)=>{const d=ul(a);return o(d.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const o=G_(i),s=Tj(this.serializer,o);return n.put(s)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=n.store("remoteDocumentsV14"),l=(p=s,p.document?new jt(sr.fromString(p.document.name).popFirst(5)):p.noDocument?jt.fromSegments(p.noDocument.path):p.unknownDocument?jt.fromSegments(p.unknownDocument.path):Yt()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;i.push(a.put(c))}).next(()=>Ee.waitFor(i))}si(e,n){const r=n.store("mutations"),i=Wj(this.serializer),o=new OS(LE.Hr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(l=>{var c;let d=null!==(c=a.get(l.userId))&&void 0!==c?c:Un();Md(this.serializer,l).keys().forEach(p=>d=d.add(p)),a.set(l.userId,d)}),Ee.forEach(a,(l,c)=>{const d=new ro(c),p=ME.lt(this.serializer,d),_=o.getIndexManager(d),I=OE.lt(d,this.serializer,_,o.referenceDelegate);return new Xj(i,I,p,_).recalculateAndSaveOverlaysForDocumentKeys(new aS(n,$s.oe),l).next()})})}}function Zj(t){t.createObjectStore("targetDocuments",{keyPath:Dae}).createIndex("documentTargetsIndex",Sae,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Aae,{unique:!0}),t.createObjectStore("targetGlobal")}const FS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class LS{constructor(e,n,r,i,o,s,a,l,c,d,p=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=c,this.ai=d,this.ui=p,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=_=>Promise.resolve(),!LS.D())throw new lt(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lle(this,i),this.Ti=n+"main",this.serializer=new Cj(l),this.Ei=new cl(this.Ti,this.ui,new Kle(this.serializer)),this.Qr=new kle(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Wj(this.serializer),this.$r=new Ale,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===d&&Ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lt(xe.FAILED_PRECONDITION,FS);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new $s(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var r=(0,E.A)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var n=(0,E.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,E.A)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$E(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(iu(e))return pt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Y_(e).get("owner").next(n=>Ee.resolve(this.Si(n)))}bi(e){return $E(e).delete(this.clientId)}Di(){var e=this;return(0,E.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=io(r,"clientMetadata");return i.U().next(o=>{const s=e.vi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return Ee.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of n)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Ee.resolve(!0):Y_(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new lt(xe.FAILED_PRECONDITION,FS);return!1}}return!(!this.networkEnabled||!this.inForeground)||$E(e).U().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&pt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,E.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new aS(n,$s.oe);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Li()})()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>$E(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return OE.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Nle(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ME.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){pt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=16===(l=this.ui)?Vae:15===l?sU:14===l?oU:13===l?iU:12===l?Lae:11===l?rU:void Yt();var l;let s;return this.Ei.runTransaction(e,i,o,a=>(s=new aS(a,this.kr?this.kr.next():$s.oe),"readwrite-primary"===n?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw Ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new lt(xe.FAILED_PRECONDITION,QB);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return Y_(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new lt(xe.FAILED_PRECONDITION,FS)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Y_(e).put("owner",n)}static D(){return cl.D()}yi(e){const n=Y_(e);return n.get("owner").next(r=>this.Si(r)?(pt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ee.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n||e>r&&(Ri(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,$n.nr)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return pt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ri("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ri("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Y_(t){return io(t,"owner")}function $E(t){return io(t,"clientMetadata")}function VS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class $S{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Un(),i=Un();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new $S(e,n.fromCache,r,i)}}class Qle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Jj{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,$n.nr)()?8:XB((0,$n.ZQ)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Qle;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Qf()<=ll.$b.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",ip(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ee.resolve()):(Qf()<=ll.$b.DEBUG&&pt("QueryEngine","Query:",ip(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Qf()<=ll.$b.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",ip(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oo(n))):Ee.resolve())}ji(e,n){if(MU(n))return Ee.resolve(null);let r=Oo(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=CE(n,null,"F"),r=Oo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Un(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,s,l.readTime)?this.ji(e,CE(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return MU(n)||i.isEqual(mn.min())?Ee.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?Ee.resolve(null):(Qf()<=ll.$b.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ip(n)),this.es(e,s,n,WB(i,-1)).next(a=>a))})}Zi(e,n){let r=new xr(FU(e));return n.forEach((i,o)=>{O_(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Qf()<=ll.$b.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",ip(n)),this.zi.getDocumentsMatchingQuery(e,n,Vs.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Yle{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Hr(Nn),this.rs=new rc(o=>Ad(o),N_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xj(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function e4(t,e,n,r){return new Yle(t,e,n,r)}function t4(t,e){return BS.apply(this,arguments)}function BS(){return(BS=(0,E.A)(function*(t,e){const n=Bt(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Un();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function n4(t){const e=Bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function r4(t,e,n){let r=Un(),i=Un();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ys();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(mn.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):pt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:s,ls:i}})}function Jle(t,e){const n=Bt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mp(t,e){const n=Bt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,Ee.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new oc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function gp(t,e,n){return US.apply(this,arguments)}function US(){return(US=(0,E.A)(function*(t,e,n){const r=Bt(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!iu(s))throw s;pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})).apply(this,arguments)}function BE(t,e,n){const r=Bt(t);let i=mn.min(),o=Un();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const p=Bt(l),_=p.rs.get(d);return void 0!==_?Ee.resolve(p.ns.get(_)):p.Qr.getTargetData(c,d)}(r,s,Oo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:mn.min(),n?o:Un())).next(a=>(s4(r,OU(e),a),{documents:a,hs:o})))}function i4(t,e){const n=Bt(t),r=Bt(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function o4(t,e){const n=Bt(t),r=n.ss.get(e)||mn.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,WB(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(s4(n,e,i),i))}function s4(t,e,n){let r=t.ss.get(e)||mn.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function jS(){return(jS=(0,E.A)(function*(t,e,n,r){const i=Bt(t);let o=Un(),s=ys();for(const c of n){const d=e.Ps(c.metadata.name);c.document&&(o=o.add(d));const p=e.Is(c);p.setReadTime(e.Ts(c.metadata.readTime)),s=s.insert(d,p)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=yield mp(i,(d=r,Oo(np(sr.fromString(`__bundle__/docs/${d}`)))));var d;return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>r4(c,a,s).next(d=>(a.apply(c),d)).next(d=>i.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Qr.addMatchingKeys(c,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,d.cs,d.ls)).next(()=>d.cs)))})).apply(this,arguments)}function tce(t,e){return zS.apply(this,arguments)}function zS(){return(zS=(0,E.A)(function*(t,e,n=Un()){const r=yield mp(t,Oo(DS(e.bundledQuery))),i=Bt(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Pi(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(o,e);const a=r.withResumeToken(Ki.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(o,a).next(()=>i.Qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.$r.saveNamedQuery(o,e))})})).apply(this,arguments)}function a4(t,e){return`firestore_clients_${t}_${e}`}function l4(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function HS(t,e){return`firestore_targets_${t}_${e}`}class UE{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new lt(i.error.code,i.error.message))),s?new UE(e,n,i.state,o):(Ri("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class X_{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new lt(r.error.code,r.error.message))),o?new X_(e,r.state,i):(Ri("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jE{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=gS();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=JB(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new jE(e,o):(Ri("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class GS{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new GS(n.clientId,n.onlineState):(Ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qS{constructor(){this.activeTargetIds=gS()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WS{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Hr(Nn),this.started=!1,this.ys=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=a4(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new qS),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,E.A)(function*(){const n=yield e.syncEngine.Bi();for(const i of n){if(i===e.Vs)continue;const o=e.getItem(a4(e.persistenceKey,i));if(o){const s=jE.Es(i,o);s&&(e.ps=e.ps.insert(s.clientId,s))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(HS(this.persistenceKey,e));if(r){const i=X_.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(HS(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return pt("SharedClientState","READ",e,n),n}setItem(e,n){pt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){pt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(pt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void Ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,E.A)(function*(){if(n.started){if(null!==r.key)if(n.bs.test(r.key)){if(null==r.newValue){const i=n.$s(r.key);return n.Us(i,null)}{const i=n.Ws(r.key,r.newValue);if(i)return n.Us(i.clientId,i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.Gs(r.key,r.newValue);if(i)return n.zs(i)}}else if(n.Cs.test(r.key)){if(null!==r.newValue){const i=n.js(r.key,r.newValue);if(i)return n.Hs(i)}}else if(r.key===n.vs){if(null!==r.newValue){const i=n.xs(r.newValue);if(i)return n.Os(i)}}else if(r.key===n.Ss){const i=function(s){let a=$s.oe;if(null!=s)try{const l=JSON.parse(s);an("number"==typeof l),a=l}catch(l){Ri("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==$s.oe&&n.sequenceNumberHandler(i)}else if(r.key===n.Fs){const i=n.Js(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Ys(o)))}}else n.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new UE(this.currentUser,e,n,r),o=l4(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Bs(e){const n=l4(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,r){const i=HS(this.persistenceKey,e),o=new X_(e,n,r);this.setItem(i,o.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return jE.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return UE.Es(new ro(void 0!==r[2]?r[2]:null),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return X_.Es(i,n)}xs(e){return GS.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,E.A)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);pt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=gS();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class c4{constructor(){this.no=new qS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new qS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nce{io(e){}shutdown(){}}class u4{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zE=null;function KS(){return null===zE?zE=268435456+Math.round(2147483648*Math.random()):zE++,"0x"+zE.toString(16)}const rce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ice{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const Lo="WebChannelConnection";class oce extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const a=KS(),l=this.vo(n,r.toUriEncodedString());pt("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,o,s),this.Mo(n,l,c,i).then(d=>(pt("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw _s("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Kf,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){return`${this.wo}/v1/${r}:${rce[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=KS();return new Promise((s,a)=>{const l=new FB;l.setWithCredentials(!0),l.listenOnce(VB.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hE.NO_ERROR:const d=l.getResponseJson();pt(Lo,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case hE.TIMEOUT:pt(Lo,`RPC '${e}' ${o} timed out`),a(new lt(xe.DEADLINE_EXCEEDED,"Request time out"));break;case hE.HTTP_ERROR:const p=l.getStatus();if(pt(Lo,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);const I=null==_?void 0:_.error;if(I&&I.status&&I.message){const A=function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(B)>=0?B:xe.UNKNOWN}(I.status);a(new lt(A,I.message))}else a(new lt(xe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new lt(xe.UNAVAILABLE,"Connection failed."));break;default:Yt()}}finally{pt(Lo,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);pt(Lo,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=KS(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=UB(),a=BB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new LB({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");pt(Lo,`Creating RPC '${e}' stream ${i}: ${d}`,l);const p=s.createWebChannel(d,l);let _=!1,I=!1;const A=new ice({lo:V=>{I?pt(Lo,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(_||(pt(Lo,`Opening RPC '${e}' stream ${i} transport.`),p.open(),_=!0),pt(Lo,`RPC '${e}' stream ${i} sending:`,V),p.send(V))},ho:()=>p.close()}),x=(V,B,z)=>{V.listen(B,fe=>{try{z(fe)}catch(ge){setTimeout(()=>{throw ge},0)}})};return x(p,C_.EventType.OPEN,()=>{I||(pt(Lo,`RPC '${e}' stream ${i} transport opened.`),A.mo())}),x(p,C_.EventType.CLOSE,()=>{I||(I=!0,pt(Lo,`RPC '${e}' stream ${i} transport closed`),A.po())}),x(p,C_.EventType.ERROR,V=>{I||(I=!0,_s(Lo,`RPC '${e}' stream ${i} transport errored:`,V),A.po(new lt(xe.UNAVAILABLE,"The operation could not be completed")))}),x(p,C_.EventType.MESSAGE,V=>{var B;if(!I){const z=V.data[0];an(!!z);const ge=z.error||(null===(B=z[0])||void 0===B?void 0:B.error);if(ge){pt(Lo,`RPC '${e}' stream ${i} received error:`,ge);const tt=ge.status;let _t=function(K){const te=$i[K];if(void 0!==te)return tj(te)}(tt),X=ge.message;void 0===_t&&(_t=xe.INTERNAL,X="Unknown error status: "+tt+" with message "+ge.message),I=!0,A.po(new lt(_t,X)),p.close()}else pt(Lo,`RPC '${e}' stream ${i} received:`,z),A.yo(z)}}),x(a,$B.STAT_EVENT,V=>{V.stat===tS.PROXY?pt(Lo,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===tS.NOPROXY&&pt(Lo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}}function d4(){return typeof window<"u"?window:null}function HE(){return typeof document<"u"?document:null}function Z_(t){return new mle(t,!0)}class QS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&pt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class h4{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new QS(e,n)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,E.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,E.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){var r=this;return(0,E.A)(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==e?r.Yo.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(Ri(n.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):n&&n.code===xe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ao(n)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new lt(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){var e=this;this.state=5,this.Yo.$o((0,E.A)(function*(){e.state=0,e.start()}))}c_(e){return pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sce extends h4{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=function vle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Yt(),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(an(void 0===d||"string"==typeof d),Ki.fromBase64String(d||"")):(an(void 0===d||d instanceof Buffer||d instanceof Uint8Array),Ki.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=void 0===c.code?xe.UNKNOWN:tj(c.code);return new lt(d,c.message||"")}(s);n=new sj(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=fl(t,r.document.name),o=Pi(r.document.updateTime),s=r.document.createTime?Pi(r.document.createTime):mn.min(),a=new mo({mapValue:{fields:r.document.fields}}),l=Qr.newFoundDocument(i,o,s,a);n=new SE(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=fl(t,r.document),o=r.readTime?Pi(r.readTime):mn.min(),s=Qr.newNoDocument(i,o);n=new SE([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=fl(t,r.document);n=new SE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Yt();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new cle(i,o);n=new oj(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return mn.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?mn.min():s.readTime?Pi(s.readTime):mn.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=TS(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=EE(l)?{documents:_j(o,l)}:{query:RE(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=uj(o,s.resumeToken);const c=bS(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(mn.min())>0){a.readTime=cp(o,s.snapshotVersion.toTimestamp());const c=bS(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Ile(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=TS(this.serializer),n.removeTarget=e,this.i_(n)}}class ace extends h4{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(an(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=function yle(t,e){return t&&t.length>0?(an(void 0!==e),t.map(n=>function(i,o){let s=Pi(i.updateTime?i.updateTime:o);return s.isEqual(mn.min())&&(s=Pi(o)),new sle(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.A_(r,n)}return an(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=TS(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>H_(this.serializer,r))};this.i_(n)}}class lce extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new lt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,wS(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new lt(xe.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,wS(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new lt(xe.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class cce{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ri(n),this.y_=!1):pt("OnlineStateTracker",n)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class uce{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{r.enqueueAndForget((0,E.A)(function*(){var l;mu(s)&&(pt("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,E.A)(function*(d){const p=Bt(d);p.M_.add(4),yield _p(p),p.N_.set("Unknown"),p.M_.delete(4),yield J_(p)}),function c(d){return l.apply(this,arguments)})(s))}))}),this.N_=new cce(r,i)}}function J_(t){return YS.apply(this,arguments)}function YS(){return(YS=(0,E.A)(function*(t){if(mu(t))for(const e of t.x_)yield e(!0)})).apply(this,arguments)}function _p(t){return XS.apply(this,arguments)}function XS(){return(XS=(0,E.A)(function*(t){for(const e of t.x_)yield e(!1)})).apply(this,arguments)}function GE(t,e){const n=Bt(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),eR(n)?JS(n):Ip(n).Xo()&&ZS(n,e))}function vp(t,e){const n=Bt(t),r=Ip(n);n.F_.delete(e),r.Xo()&&f4(n,e),0===n.F_.size&&(r.Xo()?r.n_():mu(n)&&n.N_.set("Unknown"))}function ZS(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ip(t).P_(e)}function f4(t,e){t.L_.xe(e),Ip(t).I_(e)}function JS(t){t.L_=new dle({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ip(t).start(),t.N_.w_()}function eR(t){return mu(t)&&!Ip(t).Zo()&&t.F_.size>0}function mu(t){return 0===Bt(t).M_.size}function p4(t){t.L_=void 0}function dce(t){return tR.apply(this,arguments)}function tR(){return(tR=(0,E.A)(function*(t){t.N_.set("Online")})).apply(this,arguments)}function hce(t){return nR.apply(this,arguments)}function nR(){return(nR=(0,E.A)(function*(t){t.F_.forEach((e,n)=>{ZS(t,e)})})).apply(this,arguments)}function fce(t,e){return rR.apply(this,arguments)}function rR(){return(rR=(0,E.A)(function*(t,e){p4(t),eR(t)?(t.N_.D_(e),JS(t)):t.N_.set("Unknown")})).apply(this,arguments)}function pce(t,e,n){return iR.apply(this,arguments)}function iR(){return iR=(0,E.A)(function*(t,e,n){if(t.N_.set("Online"),e instanceof sj&&2===e.state&&e.cause)try{yield(r=(0,E.A)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.F_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.F_.delete(l),o.L_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qE(t,r)}else if(e instanceof SE?t.L_.Ke(e):e instanceof oj?t.L_.He(e):t.L_.We(e),!n.isEqual(mn.min()))try{const r=yield n4(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.F_.get(c);d&&o.F_.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.F_.get(l);if(!d)return;o.F_.set(l,d.withResumeToken(Ki.EMPTY_BYTE_STRING,d.snapshotVersion)),f4(o,l);const p=new oc(d.target,l,c,d.sequenceNumber);ZS(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){pt("RemoteStore","Failed to raise snapshot:",r),yield qE(t,r)}var r}),iR.apply(this,arguments)}function qE(t,e,n){return oR.apply(this,arguments)}function oR(){return(oR=(0,E.A)(function*(t,e,n){if(!iu(e))throw e;t.M_.add(1),yield _p(t),t.N_.set("Offline"),n||(n=()=>n4(t.localStore)),t.asyncQueue.enqueueRetryable((0,E.A)(function*(){pt("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield J_(t)}))})).apply(this,arguments)}function m4(t,e){return e().catch(n=>qE(t,n,e))}function yp(t){return sR.apply(this,arguments)}function sR(){return(sR=(0,E.A)(function*(t){const e=Bt(t),n=gu(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;mce(e);)try{const i=yield Jle(e.localStore,r);if(null===i){0===e.v_.length&&n.n_();break}r=i.batchId,gce(e,i)}catch(i){yield qE(e,i)}g4(e)&&_4(e)})).apply(this,arguments)}function mce(t){return mu(t)&&t.v_.length<10}function gce(t,e){t.v_.push(e);const n=gu(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function g4(t){return mu(t)&&!gu(t).Zo()&&t.v_.length>0}function _4(t){gu(t).start()}function _ce(t){return aR.apply(this,arguments)}function aR(){return(aR=(0,E.A)(function*(t){gu(t).V_()})).apply(this,arguments)}function vce(t){return lR.apply(this,arguments)}function lR(){return(lR=(0,E.A)(function*(t){const e=gu(t);for(const n of t.v_)e.d_(n.mutations)})).apply(this,arguments)}function yce(t,e,n){return cR.apply(this,arguments)}function cR(){return(cR=(0,E.A)(function*(t,e,n){const r=t.v_.shift(),i=yS.from(r,e,n);yield m4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield yp(t)})).apply(this,arguments)}function Ice(t,e){return uR.apply(this,arguments)}function uR(){return uR=(0,E.A)(function*(t,e){var n;e&&gu(t).E_&&(yield(n=(0,E.A)(function*(i,o){if(ej(a=o.code)&&a!==xe.ABORTED){const s=i.v_.shift();gu(i).t_(),yield m4(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield yp(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),g4(t)&&_4(t)}),uR.apply(this,arguments)}function v4(t,e){return dR.apply(this,arguments)}function dR(){return(dR=(0,E.A)(function*(t,e){const n=Bt(t);n.asyncQueue.verifyOperationInProgress(),pt("RemoteStore","RemoteStore received new credentials");const r=mu(n);n.M_.add(3),yield _p(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield J_(n)})).apply(this,arguments)}function hR(t,e){return fR.apply(this,arguments)}function fR(){return(fR=(0,E.A)(function*(t,e){const n=Bt(t);e?(n.M_.delete(2),yield J_(n)):e||(n.M_.add(2),yield _p(n),n.N_.set("Unknown"))})).apply(this,arguments)}function Ip(t){return t.B_||(t.B_=function(n,r,i){const o=Bt(n);return o.f_(),new sce(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:dce.bind(null,t),To:hce.bind(null,t),Ao:fce.bind(null,t),h_:pce.bind(null,t)}),t.x_.push(function(){var e=(0,E.A)(function*(n){n?(t.B_.t_(),eR(t)?JS(t):t.N_.set("Unknown")):(yield t.B_.stop(),p4(t))});return function(n){return e.apply(this,arguments)}}())),t.B_}function gu(t){return t.k_||(t.k_=function(n,r,i){const o=Bt(n);return o.f_(),new ace(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:_ce.bind(null,t),Ao:Ice.bind(null,t),R_:vce.bind(null,t),A_:yce.bind(null,t)}),t.x_.push(function(){var e=(0,E.A)(function*(n){n?(t.k_.t_(),yield yp(t)):(yield t.k_.stop(),t.v_.length>0&&(pt("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))});return function(n){return e.apply(this,arguments)}}())),t.k_}class pR{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new pR(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lt(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(t,e){if(Ri("AsyncQueue",`${e}: ${t}`),iu(t))return new lt(xe.UNAVAILABLE,`${e}: ${t}`);throw t}class bp{constructor(e){this.comparator=e?(n,r)=>e(n,r)||jt.comparator(n.key,r.key):(n,r)=>jt.comparator(n.key,r.key),this.keyedMap=F_(),this.sortedSet=new Hr(this.comparator)}static emptySet(e){return new bp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new bp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class y4{constructor(){this.q_=new Hr(jt.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(n,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(n):1===e.type&&2===r.type?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Yt():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cp{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Cp(e,n,bp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&k_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ece{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class bce{constructor(){this.queries=new rc(e=>kU(e),k_),this.onlineState="Unknown",this.z_=new Set}}function mR(t,e){return gR.apply(this,arguments)}function gR(){return(gR=(0,E.A)(function*(t,e){const n=Bt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new Ece,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield n.onListen(i,!0);break;case 1:o.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=Ep(s,`Initialization of query '${ip(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&yR(n)})).apply(this,arguments)}function _R(t,e){return vR.apply(this,arguments)}function vR(){return(vR=(0,E.A)(function*(t,e){const n=Bt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),0===o.U_.length?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function Cce(t,e){const n=Bt(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&yR(n)}function wce(t,e,n){const r=Bt(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function yR(t){t.z_.forEach(e=>{e.next()})}var IR,I4;(I4=IR||(IR={})).J_="default",I4.Cache="cache";class ER{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Cp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==IR.Cache}}class Tce{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}class E4{constructor(e){this.serializer=e}Ps(e){return fl(this.serializer,e)}Is(e){return e.metadata.exists?gj(this.serializer,e.document,!1):Qr.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Pi(e)}}class Ace{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=b4(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=sr.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new E4(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Ps(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||Un()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,E.A)(function*(){const n=yield function ece(t,e,n,r){return jS.apply(this,arguments)}(e.localStore,new E4(e.serializer),e.documents,e.oa.id),r=e.aa(e.documents);for(const i of e.queries)yield tce(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:n}})()}}function b4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class C4{constructor(e){this.key=e}}class w4{constructor(e){this.key=e}}class T4{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Un(),this.mutatedKeys=Un(),this.Ia=FU(e),this.Ta=new bp(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new y4,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const _=i.get(d),I=O_(this.query,p)?p:null,A=!!_&&this.mutatedKeys.has(_.key),x=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;_&&I?_.data.isEqual(I.data)?A!==x&&(r.track({type:3,doc:I}),V=!0):this.Ra(_,I)||(r.track({type:2,doc:I}),V=!0,(l&&this.Ia(I,l)>0||c&&this.Ia(I,c)<0)&&(a=!0)):!_&&I?(r.track({type:0,doc:I}),V=!0):_&&!I&&(r.track({type:1,doc:_}),V=!0,(l||c)&&(a=!0)),V&&(I?(s=s.add(I),o=x?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((d,p)=>function(I,A){const x=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt()}};return x(I)-x(A)}(d.type,p.type)||this.Ia(d.doc,p.doc)),this.Va(r),i=null!=i&&i;const a=n&&!i?this.ma():[],l=0===this.Pa.size&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,0!==s.length||c?{snapshot:new Cp(this.query,e.Ta,o,s,e.mutatedKeys,0===l,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new y4,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Un(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new w4(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new C4(r))}),n}pa(e){this.la=e.hs,this.Pa=Un();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Cp.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Dce{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Sce{constructor(e){this.key=e,this.wa=!1}}class Rce{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new rc(a=>kU(a),k_),this.Da=new Map,this.Ca=new Set,this.va=new Hr(jt.comparator),this.Fa=new Map,this.Ma=new kS,this.xa={},this.Oa=new Map,this.Na=kd.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Pce(t,e){return bR.apply(this,arguments)}function bR(){return(bR=(0,E.A)(function*(t,e,n=!0){const r=WE(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield A4(r,e,n,!0),i})).apply(this,arguments)}function Mce(t,e){return CR.apply(this,arguments)}function CR(){return(CR=(0,E.A)(function*(t,e){const n=WE(t);yield A4(n,e,!0,!1)})).apply(this,arguments)}function A4(t,e,n,r){return wR.apply(this,arguments)}function wR(){return(wR=(0,E.A)(function*(t,e,n,r){const i=yield mp(t.localStore,Oo(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=yield TR(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&GE(t.remoteStore,i),a})).apply(this,arguments)}function TR(t,e,n,r,i){return AR.apply(this,arguments)}function AR(){return AR=(0,E.A)(function*(t,e,n,r,i){t.Ba=(p,_,I)=>{return(A=(0,E.A)(function*(V,B,z,fe){let ge=B.view.da(z);ge.Xi&&(ge=yield BE(V.localStore,B.query,!1).then(({documents:$})=>B.view.da($,ge)));const tt=fe&&fe.targetChanges.get(B.targetId),_t=fe&&null!=fe.targetMismatches.get(B.targetId),X=B.view.applyChanges(ge,V.isPrimaryClient,tt,_t);return LR(V,B.targetId,X.fa),X.snapshot}),function x(V,B,z,fe){return A.apply(this,arguments)})(t,p,_,I);var A};const o=yield BE(t.localStore,e,!0),s=new T4(e,o.hs),a=s.da(o.documents),l=j_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,l);LR(t,n,c.fa);const d=new Dce(e,n,s);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}),AR.apply(this,arguments)}function xce(t,e,n){return DR.apply(this,arguments)}function DR(){return(DR=(0,E.A)(function*(t,e,n){const r=Bt(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!k_(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vp(r.remoteStore,i.targetId),wp(r,i.targetId)}).catch(ru))):(wp(r,i.targetId),yield gp(r.localStore,i.targetId,!0))})).apply(this,arguments)}function Nce(t,e){return SR.apply(this,arguments)}function SR(){return(SR=(0,E.A)(function*(t,e){const n=Bt(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vp(n.remoteStore,r.targetId))})).apply(this,arguments)}function RR(){return(RR=(0,E.A)(function*(t,e,n){const r=KR(t);try{const i=yield function(s,a){const l=Bt(s),c=ni.now(),d=a.reduce((I,A)=>I.add(A.key),Un());let p,_;return l.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=ys(),x=Un();return l.os.getEntries(I,d).next(V=>{A=V,A.forEach((B,z)=>{z.isValidDocument()||(x=x.add(B))})}).next(()=>l.localDocuments.getOverlayedDocuments(I,A)).next(V=>{p=V;const B=[];for(const z of a){const fe=lle(z,p.get(z.key).overlayedDocument);null!=fe&&B.push(new ic(z.key,fe,vU(fe.value.mapValue),ri.exists(!0)))}return l.mutationQueue.addMutationBatch(I,c,B,a)}).next(V=>{_=V;const B=V.applyToLocalDocumentSet(p,x);return l.documentOverlayCache.saveOverlays(I,V.batchId,B)})}).then(()=>({batchId:_.batchId,changes:VU(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.xa[s.currentUser.toKey()];c||(c=new Hr(Nn)),c=c.insert(a,l),s.xa[s.currentUser.toKey()]=c}(r,i.batchId,n),yield sc(r,i.changes),yield yp(r.remoteStore)}catch(i){const o=Ep(i,"Failed to persist write");n.reject(o)}})).apply(this,arguments)}function D4(t,e){return PR.apply(this,arguments)}function PR(){return(PR=(0,E.A)(function*(t,e){const n=Bt(t);try{const r=yield function Zle(t,e){const n=Bt(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,p)=>{const _=i.get(p);if(!_)return;a.push(n.Qr.removeMatchingKeys(o,d.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,d.addedDocuments,p)));let I=_.withSequenceNumber(o.currentSequenceNumber);var x,V,B;null!==e.targetMismatches.get(p)?I=I.withResumeToken(Ki.EMPTY_BYTE_STRING,mn.min()).withLastLimboFreeSnapshotVersion(mn.min()):d.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(d.resumeToken,r)),i=i.insert(p,I),V=I,B=d,(0===(x=_).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(o,I))});let l=ys(),c=Un();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(r4(o,s,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!r.isEqual(mn.min())){const d=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return Ee.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.ns=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(an(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?an(s.wa):i.removedDocuments.size>0&&(an(s.wa),s.wa=!1))}),yield sc(n,r,e)}catch(r){yield ru(r)}})).apply(this,arguments)}function S4(t,e,n){const r=Bt(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Bt(s);l.onlineState=a;let c=!1;l.queries.forEach((d,p)=>{for(const _ of p.U_)_.j_(a)&&(c=!0)}),c&&yR(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Oce(t,e,n){return MR.apply(this,arguments)}function MR(){return(MR=(0,E.A)(function*(t,e,n){const r=Bt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Hr(jt.comparator);s=s.insert(o,Qr.newNoDocument(o,mn.min()));const a=Un().add(o),l=new U_(mn.min(),new Map,new Hr(Nn),s,a);yield D4(r,l),r.va=r.va.remove(o),r.Fa.delete(e),VR(r)}else yield gp(r.localStore,e,!1).then(()=>wp(r,e,n)).catch(ru)})).apply(this,arguments)}function Fce(t,e){return xR.apply(this,arguments)}function xR(){return(xR=(0,E.A)(function*(t,e){const n=Bt(t),r=e.batch.batchId;try{const i=yield function Xle(t,e){const n=Bt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const p=c.batch,_=p.keys();let I=Ee.resolve();return _.forEach(A=>{I=I.next(()=>d.getEntry(l,A)).next(x=>{const V=c.docVersions.get(A);an(null!==V),x.version.compareTo(V)<0&&(p.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),d.addEntry(x)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Un();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);FR(n,r,null),OR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield sc(n,i)}catch(i){yield ru(i)}})).apply(this,arguments)}function Lce(t,e,n){return NR.apply(this,arguments)}function NR(){return(NR=(0,E.A)(function*(t,e,n){const r=Bt(t);try{const i=yield function(s,a){const l=Bt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(an(null!==p),d=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);FR(r,e,n),OR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield sc(r,i)}catch(i){yield ru(i)}})).apply(this,arguments)}function kR(){return(kR=(0,E.A)(function*(t,e){const n=Bt(t);mu(n.remoteStore)||pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=Bt(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(-1===r)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=Ep(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})).apply(this,arguments)}function OR(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function FR(t,e,n){const r=Bt(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function wp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||R4(t,r)})}function R4(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);null!==n&&(vp(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),VR(t))}function LR(t,e,n){for(const r of n)r instanceof C4?(t.Ma.addReference(r.key,e),$ce(t,r)):r instanceof w4?(pt("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||R4(t,r.key)):Yt()}function $ce(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(pt("SyncEngine","New document in limbo: "+n),t.Ca.add(r),VR(t))}function VR(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new jt(sr.fromString(e)),r=t.Na.next();t.Fa.set(r,new Sce(n)),t.va=t.va.insert(n,r),GE(t.remoteStore,new oc(Oo(np(n.path)),r,"TargetPurposeLimboResolution",$s.oe))}}function sc(t,e,n){return $R.apply(this,arguments)}function $R(){return $R=(0,E.A)(function*(t,e,n){const r=Bt(t),i=[],o=[],s=[];var a;r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c&&!c.fromCache?"current":"not-current"),c){i.push(c);const d=$S.Ki(l.targetId,c);o.push(d)}}))}),yield Promise.all(s),r.Sa.h_(i),yield(a=(0,E.A)(function*(c,d){const p=Bt(c);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Ee.forEach(d,I=>Ee.forEach(I.qi,A=>p.persistence.referenceDelegate.addReference(_,I.targetId,A)).next(()=>Ee.forEach(I.Qi,A=>p.persistence.referenceDelegate.removeReference(_,I.targetId,A)))))}catch(_){if(!iu(_))throw _;pt("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of d){const I=_.targetId;if(!_.fromCache){const A=p.ns.get(I),V=A.withLastLimboFreeSnapshotVersion(A.snapshotVersion);p.ns=p.ns.insert(I,V)}}}),function l(c,d){return a.apply(this,arguments)})(r.localStore,o))}),$R.apply(this,arguments)}function Bce(t,e){return BR.apply(this,arguments)}function BR(){return(BR=(0,E.A)(function*(t,e){const n=Bt(t);if(!n.currentUser.isEqual(e)){pt("SyncEngine","User change. New user:",e.toKey());const r=yield t4(n.localStore,e);n.currentUser=e,(o=n).Oa.forEach(a=>{a.forEach(l=>{l.reject(new lt(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Oa.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield sc(n,r.us)}var o})).apply(this,arguments)}function Uce(t,e){const n=Bt(t),r=n.Fa.get(e);if(r&&r.wa)return Un().add(r.key);{let i=Un();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function jce(t,e){return UR.apply(this,arguments)}function UR(){return(UR=(0,E.A)(function*(t,e){const n=Bt(t),r=yield BE(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&LR(n,e.targetId,i.fa),i})).apply(this,arguments)}function zce(t,e){return jR.apply(this,arguments)}function jR(){return(jR=(0,E.A)(function*(t,e){const n=Bt(t);return o4(n.localStore,e).then(r=>sc(n,r))})).apply(this,arguments)}function Hce(t,e,n,r){return zR.apply(this,arguments)}function zR(){return(zR=(0,E.A)(function*(t,e,n,r){const i=Bt(t),o=yield function(a,l){const c=Bt(a),d=Bt(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",p=>d.vn(p,l).next(_=>_?c.localDocuments.getDocuments(p,_):Ee.resolve(null)))}(i.localStore,e);var l;null!==o?("pending"===n?yield yp(i.remoteStore):"acknowledged"===n||"rejected"===n?(FR(i,e,r||null),OR(i,e),l=e,Bt(Bt(i.localStore).mutationQueue).Mn(l)):Yt(),yield sc(i,o)):pt("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function HR(){return(HR=(0,E.A)(function*(t,e){const n=Bt(t);if(WE(n),KR(n),!0===e&&!0!==n.La){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield P4(n,r.toArray());n.La=!0,yield hR(n.remoteStore,!0);for(const o of i)GE(n.remoteStore,o)}else if(!1===e&&!1!==n.La){const r=[];let i=Promise.resolve();n.Da.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(wp(n,s),gp(n.localStore,s,!0))),vp(n.remoteStore,s)}),yield i,yield P4(n,r),function(s){const a=Bt(s);a.Fa.forEach((l,c)=>{vp(a.remoteStore,c)}),a.Ma.mr(),a.Fa=new Map,a.va=new Hr(jt.comparator)}(n),n.La=!1,yield hR(n.remoteStore,!1)}})).apply(this,arguments)}function P4(t,e,n){return GR.apply(this,arguments)}function GR(){return(GR=(0,E.A)(function*(t,e,n){const r=Bt(t),i=[],o=[];for(const s of e){let a;const l=r.Da.get(s);if(l&&0!==l.length){a=yield mp(r.localStore,Oo(l[0]));for(const c of l){const d=r.ba.get(c),p=yield jce(r,d);p.snapshot&&o.push(p.snapshot)}}else{const c=yield i4(r.localStore,s);a=yield mp(r.localStore,c),yield TR(r,M4(c),s,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(o),i})).apply(this,arguments)}function M4(t){return PU(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function qce(t){return n=Bt(t).localStore,Bt(Bt(n).persistence).Bi();var n}function Wce(t,e,n,r){return qR.apply(this,arguments)}function qR(){return(qR=(0,E.A)(function*(t,e,n,r){const i=Bt(t);if(i.La)return void pt("SyncEngine","Ignoring unexpected query state notification.");const o=i.Da.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield o4(i.localStore,OU(o[0])),a=U_.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ki.EMPTY_BYTE_STRING);yield sc(i,s,a);break}case"rejected":yield gp(i.localStore,e,!0),wp(i,e,r);break;default:Yt()}})).apply(this,arguments)}function Kce(t,e,n){return WR.apply(this,arguments)}function WR(){return(WR=(0,E.A)(function*(t,e,n){const r=WE(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pt("SyncEngine","Adding an already active target "+i);continue}const o=yield i4(r.localStore,i),s=yield mp(r.localStore,o);yield TR(r,M4(o),s.targetId,!1,s.resumeToken),GE(r.remoteStore,s)}for(const i of n)r.Da.has(i)&&(yield gp(r.localStore,i,!1).then(()=>{vp(r.remoteStore,i),wp(r,i)}).catch(ru))}})).apply(this,arguments)}function WE(t){const e=Bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=D4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Oce.bind(null,e),e.Sa.h_=Cce.bind(null,e.eventManager),e.Sa.ka=wce.bind(null,e.eventManager),e}function KR(t){const e=Bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lce.bind(null,e),e}class Tp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,E.A)(function*(){n.serializer=Z_(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return e4(this.persistence,new Jj,e.initialUser,this.serializer)}createPersistence(e){return new OS(LE.Hr,this.serializer)}createSharedClientState(e){return new c4}terminate(){var e=this;return(0,E.A)(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class QR extends Tp{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,E.A)(function*(){yield n().call(r,e),yield r.Qa.initialize(r,e),yield KR(r.Qa.syncEngine),yield yp(r.Qa.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return e4(this.persistence,new Jj,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Hj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Iae(n,this.persistence);return new yae(e.asyncQueue,r)}createPersistence(e){const n=VS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Fo.withCacheSize(this.cacheSizeBytes):Fo.DEFAULT;return new LS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,d4(),HE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new c4}}class x4 extends QR{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,E.A)(function*(){yield n().call(r,e);const i=r.Qa.syncEngine;r.sharedClientState instanceof WS&&(r.sharedClientState.syncEngine={Zs:Hce.bind(null,i),Xs:Wce.bind(null,i),eo:Kce.bind(null,i),Bi:qce.bind(null,i),Ys:zce.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var o=(0,E.A)(function*(s){yield function Gce(t,e){return HR.apply(this,arguments)}(r.Qa.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=d4();if(!WS.D(n))throw new lt(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=VS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new WS(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ap{initialize(e,n){var r=this;return(0,E.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>S4(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Bce.bind(null,r.syncEngine),yield hR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bce}createDatastore(e){const n=Z_(e.databaseInfo.databaseId),r=new oce(e.databaseInfo);return new lce(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>S4(this.syncEngine,n,0),a=u4.D()?new u4:new nce,new uce(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,l,c,d){const p=new Rce(i,o,s,a,l,c);return d&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,E.A)(function*(){var n,r;yield(r=(0,E.A)(function*(o){const s=Bt(o);pt("RemoteStore","RemoteStore shutting down."),s.M_.add(5),yield _p(s),s.O_.shutdown(),s.N_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function N4(t,e=10240){let n=0;return{read:()=>(0,E.A)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,E.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class KE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Xce{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Wi,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,E.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,E.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,E.A)(function*(){const n=yield e.za();if(null===n)return null;const r=e.Wa.decode(n),i=Number(r);isNaN(i)&&e.ja(`length string (${r}) is not valid number`);const o=yield e.Ha(i);return new Tce(JSON.parse(o),n.length+i)})()}Ja(){return this.buffer.findIndex(e=>123===e)}za(){var e=this;return(0,E.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const n=e.Ja();n<0&&e.ja("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ha(e){var n=this;return(0,E.A)(function*(){for(;n.buffer.length<e;)(yield n.Ya())&&n.ja("Reached the end of bundle when more is expected.");const r=n.Wa.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,E.A)(function*(){const n=yield e.Ua.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Zce{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,E.A)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new lt(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const r=yield(i=(0,E.A)(function*(s,a){const l=Bt(s),c={documents:a.map(I=>z_(l.serializer,I))},d=yield l.xo("BatchGetDocuments",l.serializer.databaseId,sr.emptyPath(),c,a.length),p=new Map;d.forEach(I=>{const A=function _le(t,e){return"found"in e?function(r,i){an(!!i.found);const o=fl(r,i.found.name),s=Pi(i.found.updateTime),a=i.found.createTime?Pi(i.found.createTime):mn.min(),l=new mo({mapValue:{fields:i.found.fields}});return Qr.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){an(!!i.missing),an(!!i.readTime);const o=fl(r,i.missing),s=Pi(i.readTime);return Qr.newNoDocument(o,s)}(t,e):Yt()}(l.serializer,I);p.set(A.key.toString(),A)});const _=[];return a.forEach(I=>{const A=p.get(I.toString());an(!!A),_.push(A)}),_}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new lp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,E.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=jt.fromPath(i);e.mutations.push(new _S(o,e.precondition(o)))}),yield(r=(0,E.A)(function*(o,s){const a=Bt(o),l={writes:s.map(c=>H_(a.serializer,c))};yield a.Co("Commit",a.serializer.databaseId,sr.emptyPath(),l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Yt();n=mn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new lt(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(mn.min())?ri.exists(!1):ri.updateTime(n):ri.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(mn.min()))throw new lt(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ri.updateTime(n)}return ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Jce{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Za=r.maxAttempts,this.Yo=new QS(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,E.A)(function*(){const n=new Zce(e.datastore),r=e.tu(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.nu(o)}))}).catch(i=>{e.nu(i)})}))}tu(e){try{const n=this.updateFunction(e);return!A_(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!ej(n)}return!1}}class eue{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ro.UNAUTHENTICATED,this.clientId=GB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,E.A)(function*(a){pt("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(pt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new lt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,E.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ep(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function QE(t,e){return YR.apply(this,arguments)}function YR(){return YR=(0,E.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),pt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,E.A)(function*(o){r.isEqual(o)||(yield t4(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),YR.apply(this,arguments)}function XR(t,e){return ZR.apply(this,arguments)}function ZR(){return(ZR=(0,E.A)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield JR(t);pt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>v4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>v4(e.remoteStore,i)),t._onlineComponents=e})).apply(this,arguments)}function k4(t){return"FirebaseError"===t.name?t.code===xe.FAILED_PRECONDITION||t.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function JR(t){return eP.apply(this,arguments)}function eP(){return(eP=(0,E.A)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield QE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!k4(n))throw n;_s("Error using user provided cache. Falling back to memory cache: "+n),yield QE(t,new Tp)}}else pt("FirestoreClient","Using default OfflineComponentProvider"),yield QE(t,new Tp);return t._offlineComponents})).apply(this,arguments)}function YE(t){return tP.apply(this,arguments)}function tP(){return(tP=(0,E.A)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield XR(t,t._uninitializedComponentsProvider._online)):(pt("FirestoreClient","Using default OnlineComponentProvider"),yield XR(t,new Ap))),t._onlineComponents})).apply(this,arguments)}function O4(t){return JR(t).then(e=>e.persistence)}function Dp(t){return JR(t).then(e=>e.localStore)}function F4(t){return YE(t).then(e=>e.remoteStore)}function nP(t){return YE(t).then(e=>e.syncEngine)}function Sp(t){return rP.apply(this,arguments)}function rP(){return(rP=(0,E.A)(function*(t){const e=yield YE(t),n=e.eventManager;return n.onListen=Pce.bind(null,e.syncEngine),n.onUnlisten=xce.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Mce.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Nce.bind(null,e.syncEngine),n})).apply(this,arguments)}function V4(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function(o,s,a,l,c){const d=new KE({next:_=>{s.enqueueAndForget(()=>_R(o,p));const I=_.docs.has(a);!I&&_.fromCache?c.reject(new lt(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&l&&"server"===l.source?c.reject(new lt(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(_)},error:_=>c.reject(_)}),p=new ER(np(a.path),d,{includeMetadataChanges:!0,ra:!0});return mR(o,p)}(yield Sp(t),t.asyncQueue,e,n,r)})),r.promise}function $4(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function(o,s,a,l,c){const d=new KE({next:_=>{s.enqueueAndForget(()=>_R(o,p)),_.fromCache&&"server"===l.source?c.reject(new lt(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(_)},error:_=>c.reject(_)}),p=new ER(a,d,{includeMetadataChanges:!0,ra:!0});return mR(o,p)}(yield Sp(t),t.asyncQueue,e,n,r)})),r.promise}function B4(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const U4=new Map;function iP(t,e,n){if(!n)throw new lt(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function j4(t,e,n,r){if(!0===e&&!0===r)throw new lt(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function z4(t){if(!jt.isDocumentKey(t))throw new lt(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H4(t){if(jt.isDocumentKey(t))throw new lt(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Yt()}function tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new lt(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=XE(t);throw new lt(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function G4(t,e){if(e<=0)throw new lt(xe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class q4{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new lt(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lt(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=B4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new lt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new lt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new lt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ev{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new lt(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lt(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q4(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new aae;switch(r.type){case"firstParty":return new dae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=U4.get(n);r&&(pt("ComponentProvider","Removing Datastore"),U4.delete(n),r.terminate())}(this),Promise.resolve()}}class go{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class Yr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}}class pl extends go{constructor(e,n,r){super(e,n,np(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new jt(e))}withConverter(e){return new pl(this.firestore,e,this._path)}}function K4(t,e,...n){if(t=(0,$n.Ku)(t),iP("collection","path",e),t instanceof ev){const r=sr.fromString(e,...n);return H4(r),new pl(t,null,r)}{if(!(t instanceof Yr||t instanceof pl))throw new lt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sr.fromString(e,...n));return H4(r),new pl(t.firestore,null,r)}}function ZE(t,e,...n){if(t=(0,$n.Ku)(t),1===arguments.length&&(e=GB.newId()),iP("doc","path",e),t instanceof ev){const r=sr.fromString(e,...n);return z4(r),new Yr(t,null,new jt(r))}{if(!(t instanceof Yr||t instanceof pl))throw new lt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sr.fromString(e,...n));return z4(r),new Yr(t.firestore,t instanceof pl?t.converter:null,new jt(r))}}function Q4(t,e){return t=(0,$n.Ku)(t),e=(0,$n.Ku)(e),(t instanceof Yr||t instanceof pl)&&(e instanceof Yr||e instanceof pl)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function oP(t,e){return t=(0,$n.Ku)(t),e=(0,$n.Ku)(e),t instanceof go&&e instanceof go&&t.firestore===e.firestore&&k_(t._query,e._query)&&t.converter===e.converter}class fue{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new QS(this,"async_queue_retry"),this.hu=()=>{const n=HE();n&&pt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=HE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=HE();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Wi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,E.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(n){if(!iu(n))throw n;pt("AsyncQueue","Operation failed with retryable error: "+n)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,Ri("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=pR.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Yt()}verifyOperationInProgress(){}du(){var e=this;return(0,E.A)(function*(){let n;do{n=e.iu,yield n}while(n!==e.iu)})()}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function sP(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class pue{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Nr extends ev{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fue,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Y4(this),this._firestoreClient.terminate()}}function ii(t){return t._firestoreClient||Y4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Y4(t){var e,n,r;const i=t._freezeSettings(),o=(l=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Uae(t._databaseId,l,t._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,B4(d.experimentalLongPollingOptions),d.useFetchStreams));var l,d;t._firestoreClient=new eue(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function X4(t,e,n){const r=new Wi;return t.asyncQueue.enqueue((0,E.A)(function*(){try{yield QE(t,n),yield XR(t,e),r.resolve()}catch(i){const o=i;if(!k4(o))throw o;_s("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function Z4(t){if(t._initialized||t._terminated)throw new lt(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(Ki.fromBase64String(e))}catch(n){throw new lt(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ml(Ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ac{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new lt(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fd{constructor(e){this._methodName=e}}class JE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new lt(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new lt(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nn(this._lat,e._lat)||Nn(this._long,e._long)}}const Tue=/^__.*__$/;class Aue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ic(e,this.data,this.fieldMask,n,this.fieldTransforms):new ap(e,this.data,n,this.fieldTransforms)}}class J4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ic(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function e3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt()}}class eb{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new eb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return rb(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(e3(this.fu)&&Tue.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Due{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Z_(e)}Fu(e,n,r,i=!1){return new eb({fu:e,methodName:n,vu:r,path:Kr.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ld(t){const e=t._freezeSettings(),n=Z_(t._databaseId);return new Due(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tb(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);fP("Data must be an object, but it was:",s,r);const a=r3(r,s);let l,c;if(o.merge)l=new vs(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const _=rv(e,p,n);if(!s.contains(_))throw new lt(xe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);o3(d,_)||d.push(_)}l=new vs(d),c=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=s.fieldTransforms;return new Aue(new mo(a),l,c)}class nv extends Fd{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nv}}function t3(t,e,n){return new eb({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class aP extends Fd{_toFieldTransform(e){return new V_(e.path,new op)}isEqual(e){return e instanceof aP}}class lP extends Fd{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=t3(this,e,!0),r=this.Mu.map(o=>Vd(o,n)),i=new Dd(r);return new V_(e.path,i)}isEqual(e){return e instanceof lP&&(0,$n.bD)(this.Mu,e.Mu)}}class cP extends Fd{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=t3(this,e,!0),r=this.Mu.map(o=>Vd(o,n)),i=new Sd(r);return new V_(e.path,i)}isEqual(e){return e instanceof cP&&(0,$n.bD)(this.Mu,e.Mu)}}class uP extends Fd{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new sp(e.serializer,jU(e.serializer,this.xu));return new V_(e.path,n)}isEqual(e){return e instanceof uP&&this.xu===e.xu}}function dP(t,e,n,r){const i=t.Fu(1,e,n);fP("Data must be an object, but it was:",i,r);const o=[],s=mo.empty();ou(r,(l,c)=>{const d=nb(e,l,n);c=(0,$n.Ku)(c);const p=i.Su(d);if(c instanceof nv)o.push(d);else{const _=Vd(c,p);null!=_&&(o.push(d),s.set(d,_))}});const a=new vs(o);return new J4(s,a,i.fieldTransforms)}function hP(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[rv(e,r,n)],l=[i];if(o.length%2!=0)throw new lt(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(rv(e,o[_])),l.push(o[_+1]);const c=[],d=mo.empty();for(let _=a.length-1;_>=0;--_)if(!o3(c,a[_])){const I=a[_];let A=l[_];A=(0,$n.Ku)(A);const x=s.Su(I);if(A instanceof nv)c.push(I);else{const V=Vd(A,x);null!=V&&(c.push(I),d.set(I,V))}}const p=new vs(c);return new J4(d,p,s.fieldTransforms)}function n3(t,e,n,r=!1){return Vd(n,t.Fu(r?4:3,e))}function Vd(t,e){if(i3(t=(0,$n.Ku)(t)))return fP("Unsupported field value:",e,t),r3(t,e);if(t instanceof Fd)return function(r,i){if(!e3(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Vd(a,i.bu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,$n.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return jU(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=ni.fromDate(r);return{timestampValue:cp(i.serializer,o)}}if(r instanceof ni){const o=new ni(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cp(i.serializer,o)}}if(r instanceof JE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ml)return{bytesValue:uj(i.serializer,r._byteString)};if(r instanceof Yr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:CS(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${XE(r)}`)}(t,e)}function r3(t,e){const n={};return cU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ou(t,(r,i)=>{const o=Vd(i,e.pu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function i3(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ni||t instanceof JE||t instanceof ml||t instanceof Yr||t instanceof Fd)}function fP(t,e,n){if(!i3(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=XE(n);throw e.Du("an object"===r?t+" a custom object":t+" "+r)}var i}function rv(t,e,n){if((e=(0,$n.Ku)(e))instanceof ac)return e._internalPath;if("string"==typeof e)return nb(t,e);throw rb("Field path arguments must be of type string or ",t,!1,void 0,n)}const Sue=new RegExp("[~\\*/\\[\\]]");function nb(t,e,n){if(e.search(Sue)>=0)throw rb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ac(...e.split("."))._internalPath}catch{throw rb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rb(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new lt(xe.INVALID_ARGUMENT,a+t+l)}function o3(t,e){return t.some(n=>n.isEqual(e))}class iv{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ib("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Rue extends iv{data(){return super.data()}}function ib(t,e){return"string"==typeof e?nb(t,e):e instanceof ac?e._internalPath:e._delegate._internalPath}function s3(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new lt(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pP{}class ov extends pP{}function _u(t,e,...n){let r=[];e instanceof pP&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Rp).length,a=o.filter(l=>l instanceof sv).length;if(s>1||s>0&&a>0)throw new lt(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sv extends ov{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sv(e,n,r)}_apply(e){const n=this._parse(e);return u3(e._query,n),new go(e.firestore,e.converter,mS(e._query,n))}_parse(e){const n=Ld(e.firestore);return function(o,s,a,l,c,d,p){let _;if(c.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new lt(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){c3(p,d);const I=[];for(const A of p)I.push(l3(l,o,A));_={arrayValue:{values:I}}}else _=l3(l,o,p)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||c3(p,d),_=n3(a,"where",p,"in"===d||"not-in"===d);return ar.create(c,d,_)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Rp extends pP{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)u3(s,l),s=mS(s,l)}(e._query,n),new go(e.firestore,e.converter,mS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mP extends ov{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mP(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new lt(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new lt(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new x_(o,s)}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new nc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class ob extends ov{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ob(e,n,r)}_apply(e){return new go(e.firestore,e.converter,CE(e._query,this._limit,this._limitType))}}class sb extends ov{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new sb(e,n,r)}_apply(e){const n=a3(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(o=n,new nc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class ab extends ov{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ab(e,n,r)}_apply(e){const n=a3(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(o=n,new nc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function a3(t,e,n,r){if(n[0]=(0,$n.Ku)(n[0]),n[0]instanceof iv)return function(o,s,a,l,c){if(!l)throw new lt(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const p of rp(o))if(p.field.isKeyField())d.push(Td(s,l.key));else{const _=l.data.field(p.field);if(gE(_))throw new lt(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_){const I=p.field.canonicalString();throw new lt(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}d.push(_)}return new uu(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ld(t.firestore);return function(s,a,l,c,d,p){const _=s.explicitOrderBy;if(d.length>_.length)throw new lt(xe.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let A=0;A<d.length;A++){const x=d[A];if(_[A].field.isKeyField()){if("string"!=typeof x)throw new lt(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof x}`);if(!pS(s)&&-1!==x.indexOf("/"))throw new lt(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${x}' contains a slash.`);const V=s.path.child(sr.fromString(x));if(!jt.isDocumentKey(V))throw new lt(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const B=new jt(V);I.push(Td(a,B))}else{const V=n3(l,c,x);I.push(V)}}return new uu(I,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function l3(t,e,n){if("string"==typeof(n=(0,$n.Ku)(n))){if(""===n)throw new lt(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pS(e)&&-1!==n.indexOf("/"))throw new lt(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(sr.fromString(n));if(!jt.isDocumentKey(r))throw new lt(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Td(t,new jt(r))}if(n instanceof Yr)return Td(t,n._key);throw new lt(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XE(n)}.`)}function c3(t,e){if(!Array.isArray(t)||0===t.length)throw new lt(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u3(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new lt(xe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gP{convertValue(e,n="none"){switch(lu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Yt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ou(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new JE(_i(e.latitude),_i(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_E(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(S_(e));default:return null}}convertTimestamp(e){const n=ec(e);return new ni(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=sr.fromString(e);an(bj(r));const i=new su(r.get(1),r.get(3)),o=new jt(r.popFirst(5));return i.isEqual(n)||Ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function lb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Vue extends gP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,n)}}class $d{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lc extends iv{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new av(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ib("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class av extends lc{data(e={}){return super.data(e)}}class vu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $d(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new av(this._firestore,this._userDataWriter,r.key,r,new $d(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new av(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $d(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new av(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $d(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Bue(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Bue(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt()}}function h3(t,e){return t instanceof lc&&e instanceof lc?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof vu&&e instanceof vu&&t._firestore===e._firestore&&oP(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class yu extends gP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,n)}}function f3(t,e,n){t=tr(t,Yr);const r=tr(t.firestore,Nr),i=lb(t.converter,e,n);return Pp(r,[tb(Ld(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ri.none())])}function p3(t,e,n,...r){t=tr(t,Yr);const i=tr(t.firestore,Nr),o=Ld(i);let s;return s="string"==typeof(e=(0,$n.Ku)(e))||e instanceof ac?hP(o,"updateDoc",t._key,e,n,r):dP(o,"updateDoc",t._key,e),Pp(i,[s.toMutation(t._key,ri.exists(!0))])}function m3(t,...e){var n,r,i;t=(0,$n.Ku)(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||sP(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(sP(e[s])){const p=e[s];e[s]=null===(n=p.next)||void 0===n?void 0:n.bind(p),e[s+1]=null===(r=p.error)||void 0===r?void 0:r.bind(p),e[s+2]=null===(i=p.complete)||void 0===i?void 0:i.bind(p)}let l,c,d;if(t instanceof Yr)c=tr(t.firestore,Nr),d=np(t._key.path),l={next:p=>{e[s]&&e[s](_P(c,t,p))},error:e[s+1],complete:e[s+2]};else{const p=tr(t,go);c=tr(p.firestore,Nr),d=p._query;const _=new yu(c);l={next:I=>{e[s]&&e[s](new vu(c,_,p,I))},error:e[s+1],complete:e[s+2]},s3(t._query)}return function(_,I,A,x){const V=new KE(x),B=new ER(I,V,A);return _.asyncQueue.enqueueAndForget((0,E.A)(function*(){return mR(yield Sp(_),B)})),()=>{V.$a(),_.asyncQueue.enqueueAndForget((0,E.A)(function*(){return _R(yield Sp(_),B)}))}}(ii(c),d,a,l)}function Pp(t,e){return function(r,i){const o=new Wi;return r.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function kce(t,e,n){return RR.apply(this,arguments)}(yield nP(r),i,o)})),o.promise}(ii(t),e)}function _P(t,e,n){const r=n.docs.get(e._key),i=new yu(t);return new lc(t,i,e._key,r,new $d(n.hasPendingWrites,n.fromCache),e.converter)}const ide={maxAttempts:5};class g3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ld(e)}set(e,n,r){this._verifyNotCommitted();const i=Iu(e,this._firestore),o=lb(i.converter,n,r),s=tb(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,ri.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Iu(e,this._firestore);let s;return s="string"==typeof(n=(0,$n.Ku)(n))||n instanceof ac?hP(this._dataReader,"WriteBatch.update",o._key,n,r,i):dP(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Iu(e,this._firestore);return this._mutations=this._mutations.concat(new lp(n._key,ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Iu(t,e){if((t=(0,$n.Ku)(t)).firestore!==e)throw new lt(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class ode extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ld(n)}get(n){const r=Iu(n,this._firestore),i=new Vue(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Yt();const s=o[0];if(s.isFoundDocument())return new iv(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new iv(this._firestore,i,r._key,null,r.converter);throw Yt()})}set(n,r,i){const o=Iu(n,this._firestore),s=lb(o.converter,r,i),a=tb(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Iu(n,this._firestore);let a;return a="string"==typeof(r=(0,$n.Ku)(r))||r instanceof ac?hP(this._dataReader,"Transaction.update",s._key,r,i,o):dP(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Iu(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Iu(e,this._firestore),r=new yu(this._firestore);return super.get(e).then(i=>new lc(this._firestore,r,n._key,i._document,new $d(!1,!1),n.converter))}}function yP(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new lt("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function I3(){if(typeof Uint8Array>"u")throw new lt("unimplemented","Uint8Arrays are not available in this environment.")}function E3(){if(!function $ae(){return typeof atob<"u"}())throw new lt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){Kf=qi.SDK_VERSION,(0,qi._registerComponent)(new uE.uA("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Nr(new cae(r.getProvider("auth-internal")),new hae(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new lt(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,qi.registerVersion)(jB,"4.6.3",e),(0,qi.registerVersion)(jB,"4.6.3","esm2017")}();class lv{constructor(e){this._delegate=e}static fromBase64String(e){return E3(),new lv(ml.fromBase64String(e))}static fromUint8Array(e){return I3(),new lv(ml.fromUint8Array(e))}toBase64(){return E3(),this._delegate.toBase64()}toUint8Array(){return I3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IP(t){return function mde(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class gde{enableIndexedDbPersistence(e,n){return function gue(t,e){Z4(t=tr(t,Nr));const n=ii(t);if(n._uninitializedComponentsProvider)throw new lt(xe.FAILED_PRECONDITION,"SDK cache is already specified.");_s("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Ap;return X4(n,i,new QR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function _ue(t){Z4(t=tr(t,Nr));const e=ii(t);if(e._uninitializedComponentsProvider)throw new lt(xe.FAILED_PRECONDITION,"SDK cache is already specified.");_s("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Ap;return X4(e,r,new x4(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function vue(t){if(t._initialized&&!t._terminated)throw new lt(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wi;return t._queue.enqueueAndForgetEvenWhileRestricted((0,E.A)(function*(){try{yield(n=(0,E.A)(function*(i){if(!cl.D())return Promise.resolve();const o=i+"main";yield cl.delete(o)}),function r(i){return n.apply(this,arguments)})(VS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class b3{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof su||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&_s("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function W4(t,e,n,r={}){var i;const o=(t=tr(t,ev))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=ro.MOCK_USER;else{a=(0,$n.Fy)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new lt(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ro(c)}t._authCredentials=new lae(new zB(a,l))}}(this._delegate,e,n,r)}enableNetwork(){return function Iue(t){return function tue(t){return t.asyncQueue.enqueue((0,E.A)(function*(){const e=yield O4(t),n=yield F4(t);return e.setNetworkEnabled(!0),function(i){const o=Bt(i);return o.M_.delete(0),J_(o)}(n)}))}(ii(t=tr(t,Nr)))}(this._delegate)}disableNetwork(){return function Eue(t){return function nue(t){return t.asyncQueue.enqueue((0,E.A)(function*(){const e=yield O4(t),n=yield F4(t);return e.setNetworkEnabled(!1),(r=(0,E.A)(function*(o){const s=Bt(o);s.M_.add(0),yield _p(s),s.N_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(ii(t=tr(t,Nr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,j4("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yue(t){return function(n){const r=new Wi;return n.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function Vce(t,e){return kR.apply(this,arguments)}(yield nP(n),r)})),r.promise}(ii(t=tr(t,Nr)))}(this._delegate)}onSnapshotsInSync(e){return function Que(t,e){return function sue(t,e){const n=new KE(e);return t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return i=yield Sp(t),o=n,Bt(i).z_.add(o),void o.next();var i,o})),()=>{n.$a(),t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return i=yield Sp(t),o=n,void Bt(i).z_.delete(o);var i,o}))}}(ii(t=tr(t,Nr)),sP(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new lt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Mp(this,K4(this._delegate,e))}catch(n){throw ts(n,"collection()","Firestore.collection()")}}doc(e){try{return new ia(this,ZE(this._delegate,e))}catch(n){throw ts(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ns(this,function hue(t,e){if(t=tr(t,ev),iP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new lt(xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new go(t,null,(r=e,new nc(sr.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw ts(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function sde(t,e,n){t=tr(t,Nr);const r=Object.assign(Object.assign({},ide),n);return function(o){if(o.maxAttempts<1)throw new lt(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new Wi;return o.asyncQueue.enqueueAndForget((0,E.A)(function*(){const c=yield function L4(t){return YE(t).then(e=>e.datastore)}(o);new Jce(o.asyncQueue,c,a,s,l).Xa()})),l.promise}(ii(t),i=>e(new ode(t,i)),r)}(this._delegate,n=>e(new C3(this,n)))}batch(){return ii(this._delegate),new w3(new g3(this._delegate,e=>Pp(this._delegate,e)))}loadBundle(e){return function bue(t,e){const n=ii(t=tr(t,Nr)),r=new pue;return function aue(t,e,n,r){const i=function(s,a){let l;return l="string"==typeof s?nj().encode(s):s,d=function(d,p){if(d instanceof Uint8Array)return N4(d,p);if(d instanceof ArrayBuffer)return N4(new Uint8Array(d),p);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Xce(d,a);var d}(n,Z_(e));t.asyncQueue.enqueueAndForget((0,E.A)(function*(){!function Qce(t,e,n){const r=Bt(t);var i;(i=(0,E.A)(function*(s,a,l){try{const c=yield a.getMetadata();if(yield function(A,x){const V=Bt(A),B=Pi(x.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",z=>V.$r.getBundleMetadata(z,x.id)).then(z=>!!z&&z.createTime.compareTo(B)>=0)}(s.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(A=c).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);l._updateProgress(b4(c));const d=new Ace(c,s.localStore,a.serializer);let p=yield a.qa();for(;p;){const I=yield d._a(p);I&&l._updateProgress(I),p=yield a.qa()}const _=yield d.complete();return yield sc(s,_.ca,void 0),yield function(A,x){const V=Bt(A);return V.persistence.runTransaction("Save bundle","readwrite",B=>V.$r.saveBundleMetadata(B,x))}(s.localStore,c),l._completeWith(_.progress),Promise.resolve(_.ua)}catch(c){return _s("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var A}),function o(s,a,l){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield nP(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Cue(t,e){return function lue(t,e){return t.asyncQueue.enqueue((0,E.A)(function*(){return function(r,i){const o=Bt(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield Dp(t),e)}))}(ii(t=tr(t,Nr)),e).then(n=>n?new go(t,null,n.query):null)}(this._delegate,e).then(n=>n?new ns(this,n):null)}}class ub extends gP{constructor(e){super(),this.firestore=e}convertBytes(e){return new lv(new ml(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ia.forKey(n,this.firestore,null)}}class C3{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ub(e)}get(e){const n=Ud(e);return this._delegate.get(n).then(r=>new cv(this._firestore,new lc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ud(e);return r?(yP("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Ud(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Ud(e);return this._delegate.delete(n),this}}class w3{constructor(e){this._delegate=e}set(e,n,r){const i=Ud(e);return r?(yP("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Ud(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Ud(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Bd{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new av(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uv(this._firestore,r),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Bd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Bd(e,new ub(e),n),i.set(n,o)),o}}Bd.INSTANCES=new WeakMap;class ia{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ub(e)}static forPath(e,n,r){if(e.length%2!=0)throw new lt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ia(n,new Yr(n._delegate,r,new jt(e)))}static forKey(e,n,r){return new ia(n,new Yr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Mp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Mp(this.firestore,K4(this._delegate,e))}catch(n){throw ts(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$n.Ku)(e))instanceof Yr&&Q4(this._delegate,e)}set(e,n){n=yP("DocumentReference.set",n);try{return n?f3(this._delegate,e,n):f3(this._delegate,e)}catch(r){throw ts(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?p3(this._delegate,e):p3(this._delegate,e,n,...r)}catch(i){throw ts(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Wue(t){return Pp(tr(t.firestore,Nr),[new lp(t._key,ri.none())])}(this._delegate)}onSnapshot(...e){const n=T3(e),r=A3(e,i=>new cv(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return m3(this._delegate,n,r)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function jue(t){t=tr(t,Yr);const e=tr(t.firestore,Nr),n=ii(e),r=new yu(e);return function rue(t,e){const n=new Wi;return t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return(r=(0,E.A)(function*(o,s,a){try{const l=yield function(d,p){const _=Bt(d);return _.persistence.runTransaction("read document","readonly",I=>_.localDocuments.getDocument(I,p))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new lt(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=Ep(l,`Failed to get document '${s} from cache`);a.reject(c)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Dp(t),e,n);var r})),n.promise}(n,t._key).then(i=>new lc(e,r,t._key,i,new $d(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function zue(t){t=tr(t,Yr);const e=tr(t.firestore,Nr);return V4(ii(e),t._key,{source:"server"}).then(n=>_P(e,t,n))}(this._delegate):function Uue(t){t=tr(t,Yr);const e=tr(t.firestore,Nr);return V4(ii(e),t._key).then(n=>_P(e,t,n))}(this._delegate),n.then(r=>new cv(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ia(this.firestore,this._delegate.withConverter(e?Bd.getInstance(this.firestore,e):null))}}function ts(t,e,n){return t.message=t.message.replace(e,n),t}function T3(t){for(const e of t)if("object"==typeof e&&!IP(e))return e;return{}}function A3(t,e){var n,r;let i;return i=IP(t[0])?t[0]:IP(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class cv{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return h3(this._delegate,e._delegate)}}class uv extends cv{data(e){const n=this._delegate.data(e);return this._delegate._converter||function sae(t,e){t||Yt()}(void 0!==n),n}}class ns{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ub(e)}where(e,n,r){try{return new ns(this.firestore,_u(this._delegate,function Pue(t,e,n){const r=e,i=ib("where",t);return sv._create(i,r,n)}(e,n,r)))}catch(i){throw ts(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new ns(this.firestore,_u(this._delegate,function Mue(t,e="asc"){const n=e,r=ib("orderBy",t);return mP._create(r,n)}(e,n)))}catch(r){throw ts(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ns(this.firestore,_u(this._delegate,function xue(t){return G4("limit",t),ob._create("limit",t,"F")}(e)))}catch(n){throw ts(n,"limit()","Query.limit()")}}limitToLast(e){try{return new ns(this.firestore,_u(this._delegate,function Nue(t){return G4("limitToLast",t),ob._create("limitToLast",t,"L")}(e)))}catch(n){throw ts(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ns(this.firestore,_u(this._delegate,function kue(...t){return sb._create("startAt",t,!0)}(...e)))}catch(n){throw ts(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ns(this.firestore,_u(this._delegate,function Oue(...t){return sb._create("startAfter",t,!1)}(...e)))}catch(n){throw ts(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ns(this.firestore,_u(this._delegate,function Fue(...t){return ab._create("endBefore",t,!1)}(...e)))}catch(n){throw ts(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ns(this.firestore,_u(this._delegate,function Lue(...t){return ab._create("endAt",t,!0)}(...e)))}catch(n){throw ts(n,"endAt()","Query.endAt()")}}isEqual(e){return oP(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Gue(t){t=tr(t,go);const e=tr(t.firestore,Nr),n=ii(e),r=new yu(e);return function iue(t,e){const n=new Wi;return t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return(r=(0,E.A)(function*(o,s,a){try{const l=yield BE(o,s,!0),c=new T4(s,l.hs),d=c.da(l.documents),p=c.applyChanges(d,!1);a.resolve(p.snapshot)}catch(l){const c=Ep(l,`Failed to execute query '${s} against cache`);a.reject(c)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Dp(t),e,n);var r})),n.promise}(n,t._query).then(i=>new vu(e,r,t,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function que(t){t=tr(t,go);const e=tr(t.firestore,Nr),n=ii(e),r=new yu(e);return $4(n,t._query,{source:"server"}).then(i=>new vu(e,r,t,i))}(this._delegate):function Hue(t){t=tr(t,go);const e=tr(t.firestore,Nr),n=ii(e),r=new yu(e);return s3(t._query),$4(n,t._query).then(i=>new vu(e,r,t,i))}(this._delegate),n.then(r=>new EP(this.firestore,new vu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=T3(e),r=A3(e,i=>new EP(this.firestore,new vu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return m3(this._delegate,n,r)}withConverter(e){return new ns(this.firestore,this._delegate.withConverter(e?Bd.getInstance(this.firestore,e):null))}}class vde{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new uv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class EP{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new vde(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new uv(this._firestore,r))})}isEqual(e){return h3(this._delegate,e._delegate)}}class Mp extends ns{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ia(this.firestore,e):null}doc(e){try{return new ia(this.firestore,void 0===e?ZE(this._delegate):ZE(this._delegate,e))}catch(n){throw ts(n,"doc()","CollectionReference.doc()")}}add(e){return function Kue(t,e){const n=tr(t.firestore,Nr),r=ZE(t),i=lb(t.converter,e);return Pp(n,[tb(Ld(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ri.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new ia(this.firestore,n))}isEqual(e){return Q4(this._delegate,e._delegate)}withConverter(e){return new Mp(this.firestore,this._delegate.withConverter(e?Bd.getInstance(this.firestore,e):null))}}function Ud(t){return tr(t,Yr)}class bP{constructor(...e){this._delegate=new ac(...e)}static documentId(){return new bP(Kr.keyField().canonicalString())}isEqual(e){return(e=(0,$n.Ku)(e))instanceof ac&&this._delegate._internalPath.isEqual(e._internalPath)}}class jd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function lde(){return new aP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new jd(e)}static delete(){const e=function ade(){return new nv("deleteField")}();return e._methodName="FieldValue.delete",new jd(e)}static arrayUnion(...e){const n=function cde(...t){return new lP("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new jd(n)}static arrayRemove(...e){const n=function ude(...t){return new cP("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new jd(n)}static increment(e){const n=function dde(t){return new uP("increment",t)}(e);return n._methodName="FieldValue.increment",new jd(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yde={Firestore:b3,GeoPoint:JE,Timestamp:ni,Blob:lv,Transaction:C3,WriteBatch:w3,DocumentReference:ia,DocumentSnapshot:cv,Query:ns,QueryDocumentSnapshot:uv,QuerySnapshot:EP,CollectionReference:Mp,FieldPath:bP,FieldValue:jd,setLogLevel:function _de(t){!function oae(t){nu.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function D3(t,e){return function bde(t,e=YD){return new Mn(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function CP(t,e){return D3(t,e).pipe(Ct(n=>({payload:n,type:"query"})))}!function Ede(t){(function Ide(t,e){t.INTERNAL.registerComponent(new uE.uA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},yde)))})(t,(e,n)=>new b3(e,n,new gde)),t.registerVersion("@firebase/firestore-compat","0.3.32")}(Zl.A);class S3{constructor(e,n){v(this,"ref",void 0),v(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=x3(r,n);return new M3(i,o,this.afs)}snapshotChanges(){return function Cde(t,e){return D3(t,e).pipe(fI(void 0),eS(),Ct(n=>{const[r,i]=n;return i.exists?null!=r&&r.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(es)}valueChanges(e={}){return this.snapshotChanges().pipe(Ct(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return Dr(this.ref.get(e)).pipe(es)}}function db(t,e){return CP(t,e).pipe(fI(void 0),eS(),Ct(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const c=o.find(p=>p.doc.ref.isEqual(a.ref)),d=null==r?void 0:r.payload.docs.find(p=>p.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function R3(t,e,n){return db(t,n).pipe(mI((r,i)=>function wde(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function Tde(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return wP(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return wP(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return wP(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),U$(),Ct(r=>r.map(i=>({type:i.type,payload:i}))))}function wP(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function P3(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class M3{constructor(e,n,r){v(this,"ref",void 0),v(this,"query",void 0),v(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=db(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(Ct(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(fI(void 0),eS(),ks(([r,i])=>i.length>0||!r),Ct(([,r])=>r),es)}auditTrail(e){return this.stateChanges(e).pipe(mI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=P3(e);return R3(this.query,n,this.afs.schedulers.outsideAngular).pipe(es)}valueChanges(e={}){return CP(this.query,this.afs.schedulers.outsideAngular).pipe(Ct(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),es)}get(e){return Dr(this.query.get(e)).pipe(es)}add(e){return this.ref.add(e)}doc(e){return new S3(this.ref.doc(e),this.afs)}}class Ade{constructor(e,n){v(this,"query",void 0),v(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?db(this.query,this.afs.schedulers.outsideAngular).pipe(Ct(n=>n.filter(r=>e.indexOf(r.type)>-1)),ks(n=>n.length>0),es):db(this.query,this.afs.schedulers.outsideAngular).pipe(es)}auditTrail(e){return this.stateChanges(e).pipe(mI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=P3(e);return R3(this.query,n,this.afs.schedulers.outsideAngular).pipe(es)}valueChanges(e={}){return CP(this.query,this.afs.schedulers.outsideAngular).pipe(Ct(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),es)}get(e){return Dr(this.query.get(e)).pipe(es)}}const Dde=new Et("angularfire2.enableFirestorePersistence"),Sde=new Et("angularfire2.firestore.persistenceSettings"),Rde=new Et("angularfire2.firestore.settings"),Pde=new Et("angularfire2.firestore.use-emulator");function x3(t,e=(n=>n)){return{query:e(t),ref:t}}let dv=(()=>{var t;class e{constructor(r,i,o,s,a,l,c,d,p,_,I,A,x,V,B,z,fe){v(this,"schedulers",void 0),v(this,"firestore",void 0),v(this,"persistenceEnabled$",void 0),this.schedulers=c;const ge=cE(r,l,i),tt=p;_&&xB(ge,l,I,x,V,B,A,z),[this.firestore,this.persistenceEnabled$]=ZD(`${ge.name}.firestore`,"AngularFirestore",ge.name,()=>{const _t=l.runOutsideAngular(()=>ge.firestore());if(s&&_t.settings(s),tt&&_t.useEmulator(...tt),o&&!sI(a)){const X=()=>{try{return Dr(_t.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch($){return typeof console<"u"&&console.warn($),En(!1)}};return[_t,l.runOutsideAngular(X)]}return[_t,En(!1)]},[s,tt,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=x3(o,i),l=this.schedulers.ngZone.run(()=>s);return new M3(l,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new Ade(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new S3(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(E_),Qe(b_,8),Qe(Dde,8),Qe(Rde,8),Qe(Zs),Qe(He),Qe(I_),Qe(Sde,8),Qe(Pde,8),Qe(ra,8),Qe(AB,8),Qe(DB,8),Qe(SB,8),Qe(RB,8),Qe(PB,8),Qe(MB,8),Qe(lE,8))}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),Mde=(()=>{var t;class e{constructor(r){this.firestore=r}getim(){return this.firestore.collection("img-activate").snapshotChanges()}updateImgAc(r,i){return this.firestore.collection("img-activate").doc(r).update(i)}addImagenInfo(r){return this.firestore.collection("img-activate").add(r)}delete(r){return this.firestore.collection("img-activate").doc(r).delete()}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(dv))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),hv=(()=>{var t;class e{constructor(r){this.firestore=r}getUsers(){return this.firestore.collection("users").snapshotChanges()}getUserById(r){return this.firestore.collection("users").snapshotChanges()}addIUserInfo(r){return this.firestore.collection("users").add(r)}updateUser(r,i){return this.firestore.collection("users").doc(i).update(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(dv))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const N3="firebasestorage.googleapis.com",k3="storageBucket";class fi extends $n.g{constructor(e,n,r=0){super(TP(e),`Firebase Storage: ${n} (${TP(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return TP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var oi=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(oi||{});function TP(t){return"storage/"+t}function AP(){return new fi(oi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function O3(){return new fi(oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function F3(){return new fi(oi.CANCELED,"User canceled the upload/download.")}function L3(){return new fi(oi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xp(t){return new fi(oi.INVALID_ARGUMENT,t)}function V3(){return new fi(oi.APP_DELETED,"The Firebase app was deleted.")}function $3(t){return new fi(oi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fv(t,e){return new fi(oi.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pv(t){throw new fi(oi.INTERNAL_ERROR,"Internal error: "+t)}class Vo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vo.makeFromUrl(e,n)}catch{return new Vo(e,"")}if(""===r.path)return r;throw function jde(t){return new fi(oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(ge){ge.path_=decodeURIComponent(ge.path)}const p=n.replace(/[.]/g,"\\."),fe=[{regex:a,indices:{bucket:1,path:3},postModify:function o(ge){"/"===ge.path.charAt(ge.path.length-1)&&(ge.path_=ge.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${p}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===N3?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let ge=0;ge<fe.length;ge++){const tt=fe[ge],_t=tt.regex.exec(e);if(_t){let $=_t[tt.indices.path];$||($=""),r=new Vo(_t[tt.indices.bucket],$),tt.postModify(r);break}}if(null==r)throw function Ude(t){return new fi(oi.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Wde{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function hb(t){return"string"==typeof t||t instanceof String}function B3(t){return DP()&&t instanceof Blob}function DP(){return typeof Blob<"u"}function SP(t,e,n,r){if(r<e)throw xp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xp(`Invalid value for '${t}'. Expected ${n} or less.`)}function cc(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function U3(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Np=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Np||{});function j3(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class Jde{constructor(e,n,r,i,o,s,a,l,c,d,p,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=p,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,A)=>{this.resolve_=I,this.reject_=A,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function Yde(t){return void 0!==t}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=AP();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(i.canceled?this.appDelete_?V3():F3():O3())};this.canceled_?n(0,new fb(!1,null,!0)):this.backoffId_=function Kde(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function d(...V){c||(c=!0,e.apply(null,V))}function p(V){i=setTimeout(()=>{i=null,t(I,l())},V)}function _(){o&&clearTimeout(o)}function I(V,...B){if(c)return void _();if(V)return _(),void d.call(null,V,...B);if(l()||s)return _(),void d.call(null,V,...B);let fe;r<64&&(r*=2),1===a?(a=2,fe=0):fe=1e3*(r+Math.random()),p(fe)}let A=!1;function x(V){A||(A=!0,_(),!c&&(null!==i?(V||(a=2),clearTimeout(i),p(0)):V||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,x(!0)},n),x}((r,i)=>{if(i)return void r(!1,new fb(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Np.NO_ERROR,l=o.getStatus();if(!a||j3(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Np.ABORT;return void r(!1,new fb(!1,null,d))}const c=-1!==this.successCodes_.indexOf(l);r(!0,new fb(c,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Qde(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class fb{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function she(...t){const e=function ohe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(DP())return new Blob(t);throw new fi(oi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Bs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class RP{constructor(e,n){this.data=e,this.contentType=n||null}}function PP(t,e){switch(t){case Bs.RAW:return new RP(z3(e));case Bs.BASE64:case Bs.BASE64URL:return new RP(H3(t,e));case Bs.DATA_URL:return new RP(function uhe(t){const e=new G3(t);return e.base64?H3(Bs.BASE64,e.rest):function che(t){let e;try{e=decodeURIComponent(t)}catch{throw fv(Bs.DATA_URL,"Malformed data URL.")}return z3(e)}(e.rest)}(e),function dhe(t){return new G3(t).contentType}(e))}throw AP()}function z3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function H3(t,e){switch(t){case Bs.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw fv(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bs.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw fv(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function lhe(t){if(typeof atob>"u")throw function qde(t){return new fi(oi.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:fv(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class G3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw fv(Bs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function hhe(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class gl{constructor(e,n){let r=0,i="";B3(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(B3(this.data_)){const i=function ahe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new gl(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new gl(r,!0)}}static getBlob(...e){if(DP()){const n=e.map(r=>r instanceof gl?r.data_:r);return new gl(she.apply(null,n))}{const n=e.map(s=>hb(s)?PP(Bs.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new gl(i,!0)}}uploadData(){return this.data_}}function MP(t){let e;try{e=JSON.parse(t)}catch{return null}return function Zde(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function q3(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function mhe(t,e){return e}class rs{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||mhe}}let pb=null;function mv(){if(pb)return pb;const t=[];t.push(new rs("bucket")),t.push(new rs("generation")),t.push(new rs("metageneration")),t.push(new rs("name","fullPath",!0));const n=new rs("name");n.xform=function e(o,s){return function ghe(t){return!hb(t)||t.length<2?t:q3(t)}(s)},t.push(n);const i=new rs("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new rs("timeCreated")),t.push(new rs("updated")),t.push(new rs("md5Hash",null,!0)),t.push(new rs("cacheControl",null,!0)),t.push(new rs("contentDisposition",null,!0)),t.push(new rs("contentEncoding",null,!0)),t.push(new rs("contentLanguage",null,!0)),t.push(new rs("contentType",null,!0)),t.push(new rs("metadata","customMetadata",!0)),pb=t,pb}function W3(t,e,n){const r=MP(e);return null===r?null:function vhe(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function _he(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new Vo(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function xP(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const K3="prefixes",Q3="items";class _l{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vl(t){if(!t)throw AP()}function mb(t,e){return function n(r,i){const o=W3(t,i,e);return vl(null!==o),o}}function kp(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function $de(){return new fi(oi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Vde(){return new fi(oi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Lde(t){return new fi(oi.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Bde(t){return new fi(oi.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function gv(t){const e=kp(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function Fde(t){return new fi(oi.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function Y3(t,e,n){const i=cc(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new _l(i,"GET",mb(t,n),s);return a.errorHandler=gv(e),a}function whe(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=cc(e.bucketOnlyServerUrl(),t.host,t._protocol),c=t.maxOperationRetryTime,d=new _l(a,"GET",function bhe(t,e){return function n(r,i){const o=function Ehe(t,e,n){const r=MP(n);return null===r?null:function Ihe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[K3])for(const i of n[K3]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Vo(e,o));r.prefixes.push(s)}if(n[Q3])for(const i of n[Q3]){const o=t._makeStorageReference(new Vo(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return vl(null!==o),o}}(t,e.bucket),c);return d.urlParams=o,d.errorHandler=kp(e),d}function Z3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function She(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class gb{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function NP(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{vl(!1)}return vl(!!n&&-1!==(e||["active"]).indexOf(n)),n}const xhe={STATE_CHANGED:"state_changed"},is={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kP(t){switch(t){case"running":case"pausing":case"canceling":return is.RUNNING;case"paused":return is.PAUSED;case"success":return is.SUCCESS;case"canceled":return is.CANCELED;default:return is.ERROR}}class Nhe{constructor(e,n,r){if(function Xde(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=null!=n?n:void 0,this.complete=null!=r?r:void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Op(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let tz=null;class khe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Np.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Np.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Np.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw pv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ohe extends khe{initXhr(){this.xhr_.responseType="text"}}function Ma(){return tz?tz():new Ohe}class nz{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=mv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(oi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(j3(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=O3()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(oi.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function Rhe(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=Z3(e,r,i),a={name:s.fullPath},l=cc(o,t.host,t._protocol),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},p=xP(s,n),A=new _l(l,"POST",function I(x){let V;NP(x);try{V=x.getResponseHeader("X-Goog-Upload-URL")}catch{vl(!1)}return vl(hb(V)),V},t.maxUploadRetryTime);return A.urlParams=a,A.headers=d,A.body=p,A.errorHandler=kp(e),A}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ma,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function Phe(t,e,n,r){const l=new _l(n,"POST",function o(c){const d=NP(c,["active","final"]);let p=null;try{p=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vl(!1)}p||vl(!1);const _=Number(p);return vl(!isNaN(_)),new gb(_,r.size(),"final"===d)},t.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=kp(e),l}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ma,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new gb(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function Mhe(t,e,n,r,i,o,s,a){const l=new gb(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw function Hde(){return new fi(oi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const c=l.total-l.current;let d=c;i>0&&(d=Math.min(d,i));const p=l.current;let I="";I=0===d?"finalize":c===d?"upload, finalize":"upload";const A={"X-Goog-Upload-Command":I,"X-Goog-Upload-Offset":`${l.current}`},x=r.slice(p,p+d);if(null===x)throw L3();const fe=new _l(n,"POST",function V(ge,tt){const _t=NP(ge,["active","final"]),X=l.current+d,$=r.size();let K;return K="final"===_t?mb(e,o)(ge,tt):null,new gb(X,$,"final"===_t,K)},e.maxUploadRetryTime);return fe.headers=A,fe.body=x.uploadData(),fe.progressCallback=a||null,fe.errorHandler=kp(t),fe}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Ma,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Y3(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ma,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function J3(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let fe="";for(let ge=0;ge<2;ge++)fe+=Math.random().toString().slice(2);return fe}();s["Content-Type"]="multipart/related; boundary="+l;const c=Z3(e,r,i),d=xP(c,n),I=gl.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+d+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===I)throw L3();const A={name:c.fullPath},x=cc(o,t.host,t._protocol),B=t.maxUploadRetryTime,z=new _l(x,"POST",mb(t,n),B);return z.urlParams=A,z.headers=s,z.body=I.uploadData(),z.errorHandler=kp(e),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ma,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=F3(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=kP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new Nhe(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(kP(this._state)){case is.SUCCESS:Op(this._resolve.bind(null,this.snapshot))();break;case is.CANCELED:case is.ERROR:Op(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(kP(this._state)){case is.RUNNING:case is.PAUSED:e.next&&Op(e.next.bind(e,this.snapshot))();break;case is.SUCCESS:e.complete&&Op(e.complete.bind(e))();break;default:e.error&&Op(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class zd{constructor(e,n){this._service=e,this._location=n instanceof Vo?n:Vo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zd(e,n)}get root(){const e=new Vo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q3(this._location.path)}get storage(){return this._service}get parent(){const e=function fhe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Vo(this._location.bucket,e);return new zd(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw $3(e)}}function iz(t,e,n){return OP.apply(this,arguments)}function OP(){return(OP=(0,E.A)(function*(t,e,n){const i=yield oz(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield iz(t,e,i.nextPageToken))})).apply(this,arguments)}function oz(t,e){null!=e&&"number"==typeof e.maxResults&&SP("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=whe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ma)}function Whe(t){t._throwIfRoot("getDownloadURL");const e=function The(t,e,n){const i=cc(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new _l(i,"GET",function Che(t,e){return function n(r,i){const o=W3(t,i,e);return vl(null!==o),function yhe(t,e,n,r){const i=MP(e);if(null===i||!hb(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const p=t.fullPath;return cc("/b/"+s(t.bucket)+"/o/"+s(p),n,r)+U3({alt:"media",token:c})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=gv(e),a}(t.storage,t._location,mv());return t.storage.makeRequestWithTokens(e,Ma).then(n=>{if(null===n)throw function Gde(){return new fi(oi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function sz(t,e){const n=function phe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Vo(t._location.bucket,n);return new zd(t.storage,r)}function az(t,e){if(t instanceof FP){const n=t;if(null==n._bucket)throw function zde(){return new fi(oi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+k3+"' property when initializing the app?")}();const r=new zd(n,n._bucket);return null!=e?az(r,e):r}return void 0!==e?sz(t,e):t}function Xhe(t,e){if(e&&function Qhe(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof FP)return function Yhe(t,e){return new zd(t,e)}(t,e);throw xp("To use ref(service, url), the first argument must be a Storage instance.")}return az(t,e)}function lz(t,e){const n=null==e?void 0:e[k3];return null==n?null:Vo.makeFromBucketSpec(n,t)}class FP{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=N3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Vo.makeFromBucketSpec(i,this._host):lz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Vo.makeFromBucketSpec(this._url,e):lz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,E.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,E.A)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zd(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Wde(V3());{const s=function ihe(t,e,n,r,i,o,s=!0){const a=U3(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return function nhe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function ehe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function the(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,o),function rhe(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new Jde(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,E.A)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const cz="@firebase/storage",dz="storage";function hz(t,e){return Xhe(t=(0,$n.Ku)(t),e)}function afe(t=(0,qi.getApp)(),e){t=(0,$n.Ku)(t);const r=(0,qi._getProvider)(t,dz).getImmediate({identifier:e}),i=(0,$n.yU)("storage");return i&&fz(r,...i),r}function fz(t,e,n,r={}){!function Zhe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,$n.Fy)(i,t.app.options.projectId))}(t,e,n,r)}function lfe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new FP(n,r,i,e,qi.SDK_VERSION)}!function cfe(){(0,qi._registerComponent)(new uE.uA(dz,lfe,"PUBLIC").setMultipleInstances(!0)),(0,qi.registerVersion)(cz,"0.12.5",""),(0,qi.registerVersion)(cz,"0.12.5","esm2017")}();class _b{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class pz{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new _b(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new _b(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new _b(s,this,this._ref)):{next:n.next?s=>n.next(new _b(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class mz{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new uc(e,this._service))}get items(){return this._delegate.items.map(e=>new uc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class uc{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function sfe(t,e){return sz(t,e)}(this._delegate,e);return new uc(n,this.storage)}get root(){return new uc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new uc(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new pz(function Jhe(t,e,n){return function jhe(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new nz(t,new gl(e),n)}(t=(0,$n.Ku)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=Bs.RAW,r){this._throwIfRoot("putString");const i=PP(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new pz(new nz(this._delegate,new gl(i.data,!0),o),this)}listAll(){return function rfe(t){return function Hhe(t){const e={prefixes:[],items:[]};return iz(t,e).then(()=>e)}(t=(0,$n.Ku)(t))}(this._delegate).then(e=>new mz(e,this.storage))}list(e){return function nfe(t,e){return oz(t=(0,$n.Ku)(t),e)}(this._delegate,e||void 0).then(n=>new mz(n,this.storage))}getMetadata(){return function efe(t){return function Ghe(t){t._throwIfRoot("getMetadata");const e=Y3(t.storage,t._location,mv());return t.storage.makeRequestWithTokens(e,Ma)}(t=(0,$n.Ku)(t))}(this._delegate)}updateMetadata(e){return function tfe(t,e){return function qhe(t,e){t._throwIfRoot("updateMetadata");const n=function Ahe(t,e,n,r){const o=cc(e.fullServerUrl(),t.host,t._protocol),a=xP(n,r),c=t.maxOperationRetryTime,d=new _l(o,"PATCH",mb(t,r),c);return d.headers={"Content-Type":"application/json; charset=utf-8"},d.body=a,d.errorHandler=gv(e),d}(t.storage,t._location,e,mv());return t.storage.makeRequestWithTokens(n,Ma)}(t=(0,$n.Ku)(t),e)}(this._delegate,e)}getDownloadURL(){return function ife(t){return Whe(t=(0,$n.Ku)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ofe(t){return function Khe(t){t._throwIfRoot("deleteObject");const e=function Dhe(t,e){const r=cc(e.fullServerUrl(),t.host,t._protocol),a=new _l(r,"DELETE",function s(l,c){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=gv(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ma)}(t=(0,$n.Ku)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw $3(e)}}class gz{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(_z(e))throw xp("ref() expected a child path but got a URL, use refFromURL instead.");return new uc(hz(this._delegate,e),this)}refFromURL(e){if(!_z(e))throw xp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Vo.makeFromUrl(e,this._delegate.host)}catch{throw xp("refFromUrl() expected a valid full URL but got an invalid one.")}return new uc(hz(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){fz(this._delegate,e,n,r)}}function _z(t){return/^[A-Za-z]+:\/\//.test(t)}function ffe(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new gz(n,r)}function vz(t){const e=function mfe(t){return new Mn(e=>{const n=s=>e.next(s);n(t.snapshot);const o=t.on("state_changed",n);return t.then(s=>{n(s),e.complete()},s=>{n(t.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function xde(t,e=YD){return Pe((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function l(){const c=s+t,d=e.now();if(d<c)return i=this.schedule(void 0,c-d),void r.add(i);a()}n.subscribe(gt(r,c=>{o=c,s=e.now(),i||(i=e.schedule(l,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Ct(n=>n.bytesTransferred/n.totalBytes*100))}}function vb(t){return{getDownloadURL:()=>En(void 0).pipe(EB,hi(()=>t.getDownloadURL()),es),getMetadata:()=>En(void 0).pipe(EB,hi(()=>t.getMetadata()),es),delete:()=>Dr(t.delete()),child:e=>vb(t.child(e)),updateMetadata:e=>Dr(t.updateMetadata(e)),put:(e,n)=>vz(t.put(e,n)),putString:(e,n,r)=>vz(t.putString(e,n,r)),list:e=>Dr(t.list(e)),listAll:()=>Dr(t.listAll())}}!function pfe(t){const e={TaskState:is,TaskEvent:xhe,StringFormat:Bs,Storage:gz,Reference:uc};t.INTERNAL.registerComponent(new uE.uA("storage-compat",ffe,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.8")}(Zl.A);const gfe=new Et("angularfire2.storageBucket"),_fe=new Et("angularfire2.storage.maxUploadRetryTime"),vfe=new Et("angularfire2.storage.maxOperationRetryTime"),yfe=new Et("angularfire2.storage.use-emulator");let yz=(()=>{var t;class e{constructor(r,i,o,s,a,l,c,d,p,_){v(this,"storage",void 0);const I=cE(r,a,i);this.storage=ZD(`${I.name}.storage.${o}`,"AngularFireStorage",I.name,()=>{const A=a.runOutsideAngular(()=>I.storage(o||void 0)),x=p;return x&&A.useEmulator(...x),c&&A.setMaxUploadRetryTime(c),d&&A.setMaxOperationRetryTime(d),A},[c,d])}ref(r){return vb(this.storage.ref(r))}refFromURL(r){return vb(this.storage.refFromURL(r))}upload(r,i,o){return vb(this.storage.ref(r)).put(i,o)}}return t=e,v(e,"\u0275fac",function(r){return new(r||t)(Qe(E_),Qe(b_,8),Qe(gfe,8),Qe(Zs),Qe(He),Qe(I_),Qe(_fe,8),Qe(vfe,8),Qe(yfe,8),Qe(lE,8))}),v(e,"\u0275prov",Rt({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();const Ife=["modal"],Efe=t=>({active:t});function bfe(t,e){if(1&t){const n=er();q(0,"div",10)(1,"p",11),yt("click",function(){return Pt(n),Mt(Ue().subirArchivo())}),Ye(2,"+ Agregar imagen"),Q()()}}function Cfe(t,e){if(1&t){const n=er();q(0,"div",12)(1,"img",13),yt("mouseenter",function(){const i=Pt(n).index;return Mt(Ue().onMouseEnter(i))})("mouseleave",function(){const i=Pt(n).index;return Mt(Ue().onMouseLeave(i))})("click",function(){const i=Pt(n).index;return Mt(Ue().onPreviewImage(i))}),Q()()}if(2&t){const n=e.$implicit;Te(),ht("src",null==n?null:n.url,eo)}}function wfe(t,e){if(1&t&&(q(0,"span",20),Ye(1),Q()),2&t){const n=Ue(2);Te(),k0(" ",n.currentIndex+1,"/",n.totalImageCount," ")}}function Tfe(t,e){if(1&t){const n=er();q(0,"button",21),yt("click",function(){return Pt(n),Mt(Ue(2).onClosePreview())}),gn(1,"ion-icon",22),Q()}}function Afe(t,e){if(1&t){const n=er();q(0,"button",23),yt("click",function(){return Pt(n),Mt(Ue(2).prev())}),gn(1,"ion-icon",24),Q()}}function Dfe(t,e){if(1&t){const n=er();q(0,"button",25),yt("click",function(){return Pt(n),Mt(Ue(2).next())}),gn(1,"ion-icon",26),Q()}}function Sfe(t,e){if(1&t){const n=er();q(0,"div")(1,"ion-icon",33),yt("click",function(){Pt(n);const i=Ue(3);return Mt(i.deleteImgModal(i.currentLightboxImage.id))}),Q()()}}function Rfe(t,e){if(1&t){const n=er();q(0,"div",27),gn(1,"img",28),q(2,"div",29)(3,"div")(4,"ion-icon",30),yt("click",function(){Pt(n);const i=Ue(2);return Mt(i.abrirCom(i.currentLightboxImage))}),Q(),q(5,"span"),Ye(6),Q()(),q(7,"div")(8,"ion-icon",31),yt("click",function(){Pt(n);const i=Ue(2);return Mt(i.likeImage(i.currentLightboxImage))}),Q(),q(9,"span"),Ye(10),Q()(),Gn(11,Sfe,2,0,"div",32),Q()()}if(2&t){const n=Ue(2);Te(),Po("zoom-in",n.previewImage),ht("src",n.currentLightboxImage.url,eo),Te(5),gi(n.currentLightboxImage.commentsVideo.length),Te(2),Po("liked",n.currentLightboxImage.likedByImage.includes(n.currentUser.uid)),Te(2),gi(n.currentLightboxImage.likesCountImage),Te(),ht("ngIf",n.adm)}}function Pfe(t,e){if(1&t&&(q(0,"div",14),Gn(1,wfe,2,2,"span",15)(2,Tfe,2,0,"button",16)(3,Afe,2,0,"button",17)(4,Dfe,2,0,"button",18)(5,Rfe,12,8,"div",19),Q()),2&t){const n=Ue();ht("ngClass",Fl(6,Efe,n.previewImage)),Te(),ht("ngIf",n.showCount),Te(),ht("ngIf",n.previewImage),Te(),ht("ngIf",n.controls),Te(),ht("ngIf",n.controls),Te(),ht("ngIf",n.previewImage)}}function Mfe(t,e){if(1&t){const n=er();q(0,"div",46)(1,"div",47)(2,"img",48),yt("click",function(){const i=Pt(n).$implicit;return Mt(Ue(2).ir(i.idUser))}),Q(),q(3,"span"),Ye(4),Q()(),q(5,"div",49)(6,"p",50),Ye(7),Q(),q(8,"div",51)(9,"div",52)(10,"ion-icon",31),yt("click",function(){const i=Pt(n).$implicit;return Mt(Ue(2).likeComment(i))}),Q(),q(11,"span"),Ye(12),Q()(),q(13,"div",53)(14,"div")(15,"span",54),yt("click",function(){const i=Pt(n),o=i.$implicit,s=i.index;return Mt(Ue(2).opciones(s,o))}),Ye(16,"\u22ee"),Q()()()()()()}if(2&t){const n=e.$implicit,r=Ue(2);Te(2),ht("src",n.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",eo),Te(2),gi(n.usuario),Te(3),Si(" ",n.comentario," "),Te(3),Po("liked",n.likedByComment&&n.likedByComment.includes(r.currentUser.uid)),Te(2),gi(n.likesCountComment)}}function xfe(t,e){if(1&t){const n=er();q(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ye(3,"Comentarios"),Q(),q(4,"ion-buttons",34)(5,"ion-button",35),yt("click",function(){return Pt(n),Mt(Ue().closeModal())}),Ye(6,"Cerrar"),Q()()()(),q(7,"ion-content")(8,"div",36)(9,"span",37),yt("click",function(){return Pt(n),Mt(Ue().close())}),Q(),q(10,"div",38)(11,"div",39),Gn(12,Mfe,17,6,"div",40),Q()(),q(13,"div",41)(14,"form",42,1),yt("submit",function(){Pt(n);const i=Ue();return Mt(i.addComment(i.comentario))}),q(16,"label",43),Ye(17,"Agregar comentario:"),Q(),gn(18,"br"),q(19,"textarea",44),xo("ngModelChange",function(i){Pt(n);const o=Ue();return Yo(o.comentario,i)||(o.comentario=i),Mt(i)}),Q(),gn(20,"br"),q(21,"button",45),Ye(22," Comentar "),Q()()()()()}if(2&t){const n=Eg(15),r=Ue();Te(12),ht("ngForOf",r.dataVideoId.commentsVideo),Te(7),Mo("ngModel",r.comentario),Te(2),ht("disabled",!n.valid)}}let Nfe=(()=>{var t;class e{constructor(r,i,o,s,a,l,c,d,p,_){this.location=r,this.el=i,this.afAuth=o,this._image=s,this.toastr=a,this.router=l,this._user=c,this.storagex=d,this.actionSheetCtrl=p,this.alertCtrl=_,this.images=[],this.currentIndex=0,this.showCount=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.images[0],this.controls=!0,this.totalImageCount=0,this.reset=0,this.adm=!1,this.esInvitado=!1,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.modalDeleteImage=!1,this.idDelete="",this.option=!1,this.presentingElement=null,this.alertButtons=["OK"],this.alertInputs=[{type:"textarea"}]}ngOnInit(){this.getImages(),this.afAuth.authState.subscribe(r=>{this.currentUser=r;const i=null==r?void 0:r.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==i&&(this.esInvitado=!0),("QxwJYfG0c2MwfjnJR70AdmmKOIz2"==i||"AO7bYMNMPuSUMl5vH8tOqzavTrt2"==i)&&(this.adm=!0)})}goBack(){this.location.back()}openModal(){var r;null===(r=this.modal2)||void 0===r||r.present()}getImages(){this._image.getim().subscribe(r=>{this.images=[],r.forEach(i=>{const o=i.payload.doc.data();this.images.push({id:i.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}subirArchivo(){const r=document.createElement("input");r.type="file",r.accept="image/*",r.addEventListener("change",i=>{var o;const s=null==i||null===(o=i.target)||void 0===o||null===(o=o.files)||void 0===o?void 0:o[0];if(s){const a=new Image,l=new FileReader;l.onload=c=>{a.onload=()=>{const d=document.createElement("canvas");let I=a.width,A=a.height;(I>800||A>600)&&(I>A?(A*=800/I,I=800):(I*=600/A,A=600)),d.width=I,d.height=A;const x=d.getContext("2d");x?(x.drawImage(a,0,0,I,A),d.toBlob(V=>{if(V){const B=`images/${s.name}`,z=this.storagex.ref(B);this.storagex.upload(B,V,{contentType:V.type}).snapshotChanges().pipe(ld(()=>{z.getDownloadURL().subscribe(ge=>{this._image.addImagenInfo({url:ge}).then(()=>{console.log("actualizando"),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},s.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=c.target.result},l.readAsDataURL(s)}}),r.click()}likeImage(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){const s=o.uid,a=o.displayName,l=o.email,c=r.likedByImage.indexOf(s);-1!==c?(r.likedByImage.splice(c,1),r.userImageLikes.splice(c,1),r.likesCountImage--):(r.likedByImage.push(s),r.likesCountImage++,r.userImageLikes.push({usuario:a,correo:l}));const d=r.id,p={likesCountImage:r.likesCountImage,likedByImage:r.likedByImage,userImageLikes:r.userImageLikes};yield i._image.updateImgAc(d,p)}else i.modal=!0})()}onPreviewImage(r){this.showMask=!0,this.previewImage=!0,this.currentIndex=r,this.showCount=!0,this.currentLightboxImage=this.images[r],this.totalImageCount=this.images.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.images.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.images[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.currentLightboxImage=this.images[this.currentIndex]}onMouseEnter(r){this.el.nativeElement.querySelectorAll(".zoomable-image")[r].style.transform="scale(1.1)"}onMouseLeave(r){this.el.nativeElement.querySelectorAll(".zoomable-image")[r].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email)||"jeestrada377@gmail.com"==(null==o?void 0:o.email))&&(i.modalEditar=!0,i.ocultarx=!1),i.comentarioDel=r,i.esteComentario=r.comentario})()}deleteModal(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email)||"jeestrada377@gmail.com"==(null==o?void 0:o.email))&&(i.modalDelete=!0,i.ocultarx=!1),i.comentarioDel=r})()}addComment(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o){const s=i.dataVideoId,a=i.dataVideoId.id;s.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:r,imagen:o.photoURL,idUser:o.uid});const _={commentsVideo:s.commentsVideo};yield i._image.updateImgAc(a,_),i.comentario=""}})()}abrirCom(r){var i=this;return(0,E.A)(function*(){var s;i.dataVideoId=r,(yield i.afAuth.currentUser)&&!i.esInvitado?null===(s=i.modal2)||void 0===s||s.present():i.modal=!0})()}closeModal(){var r;null===(r=this.modal2)||void 0===r||r.dismiss()}borrarComentario(){const r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo.splice(r,1),this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.option=!1,this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(s=>{console.error("Error al eliminar el comentario:",s)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const r=this.esteComentario,i=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==i?(this.dataVideoId.commentsVideo[i].comentario=r,this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(a=>{console.error("Error al editar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}verUsuario(r){var i=this;return(0,E.A)(function*(){if(console.log(r),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"!=r){const s=yield i.afAuth.currentUser;i.router.navigate((null==s?void 0:s.uid)===r?["/perfil"]:["/usuario/",r])}})()}likeComment(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){if(!r)return void console.error("El comentario no est\xe1 definido");r.likedByComment||(r.likedByComment=[]);const s=o.uid,a=r.likedByComment.indexOf(s);-1!==a?(r.likedByComment.splice(a,1),r.likesCountComment=Math.max(0,r.likesCountComment-1)):(r.likedByComment.push(s),r.likesCountComment=(r.likesCountComment||0)+1);const l=i.dataVideoId.id;if(-1!==i.dataVideoId.commentsVideo.findIndex(d=>d===r)){const d={commentsVideo:i.dataVideoId.commentsVideo};yield i._image.updateImgAc(l,d)}}else i.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}ir(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;i.router.navigate((null==o?void 0:o.uid)===r?["/perfil"]:["/usuario/",r])})()}deleteImgModal(r){this.idDelete=r,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._image.delete(this.idDelete).then(()=>{this.images=this.images.filter(r=>r.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}opciones(r,i){var o=this;return(0,E.A)(function*(){o.comentarioDel=i,o.esteComentario=i.comentario;const s=yield o.afAuth.currentUser;if((null==s?void 0:s.email)===i.correo||"administrador.sistema@gmail.com"==(null==s?void 0:s.email)||"jeestrada377@gmail.com"==(null==s?void 0:s.email)){const a=yield o.actionSheetCtrl.create({header:"Acciones",buttons:[{text:"Editar comentario",data:{action:"editar"}},{text:"Eliminar",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]});yield a.present();const{data:l}=yield a.onDidDismiss();if(l&&"delete"===l.action){const c=o.dataVideoId.commentsVideo.indexOf(o.comentarioDel);-1!==c?(o.dataVideoId.commentsVideo.splice(c,1),o._image.updateImgAc(o.dataVideoId.id,{commentsVideo:o.dataVideoId.commentsVideo}).then(()=>{o.modalDelete=!1,o.ocultarx=!0,o.option=!1,console.log("Comentario eliminado correctamente")}).catch(_=>{console.error("Error al eliminar el comentario:",_)})):console.error("\xcdndice de comentario no v\xe1lido")}else"editar"==l.action&&o.presentAlert()}})()}presentAlert(){var r=this;return(0,E.A)(function*(){yield(yield r.alertCtrl.create({header:"Editar Comentario",inputs:[{name:"comentario",type:"textarea",placeholder:"Escribe tu comentario",value:r.esteComentario}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:o=>{const s=o.comentario,a=r.dataVideoId.commentsVideo.indexOf(r.comentarioDel);-1!==a?(r.dataVideoId.commentsVideo[a].comentario=s,r._image.updateImgAc(r.dataVideoId.id,{commentsVideo:r.dataVideoId.commentsVideo}).then(()=>{r.modalEditar=!1,r.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(d=>{console.error("Error al editar el comentario:",d)})):console.error("\xcdndice de comentario no v\xe1lido")}}]})).present()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Ms),T(st),T(ra),T(Mde),T(Xl),T(Lr),T(hv),T(yz),T(oE),T(iE))},t.\u0275cmp=ft({type:t,selectors:[["app-activate-musica"]],viewQuery:function(r,i){if(1&r&&Ol(Ife,5),2&r){let o;fs(o=ps())&&(i.modal2=o.first)}},decls:10,vars:4,consts:[["modal",""],["commentForm","ngForm"],[1,"contenedor"],[1,"box"],["class","subir",4,"ngIf"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["trigger","open-modal",3,"presentingElement"],[1,"subir"],[2,"cursor","pointer",3,"click"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"mouseenter","mouseleave","click","src"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],["name","close-outline",2,"font-size","30px"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],["name","caret-back-outline",2,"height","50%","border-radius","50%","border","1px solid","font-size","50px"],[1,"btn-lightbox-carousel","btn-next",3,"click"],["name","caret-forward-outline",2,"height","50%","border-radius","50%","border","1px solid","font-size","50px"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],["name","chatbubble-ellipses-outline",2,"cursor","pointer",3,"click"],["name","heart-outline",3,"click"],[4,"ngIf"],["name","trash-outline",2,"cursor","pointer","color","red",3,"click"],["slot","end"],[3,"click"],[1,"modal-com",2,"text-align","justify"],[1,"fas","fa-times","lax2",3,"click"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModelChange","ngModel"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"click","src"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[2,"font-size","26px",3,"click"]],template:function(r,i){1&r&&(q(0,"div",2)(1,"div",3),Gn(2,bfe,3,0,"div",4),q(3,"div",5)(4,"div",6),Gn(5,Cfe,2,1,"div",7),Q(),Gn(6,Pfe,6,8,"div",8),Q()()(),q(7,"ion-modal",9,0),Gn(9,xfe,23,3,"ng-template"),Q()),2&r&&(Te(2),ht("ngIf",i.adm),Te(3),ht("ngForOf",i.images),Te(),ht("ngIf",i.showMask),Te(),ht("presentingElement",i.presentingElement))},dependencies:[xg,Ng,Ns,Yl,jf,Zc,Jc,eu,Pa,tu,Hf,Qc,xf,Wl,Kc,Yc,md,pd],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#c4d6019a,#fefeff75);color:#fff;width:129px;padding:5px 9px;border-radius:13px}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{z-index:999;position:relative;display:inline-block;margin-top:10px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:7%;left:0;width:100%;height:91%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.swiper-container[_ngcontent-%COMP%]{width:100%;height:100%}.swiper-slide[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto}"]}),e})(),kfe=(()=>{var t;class e{constructor(r){this.firestore=r}getactvid(){return this.firestore.collection("videos-activate",r=>r.orderBy("nombre","asc")).snapshotChanges()}updateActVideo(r,i){return this.firestore.collection("videos-activate").doc(r).update(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(dv))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ofe=["modal"],Ffe=["videoPlayer"];function Lfe(t,e){if(1&t&&(q(0,"div")(1,"video",20,1),gn(3,"source",21),Q()()),2&t){const n=Ue().$implicit;Te(3),ht("src",n.url,eo)}}function Vfe(t,e){if(1&t){const n=er();q(0,"div",22)(1,"div",23)(2,"p",24),Ye(3),Q()(),q(4,"div",25)(5,"div",26)(6,"ion-icon",27),yt("click",function(){Pt(n);const i=Ue().$implicit;return Mt(Ue().abrirCom(i))}),Q(),q(7,"span"),Ye(8),Q()(),q(9,"div",28)(10,"ion-icon",29),yt("click",function(){Pt(n);const i=Ue().$implicit;return Mt(Ue().likeVideo(i))}),Q(),q(11,"span"),Ye(12),Q()()()()}if(2&t){const n=Ue().$implicit,r=Ue();Te(3),Si(" ",n.nombre," "),Te(5),gi(n.commentsVideo.length),Te(2),Po("liked",n.likedByVideo.includes(r.currentUser.uid)),Te(2),gi(n.likesCountVideo)}}function $fe(t,e){if(1&t){const n=er();q(0,"div",30)(1,"div",23)(2,"p",24),Ye(3),Q()(),q(4,"div",25)(5,"div",26)(6,"ion-icon",27),yt("click",function(){Pt(n);const i=Ue().$implicit;return Mt(Ue().abrirCom(i))}),Q(),q(7,"span"),Ye(8),Q()(),q(9,"div",28)(10,"ion-icon",29),yt("click",function(){Pt(n);const i=Ue().$implicit;return Mt(Ue().likeVideo(i))}),Q(),q(11,"span"),Ye(12),Q()()()()}if(2&t){const n=Ue().$implicit,r=Ue();Te(3),Si(" ",n.nombre," "),Te(5),gi(n.commentsVideo.length),Te(2),Po("liked",n.likedByVideo.includes(r.currentUser.uid)),Te(2),gi(n.likesCountVideo)}}function Bfe(t,e){if(1&t){const n=er();q(0,"div",11)(1,"div",12),yt("click",function(){const i=Pt(n).$implicit;return Mt(Ue().playVideo(i))}),gn(2,"img",13),q(3,"div",14),gn(4,"ion-icon",15),Q()(),q(5,"div",16),Gn(6,Lfe,4,1,"div",17),Q(),Gn(7,Vfe,13,5,"div",18)(8,$fe,13,5,"div",19),Q()}if(2&t){const n=e.$implicit;Te(2),hT("alt",n.nombre),ht("src",n.th||"https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba",eo),Te(4),ht("ngIf",n.playing),Te(),ht("ngIf",!n.playing),Te(),ht("ngIf",n.playing)}}function Ufe(t,e){if(1&t){const n=er();q(0,"div",43)(1,"div",44)(2,"img",45),yt("click",function(){const i=Pt(n).$implicit;return Mt(Ue(2).ir(i.idUser))}),Q(),q(3,"span"),Ye(4),Q()(),q(5,"div",46)(6,"p",47),Ye(7),Q(),q(8,"div",48)(9,"div",49)(10,"ion-icon",50),yt("click",function(){const i=Pt(n).$implicit;return Mt(Ue(2).likeComment(i))}),Q(),q(11,"span"),Ye(12),Q()(),q(13,"div",51)(14,"div")(15,"span",52),yt("click",function(){const i=Pt(n),o=i.$implicit,s=i.index;return Mt(Ue(2).opciones(s,o))}),Ye(16,"\u22ee"),Q()()()()()()}if(2&t){const n=e.$implicit,r=Ue(2);Te(2),ht("src",n.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",eo),Te(2),gi(n.usuario),Te(3),Si(" ",n.comentario," "),Te(3),Po("liked",n.likedByComment&&n.likedByComment.includes(r.currentUser.uid)),Te(2),gi(n.likesCountComment)}}function jfe(t,e){if(1&t){const n=er();q(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ye(3,"Comentarios"),Q(),q(4,"ion-buttons",31)(5,"ion-button",32),yt("click",function(){return Pt(n),Mt(Ue().closeModal())}),Ye(6,"Cerrar"),Q()()()(),q(7,"ion-content")(8,"div",33)(9,"span",34),yt("click",function(){return Pt(n),Mt(Ue().close())}),Q(),q(10,"div",35)(11,"div",36),Gn(12,Ufe,17,6,"div",37),Q()(),q(13,"div",38)(14,"form",39,2),yt("submit",function(){Pt(n);const i=Ue();return Mt(i.addComment(i.comentario))}),q(16,"label",40),Ye(17,"Agregar comentario:"),Q(),gn(18,"br"),q(19,"textarea",41),xo("ngModelChange",function(i){Pt(n);const o=Ue();return Yo(o.comentario,i)||(o.comentario=i),Mt(i)}),Q(),gn(20,"br"),q(21,"button",42),Ye(22," Comentar "),Q()()()()()}if(2&t){const n=Eg(15),r=Ue();Te(12),ht("ngForOf",r.dataVideoId.commentsVideo),Te(7),Mo("ngModel",r.comentario),Te(2),ht("disabled",!n.valid)}}let zfe=(()=>{var t;class e{constructor(r,i,o,s,a,l){this.location=r,this.afAuth=i,this._videosService=o,this.router=s,this.actionSheetCtrl=a,this.alertCtrl=l,this.videos=[],this.esInvitado=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.ocultarx=!0,this.adm=!1,this.filteredVideos=[],this.searchTerm="",this.option=!1,this.presentingElement=null,this.alertButtons=["OK"],this.alertInputs=[{type:"textarea"}]}ngOnInit(){this.getVideos(),this.afAuth.authState.subscribe(r=>{this.currentUser=r;const i=null==r?void 0:r.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==i&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==i&&(this.adm=!0)})}goBack(){this.location.back()}getVideos(){this._videosService.getactvid().subscribe(r=>{this.videos=[],r.forEach(i=>{const o=i.payload.doc.data();this.videos.push({id:i.payload.doc.id,...o,likesCountVideo:o.likesCountVideo||0,likedByVideo:o.likedByVideo||[],userVideoLikes:o.userVideoLikes||[],commentsVideo:o.commentsVideo||[],playing:!1})}),this.filteredVideos=this.videos})}playVideo(r){var i;this.filteredVideos.forEach(o=>o.playing=!1),r.playing=!0,null===(i=this.videoPlayer)||void 0===i||i.nativeElement.play()}videoEnded(r){const i=this.filteredVideos.find(o=>o.id===r);i&&(i.playing=!1)}likeVideo(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){const s=o.uid,a=o.displayName,l=o.email,c=r.likedByVideo.indexOf(s);-1!==c?(r.likedByVideo.splice(c,1),r.userVideoLikes.splice(c,1),r.likesCountVideo--):(r.likedByVideo.push(s),r.likesCountVideo++,r.userVideoLikes.push({usuario:a,correo:l}));const d=r.id,p={likesCountVideo:r.likesCountVideo,likedByVideo:r.likedByVideo,userVideoLikes:r.userVideoLikes};yield i._videosService.updateActVideo(d,p)}else i.modal=!0})()}openModal(){var r;null===(r=this.modal2)||void 0===r||r.present()}closeModal(){var r;null===(r=this.modal2)||void 0===r||r.dismiss()}abrirCom(r){var i=this;return(0,E.A)(function*(){i.dataVideoId=r;var s;(yield i.afAuth.currentUser)&&!i.esInvitado?null===(s=i.modal2)||void 0===s||s.present():i.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}close(){this.modal=!1,this.modalcom=!1}ir(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;i.router.navigate((null==o?void 0:o.uid)===r?["/perfil"]:["/usuario/",r])})()}likeComment(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){if(!r)return void console.error("El comentario no est\xe1 definido");r.likedByComment||(r.likedByComment=[]);const s=o.uid,a=r.likedByComment.indexOf(s);-1!==a?(r.likedByComment.splice(a,1),r.likesCountComment=Math.max(0,r.likesCountComment-1)):(r.likedByComment.push(s),r.likesCountComment=(r.likesCountComment||0)+1);const l=i.dataVideoId.id;if(-1!==i.dataVideoId.commentsVideo.findIndex(d=>d===r)){const d={commentsVideo:i.dataVideoId.commentsVideo};yield i._videosService.updateActVideo(l,d),console.log(d)}}else i.modal=!0})()}abrirEditar(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email)||"jeestrada377@gmail.com"==(null==o?void 0:o.email))&&(i.modalEditar=!0,i.ocultarx=!1),i.comentarioDel=r,i.esteComentario=r.comentario})()}deleteModal(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email)||"jeestrada377@gmail.com"==(null==o?void 0:o.email))&&(i.modalDelete=!0,i.ocultarx=!1),i.comentarioDel=r})()}addComment(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o){const s=i.dataVideoId,a=i.dataVideoId.id;s.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:r,imagen:o.photoURL,idUser:o.uid});const _={commentsVideo:s.commentsVideo};yield i._videosService.updateActVideo(a,_),i.comentario=""}})()}borrarComentario(){const r=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==r?(this.dataVideoId.commentsVideo.splice(r,1),this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.option=!1,this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(s=>{console.error("Error al eliminar el comentario:",s)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const r=this.esteComentario,i=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==i?(this.dataVideoId.commentsVideo[i].comentario=r,this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(a=>{console.error("Error al editar el comentario:",a)})):console.error("\xcdndice de comentario no v\xe1lido")}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}filterVideos(){this.filteredVideos=this.videos.filter(r=>r.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()))}opciones(r,i){var o=this;return(0,E.A)(function*(){o.comentarioDel=i,o.esteComentario=i.comentario;const s=yield o.afAuth.currentUser;if((null==s?void 0:s.email)===i.correo||"administrador.sistema@gmail.com"==(null==s?void 0:s.email)||"jeestrada377@gmail.com"==(null==s?void 0:s.email)){const a=yield o.actionSheetCtrl.create({header:"Acciones",buttons:[{text:"Editar comentario",data:{action:"editar"}},{text:"Eliminar",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]});yield a.present();const{data:l}=yield a.onDidDismiss();if(l&&"delete"===l.action){const c=o.dataVideoId.commentsVideo.indexOf(o.comentarioDel);-1!==c?(o.dataVideoId.commentsVideo.splice(c,1),o._videosService.updateActVideo(o.dataVideoId.id,{commentsVideo:o.dataVideoId.commentsVideo}).then(()=>{o.modalDelete=!1,o.ocultarx=!0,o.option=!1,console.log("Comentario eliminado correctamente")}).catch(_=>{console.error("Error al eliminar el comentario:",_)})):console.error("\xcdndice de comentario no v\xe1lido")}else"editar"==l.action&&o.presentAlert()}})()}presentAlert(){var r=this;return(0,E.A)(function*(){yield(yield r.alertCtrl.create({header:"Editar Comentario",inputs:[{name:"comentario",type:"textarea",placeholder:"Escribe tu comentario",value:r.esteComentario}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:o=>{const s=o.comentario,a=r.dataVideoId.commentsVideo.indexOf(r.comentarioDel);-1!==a?(r.dataVideoId.commentsVideo[a].comentario=s,r._videosService.updateActVideo(r.dataVideoId.id,{commentsVideo:r.dataVideoId.commentsVideo}).then(()=>{r.modalEditar=!1,r.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(d=>{console.error("Error al editar el comentario:",d)})):console.error("\xcdndice de comentario no v\xe1lido")}}]})).present()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Ms),T(ra),T(kfe),T(Lr),T(oE),T(iE))},t.\u0275cmp=ft({type:t,selectors:[["app-activate-video"]],viewQuery:function(r,i){if(1&r&&(Ol(Ofe,5),Ol(Ffe,5)),2&r){let o;fs(o=ps())&&(i.modal2=o.first),fs(o=ps())&&(i.videoPlayer=o.first)}},decls:10,vars:3,consts:[["modal",""],["videoPlayer",""],["commentForm","ngForm"],[1,"contenedor"],[1,"box"],[2,"margin-top","15px","display","flex","justify-content","flex-end"],["type","text","placeholder","Buscar videos...",2,"width","50%","padding","8px","border-radius","5px",3,"ngModelChange","keyup","ngModel"],[1,"video-container"],[2,"row-gap","4rem","display","flex","flex-direction","column"],["style","height: 20rem","class","gallery-video",4,"ngFor","ngForOf"],["trigger","open-modal",3,"presentingElement"],[1,"gallery-video",2,"height","20rem"],[1,"thumbnail-container",2,"height","95%",3,"click"],[1,"thumbnail",2,"height","95%",3,"src","alt"],[1,"play-button-overlay"],["name","play-circle-outline"],[1,"video-player",2,"position","relative","bottom","96%"],[4,"ngIf"],["class","section",4,"ngIf"],["style","position: relative; z-index: 999; bottom: 100%","class","section",4,"ngIf"],["controls",""],["type","video/mp4",3,"src"],[1,"section"],[1,"title"],[2,"margin","0"],[1,"bocadillos"],[1,"comment"],["name","chatbubble-ellipses-outline",2,"cursor","pointer",3,"click"],[1,"likes"],["name","heart-outline",2,"cursor","pointer",3,"click"],[1,"section",2,"position","relative","z-index","999","bottom","100%"],["slot","end"],[3,"click"],[1,"modal-com",2,"text-align","justify"],[1,"fas","fa-times","lax2",3,"click"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModelChange","ngModel"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"click","src"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],["name","heart-outline",3,"click"],[2,"gap","1rem","display","flex","align-items","center"],[2,"font-size","26px",3,"click"]],template:function(r,i){if(1&r){const o=er();q(0,"div",3)(1,"div",4)(2,"div",5)(3,"input",6),xo("ngModelChange",function(a){return Pt(o),Yo(i.searchTerm,a)||(i.searchTerm=a),Mt(a)}),yt("keyup",function(){return Pt(o),Mt(i.filterVideos())}),Q()(),q(4,"div",7)(5,"div",8),Gn(6,Bfe,9,5,"div",9),Q()()()(),q(7,"ion-modal",10,0),Gn(9,jfe,23,3,"ng-template"),Q()}2&r&&(Te(3),Mo("ngModel",i.searchTerm),Te(3),ht("ngForOf",i.filteredVideos),Te(),ht("presentingElement",i.presentingElement))},dependencies:[Ng,Ns,Yl,jf,Zc,Jc,eu,Pa,tu,Hf,Qc,xf,Wl,Kc,Yc,md,pd],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}.bocadillos[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%}.video-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.video-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding:25px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:30px;row-gap:30px}.gallery-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.35rem;margin-bottom:17px;box-shadow:0 1px 5px #00000036}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.thumbnail-container[_ngcontent-%COMP%]{position:relative;cursor:pointer}.thumbnail[_ngcontent-%COMP%]{width:100%;height:auto}.play-button-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3rem;color:#fff;opacity:.8}@media screen and (max-width: 900px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width: 580px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),e})();const LP=t=>({"tab-selected":t});let Hfe=(()=>{var t;class e{constructor(r){this.location=r,this.mn=!0,this.im=!1,this.vd=!1}ngOnInit(){}goBack(){this.location.back()}main(){this.mn=!0,this.im=!1,this.vd=!1}images(){this.mn=!1,this.im=!0,this.vd=!1}videos(){this.mn=!1,this.im=!1,this.vd=!0}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Ms))},t.\u0275cmp=ft({type:t,selectors:[["app-activate"]],decls:38,vars:12,consts:[[2,"padding-left","1rem","display","flex","align-items","center"],["name","arrow-back-outline",2,"font-size","22px",3,"click"],[3,"hidden"],[1,"contenedor"],[2,"display","flex","flex-direction","column","align-items","center","row-gap","4rem"],[2,"text-align","center"],[1,"move"],[1,"move2"],[2,"display","contents"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",1,"img-fondo"],["href","https://www.facebook.com/profile.php?id=100061274895674",2,"user-select","none","cursor","pointer","position","absolute","bottom","6%","text-decoration","none"],[1,"fab","fa-facebook-square"],["slot","bottom"],[3,"click","ngClass"],["name","heart-half-outline"],["name","musical-notes-outline"],["name","videocam-outline"]],template:function(r,i){1&r&&(q(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-icon",1),yt("click",function(){return i.goBack()}),Q(),q(4,"ion-title"),Ye(5,"Activate"),Q()()()(),q(6,"ion-content")(7,"div")(8,"div",2)(9,"div",3)(10,"div",4)(11,"div",5)(12,"h2",6),Ye(13,"Bienvenidos a Activate"),Q(),q(14,"span",7),Ye(15,"Sesi\xf3n de Actividad F\xedsica Musicalizada"),Q()(),q(16,"div",8),gn(17,"img",9),Q(),q(18,"a",10),gn(19,"i",11),Ye(20," Unete a nuestro grupo de Facebook. "),Q()()()(),q(21,"div",2),gn(22,"app-activate-musica"),Q(),q(23,"div",2),gn(24,"app-activate-video"),Q()()(),q(25,"ion-tab-bar",12)(26,"ion-tab-button",13),yt("click",function(){return i.main()}),gn(27,"ion-icon",14),q(28,"ion-label"),Ye(29,"Principal"),Q()(),q(30,"ion-tab-button",13),yt("click",function(){return i.images()}),gn(31,"ion-icon",15),q(32,"ion-label"),Ye(33,"Imagenes"),Q()(),q(34,"ion-tab-button",13),yt("click",function(){return i.videos()}),gn(35,"ion-icon",16),q(36,"ion-label"),Ye(37,"Videos"),Q()()()),2&r&&(Te(8),ht("hidden",!i.mn),Te(13),ht("hidden",!i.im),Te(2),ht("hidden",!i.vd),Te(3),ht("ngClass",Fl(6,LP,i.mn)),Te(4),ht("ngClass",Fl(8,LP,i.im)),Te(4),ht("ngClass",Fl(10,LP,i.vd)))},dependencies:[xg,Zc,Jc,eu,zf,__,GD,Pa,tu,Nfe,zfe],styles:[".tab-selected[_ngcontent-%COMP%]{color:var(--ion-color-primary)!important}"]}),e})(),Iz=(()=>{var t;class e{constructor(r){this.toastr=r}errorFirebase(r){switch(r){case"auth/user-not-found":case"auth/wrong-password":this.toastr.error("Usuario/Contrase\xf1a invalida","Error");break;case"auth/invalid-email":this.toastr.error("No hay correo valido o llena todos los campos","Error");break;case"auth/invalid-login-credentials":this.toastr.error("El correo o contrase\xf1a no son correctos","Error");break;case"auth/missing-password":this.toastr.error("Digita la contrase\xf1a","Error");break;case"auth/email-already-in-use":this.toastr.error("Usuario ya registrado","Error");break;case"auth/weak-password":this.toastr.error("Contrase\xf1a Debil","Error");break;case"auth/internal-error":this.toastr.error("Correo no valido","Error")}}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(Xl))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Gfe(t,e){1&t&&(q(0,"span",18),Ye(1,"La contrase\xf1a debe contener mas de 6 caracteres"),Q())}function qfe(t,e){if(1&t){const n=er();q(0,"div",3)(1,"form",4),yt("ngSubmit",function(){return Pt(n),Mt(Ue().login())}),q(2,"div",5),gn(3,"img",6),q(4,"ion-title"),Ye(5,"Iniciar sesi\xf3n"),Q()(),q(6,"div",7)(7,"div")(8,"ion-label"),Ye(9,"Correo electronico"),Q(),gn(10,"ion-input",8),Q(),q(11,"div")(12,"ion-label"),Ye(13,"Contrase\xf1a"),Q(),q(14,"ion-input",9),gn(15,"ion-input-password-toggle",10),Q(),Gn(16,Gfe,2,0,"span",11),Q()(),q(17,"div",12)(18,"a",13),Ye(19,"\xbfOlvidaste tu contrase\xf1a?"),Q(),q(20,"a",14),Ye(21,"Registrarse"),Q()(),q(22,"div",15)(23,"ion-button",16),Ye(24,"Iniciar sesi\xf3n"),Q(),q(25,"div")(26,"a",17),yt("click",function(){return Pt(n),Mt(Ue().loginAsGuest())}),Ye(27,"Iniciar sesi\xf3n como invitado"),Q()()()()()}if(2&t){let n;const r=Ue();Te(),ht("formGroup",r.loginUsuario),Te(15),ht("ngIf",(null==(n=r.loginUsuario.get("password"))?null:n.hasError("required"))&&(null==(n=r.loginUsuario.get("password"))?null:n.touched))}}function Wfe(t,e){1&t&&(q(0,"div",19),gn(1,"img",20)(2,"ion-spinner",21),q(3,"span"),Ye(4,"Iniciando sesion..."),Q()())}let Kfe=(()=>{var t;class e{constructor(r,i,o,s){this.fb=r,this.firebaseError=i,this.afAuth=o,this.router=s,this.loading=!1,this.verificar=!1,this.loginUsuario=this.fb.group({email:["",[Sa.required,Sa.email]],password:["",Sa.required]})}ngOnInit(){}login(){const r=this.loginUsuario.value.email,i=this.loginUsuario.value.password;this.loading=!0,this.afAuth.signInWithEmailAndPassword(r,i).then(o=>{this.router.navigate(["/main"]),this.loading=!1}).catch(o=>{this.loading=!1,this.verificar=!0,this.firebaseError.errorFirebase(o.code),this.message=this.firebaseError.errorFirebase(o.code),setTimeout(()=>{this.message=""},2e3)})}loginAsGuest(){this.loading=!0,this.afAuth.signInWithEmailAndPassword("soyinvitado@gmail.com","123456").then(()=>{this.router.navigate(["/main"]),this.loading=!1}).catch(o=>{this.loading=!1,console.error("Error al iniciar sesi\xf3n con invitado:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(cD),T(Iz),T(ra),T(Lr))},t.\u0275cmp=ft({type:t,selectors:[["app-login"]],decls:3,vars:2,consts:[[1,"container-main-login"],["class","container-login",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"ngSubmit","formGroup"],[1,"title-login"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login"],[1,"input-login"],["type","email","name","email","fill","solid","placeholder","correo electronico","labelPlacement","floating","errorText","El correo electronico no es valido","email","","formControlName","email"],["labelPlacement","floating","type","password","id","password","fill","solid","name","password","placeholder","Contrase\xf1a","formControlName","password","password",""],["slot","end"],["style","\n              left: 1rem;\n              position: relative;\n              font-size: smaller;\n              color: #e94a55;\n            ","class","text-danger errorLabel",4,"ngIf"],[1,"direccion"],["routerLink","/recuperar",1,"enlace"],["routerLink","/registrar",1,"enlace"],[1,"btn-login"],["color","tertiary","type","submit",1,"submit-button"],[1,"register-link",3,"click"],[1,"text-danger","errorLabel",2,"left","1rem","position","relative","font-size","smaller","color","#e94a55"],[1,"loading-container"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","90%"],["color","tertiary"]],template:function(r,i){1&r&&(q(0,"div",0),Gn(1,qfe,28,2,"div",1)(2,Wfe,5,0,"div",2),Q()),2&r&&(Te(),ht("ngIf",!i.loading),Te(),ht("ngIf",i.loading))},dependencies:[Ns,Yl,g_,jD,zf,rE,Pa,Uf,KD,Gl,Qc,Wl,Kc,Of,kf,s_]}),e})();function Qfe(t,e){1&t&&(q(0,"span",20),Ye(1,"La contrase\xf1a debe contener mas de 6 caracteres"),Q())}function Yfe(t,e){1&t&&(q(0,"span",20),Ye(1,"Las contrase\xf1as no coinciden"),Q())}function Xfe(t,e){if(1&t){const n=er();q(0,"div",3)(1,"form",4),yt("ngSubmit",function(){return Pt(n),Mt(Ue().registrar())}),q(2,"div",5),gn(3,"img",6),q(4,"ion-title"),Ye(5,"Registrarse"),Q()(),q(6,"div",7)(7,"div")(8,"ion-label"),Ye(9,"Nombre de usuario"),Q(),gn(10,"ion-input",8),Q(),q(11,"div")(12,"ion-label"),Ye(13,"Correo electronico"),Q(),gn(14,"ion-input",9),Q(),q(15,"div")(16,"ion-label"),Ye(17,"Contrase\xf1a"),Q(),q(18,"ion-input",10),gn(19,"ion-input-password-toggle",11),Q(),Gn(20,Qfe,2,0,"span",12),Q(),q(21,"div")(22,"ion-label"),Ye(23,"Repetir contrase\xf1a"),Q(),q(24,"ion-input",13),gn(25,"ion-input-password-toggle",11),Q(),Gn(26,Yfe,2,0,"span",12),Q()(),q(27,"div",14)(28,"a",15),Ye(29,"\xbfOlvidaste tu contrase\xf1a?"),Q(),q(30,"a",16),Ye(31,"Registrarse"),Q()(),q(32,"div",17)(33,"ion-button",18),yt("click",function(){return Pt(n),Mt(Ue().goBack())}),Ye(34,"Volver"),Q(),q(35,"ion-button",19),Ye(36,"Registrarse"),Q()()()()}if(2&t){let n,r;const i=Ue();Te(),ht("formGroup",i.registrarUsuario),Te(19),ht("ngIf",(null==(n=i.registrarUsuario.get("password"))?null:n.hasError("required"))&&(null==(n=i.registrarUsuario.get("password"))?null:n.touched)),Te(6),ht("ngIf",i.registrarUsuario.hasError("mismatch")&&(null==(r=i.registrarUsuario.get("repetirPassword"))?null:r.touched)),Te(9),ht("disabled",i.registrarUsuario.invalid)}}function Zfe(t,e){1&t&&(q(0,"div",21),gn(1,"img",22)(2,"ion-spinner",23),q(3,"span"),Ye(4,"Iniciando sesion..."),Q()())}let Jfe=(()=>{var t;class e{constructor(r,i,o,s,a,l){this.fb=r,this.afAuth=i,this.router=o,this.firebaseError=s,this.toastr=a,this.location=l,this.loading=!1,this.passwordMatchValidator=c=>{const d=c.get("password"),p=c.get("repetirPassword");return d&&p&&d.value!==p.value?{mismatch:!0}:null},this.registrarUsuario=this.fb.group({username:["",Sa.required],email:["",[Sa.required,Sa.email]],password:["",[Sa.required,Sa.minLength(6)]],repetirPassword:["",Sa.required]},{validator:this.passwordMatchValidator})}ngOnInit(){}registrar(){if(this.registrarUsuario.invalid)return;const{username:r,email:i,password:o}=this.registrarUsuario.value;this.loading=!0,this.afAuth.createUserWithEmailAndPassword(i,o).then(s=>{var a;return null===(a=s.user)||void 0===a?void 0:a.updateProfile({displayName:r})}).then(()=>{this.router.navigate(["/login"]),this.toastr.success("El usuario fue registrado con exito!!","Usuario Registrado")}).catch(s=>{this.loading=!1,console.log(s),this.firebaseError.errorFirebase(s.code)})}goBack(){this.location.back()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(cD),T(ra),T(Lr),T(Iz),T(Xl),T(Ms))},t.\u0275cmp=ft({type:t,selectors:[["app-registrar"]],decls:3,vars:2,consts:[[1,"container-main-login"],["class","container-login",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"ngSubmit","formGroup"],[1,"title-login",2,"row-gap","0px"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","40%"],[1,"input-login",2,"row-gap","1rem"],["type","text","name","username","fill","solid","placeholder","Nombre de usuario","labelPlacement","floating","errorText","El usuario es Requerido","input","","formControlName","username"],["type","email","name","email","fill","solid","placeholder","correo electronico","labelPlacement","floating","errorText","El correo electronico no es valido","email","","formControlName","email"],["labelPlacement","floating","type","password","id","password","fill","solid","name","password","placeholder","Contrase\xf1a","formControlName","password","password",""],["slot","end"],["style","\n              left: 1rem;\n              position: relative;\n              font-size: smaller;\n              color: #e94a55;\n            ","class","text-danger errorLabel",4,"ngIf"],["labelPlacement","floating","type","password","id","password","fill","solid","name","password","placeholder","Contrase\xf1a","formControlName","repetirPassword","password",""],[1,"direccion"],["routerLink","/recuperar",1,"enlace"],["routerLink","/registrar",1,"enlace"],[1,"btn-login",2,"row-gap","1rem","margin-top","3rem","display","flex","flex-direction","row","align-items","center","justify-content","space-around"],["color","medium","type","button",3,"click"],["color","tertiary","type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel",2,"left","1rem","position","relative","font-size","smaller","color","#e94a55"],[1,"loading-container"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","90%"],["color","tertiary"]],template:function(r,i){1&r&&(q(0,"div",0),Gn(1,Xfe,37,4,"div",1)(2,Zfe,5,0,"div",2),Q()),2&r&&(Te(),ht("ngIf",!i.loading),Te(),ht("ngIf",i.loading))},dependencies:[Ns,Yl,g_,jD,zf,rE,Pa,Uf,KD,Gl,Qc,Wl,Kc,Of,kf,s_]}),e})();function epe(t,e){if(1&t){const n=er();q(0,"div",3)(1,"form",4),yt("ngSubmit",function(){return Pt(n),Mt(Ue().recuperar())}),q(2,"div",5),gn(3,"img",6),q(4,"ion-title"),Ye(5,"Recuperar cuenta"),Q()(),q(6,"div",7)(7,"div")(8,"ion-label"),Ye(9,"Correo electronico"),Q(),gn(10,"ion-input",8),Q()(),q(11,"div",9)(12,"ion-button",10),Ye(13,"Volver"),Q(),q(14,"ion-button",11),Ye(15,"Aceptar"),Q()()()()}if(2&t){const n=Ue();Te(),ht("formGroup",n.recuperarUsuario),Te(13),ht("disabled",n.recuperarUsuario.invalid)}}function tpe(t,e){1&t&&(q(0,"div",12),gn(1,"img",13)(2,"ion-spinner",14),q(3,"span"),Ye(4,"Iniciando sesion..."),Q()())}let npe=(()=>{var t;class e{constructor(r,i,o,s){this.fb=r,this.afAuth=i,this.router=o,this.toastr=s,this.loading=!1,this.recuperarUsuario=this.fb.group({email:["",[Sa.required,Sa.email]]})}ngOnInit(){}recuperar(){const r=this.recuperarUsuario.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(r).then(()=>{this.router.navigate(["/login"]),this.toastr.info("Revisa tu correo para restablecer tu contrase\xf1a","Peticion Aceptada")}).catch(i=>{this.loading=!1,this.firebaseError(i.code)})}firebaseError(r){switch(r){case"auth/user-not-found":this.toastr.error("Este correo no es valido","Error");break;case"auth/missing-email":this.toastr.error("Inserta un correo","Error")}}}return(t=e).\u0275fac=function(r){return new(r||t)(T(cD),T(ra),T(Lr),T(Xl))},t.\u0275cmp=ft({type:t,selectors:[["app-recuperar"]],decls:3,vars:2,consts:[[1,"container-main-login"],["class","container-login",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"ngSubmit","formGroup"],[1,"title-login"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login"],[1,"input-login"],["type","email","name","email","fill","solid","placeholder","correo electronico","labelPlacement","floating","errorText","El correo electronico no es valido","email","","formControlName","email"],[1,"btn-login",2,"row-gap","1rem","margin-top","3rem","display","flex","flex-direction","row","align-items","center","justify-content","space-around"],["routerLink","/login","color","medium","type","button"],["color","tertiary","type","submit",1,"submit-button",3,"disabled"],[1,"loading-container"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","90%"],["color","tertiary"]],template:function(r,i){1&r&&(q(0,"div",0),Gn(1,epe,16,2,"div",1)(2,tpe,5,0,"div",2),Q()),2&r&&(Te(),ht("ngIf",!i.loading),Te(),ht("ngIf",i.loading))},dependencies:[Ns,Yl,g_,zf,rE,Pa,Uf,WD,Gl,Qc,Wl,Kc,Of,kf,s_]}),e})(),Ez=(()=>{var t;class e{constructor(r){this.firestore=r}getPost(){return this.firestore.collection("publicar",r=>r.orderBy("timestamp","desc")).snapshotChanges()}update(r,i){return this.firestore.collection("publicar").doc(r).update(i)}addPost(r){return this.firestore.collection("publicar").add(r)}delete(r){return this.firestore.collection("publicar").doc(r).delete()}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(dv))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const rpe=["modal"];function ipe(t,e){if(1&t){const n=er();q(0,"div")(1,"div")(2,"div",14)(3,"div",15)(4,"img",16),yt("click",function(){Pt(n);const i=Ue().$implicit;return Mt(Ue().verUsuario(i.uid))}),Q(),q(5,"div",17),Ye(6),Q()(),q(7,"div",14)(8,"span",18),yt("click",function(){Pt(n);const i=Ue(),o=i.$implicit,s=i.index;return Mt(Ue().opciones(s,o))}),Ye(9,"\u22ee"),Q()()(),q(10,"div")(11,"div"),gn(12,"img",19),Q(),q(13,"div",20)(14,"div",21)(15,"ion-icon",22),yt("click",function(){Pt(n);const i=Ue().$implicit;return Mt(Ue().abrirCom2(i))}),Q(),q(16,"span"),Ye(17),Q()(),q(18,"div",21)(19,"ion-icon",23),yt("click",function(){Pt(n);const i=Ue().$implicit;return Mt(Ue().likeImage2(i))}),Q(),q(20,"span"),Ye(21),Q()()()()()()}if(2&t){const n=Ue().$implicit,r=Ue();Te(4),ht("src",n.foto,eo),Te(2),Si(" ",n.usuario," "),Te(6),ht("src",n.post,eo),Te(5),gi(n.commentsVideo.length),Te(2),Po("liked",n.likedByImage.includes(null==r.currentUser?null:r.currentUser.uid)),Te(2),gi(n.likesCountImage)}}function ope(t,e){if(1&t){const n=er();q(0,"div",24)(1,"div",25)(2,"div",14)(3,"div",26)(4,"img",16),yt("click",function(){Pt(n);const i=Ue().$implicit;return Mt(Ue().verUsuario(i.uid))}),Q(),q(5,"div",27),Ye(6),Q()(),q(7,"div",14)(8,"span",18),yt("click",function(){Pt(n);const i=Ue(),o=i.$implicit,s=i.index;return Mt(Ue().opciones(s,o))}),Ye(9,"\u22ee"),Q()()(),q(10,"div")(11,"div"),Ye(12),Q(),q(13,"div",20)(14,"div",21)(15,"ion-icon",22),yt("click",function(){Pt(n);const i=Ue().$implicit;return Mt(Ue().abrirCom2(i))}),Q(),q(16,"span"),Ye(17),Q()(),q(18,"div",21)(19,"ion-icon",23),yt("click",function(){Pt(n);const i=Ue().$implicit;return Mt(Ue().likeImage2(i))}),Q(),q(20,"span"),Ye(21),Q()()()()()()}if(2&t){const n=Ue().$implicit,r=Ue();Te(4),ht("src",n.foto,eo),Te(2),Si(" ",n.usuario," "),Te(6),Si(" ",n.post," "),Te(5),gi(n.commentsVideo.length),Te(2),Po("liked",n.likedByImage.includes(r.currentUser.uid)),Te(2),gi(n.likesCountImage)}}function spe(t,e){if(1&t&&(q(0,"div")(1,"div"),Gn(2,ipe,22,7,"div",12)(3,ope,22,7,"div",13),Q()()),2&t){const n=e.$implicit,r=Ue();Te(2),ht("ngIf",r.isUrl(n.post)),Te(),ht("ngIf",!r.isUrl(n.post))}}function ape(t,e){if(1&t){const n=er();q(0,"div",39)(1,"div",40)(2,"img",41),yt("click",function(){const i=Pt(n).$implicit;return Mt(Ue(2).verUsuario(i.idUser))}),Q(),q(3,"span"),Ye(4),Q()(),q(5,"div",42)(6,"p",43),Ye(7),Q(),q(8,"div",44)(9,"div",21)(10,"ion-icon",23),yt("click",function(){const i=Pt(n).$implicit;return Mt(Ue(2).likeComment2(i))}),Q(),q(11,"span"),Ye(12),Q()(),q(13,"div",45)(14,"div")(15,"span",18),yt("click",function(){const i=Pt(n),o=i.$implicit,s=i.index;return Mt(Ue(2).opciones2(s,o))}),Ye(16,"\u22ee"),Q()()()()()()}if(2&t){const n=e.$implicit,r=Ue(2);Te(2),ht("src",n.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",eo),Te(2),gi(n.usuario),Te(3),Si(" ",n.comentario," "),Te(3),Po("liked",n.likedByComment&&n.likedByComment.includes(r.currentUser.uid)),Te(2),gi(n.likesCountComment)}}function lpe(t,e){if(1&t){const n=er();q(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ye(3,"Comentarios"),Q(),q(4,"ion-buttons",28)(5,"ion-button",29),yt("click",function(){return Pt(n),Mt(Ue().closeModal())}),Ye(6,"Cerrar"),Q()()()(),q(7,"ion-content")(8,"div",30)(9,"span",31),yt("click",function(){return Pt(n),Mt(Ue().close())}),Q(),q(10,"div",32)(11,"div",33),Gn(12,ape,17,6,"div",34),Q()(),q(13,"div",35)(14,"form",36,1),yt("submit",function(){Pt(n);const i=Ue();return Mt(i.addComment2(i.comentario))}),q(16,"ion-list")(17,"ion-item")(18,"ion-textarea",37),xo("ngModelChange",function(i){Pt(n);const o=Ue();return Yo(o.comentario,i)||(o.comentario=i),Mt(i)}),Q()()(),q(19,"div",7)(20,"ion-button",38),Ye(21," Comentar "),Q()()()()()()}if(2&t){const n=Eg(15),r=Ue();Te(12),ht("ngForOf",r.dataVideoId2.commentsVideo),Te(6),Mo("ngModel",r.comentario),Te(2),ht("disabled",!n.valid)}}let cpe=(()=>{var t;class e{constructor(r,i,o,s,a,l,c){this.afAuth=r,this._user=i,this.toastr=o,this.router=s,this._post=a,this.actionSheetCtrl=l,this.alertCtrl=c,this.esInvitado=!1,this.adm=!1,this.post=[],this.usuariosInfo=[],this.infoText="",this.option=!1,this.modalcom=!1,this.modal=!1,this.modalEditar=!1,this.ocultarx=!1,this.modalDelete=!1,this.comentario="",this.presentingElement=null,this.alertButtons=["OK"],this.alertInputs=[{type:"textarea"}]}ngOnInit(){this.afAuth.user.subscribe(r=>{this.usuario=r,this.currentUser=r,this.getUsers(),this.obtPost(),this.usuarioActual=null==r?void 0:r.displayName;const i=null==r?void 0:r.uid;"Invitad@"==this.usuarioActual&&(this.esInvitado=!0),"rm01jawdLvYSObMPDc8BTBasbJp2"==i&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==i&&(this.adm=!0)}),this.presentingElement=document.querySelector(".ion-page")}publicar(){var r=this;return(0,E.A)(function*(){if(r.infoText&&r.infoText.trim()){var i,o,s;const a=yield r.afAuth.currentUser,l=null==a?void 0:a.uid;let c=null===(i=r.objetoUsuario)||void 0===i?void 0:i.foto;null==c&&(c="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");let d=null!==(o=null===(s=r.objetoUsuario)||void 0===s?void 0:s.usuario)&&void 0!==o?o:null==a?void 0:a.displayName;if(!d)return void console.error("Nombre de usuario no disponible");r._post.addPost({foto:c,usuario:d,post:r.infoText,uid:l,timestamp:new Date}).then(()=>{r.infoText=""})}else console.log("El texto est\xe1 vac\xedo o solo contiene espacios en blanco.")})()}obtPost(){this._post.getPost().subscribe(r=>{this.post=[],r.forEach(i=>{const o=i.payload.doc.data();this.post.push({id:i.payload.doc.id,...i.payload.doc.data(),likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}getUsers(){this._user.getUsers().subscribe(r=>{this.usuariosInfo=[],r.forEach(i=>{i.payload.doc.data(),this.usuariosInfo.push({id:i.payload.doc.data(),...i.payload.doc.data()});const s=this.usuariosInfo.find(a=>{var l;return a.id.idUser===(null===(l=this.usuario)||void 0===l?void 0:l.uid)});this.objetoUsuario=s})})}isUrl(r){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(r)}verUsuario(r){var i=this;return(0,E.A)(function*(){if(console.log(r),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"!=r){const s=yield i.afAuth.currentUser;i.router.navigate((null==s?void 0:s.uid)===r?["/perfil"]:["/usuario/",r])}})()}deletePost(r){this._post.delete(r).then(()=>{this.option=!1,this.toastr.info("publicacion eliminada")})}opciones(r,i){var o=this;return(0,E.A)(function*(){const s=yield o.afAuth.currentUser;if((null==s?void 0:s.uid)===i.uid||"administrador.sistema@gmail.com"==(null==s?void 0:s.email)){const a=yield o.actionSheetCtrl.create({header:"Acciones",buttons:[{text:"Eliminar",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]});yield a.present();const l=null==i?void 0:i.id,{data:c}=yield a.onDidDismiss();c&&"delete"===c.action&&o._post.delete(l).then(()=>{o.toastr.info("publicacion eliminada")})}})()}openModal(){var r;null===(r=this.modal2)||void 0===r||r.present()}abrirCom2(r){var i=this;return(0,E.A)(function*(){var s;i.dataVideoId2=r,(yield i.afAuth.currentUser)&&!i.esInvitado?null===(s=i.modal2)||void 0===s||s.present():i.modal=!0})()}closeModal(){var r;null===(r=this.modal2)||void 0===r||r.dismiss()}returnTrue(){return!0}likeImage2(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){const s=o.uid,a=o.displayName,l=o.email,c=r.likedByImage.indexOf(s);-1!==c?(r.likedByImage.splice(c,1),r.userImageLikes.splice(c,1),r.likesCountImage--):(r.likedByImage.push(s),r.likesCountImage++,r.userImageLikes.push({usuario:a,correo:l}));const d=r.id,p={likesCountImage:r.likesCountImage,likedByImage:r.likedByImage,userImageLikes:r.userImageLikes};yield i._post.update(d,p)}else i.modal=!0})()}close(){this.modal=!1,this.modalcom=!1}likeComment2(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){if(!r)return void console.error("El comentario no est\xe1 definido");r.likedByComment||(r.likedByComment=[]);const s=o.uid,a=r.likedByComment.indexOf(s);-1!==a?(r.likedByComment.splice(a,1),r.likesCountComment=Math.max(0,r.likesCountComment-1)):(r.likedByComment.push(s),r.likesCountComment=(r.likesCountComment||0)+1);const l=i.dataVideoId2.id;if(-1!==i.dataVideoId2.commentsVideo.findIndex(d=>d===r)){const d={commentsVideo:i.dataVideoId2.commentsVideo};yield i._post.update(l,d)}}else i.modal=!0})()}abrirEditar(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email))&&(i.modalEditar=!0,i.ocultarx=!1),i.comentarioDel=r,i.esteComentario=r.comentario})()}deleteModal(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;((null==o?void 0:o.email)===r.correo||"administrador.sistema@gmail.com"==(null==o?void 0:o.email))&&(i.modalDelete=!0,i.ocultarx=!1),i.comentarioDel=r})()}opciones2(r,i){var o=this;return(0,E.A)(function*(){o.comentarioDel=i,o.esteComentario=i.comentario;const s=yield o.afAuth.currentUser;if((null==s?void 0:s.uid)===i.idUser||"administrador.sistema@gmail.com"==(null==s?void 0:s.email)){const a=yield o.actionSheetCtrl.create({header:"Acciones",buttons:[{text:"Editar comentario",data:{action:"editar"}},{text:"Eliminar",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]});yield a.present();const{data:l}=yield a.onDidDismiss();if(l&&"delete"===l.action){const c=o.dataVideoId2.commentsVideo.indexOf(o.comentarioDel);-1!==c?(o.dataVideoId2.commentsVideo.splice(c,1),o._post.update(o.dataVideoId2.id,{commentsVideo:o.dataVideoId2.commentsVideo}).then(()=>{o.modalDelete=!1,o.ocultarx=!0,o.option=!1,console.log("Comentario eliminado correctamente")}).catch(_=>{console.error("Error al eliminar el comentario:",_)})):console.error("\xcdndice de comentario no v\xe1lido")}else"editar"==l.action&&o.presentAlert()}})()}presentAlert(){var r=this;return(0,E.A)(function*(){yield(yield r.alertCtrl.create({header:"Editar Comentario",inputs:[{name:"comentario",type:"textarea",placeholder:"Escribe tu comentario",value:r.esteComentario}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:o=>{const s=o.comentario,a=r.dataVideoId2.commentsVideo.indexOf(r.comentarioDel);-1!==a?(r.dataVideoId2.commentsVideo[a].comentario=s,r._post.update(r.dataVideoId2.id,{commentsVideo:r.dataVideoId2.commentsVideo}).then(()=>{r.modalEditar=!1,r.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(d=>{console.error("Error al editar el comentario:",d)})):console.error("\xcdndice de comentario no v\xe1lido")}}]})).present()})()}addComment2(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o){var s;const a=i.dataVideoId2,l=null===(s=i.dataVideoId2)||void 0===s?void 0:s.id;a.commentsVideo.push({usuario:null==o?void 0:o.displayName,correo:null==o?void 0:o.email,comentario:r,imagen:null==o?void 0:o.photoURL,idUser:null==o?void 0:o.uid});const I={commentsVideo:a.commentsVideo};yield i._post.update(l,I),i.comentario=""}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(ra),T(hv),T(Xl),T(Lr),T(Ez),T(oE),T(iE))},t.\u0275cmp=ft({type:t,selectors:[["app-features"]],viewQuery:function(r,i){if(1&r&&Ol(rpe,5),2&r){let o;fs(o=ps())&&(i.modal2=o.first)}},decls:16,vars:6,consts:[["modal",""],["commentForm","ngForm"],["id","container",2,"text-align","center","padding","0px 10px 0 10px"],[2,"margin-bottom","18px"],[3,"ngSubmit"],[2,"border-radius","12px"],["aria-label","Comments","placeholder","Publicar Nota...","name","infoText","cols","40","rows","3",1,"textarea",3,"ngModelChange","ngModel"],[2,"text-align","end"],["color","tertiary","type","submit",1,"btn2",3,"disabled"],[4,"ngFor","ngForOf"],["trigger","open-modal",3,"presentingElement"],["trigger","present-alert","header","Please enter your info",3,"buttons","inputs"],[4,"ngIf"],["style","margin-bottom: 5px; margin-top: 5px; width: 100%",4,"ngIf"],[2,"display","flex","justify-content","space-between"],[2,"gap","7px","display","flex","align-items","center"],["alt","foto",2,"border-radius","50%","width","40px","height","40px",3,"click","src"],[2,"text-align","justify","color","blue"],[2,"font-size","26px","cursor","pointer",3,"click"],["alt","Imagen del mensaje",2,"width","93%",3,"src"],[2,"padding-top","8px","gap","2rem","display","flex","justify-content","center"],[2,"display","flex","align-items","center"],["name","chatbubble-ellipses-outline",3,"click"],["name","heart-outline",3,"click"],[2,"margin-bottom","5px","margin-top","5px","width","100%"],[2,"padding-top","10px","padding-bottom","14px","border-bottom","1px #80808063 solid"],[2,"display","flex","align-items","center","gap","4px"],[2,"text-align","justify","color","red"],["slot","end"],[3,"click"],[1,"modal-com",2,"text-align","justify","padding","0 10px 0 10px"],[1,"fas","fa-times","lax2",3,"click"],[1,"comments-container"],[1,"comments-list",2,"display","flex","row-gap","1rem","flex-direction","column"],["style","border-bottom: 1px solid #a1a197",4,"ngFor","ngForOf"],[1,"comment-input",2,"margin-top","15px"],[3,"submit"],["aria-label","Comments","placeholder","Agregar un comentario","id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModelChange","ngModel"],["color","tertiary","type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[2,"border-bottom","1px solid #a1a197"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"click","src"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"]],template:function(r,i){if(1&r){const o=er();q(0,"div",2)(1,"div")(2,"div")(3,"div",3)(4,"form",4),yt("ngSubmit",function(){return Pt(o),Mt(i.publicar())}),q(5,"ion-list",5)(6,"ion-item")(7,"ion-textarea",6),xo("ngModelChange",function(a){return Pt(o),Yo(i.infoText,a)||(i.infoText=a),Mt(a)}),Q()()(),q(8,"div",7)(9,"ion-button",8),Ye(10," Publicar "),Q()()()(),Gn(11,spe,4,2,"div",9),Q(),q(12,"ion-modal",10,0),Gn(14,lpe,22,3,"ng-template"),Q(),gn(15,"ion-alert",11),Q()()}2&r&&(Te(7),Mo("ngModel",i.infoText),Te(2),ht("disabled",!i.infoText||!i.infoText.trim()),Te(2),ht("ngForOf",i.post),Te(),ht("presentingElement",i.presentingElement),Te(3),ht("buttons",i.alertButtons)("inputs",i.alertInputs))},dependencies:[Ng,Ns,rB,Yl,jf,Zc,Jc,eu,zD,HD,qD,Pa,tu,Hf,Uf,Qc,Wl,Kc,Yc,md,pd]}),e})(),upe=(()=>{var t;class e{constructor(r){this.router=r}ngOnInit(){}navegarActivate(){this.router.navigate(["/activate"])}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Lr))},t.\u0275cmp=ft({type:t,selectors:[["app-grupos"]],decls:10,vars:0,consts:[[2,"height","75vh","display","flex","justify-content","center","align-items","center"],[1,"container-img-g",2,"row-gap","2rem","display","flex","flex-direction","column"],[1,"bf",2,"text-align","center","display","flex","flex-direction","column"],["routerLink","/main","width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2FScreen%20Shot%202024-05-06%20at%2011.43.48%20AM.png?alt=media&token=c0c71fed-4aff-4923-8663-9d91d1f9f4df","alt","",2,"cursor","pointer"],[1,"bf","bf2",2,"text-align","center","display","flex","flex-direction","column"],["width","120","src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(q(0,"div",0)(1,"div",1)(2,"div",2),gn(3,"img",3),q(4,"span"),Ye(5,"Asi somos"),Q()(),q(6,"div",4)(7,"img",5),yt("click",function(){return i.navegarActivate()}),Q(),q(8,"span"),Ye(9,"Actividad Fisica"),Q()()()())},dependencies:[WD,Gl]}),e})(),dpe=(()=>{var t;class e{constructor(r){this.firestore=r}getUsuarioImagen(){return this.firestore.collection("imagen-usuario").snapshotChanges()}updateImgUsuario(r,i){return this.firestore.collection("imagen-usuario").doc(r).update(i)}addImagenUsuario(r){return this.firestore.collection("imagen-usuario").add(r)}delete(r){return this.firestore.collection("imagen-usuario").doc(r).delete()}}return(t=e).\u0275fac=function(r){return new(r||t)(Qe(dv))},t.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const hpe=["modal"],fpe=t=>({active:t});function ppe(t,e){if(1&t){const n=er();q(0,"div")(1,"ion-button",25),yt("click",function(){return Pt(n),Mt(Ue().editarPerfil())}),Ye(2,"Editar perfil"),Q()()}}function mpe(t,e){if(1&t){const n=er();q(0,"div",26)(1,"ion-icon",27),yt("click",function(){return Pt(n),Mt(Ue().changePortada())}),Q()()}}function gpe(t,e){if(1&t){const n=er();q(0,"div",28)(1,"img",29),yt("mouseenter",function(){const i=Pt(n).index;return Mt(Ue().onMouseEnter(i))})("mouseleave",function(){const i=Pt(n).index;return Mt(Ue().onMouseLeave(i))})("click",function(){const i=Pt(n).index;return Mt(Ue().onPreviewImage(i))}),Q()()}if(2&t){const n=e.$implicit;Te(),ht("src",null==n?null:n.url,eo)}}function _pe(t,e){if(1&t&&(q(0,"span",36),Ye(1),Q()),2&t){const n=Ue(2);Te(),k0(" ",n.currentIndex+1,"/",n.totalImageCount," ")}}function vpe(t,e){if(1&t){const n=er();q(0,"button",37),yt("click",function(){return Pt(n),Mt(Ue(2).onClosePreview())}),gn(1,"ion-icon",38),Q()}}function ype(t,e){if(1&t){const n=er();q(0,"button",39),yt("click",function(){return Pt(n),Mt(Ue(2).prev())}),gn(1,"ion-icon",40),Q()}}function Ipe(t,e){if(1&t){const n=er();q(0,"button",41),yt("click",function(){return Pt(n),Mt(Ue(2).next())}),gn(1,"ion-icon",42),Q()}}function Epe(t,e){if(1&t){const n=er();q(0,"div",43),gn(1,"img",44),q(2,"div",45)(3,"div")(4,"ion-icon",46),yt("click",function(){Pt(n);const i=Ue(2);return Mt(i.abrirCom(i.currentLightboxImage))}),Q(),q(5,"span"),Ye(6),Q()(),q(7,"div")(8,"ion-icon",47),yt("click",function(){Pt(n);const i=Ue(2);return Mt(i.likeImage(i.currentLightboxImage))}),Q(),q(9,"span"),Ye(10),Q()(),q(11,"div")(12,"ion-icon",48),yt("click",function(){Pt(n);const i=Ue(2);return Mt(i.deleteImgModal(i.currentLightboxImage.id))}),Q()()()()}if(2&t){const n=Ue(2);Te(),Po("zoom-in",n.previewImage),ht("src",n.currentLightboxImage.url,eo),Te(5),gi(n.currentLightboxImage.commentsVideo.length),Te(2),Po("liked",n.currentLightboxImage.likedByImage.includes(n.currentUser.uid)),Te(2),gi(n.currentLightboxImage.likesCountImage)}}function bpe(t,e){if(1&t&&(q(0,"div",30),Gn(1,_pe,2,2,"span",31)(2,vpe,2,0,"button",32)(3,ype,2,0,"button",33)(4,Ipe,2,0,"button",34)(5,Epe,13,7,"div",35),Q()),2&t){const n=Ue();ht("ngClass",Fl(6,fpe,n.previewImage)),Te(),ht("ngIf",n.showCount),Te(),ht("ngIf",n.previewImage),Te(),ht("ngIf",n.controls),Te(),ht("ngIf",n.controls),Te(),ht("ngIf",n.previewImage)}}function Cpe(t,e){if(1&t){const n=er();q(0,"div",61)(1,"div",62)(2,"img",63),yt("click",function(){const i=Pt(n).$implicit;return Mt(Ue(2).ir(i.idUser))}),Q(),q(3,"span"),Ye(4),Q()(),q(5,"div",64)(6,"p",65),Ye(7),Q(),q(8,"div",66)(9,"div",67)(10,"ion-icon",47),yt("click",function(){const i=Pt(n).$implicit;return Mt(Ue(2).likeComment(i))}),Q(),q(11,"span"),Ye(12),Q()(),q(13,"div",68)(14,"div")(15,"span",69),yt("click",function(){const i=Pt(n),o=i.$implicit,s=i.index;return Mt(Ue(2).opciones(s,o))}),Ye(16,"\u22ee"),Q()()()()()()}if(2&t){const n=e.$implicit,r=Ue(2);Te(2),ht("src",n.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",eo),Te(2),gi(n.usuario),Te(3),Si(" ",n.comentario," "),Te(3),Po("liked",n.likedByComment&&n.likedByComment.includes(r.currentUser.uid)),Te(2),gi(n.likesCountComment)}}function wpe(t,e){if(1&t){const n=er();q(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ye(3,"Comentarios"),Q(),q(4,"ion-buttons",49)(5,"ion-button",50),yt("click",function(){return Pt(n),Mt(Ue().closeModal())}),Ye(6,"Cerrar"),Q()()()(),q(7,"ion-content")(8,"div",51)(9,"span",52),yt("click",function(){return Pt(n),Mt(Ue().close())}),Q(),q(10,"div",53)(11,"div",54),Gn(12,Cpe,17,6,"div",55),Q()(),q(13,"div",56)(14,"form",57,1),yt("submit",function(){Pt(n);const i=Ue();return Mt(i.addComment(i.comentario))}),q(16,"label",58),Ye(17,"Agregar comentario:"),Q(),gn(18,"br"),q(19,"textarea",59),xo("ngModelChange",function(i){Pt(n);const o=Ue();return Yo(o.comentario,i)||(o.comentario=i),Mt(i)}),Q(),gn(20,"br"),q(21,"button",60),Ye(22," Comentar "),Q()()()()()}if(2&t){const n=Eg(15),r=Ue();Te(12),ht("ngForOf",r.dataVideoId.commentsVideo),Te(7),Mo("ngModel",r.comentario),Te(2),ht("disabled",!n.valid)}}let Tpe=(()=>{var t;class e{constructor(r,i,o,s,a,l,c,d,p,_){this.router=r,this.afAuth=i,this._user=o,this.toastr=s,this.storage=a,this._imageUser=l,this._post=c,this.el=d,this.actionSheetCtrl=p,this.alertCtrl=_,this.esInvitado=!1,this.adm=!1,this.usuariosInfo=[],this.idInfo=[],this.showMask=!1,this.previewImage=!1,this.currentIndex=0,this.showCount=!1,this.imageX=[],this.currentLightboxImage=this.imageX[0],this.totalImageCount=0,this.imageZ=[],this.post=[],this.modalDeleteImage=!1,this.dataVideoId=[],this.modalcom=!1,this.modal=!1,this.idDelete="",this.ocultarx=!0,this.controls=!0,this.comentario="",this.esteComentario="",this.presentingElement=null,this.modalDelete=!1,this.modalEditar=!1,this.option=!1,this.alertButtons=["OK"],this.alertInputs=[{type:"textarea"}]}ngOnInit(){this.afAuth.user.subscribe(r=>{this.usuario=r,this.currentUser=r,this.getUsers(),this.usuarioActual=null==r?void 0:r.displayName;const i=null==r?void 0:r.uid;"Invitad@"==this.usuarioActual&&(this.esInvitado=!0),"rm01jawdLvYSObMPDc8BTBasbJp2"==i&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==i&&(this.adm=!0)}),this.getUserImages(),this.obtPost()}abrirBandeja(){this.crearUsuario(),this.router.navigate(["/bandeja"])}getUsers(){this._user.getUsers().subscribe(r=>{this.usuariosInfo=[],this.idInfo=[],r.forEach(i=>{var o;i.payload.doc.data(),this.usuariosInfo.push({id:i.payload.doc.data(),...i.payload.doc.data()});const a=this.usuariosInfo.find(d=>{var p;return d.id.idUser===(null===(p=this.usuario)||void 0===p?void 0:p.uid)});this.objetoUsuario=a;const l={id:i.payload.doc.id,...i.payload.doc.data()};this.idInfo.push(l);const c=null===(o=this.idInfo.find(d=>{var p;return d.idUser===(null===(p=this.usuario)||void 0===p?void 0:p.uid)}))||void 0===o?void 0:o.id;this.id=c,this.phoneNumberValue=null==a?void 0:a.telefono,this.genderValue=null==a?void 0:a.Genero,this.birthdayValue=null==a?void 0:a.cumpleanos,this.aboutMeValue=null==a?void 0:a.about,this.urlPortada=null==a?void 0:a.portada})})}crearUsuario(){null==this.id?this.afAuth.currentUser.then(r=>{this._user.addIUserInfo({idUser:null==r?void 0:r.uid,usuario:null==r?void 0:r.displayName,email:null==r?void 0:r.email,foto:null==r?void 0:r.photoURL}).then(()=>{console.log("usuario actualizado")})}):console.log("el usuario ya esta registrado")}changeProfilePicture(){if(!this.esInvitado){const r=document.createElement("input");r.type="file",r.accept="image/*",r.addEventListener("change",i=>{var o;const s=null==i||null===(o=i.target)||void 0===o||null===(o=o.files)||void 0===o?void 0:o[0];if(s){const a=new Image,l=new FileReader;l.onload=c=>{a.onload=()=>{const d=document.createElement("canvas");let I=a.width,A=a.height;(I>800||A>600)&&(I>A?(A*=800/I,I=800):(I*=600/A,A=600)),d.width=I,d.height=A;const x=d.getContext("2d");x?(x.drawImage(a,0,0,I,A),d.toBlob(V=>{if(V){var B;const z=`profilePictures/${null===(B=this.usuario)||void 0===B?void 0:B.uid}/${s.name}`,fe=this.storage.ref(z);this.storage.upload(z,V,{contentType:V.type}).snapshotChanges().pipe(ld(()=>{fe.getDownloadURL().subscribe(tt=>{this.afAuth.currentUser.then(_t=>{null==_t||_t.updateProfile({photoURL:tt}).then(()=>{this._user.updateUser({foto:tt},this.id).then(()=>{console.log("perfil actualizado")}),this.toastr.info("Foto de perfil cambiada")}).catch(X=>{console.error("Error al actualizar la foto de perfil:",X)})})})})).subscribe()}},s.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=c.target.result},l.readAsDataURL(s)}}),r.click()}}editarPerfil(){this.crearUsuario(),this.router.navigate(["/perfil-editar"])}changePortada(){if(!this.esInvitado){const r=document.createElement("input");r.type="file",r.accept="image/*",r.addEventListener("change",i=>{var o;const s=null==i||null===(o=i.target)||void 0===o||null===(o=o.files)||void 0===o?void 0:o[0];if(s){const a=new Image,l=new FileReader;l.onload=c=>{a.onload=()=>{const d=document.createElement("canvas");let I=a.width,A=a.height;(I>800||A>600)&&(I>A?(A*=800/I,I=800):(I*=600/A,A=600)),d.width=I,d.height=A;const x=d.getContext("2d");x?(x.drawImage(a,0,0,I,A),d.toBlob(V=>{if(V){var B;const z=`portada/${null===(B=this.usuario)||void 0===B?void 0:B.uid}/${s.name}`,fe=this.storage.ref(z);this.storage.upload(z,V,{contentType:V.type}).snapshotChanges().pipe(ld(()=>{fe.getDownloadURL().subscribe(tt=>{this._user.updateUser({portada:tt},this.id).then(()=>{console.log("actualizando"),this.toastr.info("Foto de portada cambiada")})})})).subscribe()}},s.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=c.target.result},l.readAsDataURL(s)}}),r.click()}}misImages(){if(!this.esInvitado){const r=document.createElement("input");r.type="file",r.accept="image/*",r.addEventListener("change",i=>{var o;const s=null==i||null===(o=i.target)||void 0===o||null===(o=o.files)||void 0===o?void 0:o[0];if(s){const a=new Image,l=new FileReader;l.onload=c=>{a.onload=()=>{const d=document.createElement("canvas");let I=a.width,A=a.height;(I>800||A>600)&&(I>A?(A*=800/I,I=800):(I*=600/A,A=600)),d.width=I,d.height=A;const x=d.getContext("2d");x?(x.drawImage(a,0,0,I,A),d.toBlob(V=>{if(V){var B;const z=`usuarios/${null===(B=this.usuario)||void 0===B?void 0:B.uid}/${s.name}`,fe=this.storage.ref(z);this.storage.upload(z,V,{contentType:V.type}).snapshotChanges().pipe(ld(()=>{fe.getDownloadURL().subscribe(tt=>{var _t;const X=null===(_t=this.usuario)||void 0===_t?void 0:_t.uid;this._imageUser.addImagenUsuario({url:tt,idUser:X}).then(()=>{var K,te,le,ye;let Z=null===(K=this.objetoUsuario)||void 0===K?void 0:K.foto;null==Z&&(Z="https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg");let os=null!==(te=null===(le=this.objetoUsuario)||void 0===le?void 0:le.usuario)&&void 0!==te?te:null===(ye=this.usuarioActual)||void 0===ye?void 0:ye.displayName;os?(this._post.addPost({foto:Z,usuario:os,post:tt,uid:X,timestamp:new Date}).then(()=>{}),this.toastr.info("Actualizando lista de Imagenes")):console.error("Nombre de usuario no disponible")})})})).subscribe()}},s.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},a.src=c.target.result},l.readAsDataURL(s)}}),r.click()}}onMouseEnter(r){this.el.nativeElement.querySelectorAll(".zoomable-image")[r].style.transform="scale(1.1)"}onMouseLeave(r){this.el.nativeElement.querySelectorAll(".zoomable-image")[r].style.transform="scale(1)"}onPreviewImage(r){this.showMask=!0,this.previewImage=!0,this.currentIndex=r,this.showCount=!0,this.currentLightboxImage=this.imageX[r],this.totalImageCount=this.imageX.length,document.body.style.overflow="hidden"}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.imageX.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.imageX[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.imageX.length-1),this.currentLightboxImage=this.imageX[this.currentIndex]}getUserImages(){this._imageUser.getUsuarioImagen().subscribe(r=>{this.imageZ=[],this.imageX=[],r.forEach(i=>{const o=i.payload.doc.data();this.imageZ.push({id:i.payload.doc.id,...o,likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]});const s=this.imageZ.filter(a=>{var l;return a.idUser===(null===(l=this.usuario)||void 0===l?void 0:l.uid)});this.imageX=s})})}obtPost(){this._post.getPost().subscribe(r=>{this.post=[],r.forEach(i=>{const o=i.payload.doc.data();this.post.push({id:i.payload.doc.id,...i.payload.doc.data(),likesCountImage:o.likesCountImage||0,likedByImage:o.likedByImage||[],userImageLikes:o.userImageLikes||[],commentsVideo:o.commentsVideo||[]})})})}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}openModal(){var r;null===(r=this.modal2)||void 0===r||r.present()}abrirCom(r){var i=this;return(0,E.A)(function*(){var s;i.dataVideoId=r,(yield i.afAuth.currentUser)&&!i.esInvitado?null===(s=i.modal2)||void 0===s||s.present():i.modal=!0})()}likeImage(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){const s=o.uid,a=o.displayName,l=o.email,c=r.likedByImage.indexOf(s);-1!==c?(r.likedByImage.splice(c,1),r.userImageLikes.splice(c,1),r.likesCountImage--):(r.likedByImage.push(s),r.likesCountImage++,r.userImageLikes.push({usuario:a,correo:l}));const d=r.id,p={likesCountImage:r.likesCountImage,likedByImage:r.likedByImage,userImageLikes:r.userImageLikes};yield i._imageUser.updateImgUsuario(d,p)}else i.modal=!0})()}deleteImgModal(r){this._imageUser.delete(r).then(()=>{this.modalDeleteImage=!0,this.ocultarx=!0,this.toastr.error("Imagen eliminida"),this.onClosePreview()})}closeModal(){var r;null===(r=this.modal2)||void 0===r||r.dismiss()}close(){this.modal=!1,this.modalcom=!1}ir(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;i.router.navigate((null==o?void 0:o.uid)===r?["/perfil"]:["/usuario/",r])})()}likeComment(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o&&!i.esInvitado){if(!r)return void console.error("El comentario no est\xe1 definido");r.likedByComment||(r.likedByComment=[]);const s=o.uid,a=r.likedByComment.indexOf(s);-1!==a?(r.likedByComment.splice(a,1),r.likesCountComment=Math.max(0,r.likesCountComment-1)):(r.likedByComment.push(s),r.likesCountComment=(r.likesCountComment||0)+1);const l=i.dataVideoId.id;if(-1!==i.dataVideoId.commentsVideo.findIndex(d=>d===r)){const d={commentsVideo:i.dataVideoId.commentsVideo};yield i._imageUser.updateImgUsuario(l,d)}}else i.modal=!0})()}opciones(r,i){var o=this;return(0,E.A)(function*(){o.comentarioDel=i,o.esteComentario=i.comentario;const s=yield o.afAuth.currentUser;if((null==s?void 0:s.email)===i.correo||"administrador.sistema@gmail.com"==(null==s?void 0:s.email)||"jeestrada377@gmail.com"==(null==s?void 0:s.email)){const a=yield o.actionSheetCtrl.create({header:"Acciones",buttons:[{text:"Editar comentario",data:{action:"editar"}},{text:"Eliminar",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]});yield a.present();const{data:l}=yield a.onDidDismiss();if(l&&"delete"===l.action){const c=o.dataVideoId.commentsVideo.indexOf(o.comentarioDel);-1!==c?(o.dataVideoId.commentsVideo.splice(c,1),o._imageUser.updateImgUsuario(o.dataVideoId.id,{commentsVideo:o.dataVideoId.commentsVideo}).then(()=>{o.modalDelete=!1,o.ocultarx=!0,o.option=!1,console.log("Comentario eliminado correctamente")}).catch(_=>{console.error("Error al eliminar el comentario:",_)})):console.error("\xcdndice de comentario no v\xe1lido")}else"editar"==l.action&&o.presentAlert()}})()}presentAlert(){var r=this;return(0,E.A)(function*(){yield(yield r.alertCtrl.create({header:"Editar Comentario",inputs:[{name:"comentario",type:"textarea",placeholder:"Escribe tu comentario",value:r.esteComentario}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:o=>{const s=o.comentario,a=r.dataVideoId.commentsVideo.indexOf(r.comentarioDel);-1!==a?(r.dataVideoId.commentsVideo[a].comentario=s,r._imageUser.updateImgUsuario(r.dataVideoId.id,{commentsVideo:r.dataVideoId.commentsVideo}).then(()=>{r.modalEditar=!1,r.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(d=>{console.error("Error al editar el comentario:",d)})):console.error("\xcdndice de comentario no v\xe1lido")}}]})).present()})()}addComment(r){var i=this;return(0,E.A)(function*(){const o=yield i.afAuth.currentUser;if(o){const s=i.dataVideoId,a=i.dataVideoId.id;s.commentsVideo.push({usuario:o.displayName,correo:o.email,comentario:r,imagen:o.photoURL,idUser:o.uid});const _={commentsVideo:s.commentsVideo};yield i._imageUser.updateImgUsuario(a,_),i.comentario=""}})()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Lr),T(ra),T(hv),T(Xl),T(yz),T(dpe),T(Ez),T(st),T(oE),T(iE))},t.\u0275cmp=ft({type:t,selectors:[["app-perfil"]],viewQuery:function(r,i){if(1&r&&Ol(hpe,5),2&r){let o;fs(o=ps())&&(i.modal2=o.first)}},decls:30,vars:9,consts:[["modal",""],["commentForm","ngForm"],[1,"user-info"],[1,"img-container"],["alt","",2,"bottom","66%","position","absolute","z-index","-1","right","0",3,"src"],[2,"padding","12px","display","flex","justify-content","space-between"],["alt","Foto de perfil","width","auto","height","90",2,"border","2px solid","cursor","pointer","user-select","none","border-radius","28px",3,"click","src"],[1,"lap","user",2,"border-radius","14px","color","white","background-color","#00000091","font-weight","bolder","margin","0","text-align","center"],[2,"display","flex","border-radius","50%","background-color","#7144ff","height","max-content"],["name","mail-unread-outline",2,"color","white","font-size","30px",3,"click"],[2,"display","flex","justify-content","space-around"],[4,"ngIf"],["style","display: flex; border-radius: 50%; background-color: #7144ff",4,"ngIf"],[2,"background-color","#7144ff78"],[1,"lap",2,"color","white","text-align","center","margin","4px"],[1,"contenedor-img"],[1,"subir"],["color","tertiary",3,"click"],[1,"contenedor"],[1,"box"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["trigger","open-modal",3,"presentingElement"],["size","small","color","tertiary",3,"click"],[2,"display","flex","border-radius","50%","background-color","#7144ff"],["name","add-circle-outline",2,"color","white","font-size","33px",3,"click"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"mouseenter","mouseleave","click","src"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",3,"click"],["name","close-outline",2,"font-size","30px"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],["name","caret-back-outline",2,"height","50%","border-radius","50%","border","1px solid","font-size","50px"],[1,"btn-lightbox-carousel","btn-next",3,"click"],["name","caret-forward-outline",2,"height","50%","border-radius","50%","border","1px solid","font-size","50px"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],["name","chatbubble-ellipses-outline",2,"cursor","pointer",3,"click"],["name","heart-outline",3,"click"],["name","trash-outline",2,"cursor","pointer","color","red",3,"click"],["slot","end"],[3,"click"],[1,"modal-com",2,"text-align","justify"],[1,"fas","fa-times","lax2",3,"click"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModelChange","ngModel"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"click","src"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[2,"font-size","26px",3,"click"]],template:function(r,i){if(1&r){const o=er();q(0,"div")(1,"div",2)(2,"div",3),gn(3,"img",4),q(4,"div",5)(5,"div")(6,"img",6),yt("click",function(){return Pt(o),Mt(i.changeProfilePicture())}),Q(),q(7,"p",7),Ye(8),Q()(),q(9,"div",8)(10,"ion-icon",9),yt("click",function(){return Pt(o),Mt(i.abrirBandeja())}),Q()()(),q(11,"div",10),Gn(12,ppe,3,0,"div",11)(13,mpe,2,0,"div",12),Q()(),q(14,"div",13)(15,"p",14),Ye(16),Q()()()(),q(17,"div",15)(18,"div",16)(19,"ion-button",17),yt("click",function(){return Pt(o),Mt(i.misImages())}),Ye(20,"+ Agregar imagen"),Q()(),q(21,"div",18)(22,"div",19)(23,"div",20)(24,"div",21),Gn(25,gpe,2,1,"div",22),Q(),Gn(26,bpe,6,8,"div",23),Q()()()(),q(27,"ion-modal",24,0),Gn(29,wpe,23,3,"ng-template"),Q()}2&r&&(Te(3),ht("src",i.urlPortada||"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Starsinthesky.jpg/1024px-Starsinthesky.jpg",eo),Te(3),ht("src",(null==i.usuario?null:i.usuario.photoURL)||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",eo),Te(2),Si(" ",null==i.objetoUsuario?null:i.objetoUsuario.usuario," "),Te(4),ht("ngIf",!i.esInvitado),Te(),ht("ngIf",!i.esInvitado),Te(3),Si(" ",i.aboutMeValue," "),Te(9),ht("ngForOf",i.imageX),Te(),ht("ngIf",i.showMask),Te(),ht("presentingElement",i.presentingElement))},dependencies:[xg,Ng,Ns,Yl,jf,Zc,Jc,eu,Pa,tu,Hf,Qc,xf,Wl,Kc,Yc,md,pd],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#c4d6019a,#fefeff75);color:#fff;width:129px;padding:5px 9px;border-radius:13px}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{z-index:999;position:relative;display:inline-block;margin-top:10px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:7%;left:0;width:100%;height:91%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.swiper-container[_ngcontent-%COMP%]{width:100%;height:100%}.swiper-slide[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto}"]}),e})();const VP=t=>({"tab-selected":t});function Dpe(t,e){if(1&t){const n=er();q(0,"ion-datetime",31),xo("ngModelChange",function(i){Pt(n);const o=Ue(2);return Yo(o.birthdayValue,i)||(o.birthdayValue=i),Mt(i)}),Q()}2&t&&(Mo("ngModel",Ue(2).birthdayValue),ht("showDefaultButtons",!0))}function Spe(t,e){if(1&t){const n=er();q(0,"div",3)(1,"div",4)(2,"div",5)(3,"ion-input",6),xo("ngModelChange",function(i){Pt(n);const o=Ue();return Yo(o.displayNameValue,i)||(o.displayNameValue=i),Mt(i)}),Q()(),q(4,"div",5)(5,"ion-input",7),xo("ngModelChange",function(i){Pt(n);const o=Ue();return Yo(o.ciudad,i)||(o.ciudad=i),Mt(i)}),Q()(),q(6,"div",5)(7,"ion-input",8),xo("ngModelChange",function(i){Pt(n);const o=Ue();return Yo(o.usuario.email,i)||(o.usuario.email=i),Mt(i)}),Q()(),q(8,"div",5)(9,"ion-input",9),xo("ngModelChange",function(i){Pt(n);const o=Ue();return Yo(o.phoneNumberValue,i)||(o.phoneNumberValue=i),Mt(i)}),Q()(),q(10,"div",5)(11,"ion-select",10),xo("ngModelChange",function(i){Pt(n);const o=Ue();return Yo(o.genderValue,i)||(o.genderValue=i),Mt(i)}),q(12,"ion-select-option",11),Ye(13,"Hombre"),Q(),q(14,"ion-select-option",12),Ye(15,"Mujer"),Q(),q(16,"ion-select-option",13),Ye(17,"No definido"),Q()()(),q(18,"div",5)(19,"ion-select",14),xo("ngModelChange",function(i){Pt(n);const o=Ue();return Yo(o.estado,i)||(o.estado=i),Mt(i)}),q(20,"ion-select-option",15),Ye(21,"Soltero(a)"),Q(),q(22,"ion-select-option",16),Ye(23,"En una relacion"),Q(),q(24,"ion-select-option",17),Ye(25,"Casado(a)"),Q(),q(26,"ion-select-option",18),Ye(27,"Pareja de hecho"),Q(),q(28,"ion-select-option",19),Ye(29,"Relacion abierta"),Q(),q(30,"ion-select-option",20),Ye(31,"Comprometido(a)"),Q(),q(32,"ion-select-option",21),Ye(33,"Es complicado"),Q(),q(34,"ion-select-option",22),Ye(35,"Separado(a)"),Q(),q(36,"ion-select-option",23),Ye(37,"Divorciado(a)"),Q(),q(38,"ion-select-option",24),Ye(39,"Viudo(a)"),Q()()(),q(40,"div",25)(41,"label"),Ye(42,"Fecha de cumplea\xf1os:"),Q(),gn(43,"ion-datetime-button",26),q(44,"ion-modal",27),Gn(45,Dpe,1,2,"ng-template"),Q()(),q(46,"div",25)(47,"ion-textarea",28),xo("ngModelChange",function(i){Pt(n);const o=Ue();return Yo(o.aboutMeValue,i)||(o.aboutMeValue=i),Mt(i)}),Q()(),q(48,"div",29)(49,"ion-button",30),yt("click",function(){return Pt(n),Mt(Ue().actualizarPerfil())}),Ye(50,"Guardar cambios"),Q()()()()}if(2&t){const n=Ue();Te(3),Mo("ngModel",n.displayNameValue),Te(2),Mo("ngModel",n.ciudad),Te(2),Mo("ngModel",n.usuario.email),ht("disabled",!0),Te(2),Mo("ngModel",n.phoneNumberValue),Te(2),Mo("ngModel",n.genderValue),Te(8),Mo("ngModel",n.estado),Te(25),ht("keepContentsMounted",!0),Te(3),Mo("ngModel",n.aboutMeValue)}}const Rpe=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Kfe},{path:"registrar",component:Jfe},{path:"recuperar",component:npe},{path:"main",component:(()=>{var t;class e{constructor(r,i,o,s){this.afAuth=r,this.router=i,this.menu=o,this._user=s,this.esInvitado=!1,this.modal=!1,this.usuariosInfo=[],this.mn=!1,this.im=!1,this.vd=!0}ngOnInit(){this.afAuth.user.subscribe(r=>{this.usuario=r,this.usuarioActual=null==r?void 0:r.displayName,"Invitad@"===this.usuarioActual&&(this.esInvitado=!0),this.getUsers()}),this.menu.close()}getUsers(){this._user.getUsers().subscribe(r=>{var i;this.usuariosInfo=[],r.forEach(s=>{const a=s.payload.doc.data();this.usuariosInfo.push({id:s.payload.doc.id,...a})});const o=this.usuariosInfo.find(s=>{var a;return s.idUser===(null===(a=this.usuario)||void 0===a?void 0:a.uid)});this.objetoUsuario=o,this.foto=null===(i=this.objetoUsuario)||void 0===i?void 0:i.foto})}main(){this.mn=!0,this.im=!1,this.vd=!1}images(){this.mn=!1,this.im=!0,this.vd=!1}videos(){this.mn=!1,this.im=!1,this.vd=!0}salir(){var r=this;return(0,E.A)(function*(){console.log("click"),yield r.menu.close(),r.afAuth.signOut().then(()=>{r.router.navigate(["/login"])})})()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(ra),T(Lr),T(ose),T(hv))},t.\u0275cmp=ft({type:t,selectors:[["app-navbar"]],decls:40,vars:14,consts:[["contentId","main-content"],[1,"ion-padding"],[3,"click"],["id","main-content",1,"ion-page"],["slot","start"],[2,"display","flex"],[2,"width","45px","height","45px"],["alt","Silhouette of a person's head",3,"src"],[3,"hidden"],["slot","bottom"],[3,"click","ngClass"],["name","grid-outline"],["name","people-outline"],["name","person-circle-outline"]],template:function(r,i){1&r&&(q(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),Ye(4,"Asomos"),Q()()(),q(5,"ion-content",1)(6,"ion-list")(7,"ion-item",2),yt("click",function(){return i.salir()}),Ye(8,"Salir"),Q()()()(),q(9,"div",3)(10,"ion-header")(11,"ion-toolbar")(12,"ion-buttons",4),gn(13,"ion-menu-button"),Q(),q(14,"div",5)(15,"ion-avatar",6),gn(16,"img",7),Q(),q(17,"ion-title"),Ye(18),Q()()()(),q(19,"ion-content")(20,"div",8),gn(21,"app-features"),Q(),q(22,"div",8)(23,"div"),gn(24,"app-grupos"),Q()(),q(25,"div",8),gn(26,"app-perfil"),Q()(),q(27,"ion-tab-bar",9)(28,"ion-tab-button",10),yt("click",function(){return i.main()}),gn(29,"ion-icon",11),q(30,"ion-label"),Ye(31,"Features"),Q()(),q(32,"ion-tab-button",10),yt("click",function(){return i.images()}),gn(33,"ion-icon",12),q(34,"ion-label"),Ye(35,"Grupos"),Q()(),q(36,"ion-tab-button",10),yt("click",function(){return i.videos()}),gn(37,"ion-icon",13),q(38,"ion-label"),Ye(39,"Perfil"),Q()()()()),2&r&&(Te(16),ht("src",i.foto||"https://ionicframework.com/docs/img/demos/avatar.svg",eo),Te(2),Si("\xa1Hola ",i.usuarioActual,"!"),Te(2),ht("hidden",!i.mn),Te(2),ht("hidden",!i.im),Te(3),ht("hidden",!i.vd),Te(3),ht("ngClass",Fl(8,VP,i.mn)),Te(4),ht("ngClass",Fl(10,VP,i.im)),Te(4),ht("ngClass",Fl(12,VP,i.vd)))},dependencies:[xg,oB,jf,Zc,Jc,eu,zD,zf,HD,lB,cB,__,GD,Pa,tu,cpe,upe,Tpe],styles:[".tab-selected[_ngcontent-%COMP%]{color:var(--ion-color-primary)!important}"]}),e})()},{path:"activate",component:Hfe},{path:"perfil-editar",component:(()=>{var t;class e{constructor(r,i,o,s,a){this.location=r,this.afAuth=i,this.toastr=o,this.router=s,this._user=a,this.usuariosInfo=[],this.comprobar=!1}ngOnInit(){this.afAuth.user.subscribe(r=>{this.usuario=r,this.getUsers()})}goBack(){this.location.back()}getUsers(){this._user.getUsers().subscribe(r=>{this.usuariosInfo=[],r.forEach(i=>{var o;const s={id:i.payload.doc.id,...i.payload.doc.data()};this.usuariosInfo.push(s);const a=this.usuariosInfo.find(c=>{var d;return c.idUser===(null===(d=this.usuario)||void 0===d?void 0:d.uid)}),l=null===(o=this.usuariosInfo.find(c=>{var d;return c.idUser===(null===(d=this.usuario)||void 0===d?void 0:d.uid)}))||void 0===o?void 0:o.id;this.id=l,null==l&&(this.comprobar=!0),this.displayNameValue=null==a?void 0:a.usuario,this.phoneNumberValue=null==a?void 0:a.telefono,this.genderValue=null==a?void 0:a.Genero,this.birthdayValue=null==a?void 0:a.cumpleanos,this.aboutMeValue=null==a?void 0:a.about,this.ciudad=null==a?void 0:a.ciudad,this.estado=null==a?void 0:a.estado})})}actualizarPerfil(){this.afAuth.currentUser.then(r=>{this._user.updateUser({idUser:null==r?void 0:r.uid,usuario:this.displayNameValue,email:null==r?void 0:r.email,foto:null==r?void 0:r.photoURL,telefono:this.phoneNumberValue||null,Genero:this.genderValue||null,cumpleanos:this.birthdayValue||null,about:this.aboutMeValue||null,ciudad:this.ciudad||null,estado:this.estado||null},this.id).then(()=>{this.router.navigate(["/main"]),this.toastr.info("Datos actualizados")})})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Ms),T(ra),T(Xl),T(Lr),T(hv))},t.\u0275cmp=ft({type:t,selectors:[["app-perfil-editar"]],decls:8,vars:1,consts:[[2,"padding-left","1rem","display","flex","align-items","center"],["name","arrow-back-outline",2,"font-size","22px",3,"click"],["class","container",4,"ngIf"],[1,"container"],[1,"per-con",2,"row-gap","1rem","display","flex","flex-direction","column"],[1,"form-group"],["label","Nombre de usuario","label-placement","floating","fill","solid","placeholder","Usuario","required","","name","displayName",3,"ngModelChange","ngModel"],["label","Lugar actual","label-placement","floating","fill","solid","placeholder","Ciudad","required","","name","ciudad",3,"ngModelChange","ngModel"],["type","email","fill","solid","label","Email","name","email","labelPlacement","floating","email","",3,"ngModelChange","ngModel","disabled"],["label","Celular","label-placement","floating","fill","solid","placeholder","Ciudad","required","","name","phoneNumber","type","number",3,"ngModelChange","ngModel"],["label","Genero","label-placement","floating","fill","solid","name","gender",3,"ngModelChange","ngModel"],["value","hombre"],["value","mujer"],["value","no_definido"],["label","Estado","label-placement","floating","fill","solid","name","estado",3,"ngModelChange","ngModel"],["value","soltero(a)"],["value","en una relacion"],["value","casado(a)"],["value","pareja de hecho"],["value","relacion abierta"],["value","comprometido(a)"],["value","es complicado"],["value","separado(a)"],["value","divorciado(a)"],["value","viudo(a)"],[2,"position","relative","left","12px"],["datetime","datetime",2,"width","fit-content"],[3,"keepContentsMounted"],["name","aboutMe","maxlength","50","label","Sobre m\xed (m\xe1ximo 50 caracteres):","labelPlacement","floating","placeholder","Sobre mi",3,"ngModelChange","ngModel"],[2,"text-align","center"],["color","tertiary",3,"click"],["name","birthday","presentation","date","id","datetime",3,"ngModelChange","ngModel","showDefaultButtons"]],template:function(r,i){1&r&&(q(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-icon",1),yt("click",function(){return i.goBack()}),Q(),q(4,"ion-title"),Ye(5,"Editar perfil"),Q()()()(),q(6,"ion-content"),Gn(7,Spe,51,9,"div",2),Q()),2&r&&(Te(7),ht("ngIf",i.usuario))},dependencies:[Ns,Yl,Zc,sB,aB,Jc,eu,g_,uB,dB,qD,Pa,tu,Hf,tB,nB,Uf,Wl,Yc,lD,Of,md]}),e})()},{path:"**",redirectTo:"/",pathMatch:"full"}];let Ppe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t}),t.\u0275inj=ki({imports:[n2.forRoot(Rpe,{preloadingStrategy:Ree}),n2]}),e})(),Mpe=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ft({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&(q(0,"ion-app"),gn(1,"ion-router-outlet"),Q())},dependencies:[iB,v_]}),e})();const $P_firebase={apiKey:"AIzaSyC-xnNzaTCFveAr77Iqf1CQ-wRct6kCBkQ",authDomain:"fitpal-horario.firebaseapp.com",projectId:"fitpal-horario",storageBucket:"fitpal-horario.appspot.com",messagingSenderId:"240368209776",appId:"1:240368209776:web:7b2960966943d391e049b5"};class _v{constructor(e){return e}}class bz{constructor(){return(0,qi.getApps)()}}const BP=new Et("angularfire2._apps"),Npe={provide:_v,useFactory:function xpe(t){return t&&1===t.length?t[0]:new _v((0,qi.getApp)())},deps:[[new co,BP]]},kpe={provide:bz,deps:[[new co,BP]]};function Ope(t){return(e,n)=>{const r=n.get(Zs);(0,qi.registerVersion)("angularfire",Gf.full,"core"),(0,qi.registerVersion)("angularfire",Gf.full,"app"),(0,qi.registerVersion)("angular",QO.full,r.toString());const i=e.runOutsideAngular(()=>t(n));return new _v(i)}}function Fpe(t,...e){return ma([Npe,kpe,{provide:BP,useFactory:Ope(t),multi:!0,deps:[He,Ar,I_,...e]}])}pe(2920);class wz{constructor(){return XD("auth")}}class zP{constructor(e){return e}}const Tz="storage",HP=new Et("angularfire2.storage-instances");function zpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new zP(r)}}const Hpe={provide:class Upe{constructor(){return XD(Tz)}},deps:[[new co,HP]]},Gpe={provide:zP,useFactory:function jpe(t,e){const n=function yB(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(Tz,t,e);return n&&new zP(n)},deps:[[new co,HP],_v]};function qpe(t,...e){return(0,qi.registerVersion)("angularfire",Gf.full,"gcs"),ma([Gpe,Hpe,{provide:HP,useFactory:zpe(t),multi:!0,deps:[He,Ar,I_,bz,[new co,wz],[new co,lE],...e]}])}const Wpe=zse(afe,!0);let Kpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=uo({type:t,bootstrap:[Mpe]}),t.\u0275inj=ki({providers:[{provide:qV,useClass:kie},Fpe(()=>(0,qi.initializeApp)($P_firebase)),qpe(()=>Wpe())],imports:[kL,cse.forRoot(),Ppe,Lte,Vte,Nre,iae,Xse.initializeApp($P_firebase),Mse.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),e})();BX().bootstrapModule(Kpe).catch(t=>console.log(t))},8996:(fr,rn,pe)=>{var E={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function De(L){if(!pe.o(E,L))return Promise.resolve().then(()=>{var xt=new Error("Cannot find module '"+L+"'");throw xt.code="MODULE_NOT_FOUND",xt});var at=E[L],Gt=at[0];return Promise.all(at.slice(1).map(pe.e)).then(()=>pe(Gt))}De.keys=()=>Object.keys(E),De.id=8996,fr.exports=De},3345:(fr,rn,pe)=>{"use strict";pe.d(rn,{A:()=>ot});var E=pe(1076),De=pe(1362),L=pe(7852),at=pe(8041);class Gt{constructor(Se,be){this._delegate=Se,this.firebase=be,(0,L._addComponent)(Se,new De.uA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Se,be=L._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(Se);return!we.isInitialized()&&"EXPLICIT"===(null===(Ke=we.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&we.initialize(),we.getImmediate({identifier:be})}_removeServiceInstance(Se,be=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(be)}_addComponent(Se){(0,L._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,L._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new E.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),me=function vt(){const Oe=function Xe(Oe){const Se={},be={__esModule:!0,initializeApp:function ct(Ze,St={}){const ce=L.initializeApp(Ze,St);if((0,E.gR)(Se,ce.name))return Se[ce.name];const qe=new Oe(ce,be);return Se[ce.name]=qe,qe},app:we,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function $e(Ze){const St=Ze.name,ce=St.replace("-compat","");if(L._registerComponent(Ze)&&"PUBLIC"===Ze.type){const qe=(It=we())=>{if("function"!=typeof It[ce])throw Ce.create("invalid-app-argument",{appName:St});return It[ce]()};void 0!==Ze.serviceProps&&(0,E.zw)(qe,Ze.serviceProps),be[ce]=qe,Oe.prototype[ce]=function(...It){return this._getService.bind(this,St).apply(this,Ze.multipleInstances?It:[])}}return"PUBLIC"===Ze.type?be[ce]:null},removeApp:function Ke(Ze){delete Se[Ze]},useAsService:function Fe(Ze,St){return"serverAuth"===St?null:St},modularAPIs:L}};function we(Ze){if(!(0,E.gR)(Se,Ze=Ze||L._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:Ze});return Se[Ze]}return be.default=be,Object.defineProperty(be,"apps",{get:function ue(){return Object.keys(Se).map(Ze=>Se[Ze])}}),we.App=Oe,be}(Gt);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:vt,extendNamespace:function Se(be){(0,E.zw)(Oe,be)},createSubscribe:E.tD,ErrorFactory:E.FA,deepExtend:E.zw}),Oe}(),re=new at.Vy("@firebase/app-compat");if((0,E.Bd)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=me;!function Re(Oe){(0,L.registerVersion)("@firebase/app-compat","0.2.34",Oe)}()},7852:(fr,rn,pe)=>{"use strict";pe.r(rn),pe.d(rn,{FirebaseError:()=>at.g,SDK_VERSION:()=>ti,_DEFAULT_ENTRY_NAME:()=>jn,_addComponent:()=>vr,_addOrOverwriteComponent:()=>Ei,_apps:()=>An,_clearComponents:()=>ai,_components:()=>Kn,_getProvider:()=>pr,_isFirebaseApp:()=>vo,_isFirebaseServerApp:()=>Bn,_registerComponent:()=>si,_removeServiceInstance:()=>Mi,_serverApps:()=>Wn,deleteApp:()=>jo,getApp:()=>Mn,getApps:()=>yo,initializeApp:()=>xi,initializeServerApp:()=>Qi,onLog:()=>M,registerVersion:()=>j,setLogLevel:()=>F});var E=pe(467),De=pe(1362),L=pe(8041),at=pe(1076);const Gt=(Ae,de)=>de.some(je=>Ae instanceof je);let xt,Ce;const me=new WeakMap,re=new WeakMap,Ne=new WeakMap,Ie=new WeakMap,Re=new WeakMap;let Se={get(Ae,de,je){if(Ae instanceof IDBTransaction){if("done"===de)return re.get(Ae);if("objectStoreNames"===de)return Ae.objectStoreNames||Ne.get(Ae);if("store"===de)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return ct(Ae[de])},set:(Ae,de,je)=>(Ae[de]=je,!0),has:(Ae,de)=>Ae instanceof IDBTransaction&&("done"===de||"store"===de)||de in Ae};function we(Ae){return"function"==typeof Ae?function Ke(Ae){return Ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function vt(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ae)?function(...de){return Ae.apply(ue(this),de),ct(me.get(this))}:function(...de){return ct(Ae.apply(ue(this),de))}:function(de,...je){const Ft=Ae.call(ue(this),de,...je);return Ne.set(Ft,de.sort?de.sort():[de]),ct(Ft)}}(Ae):(Ae instanceof IDBTransaction&&function Oe(Ae){if(re.has(Ae))return;const de=new Promise((je,Ft)=>{const bn=()=>{Ae.removeEventListener("complete",J),Ae.removeEventListener("error",dt),Ae.removeEventListener("abort",dt)},J=()=>{je(),bn()},dt=()=>{Ft(Ae.error||new DOMException("AbortError","AbortError")),bn()};Ae.addEventListener("complete",J),Ae.addEventListener("error",dt),Ae.addEventListener("abort",dt)});re.set(Ae,de)}(Ae),Gt(Ae,function Xe(){return xt||(xt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ae,Se):Ae)}function ct(Ae){if(Ae instanceof IDBRequest)return function ot(Ae){const de=new Promise((je,Ft)=>{const bn=()=>{Ae.removeEventListener("success",J),Ae.removeEventListener("error",dt)},J=()=>{je(ct(Ae.result)),bn()},dt=()=>{Ft(Ae.error),bn()};Ae.addEventListener("success",J),Ae.addEventListener("error",dt)});return de.then(je=>{je instanceof IDBCursor&&me.set(je,Ae)}).catch(()=>{}),Re.set(de,Ae),de}(Ae);if(Ie.has(Ae))return Ie.get(Ae);const de=we(Ae);return de!==Ae&&(Ie.set(Ae,de),Re.set(de,Ae)),de}const ue=Ae=>Re.get(Ae),Ze=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],ce=new Map;function qe(Ae,de){if(!(Ae instanceof IDBDatabase)||de in Ae||"string"!=typeof de)return;if(ce.get(de))return ce.get(de);const je=de.replace(/FromIndex$/,""),Ft=de!==je,bn=St.includes(je);if(!(je in(Ft?IDBIndex:IDBObjectStore).prototype)||!bn&&!Ze.includes(je))return;const J=function(){var dt=(0,E.A)(function*(Xt,...Ht){const dr=this.transaction(Xt,bn?"readwrite":"readonly");let Qn=dr.store;return Ft&&(Qn=Qn.index(Ht.shift())),(yield Promise.all([Qn[je](...Ht),bn&&dr.done]))[0]});return function(Ht){return dt.apply(this,arguments)}}();return ce.set(de,J),J}!function be(Ae){Se=Ae(Se)}(Ae=>({...Ae,get:(de,je,Ft)=>qe(de,je)||Ae.get(de,je,Ft),has:(de,je)=>!!qe(de,je)||Ae.has(de,je)}));class It{constructor(de){this.container=de}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function qt(Ae){const de=Ae.getComponent();return"VERSION"===(null==de?void 0:de.type)}(je)){const Ft=je.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(je=>je).join(" ")}}const en="@firebase/app",mt="0.10.4",Kt=new L.Vy("@firebase/app"),jn="[DEFAULT]",zn={[en]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},An=new Map,Wn=new Map,Kn=new Map;function vr(Ae,de){try{Ae.container.addComponent(de)}catch(je){Kt.debug(`Component ${de.name} failed to register with FirebaseApp ${Ae.name}`,je)}}function Ei(Ae,de){Ae.container.addOrOverwriteComponent(de)}function si(Ae){const de=Ae.name;if(Kn.has(de))return Kt.debug(`There were multiple attempts to register component ${de}.`),!1;Kn.set(de,Ae);for(const je of An.values())vr(je,Ae);for(const je of Wn.values())vr(je,Ae);return!0}function pr(Ae,de){const je=Ae.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),Ae.container.getProvider(de)}function Mi(Ae,de,je=jn){pr(Ae,de).clearInstance(je)}function vo(Ae){return void 0!==Ae.options}function Bn(Ae){return void 0!==Ae.settings}function ai(){Kn.clear()}const br=new at.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wr{constructor(de,je,Ft){this._isDeleted=!1,this._options=Object.assign({},de),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new De.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this.checkDestroyed(),this._automaticDataCollectionEnabled=de}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(de){this._isDeleted=de}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}class kr extends wr{constructor(de,je,Ft,bn){const J=void 0!==je.automaticDataCollectionEnabled&&je.automaticDataCollectionEnabled,dt={name:Ft,automaticDataCollectionEnabled:J};super(void 0!==de.apiKey?de:de.options,dt,bn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:J},je),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,je.releaseOnDeref=void 0,j(en,mt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(de){this.isDeleted||(this._refCount++,void 0!==de&&this._finalizationRegistry.register(de,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){jo(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw br.create("server-app-deleted")}}const ti="10.12.1";function xi(Ae,de={}){let je=Ae;"object"!=typeof de&&(de={name:de});const Ft=Object.assign({name:jn,automaticDataCollectionEnabled:!1},de),bn=Ft.name;if("string"!=typeof bn||!bn)throw br.create("bad-app-name",{appName:String(bn)});if(je||(je=(0,at.T9)()),!je)throw br.create("no-options");const J=An.get(bn);if(J){if((0,at.bD)(je,J.options)&&(0,at.bD)(Ft,J.config))return J;throw br.create("duplicate-app",{appName:bn})}const dt=new De.h1(bn);for(const Ht of Kn.values())dt.addComponent(Ht);const Xt=new wr(je,Ft,dt);return An.set(bn,Xt),Xt}function Qi(Ae,de){if((0,at.Bd)())throw br.create("invalid-server-app-environment");let je;void 0===de.automaticDataCollectionEnabled&&(de.automaticDataCollectionEnabled=!1),je=vo(Ae)?Ae.options:Ae;const Ft=Object.assign(Object.assign({},de),je);if(void 0!==Ft.releaseOnDeref&&delete Ft.releaseOnDeref,void 0!==de.releaseOnDeref&&typeof FinalizationRegistry>"u")throw br.create("finalization-registry-not-supported",{});const J=""+(dr=JSON.stringify(Ft),[...dr].reduce((Qn,Yn)=>Math.imul(31,Qn)+Yn.charCodeAt(0)|0,0)),dt=Wn.get(J);var dr;if(dt)return dt.incRefCount(de.releaseOnDeref),dt;const Xt=new De.h1(J);for(const dr of Kn.values())Xt.addComponent(dr);const Ht=new kr(je,de,J,Xt);return Wn.set(J,Ht),Ht}function Mn(Ae=jn){const de=An.get(Ae);if(!de&&Ae===jn&&(0,at.T9)())return xi();if(!de)throw br.create("no-app",{appName:Ae});return de}function yo(){return Array.from(An.values())}function jo(Ae){return Y.apply(this,arguments)}function Y(){return(Y=(0,E.A)(function*(Ae){let de=!1;const je=Ae.name;An.has(je)?(de=!0,An.delete(je)):Wn.has(je)&&Ae.decRefCount()<=0&&(Wn.delete(je),de=!0),de&&(yield Promise.all(Ae.container.getProviders().map(Ft=>Ft.delete())),Ae.isDeleted=!0)})).apply(this,arguments)}function j(Ae,de,je){var Ft;let bn=null!==(Ft=zn[Ae])&&void 0!==Ft?Ft:Ae;je&&(bn+=`-${je}`);const J=bn.match(/\s|\//),dt=de.match(/\s|\//);if(J||dt){const Xt=[`Unable to register library "${bn}" with version "${de}":`];return J&&Xt.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),J&&dt&&Xt.push("and"),dt&&Xt.push(`version name "${de}" contains illegal characters (whitespace or "/")`),void Kt.warn(Xt.join(" "))}si(new De.uA(`${bn}-version`,()=>({library:bn,version:de}),"VERSION"))}function M(Ae,de){if(null!==Ae&&"function"!=typeof Ae)throw br.create("invalid-log-argument");(0,L.Ey)(Ae,de)}function F(Ae){(0,L.He)(Ae)}const R="firebase-heartbeat-database",oe=1,Pe="firebase-heartbeat-store";let gt=null;function yn(){return gt||(gt=function $e(Ae,de,{blocked:je,upgrade:Ft,blocking:bn,terminated:J}={}){const dt=indexedDB.open(Ae,de),Xt=ct(dt);return Ft&&dt.addEventListener("upgradeneeded",Ht=>{Ft(ct(dt.result),Ht.oldVersion,Ht.newVersion,ct(dt.transaction),Ht)}),je&&dt.addEventListener("blocked",Ht=>je(Ht.oldVersion,Ht.newVersion,Ht)),Xt.then(Ht=>{J&&Ht.addEventListener("close",()=>J()),bn&&Ht.addEventListener("versionchange",dr=>bn(dr.oldVersion,dr.newVersion,dr))}).catch(()=>{}),Xt}(R,oe,{upgrade:(Ae,de)=>{if(0===de)try{Ae.createObjectStore(Pe)}catch(je){console.warn(je)}}}).catch(Ae=>{throw br.create("idb-open",{originalErrorMessage:Ae.message})})),gt}function Hn(){return(Hn=(0,E.A)(function*(Ae){try{const je=(yield yn()).transaction(Pe),Ft=yield je.objectStore(Pe).get(tn(Ae));return yield je.done,Ft}catch(de){if(de instanceof at.g)Kt.warn(de.message);else{const je=br.create("idb-get",{originalErrorMessage:null==de?void 0:de.message});Kt.warn(je.message)}}})).apply(this,arguments)}function on(Ae,de){return he.apply(this,arguments)}function he(){return(he=(0,E.A)(function*(Ae,de){try{const Ft=(yield yn()).transaction(Pe,"readwrite");yield Ft.objectStore(Pe).put(de,tn(Ae)),yield Ft.done}catch(je){if(je instanceof at.g)Kt.warn(je.message);else{const Ft=br.create("idb-set",{originalErrorMessage:null==je?void 0:je.message});Kt.warn(Ft.message)}}})).apply(this,arguments)}function tn(Ae){return`${Ae.name}!${Ae.options.appId}`}class Na{constructor(de){this.container=de,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new Bi(je),this._heartbeatsCachePromise=this._storage.read().then(Ft=>(this._heartbeatsCache=Ft,Ft))}triggerHeartbeat(){var de=this;return(0,E.A)(function*(){var je,Ft;const J=de.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=js();if((null!=(null===(je=de._heartbeatsCache)||void 0===je?void 0:je.heartbeats)||(de._heartbeatsCache=yield de._heartbeatsCachePromise,null!=(null===(Ft=de._heartbeatsCache)||void 0===Ft?void 0:Ft.heartbeats)))&&de._heartbeatsCache.lastSentHeartbeatDate!==dt&&!de._heartbeatsCache.heartbeats.some(Xt=>Xt.date===dt))return de._heartbeatsCache.heartbeats.push({date:dt,agent:J}),de._heartbeatsCache.heartbeats=de._heartbeatsCache.heartbeats.filter(Xt=>{const Ht=new Date(Xt.date).valueOf();return Date.now()-Ht<=2592e6}),de._storage.overwrite(de._heartbeatsCache)})()}getHeartbeatsHeader(){var de=this;return(0,E.A)(function*(){var je;if(null===de._heartbeatsCache&&(yield de._heartbeatsCachePromise),null==(null===(je=de._heartbeatsCache)||void 0===je?void 0:je.heartbeats)||0===de._heartbeatsCache.heartbeats.length)return"";const Ft=js(),{heartbeatsToSend:bn,unsentEntries:J}=function sa(Ae,de=1024){const je=[];let Ft=Ae.slice();for(const bn of Ae){const J=je.find(dt=>dt.agent===bn.agent);if(J){if(J.dates.push(bn.date),Ui(je)>de){J.dates.pop();break}}else if(je.push({agent:bn.agent,dates:[bn.date]}),Ui(je)>de){je.pop();break}Ft=Ft.slice(1)}return{heartbeatsToSend:je,unsentEntries:Ft}}(de._heartbeatsCache.heartbeats),dt=(0,at.Uj)(JSON.stringify({version:2,heartbeats:bn}));return de._heartbeatsCache.lastSentHeartbeatDate=Ft,J.length>0?(de._heartbeatsCache.heartbeats=J,yield de._storage.overwrite(de._heartbeatsCache)):(de._heartbeatsCache.heartbeats=[],de._storage.overwrite(de._heartbeatsCache)),dt})()}}function js(){return(new Date).toISOString().substring(0,10)}class Bi{constructor(de){this.app=de,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.A)(function*(){return!!(0,at.zW)()&&(0,at.eX)().then(()=>!0).catch(()=>!1)})()}read(){var de=this;return(0,E.A)(function*(){if(yield de._canUseIndexedDBPromise){const Ft=yield function Ct(Ae){return Hn.apply(this,arguments)}(de.app);return null!=Ft&&Ft.heartbeats?Ft:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(de){var je=this;return(0,E.A)(function*(){var Ft;if(yield je._canUseIndexedDBPromise){const J=yield je.read();return on(je.app,{lastSentHeartbeatDate:null!==(Ft=de.lastSentHeartbeatDate)&&void 0!==Ft?Ft:J.lastSentHeartbeatDate,heartbeats:de.heartbeats})}})()}add(de){var je=this;return(0,E.A)(function*(){var Ft;if(yield je._canUseIndexedDBPromise){const J=yield je.read();return on(je.app,{lastSentHeartbeatDate:null!==(Ft=de.lastSentHeartbeatDate)&&void 0!==Ft?Ft:J.lastSentHeartbeatDate,heartbeats:[...J.heartbeats,...de.heartbeats]})}})()}}function Ui(Ae){return(0,at.Uj)(JSON.stringify({version:2,heartbeats:Ae})).length}!function Io(Ae){si(new De.uA("platform-logger",de=>new It(de),"PRIVATE")),si(new De.uA("heartbeat",de=>new Na(de),"PRIVATE")),j(en,mt,Ae),j(en,mt,"esm2017"),j("fire-js","")}("")},1362:(fr,rn,pe)=>{"use strict";pe.d(rn,{h1:()=>Xe,uA:()=>L});var E=pe(467),De=pe(1076);class L{constructor(me,re,Ne){this.name=me,this.instanceFactory=re,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(me){return this.instantiationMode=me,this}setMultipleInstances(me){return this.multipleInstances=me,this}setServiceProps(me){return this.serviceProps=me,this}setInstanceCreatedCallback(me){return this.onInstanceCreated=me,this}}const at="[DEFAULT]";class Gt{constructor(me,re){this.name=me,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(me){const re=this.normalizeInstanceIdentifier(me);if(!this.instancesDeferred.has(re)){const Ne=new De.cY;if(this.instancesDeferred.set(re,Ne),this.isInitialized(re)||this.shouldAutoInitialize())try{const Ie=this.getOrInitializeService({instanceIdentifier:re});Ie&&Ne.resolve(Ie)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(me){var re;const Ne=this.normalizeInstanceIdentifier(null==me?void 0:me.identifier),Ie=null!==(re=null==me?void 0:me.optional)&&void 0!==re&&re;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(Ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(Re){if(Ie)return null;throw Re}}getComponent(){return this.component}setComponent(me){if(me.name!==this.name)throw Error(`Mismatching Component ${me.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=me,this.shouldAutoInitialize()){if(function Ce(vt){return"EAGER"===vt.instantiationMode}(me))try{this.getOrInitializeService({instanceIdentifier:at})}catch{}for(const[re,Ne]of this.instancesDeferred.entries()){const Ie=this.normalizeInstanceIdentifier(re);try{const Re=this.getOrInitializeService({instanceIdentifier:Ie});Ne.resolve(Re)}catch{}}}}clearInstance(me=at){this.instancesDeferred.delete(me),this.instancesOptions.delete(me),this.instances.delete(me)}delete(){var me=this;return(0,E.A)(function*(){const re=Array.from(me.instances.values());yield Promise.all([...re.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...re.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(me=at){return this.instances.has(me)}getOptions(me=at){return this.instancesOptions.get(me)||{}}initialize(me={}){const{options:re={}}=me,Ne=this.normalizeInstanceIdentifier(me.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ie=this.getOrInitializeService({instanceIdentifier:Ne,options:re});for(const[Re,ot]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(Re)&&ot.resolve(Ie);return Ie}onInit(me,re){var Ne;const Ie=this.normalizeInstanceIdentifier(re),Re=null!==(Ne=this.onInitCallbacks.get(Ie))&&void 0!==Ne?Ne:new Set;Re.add(me),this.onInitCallbacks.set(Ie,Re);const ot=this.instances.get(Ie);return ot&&me(ot,Ie),()=>{Re.delete(me)}}invokeOnInitCallbacks(me,re){const Ne=this.onInitCallbacks.get(re);if(Ne)for(const Ie of Ne)try{Ie(me,re)}catch{}}getOrInitializeService({instanceIdentifier:me,options:re={}}){let Ne=this.instances.get(me);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(vt=me,vt===at?void 0:vt),options:re}),this.instances.set(me,Ne),this.instancesOptions.set(me,re),this.invokeOnInitCallbacks(Ne,me),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,me,Ne)}catch{}var vt;return Ne||null}normalizeInstanceIdentifier(me=at){return this.component?this.component.multipleInstances?me:at:me}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xe{constructor(me){this.name=me,this.providers=new Map}addComponent(me){const re=this.getProvider(me.name);if(re.isComponentSet())throw new Error(`Component ${me.name} has already been registered with ${this.name}`);re.setComponent(me)}addOrOverwriteComponent(me){this.getProvider(me.name).isComponentSet()&&this.providers.delete(me.name),this.addComponent(me)}getProvider(me){if(this.providers.has(me))return this.providers.get(me);const re=new Gt(me,this);return this.providers.set(me,re),re}getProviders(){return Array.from(this.providers.values())}}},8041:(fr,rn,pe)=>{"use strict";pe.d(rn,{$b:()=>De,Ey:()=>vt,He:()=>Xe,Vy:()=>Ce});const E=[];var De=function(me){return me[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",me}(De||{});const L={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},at=De.INFO,Gt={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},xt=(me,re,...Ne)=>{if(re<me.logLevel)return;const Ie=(new Date).toISOString(),Re=Gt[re];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[Re](`[${Ie}]  ${me.name}:`,...Ne)};class Ce{constructor(re){this.name=re,this._logLevel=at,this._logHandler=xt,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in De))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?L[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...re),this._logHandler(this,De.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...re),this._logHandler(this,De.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,De.INFO,...re),this._logHandler(this,De.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,De.WARN,...re),this._logHandler(this,De.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...re),this._logHandler(this,De.ERROR,...re)}}function Xe(me){E.forEach(re=>{re.setLogLevel(me)})}function vt(me,re){for(const Ne of E){let Ie=null;re&&re.level&&(Ie=L[re.level]),Ne.userLogHandler=null===me?null:(Re,ot,...Oe)=>{const Se=Oe.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");ot>=(null!=Ie?Ie:Re.logLevel)&&me({level:De[ot].toLowerCase(),message:Se,args:Oe,type:Re.name})}}}},2438:(fr,rn,pe)=>{"use strict";pe.r(rn);var E=pe(467),De=pe(3345),L=pe(2920),at=pe(1076),Ce=(pe(7852),pe(8041),pe(1362));function Xe(){return window}function re(){return re=(0,E.A)(function*(M,F,R){var oe;const{BuildInfo:Pe}=Xe();(0,L.au)(F.sessionId,"AuthEvent did not contain a session ID");const gt=yield function be(M){return Ke.apply(this,arguments)}(F.sessionId),yn={};return(0,L.av)()?yn.ibi=Pe.packageName:(0,L.aw)()?yn.apn=Pe.packageName:(0,L.ax)(M,"operation-not-supported-in-this-environment"),Pe.displayName&&(yn.appDisplayName=Pe.displayName),yn.sessionId=gt,(0,L.ay)(M,R,F.type,void 0,null!==(oe=F.eventId)&&void 0!==oe?oe:void 0,yn)}),re.apply(this,arguments)}function Ie(){return(Ie=(0,E.A)(function*(M){const{BuildInfo:F}=Xe(),R={};(0,L.av)()?R.iosBundleId=F.packageName:(0,L.aw)()?R.androidPackageName=F.packageName:(0,L.ax)(M,"operation-not-supported-in-this-environment"),yield(0,L.az)(M,R)})).apply(this,arguments)}function Oe(){return(Oe=(0,E.A)(function*(M,F,R){const{cordova:oe}=Xe();let Pe=()=>{};try{yield new Promise((gt,yn)=>{let Ct=null;function Hn(){var tn;gt();const $r=null===(tn=oe.plugins.browsertab)||void 0===tn?void 0:tn.close;"function"==typeof $r&&$r(),"function"==typeof(null==R?void 0:R.close)&&R.close()}function on(){Ct||(Ct=window.setTimeout(()=>{yn((0,L.aB)(M,"redirect-cancelled-by-user"))},2e3))}function he(){"visible"===(null==document?void 0:document.visibilityState)&&on()}F.addPassiveListener(Hn),document.addEventListener("resume",on,!1),(0,L.aw)()&&document.addEventListener("visibilitychange",he,!1),Pe=()=>{F.removePassiveListener(Hn),document.removeEventListener("resume",on,!1),document.removeEventListener("visibilitychange",he,!1),Ct&&window.clearTimeout(Ct)}})}finally{Pe()}})).apply(this,arguments)}function Ke(){return(Ke=(0,E.A)(function*(M){const F=function we(M){if((0,L.au)(/[0-9a-zA-Z]+/.test(M),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(M);const F=new ArrayBuffer(M.length),R=new Uint8Array(F);for(let oe=0;oe<M.length;oe++)R[oe]=M.charCodeAt(oe);return R}(M),R=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(R)).map(Pe=>Pe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ue extends L.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(F)),super.onEvent(F)}initialized(){var F=this;return(0,E.A)(function*(){yield F.initPromise})()}}function Ze(M){return St.apply(this,arguments)}function St(){return(St=(0,E.A)(function*(M){const F=yield It()._get(qt(M));return F&&(yield It()._remove(qt(M))),F})).apply(this,arguments)}function qe(){const M=[];for(let R=0;R<20;R++){const oe=Math.floor(62*Math.random());M.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(oe))}return M.join("")}function It(){return(0,L.aE)(L.b)}function qt(M){return(0,L.aF)("authEvent",M.config.apiKey,M.name)}function Kt(M){if(null==M||!M.includes("?"))return{};const[F,...R]=M.split("?");return(0,at.I9)(R.join("?"))}const S=class G{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aG,this._overrideRedirectResult=L.aH}_initialize(F){var R=this;return(0,E.A)(function*(){const oe=F._key();let Pe=R.eventManagers.get(oe);return Pe||(Pe=new ue(F),R.eventManagers.set(oe,Pe),R.attachCallbackListeners(F,Pe)),Pe})()}_openPopup(F){(0,L.ax)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,R,oe,Pe){var gt=this;return(0,E.A)(function*(){!function Se(M){var F,R,oe,Pe,gt,yn,Ct,Hn,on,he;const tn=Xe();(0,L.aC)("function"==typeof(null===(F=null==tn?void 0:tn.universalLinks)||void 0===F?void 0:F.subscribe),M,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aC)(typeof(null===(R=null==tn?void 0:tn.BuildInfo)||void 0===R?void 0:R.packageName)<"u",M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aC)("function"==typeof(null===(gt=null===(Pe=null===(oe=null==tn?void 0:tn.cordova)||void 0===oe?void 0:oe.plugins)||void 0===Pe?void 0:Pe.browsertab)||void 0===gt?void 0:gt.openUrl),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aC)("function"==typeof(null===(Hn=null===(Ct=null===(yn=null==tn?void 0:tn.cordova)||void 0===yn?void 0:yn.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===Hn?void 0:Hn.isAvailable),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aC)("function"==typeof(null===(he=null===(on=null==tn?void 0:tn.cordova)||void 0===on?void 0:on.InAppBrowser)||void 0===he?void 0:he.open),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const yn=yield gt._initialize(F);yield yn.initialized(),yn.resetRedirect(),(0,L.aI)(),yield gt._originValidation(F);const Ct=function $e(M,F,R=null){return{type:F,eventId:R,urlResponse:null,sessionId:qe(),postBody:null,tenantId:M.tenantId,error:(0,L.aB)(M,"no-auth-event")}}(F,oe,Pe);yield function Fe(M,F){return It()._set(qt(M),F)}(F,Ct);const Hn=yield function me(M,F,R){return re.apply(this,arguments)}(F,Ct,R),on=yield function Re(M){const{cordova:F}=Xe();return new Promise(R=>{F.plugins.browsertab.isAvailable(oe=>{let Pe=null;oe?F.plugins.browsertab.openUrl(M):Pe=F.InAppBrowser.open(M,(0,L.aA)()?"_blank":"_system","location=yes"),R(Pe)})})}(Hn);return function ot(M,F,R){return Oe.apply(this,arguments)}(F,yn,on)})()}_isIframeWebStorageSupported(F,R){throw new Error("Method not implemented.")}_originValidation(F){const R=F._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function Ne(M){return Ie.apply(this,arguments)}(F)),this.originValidationPromises[R]}attachCallbackListeners(F,R){const{universalLinks:oe,handleOpenURL:Pe,BuildInfo:gt}=Xe(),yn=setTimeout((0,E.A)(function*(){yield Ze(F),R.onEvent(D())}),500),Ct=function(){var he=(0,E.A)(function*(tn){clearTimeout(yn);const $r=yield Ze(F);let bi=null;$r&&null!=tn&&tn.url&&(bi=function ce(M,F){var R,oe;const Pe=function mt(M){const F=Kt(M),R=F.link?decodeURIComponent(F.link):void 0,oe=Kt(R).link,Pe=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return Kt(Pe).link||Pe||oe||R||M}(F);if(Pe.includes("/__/auth/callback")){const gt=Kt(Pe),yn=gt.firebaseError?function en(M){try{return JSON.parse(M)}catch{return null}}(decodeURIComponent(gt.firebaseError)):null,Ct=null===(oe=null===(R=null==yn?void 0:yn.code)||void 0===R?void 0:R.split("auth/"))||void 0===oe?void 0:oe[1],Hn=Ct?(0,L.aB)(Ct):null;return Hn?{type:M.type,eventId:M.eventId,tenantId:M.tenantId,error:Hn,urlResponse:null,sessionId:null,postBody:null}:{type:M.type,eventId:M.eventId,tenantId:M.tenantId,sessionId:M.sessionId,urlResponse:Pe,postBody:null}}return null}($r,tn.url)),R.onEvent(bi||D())});return function($r){return he.apply(this,arguments)}}();typeof oe<"u"&&"function"==typeof oe.subscribe&&oe.subscribe(null,Ct);const Hn=Pe,on=`${gt.packageName.toLowerCase()}://`;Xe().handleOpenURL=function(){var he=(0,E.A)(function*(tn){if(tn.toLowerCase().startsWith(on)&&Ct({url:tn}),"function"==typeof Hn)try{Hn(tn)}catch($r){console.error($r)}});return function(tn){return he.apply(this,arguments)}}()}};function D(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.aB)("no-auth-event")}}function We(){var M;return(null===(M=null==self?void 0:self.location)||void 0===M?void 0:M.protocol)||null}function cn(M=(0,at.ZQ)()){return!("file:"!==We()&&"ionic:"!==We()&&"capacitor:"!==We()||!M.toLowerCase().match(/iphone|ipad|ipod|android/))}function nr(){try{const M=self.localStorage,F=L.aN();if(M)return M.setItem(F,"1"),M.removeItem(F),!function zt(M=(0,at.ZQ)()){return function un(){return(0,at.lT)()&&11===(null==document?void 0:document.documentMode)}()||function dn(M=(0,at.ZQ)()){return/Edge\/\d+/.test(M)}(M)}()||(0,at.zW)()}catch{return Sn()&&(0,at.zW)()}return!1}function Sn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function ut(){return"http:"===We()||"https:"===We()}()||(0,at.sr)()||cn())&&!function At(){return(0,at.lV)()||(0,at.Ll)()}()&&nr()&&!Sn()}function Tn(){return cn()&&typeof document<"u"}function it(){return(it=(0,E.A)(function*(){return!!Tn()&&new Promise(M=>{const F=setTimeout(()=>{M(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),M(!0)})})})).apply(this,arguments)}const Me={LOCAL:"local",NONE:"none",SESSION:"session"},kt=L.aC,Pn="persistence";function jn(M){return zn.apply(this,arguments)}function zn(){return(zn=(0,E.A)(function*(M){yield M._initializationPromise;const F=Wn(),R=L.aF(Pn,M.config.apiKey,M.name);F&&F.setItem(R,M._getPersistence())})).apply(this,arguments)}function Wn(){var M;try{return(null===(M=function ke(){return typeof window<"u"?window:null}())||void 0===M?void 0:M.sessionStorage)||null}catch{return null}}const Kn=L.aC;class vr{constructor(){this.browserResolver=L.aE(L.k),this.cordovaResolver=L.aE(S),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aG,this._overrideRedirectResult=L.aH}_initialize(F){var R=this;return(0,E.A)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,R,oe,Pe){var gt=this;return(0,E.A)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openPopup(F,R,oe,Pe)})()}_openRedirect(F,R,oe,Pe){var gt=this;return(0,E.A)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openRedirect(F,R,oe,Pe)})()}_isIframeWebStorageSupported(F,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,R)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Tn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Kn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,E.A)(function*(){if(F.underlyingResolver)return;const R=yield function kn(){return it.apply(this,arguments)}();F.underlyingResolver=R?F.cordovaResolver:F.browserResolver})()}}function Ei(M){return M.unwrap()}function pr(M){return vo(M)}function vo(M){const{_tokenResponse:F}=M instanceof at.g?M.customData:M;if(!F)return null;if(!(M instanceof at.g)&&"temporaryProof"in F&&"phoneNumber"in F)return L.P.credentialFromResult(M);const R=F.providerId;if(!R||R===L.p.PASSWORD)return null;let oe;switch(R){case L.p.GOOGLE:oe=L.X;break;case L.p.FACEBOOK:oe=L.W;break;case L.p.GITHUB:oe=L.Y;break;case L.p.TWITTER:oe=L.$;break;default:const{oauthIdToken:Pe,oauthAccessToken:gt,oauthTokenSecret:yn,pendingToken:Ct,nonce:Hn}=F;return gt||yn||Pe||Ct?Ct?R.startsWith("saml.")?L.aQ._create(R,Ct):L.N._fromParams({providerId:R,signInMethod:R,pendingToken:Ct,idToken:Pe,accessToken:gt}):new L.Z(R).credential({idToken:Pe,accessToken:gt,rawNonce:Hn}):null}return M instanceof at.g?oe.credentialFromError(M):oe.credentialFromResult(M)}function Bn(M,F){return F.catch(R=>{throw R instanceof at.g&&function Mi(M,F){var R;const oe=null===(R=F.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===(null==F?void 0:F.code))F.resolver=new br(M,L.as(M,F));else if(oe){const Pe=vo(F),gt=F;Pe&&(gt.credential=Pe,gt.tenantId=oe.tenantId||void 0,gt.email=oe.email||void 0,gt.phoneNumber=oe.phoneNumber||void 0)}}(M,R),R}).then(R=>{const Pe=R.user;return{operationType:R.operationType,credential:pr(R),additionalUserInfo:L.aq(R),user:wr.getOrCreate(Pe)}})}function ai(M,F){return so.apply(this,arguments)}function so(){return(so=(0,E.A)(function*(M,F){const R=yield F;return{verificationId:R.verificationId,confirm:oe=>Bn(M,R.confirm(oe))}})).apply(this,arguments)}class br{constructor(F,R){this.resolver=R,this.auth=function si(M){return M.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Bn(Ei(this.auth),this.resolver.resolveSignIn(F))}}class wr{constructor(F){this._delegate=F,this.multiFactor=L.at(F)}static getOrCreate(F){return wr.USER_MAP.has(F)||wr.USER_MAP.set(F,new wr(F)),wr.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var R=this;return(0,E.A)(function*(){return Bn(R.auth,L.a2(R._delegate,F))})()}linkWithPhoneNumber(F,R){var oe=this;return(0,E.A)(function*(){return ai(oe.auth,L.l(oe._delegate,F,R))})()}linkWithPopup(F){var R=this;return(0,E.A)(function*(){return Bn(R.auth,L.d(R._delegate,F,vr))})()}linkWithRedirect(F){var R=this;return(0,E.A)(function*(){return yield jn(L.aJ(R.auth)),L.g(R._delegate,F,vr)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var R=this;return(0,E.A)(function*(){return Bn(R.auth,L.a3(R._delegate,F))})()}reauthenticateWithPhoneNumber(F,R){return ai(this.auth,L.r(this._delegate,F,R))}reauthenticateWithPopup(F){return Bn(this.auth,L.e(this._delegate,F,vr))}reauthenticateWithRedirect(F){var R=this;return(0,E.A)(function*(){return yield jn(L.aJ(R.auth)),L.h(R._delegate,F,vr)})()}sendEmailVerification(F){return L.ag(this._delegate,F)}unlink(F){var R=this;return(0,E.A)(function*(){return yield L.ap(R._delegate,F),R})()}updateEmail(F){return L.al(this._delegate,F)}updatePassword(F){return L.am(this._delegate,F)}updatePhoneNumber(F){return L.u(this._delegate,F)}updateProfile(F){return L.ak(this._delegate,F)}verifyBeforeUpdateEmail(F,R){return L.ah(this._delegate,F,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wr.USER_MAP=new WeakMap;const kr=L.aC;let ti=(()=>{class M{constructor(R,oe){if(this.app=R,oe.isInitialized())return this._delegate=oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Pe}=R.options;kr(Pe,"invalid-api-key",{appName:R.name}),kr(Pe,"invalid-api-key",{appName:R.name});const gt=typeof window<"u"?vr:void 0;this._delegate=oe.initialize({options:{persistence:Qi(Pe,R.name),popupRedirectResolver:gt}}),this._delegate._updateErrorMap(L.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,oe){L.K(this._delegate,R,oe)}applyActionCode(R){return L.a7(this._delegate,R)}checkActionCode(R){return L.a8(this._delegate,R)}confirmPasswordReset(R,oe){return L.a6(this._delegate,R,oe)}createUserWithEmailAndPassword(R,oe){var Pe=this;return(0,E.A)(function*(){return Bn(Pe._delegate,L.aa(Pe._delegate,R,oe))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return L.af(this._delegate,R)}isSignInWithEmailLink(R){return L.ad(this._delegate,R)}getRedirectResult(){var R=this;return(0,E.A)(function*(){kr(On(),R._delegate,"operation-not-supported-in-this-environment");const oe=yield L.j(R._delegate,vr);return oe?Bn(R._delegate,Promise.resolve(oe)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function k(M,F){(0,L.aJ)(M)._logFramework(F)}(this._delegate,R)}onAuthStateChanged(R,oe,Pe){const{next:gt,error:yn,complete:Ct}=xi(R,oe,Pe);return this._delegate.onAuthStateChanged(gt,yn,Ct)}onIdTokenChanged(R,oe,Pe){const{next:gt,error:yn,complete:Ct}=xi(R,oe,Pe);return this._delegate.onIdTokenChanged(gt,yn,Ct)}sendSignInLinkToEmail(R,oe){return L.ac(this._delegate,R,oe)}sendPasswordResetEmail(R,oe){return L.a5(this._delegate,R,oe||void 0)}setPersistence(R){var oe=this;return(0,E.A)(function*(){let Pe;switch(function rr(M,F){kt(Object.values(Me).includes(F),M,"invalid-persistence-type"),(0,at.lV)()?kt(F!==Me.SESSION,M,"unsupported-persistence-type"):(0,at.Ll)()?kt(F===Me.NONE,M,"unsupported-persistence-type"):Sn()?kt(F===Me.NONE||F===Me.LOCAL&&(0,at.zW)(),M,"unsupported-persistence-type"):kt(F===Me.NONE||nr(),M,"unsupported-persistence-type")}(oe._delegate,R),R){case Me.SESSION:Pe=L.a;break;case Me.LOCAL:Pe=(yield L.aE(L.i)._isAvailable())?L.i:L.b;break;case Me.NONE:Pe=L.U;break;default:return L.ax("argument-error",{appName:oe._delegate.name})}return oe._delegate.setPersistence(Pe)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return Bn(this._delegate,L.a0(this._delegate))}signInWithCredential(R){return Bn(this._delegate,L.a1(this._delegate,R))}signInWithCustomToken(R){return Bn(this._delegate,L.a4(this._delegate,R))}signInWithEmailAndPassword(R,oe){return Bn(this._delegate,L.ab(this._delegate,R,oe))}signInWithEmailLink(R,oe){return Bn(this._delegate,L.ae(this._delegate,R,oe))}signInWithPhoneNumber(R,oe){return ai(this._delegate,L.s(this._delegate,R,oe))}signInWithPopup(R){var oe=this;return(0,E.A)(function*(){return kr(On(),oe._delegate,"operation-not-supported-in-this-environment"),Bn(oe._delegate,L.c(oe._delegate,R,vr))})()}signInWithRedirect(R){var oe=this;return(0,E.A)(function*(){return kr(On(),oe._delegate,"operation-not-supported-in-this-environment"),yield jn(oe._delegate),L.f(oe._delegate,R,vr)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return L.a9(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return M.Persistence=Me,M})();function xi(M,F,R){let oe=M;"function"!=typeof M&&({next:oe,error:F,complete:R}=M);const Pe=oe;return{next:yn=>Pe(yn&&wr.getOrCreate(yn)),error:F,complete:R}}function Qi(M,F){const R=function An(M,F){const R=Wn();if(!R)return[];const oe=L.aF(Pn,M,F);switch(R.getItem(oe)){case Me.NONE:return[L.U];case Me.LOCAL:return[L.i,L.a];case Me.SESSION:return[L.a];default:return[]}}(M,F);if(typeof self<"u"&&!R.includes(L.i)&&R.push(L.i),typeof window<"u")for(const oe of[L.b,L.a])R.includes(oe)||R.push(oe);return R.includes(L.U)||R.push(L.U),R}class Mn{constructor(){this.providerId="phone",this._delegate=new L.P(Ei(De.A.auth()))}static credential(F,R){return L.P.credential(F,R)}verifyPhoneNumber(F,R){return this._delegate.verifyPhoneNumber(F,R)}unwrap(){return this._delegate}}Mn.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,Mn.PROVIDER_ID=L.P.PROVIDER_ID;const yo=L.aC;class jo{constructor(F,R,oe=De.A.app()){var Pe;yo(null===(Pe=oe.options)||void 0===Pe?void 0:Pe.apiKey,"invalid-api-key",{appName:oe.name}),this._delegate=new L.R(oe.auth(),F,R),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function j(M){M.INTERNAL.registerComponent(new Ce.uA("auth-compat",F=>{const R=F.getProvider("app-compat").getImmediate(),oe=F.getProvider("auth");return new ti(R,oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.V,FacebookAuthProvider:L.W,GithubAuthProvider:L.Y,GoogleAuthProvider:L.X,OAuthProvider:L.Z,SAMLAuthProvider:L._,PhoneAuthProvider:Mn,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:jo,TwitterAuthProvider:L.$,Auth:ti,AuthCredential:L.L,Error:at.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),M.registerVersion("@firebase/auth-compat","0.5.8")}(De.A)},467:(fr,rn,pe)=>{"use strict";function E(L,at,Gt,xt,Ce,Xe,vt){try{var me=L[Xe](vt),re=me.value}catch(Ne){return void Gt(Ne)}me.done?at(re):Promise.resolve(re).then(xt,Ce)}function De(L){return function(){var at=this,Gt=arguments;return new Promise(function(xt,Ce){var Xe=L.apply(at,Gt);function vt(re){E(Xe,xt,Ce,vt,me,"next",re)}function me(re){E(Xe,xt,Ce,vt,me,"throw",re)}vt(void 0)})}}pe.d(rn,{A:()=>De})},1635:(fr,rn,pe)=>{"use strict";function at(S,D){var k={};for(var H in S)Object.prototype.hasOwnProperty.call(S,H)&&D.indexOf(H)<0&&(k[H]=S[H]);if(null!=S&&"function"==typeof Object.getOwnPropertySymbols){var ae=0;for(H=Object.getOwnPropertySymbols(S);ae<H.length;ae++)D.indexOf(H[ae])<0&&Object.prototype.propertyIsEnumerable.call(S,H[ae])&&(k[H[ae]]=S[H[ae]])}return k}function Gt(S,D,k,H){var We,ae=arguments.length,se=ae<3?D:null===H?H=Object.getOwnPropertyDescriptor(D,k):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)se=Reflect.decorate(S,D,k,H);else for(var ut=S.length-1;ut>=0;ut--)(We=S[ut])&&(se=(ae<3?We(se):ae>3?We(D,k,se):We(D,k))||se);return ae>3&&se&&Object.defineProperty(D,k,se),se}function Ne(S,D,k,H){return new(k||(k=Promise))(function(se,We){function ut(un){try{At(H.next(un))}catch(dn){We(dn)}}function cn(un){try{At(H.throw(un))}catch(dn){We(dn)}}function At(un){un.done?se(un.value):function ae(se){return se instanceof k?se:new k(function(We){We(se)})}(un.value).then(ut,cn)}At((H=H.apply(S,D||[])).next())})}function ct(S){return this instanceof ct?(this.v=S,this):new ct(S)}function ue(S,D,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,H=k.apply(S,D||[]),se=[];return ae={},We("next"),We("throw"),We("return"),ae[Symbol.asyncIterator]=function(){return this},ae;function We(zt){H[zt]&&(ae[zt]=function(nr){return new Promise(function(Sn,On){se.push([zt,nr,Sn,On])>1||ut(zt,nr)})})}function ut(zt,nr){try{!function cn(zt){zt.value instanceof ct?Promise.resolve(zt.value.v).then(At,un):dn(se[0][2],zt)}(H[zt](nr))}catch(Sn){dn(se[0][3],Sn)}}function At(zt){ut("next",zt)}function un(zt){ut("throw",zt)}function dn(zt,nr){zt(nr),se.shift(),se.length&&ut(se[0][0],se[0][1])}}function Fe(S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k,D=S[Symbol.asyncIterator];return D?D.call(S):(S=function Oe(S){var D="function"==typeof Symbol&&Symbol.iterator,k=D&&S[D],H=0;if(k)return k.call(S);if(S&&"number"==typeof S.length)return{next:function(){return S&&H>=S.length&&(S=void 0),{value:S&&S[H++],done:!S}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")}(S),k={},H("next"),H("throw"),H("return"),k[Symbol.asyncIterator]=function(){return this},k);function H(se){k[se]=S[se]&&function(We){return new Promise(function(ut,cn){!function ae(se,We,ut,cn){Promise.resolve(cn).then(function(At){se({value:At,done:ut})},We)}(ut,cn,(We=S[se](We)).done,We.value)})}}}pe.d(rn,{AQ:()=>ue,Cg:()=>Gt,N3:()=>ct,Tt:()=>at,sH:()=>Ne,xN:()=>Fe}),"function"==typeof SuppressedError&&SuppressedError}},fr=>{fr(fr.s=9346)}]);