(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{2920:(xn,St,L)=>{"use strict";L.d(St,{$:()=>ri,A:()=>De,G:()=>nt,K:()=>zs,L:()=>li,N:()=>Zn,P:()=>hd,R:()=>Vl,U:()=>fr,V:()=>Ro,W:()=>$r,X:()=>Fa,Y:()=>Ca,Z:()=>Jr,_:()=>xr,a:()=>ta,a0:()=>Ss,a1:()=>Wo,a2:()=>ba,a3:()=>Mu,a4:()=>Pl,a5:()=>Ao,a6:()=>Va,a7:()=>pl,a8:()=>ml,a9:()=>zi,aA:()=>no,aB:()=>Fe,aC:()=>he,aD:()=>fu,aE:()=>Dn,aF:()=>Ur,aG:()=>hu,aH:()=>ku,aI:()=>Gd,aJ:()=>nr,aN:()=>ja,aQ:()=>Is,aa:()=>_l,ab:()=>tu,ac:()=>Ys,ad:()=>Ps,ae:()=>nu,af:()=>Nl,ag:()=>ps,ah:()=>yl,ak:()=>as,al:()=>fo,am:()=>Da,ap:()=>q,aq:()=>qe,as:()=>go,at:()=>su,au:()=>Tt,av:()=>Gi,aw:()=>Ti,ax:()=>Me,ay:()=>pa,az:()=>vs,b:()=>Qi,c:()=>Kh,d:()=>il,e:()=>du,f:()=>ol,g:()=>cn,h:()=>Fu,i:()=>b,j:()=>jc,k:()=>mu,l:()=>Ll,m:()=>Jh,p:()=>et,r:()=>Nu,s:()=>xu,u:()=>zd});var d=L(467),s=L(7852),k=L(1076),de=L(8041),ae=L(1635),Qe=L(1362);const et={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},De={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const nt=function it(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ct=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ct=new k.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mt=new de.Vy("@firebase/auth");function It(T,...p){mt.logLevel<=de.$b.ERROR&&mt.error(`Auth (${s.SDK_VERSION}): ${T}`,...p)}function Me(T,...p){throw Ht(T,...p)}function Fe(T,...p){return Ht(T,...p)}function tt(T,p,v){const M=Object.assign(Object.assign({},ct()),{[p]:v});return new k.FA("auth","Firebase",M).create(p,{appName:T.name})}function Ye(T){return tt(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ut(T,p,v){if(!(p instanceof v))throw v.name!==p.constructor.name&&Me(T,"argument-error"),tt(T,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ht(T,...p){if("string"!=typeof T){const v=p[0],M=[...p.slice(1)];return M[0]&&(M[0].appName=T.name),T._errorFactory.create(v,...M)}return Ct.create(T,...p)}function he(T,p,...v){if(!T)throw Ht(p,...v)}function He(T){const p="INTERNAL ASSERTION FAILED: "+T;throw It(p),new Error(p)}function Tt(T,p){T||He(p)}function dn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function An(){return"http:"===nn()||"https:"===nn()}function nn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Ve{constructor(p,v){this.shortDelay=p,this.longDelay=v,Tt(v>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.jZ)()||(0,k.lV)()}get(){return function Rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(An()||(0,k.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function te(T,p){Tt(T.emulator,"Emulator should always be set here");const{url:v}=T.emulator;return p?`${v}${p.startsWith("/")?p.slice(1):p}`:v}class ne{static initialize(p,v,M){this.fetchImpl=p,v&&(this.headersImpl=v),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void He("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void He("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void He("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ke=new Ve(3e4,6e4);function Oe(T,p){return T.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:T.tenantId}):p}function $e(T,p,v,M){return Re.apply(this,arguments)}function Re(){return(Re=(0,d.A)(function*(T,p,v,M,Y={}){return Ze(T,Y,(0,d.A)(function*(){let we={},wt={};M&&("GET"===p?wt=M:we={body:JSON.stringify(M)});const Yt=(0,k.Am)(Object.assign({key:T.config.apiKey},wt)).slice(1),Cn=yield T._getAdditionalHeaders();return Cn["Content-Type"]="application/json",T.languageCode&&(Cn["X-Firebase-Locale"]=T.languageCode),ne.fetch()(Pt(T,T.config.apiHost,v,Yt),Object.assign({method:p,headers:Cn,referrerPolicy:"no-referrer"},we))}))})).apply(this,arguments)}function Ze(T,p,v){return dt.apply(this,arguments)}function dt(){return(dt=(0,d.A)(function*(T,p,v){T._canInitEmulator=!1;const M=Object.assign(Object.assign({},ge),p);try{const Y=new Nn(T),we=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const wt=yield we.json();if("needConfirmation"in wt)throw $n(T,"account-exists-with-different-credential",wt);if(we.ok&&!("errorMessage"in wt))return wt;{const Yt=we.ok?wt.errorMessage:wt.error.message,[Cn,er]=Yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Cn)throw $n(T,"credential-already-in-use",wt);if("EMAIL_EXISTS"===Cn)throw $n(T,"email-already-in-use",wt);if("USER_DISABLED"===Cn)throw $n(T,"user-disabled",wt);const mr=M[Cn]||Cn.toLowerCase().replace(/[_\s]+/g,"-");if(er)throw tt(T,mr,er);Me(T,mr)}}catch(Y){if(Y instanceof k.g)throw Y;Me(T,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function Ot(T,p,v,M){return jt.apply(this,arguments)}function jt(){return(jt=(0,d.A)(function*(T,p,v,M,Y={}){const we=yield $e(T,p,v,M,Y);return"mfaPendingCredential"in we&&Me(T,"multi-factor-auth-required",{_serverResponse:we}),we})).apply(this,arguments)}function Pt(T,p,v,M){const Y=`${p}${v}?${M}`;return T.config.emulator?te(T.config,Y):`${T.config.apiScheme}://${Y}`}function mn(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((v,M)=>{this.timer=setTimeout(()=>M(Fe(this.auth,"network-request-failed")),Ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(T,p,v){const M={appName:T.name};v.email&&(M.email=v.email),v.phoneNumber&&(M.phoneNumber=v.phoneNumber);const Y=Fe(T,p,M);return Y.customData._tokenResponse=v,Y}function en(T){return void 0!==T&&void 0!==T.getResponse}function rn(T){return void 0!==T&&void 0!==T.enterprise}class tr{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===p)return mn(v.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function xe(){return(xe=(0,d.A)(function*(T){return(yield $e(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function We(T,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.A)(function*(T,p){return $e(T,"GET","/v2/recaptchaConfig",Oe(T,p))})).apply(this,arguments)}function yr(){return(yr=(0,d.A)(function*(T,p){return $e(T,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Fn(){return(Fn=(0,d.A)(function*(T,p){return $e(T,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yn(T,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.A)(function*(T,p){return $e(T,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function hr(T){if(T)try{const p=new Date(Number(T));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function rr(){return(rr=(0,d.A)(function*(T,p=!1){const v=(0,k.Ku)(T),M=yield v.getIdToken(p),Y=In(M);he(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const we="object"==typeof Y.firebase?Y.firebase:void 0,wt=null==we?void 0:we.sign_in_provider;return{claims:Y,token:M,authTime:hr(qr(Y.auth_time)),issuedAtTime:hr(qr(Y.iat)),expirationTime:hr(qr(Y.exp)),signInProvider:wt||null,signInSecondFactor:(null==we?void 0:we.sign_in_second_factor)||null}})).apply(this,arguments)}function qr(T){return 1e3*Number(T)}function In(T){const[p,v,M]=T.split(".");if(void 0===p||void 0===v||void 0===M)return It("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,k.u)(v);return Y?JSON.parse(Y):(It("Failed to decode base64 JWT payload"),null)}catch(Y){return It("Caught error parsing JWT payload as JSON",null==Y?void 0:Y.toString()),null}}function gi(T){const p=In(T);return he(p,"internal-error"),he(typeof p.exp<"u","internal-error"),he(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function Qn(T,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,d.A)(function*(T,p,v=!1){if(v)return p;try{return yield p}catch(M){throw M instanceof k.g&&function Ln({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(M)&&T.auth.currentUser===T&&(yield T.auth.signOut()),M}})).apply(this,arguments)}class pr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var v;if(p){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(p=!1){var v=this;if(!this.isRunning)return;const M=this.getInterval(p);this.timerId=setTimeout((0,d.A)(function*(){yield v.iteration()}),M)}iteration(){var p=this;return(0,d.A)(function*(){try{yield p.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null==v?void 0:v.code)&&p.schedule(!0))}p.schedule()})()}}class zn{constructor(p,v){this.createdAt=p,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function si(T){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.A)(function*(T){var p;const v=T.auth,M=yield T.getIdToken(),Y=yield Qn(T,yn(v,{idToken:M}));he(null==Y?void 0:Y.users.length,v,"internal-error");const we=Y.users[0];T._notifyReloadListener(we);const wt=null!==(p=we.providerUserInfo)&&void 0!==p&&p.length?Vt(we.providerUserInfo):[],Yt=function ht(T,p){return[...T.filter(M=>!p.some(Y=>Y.providerId===M.providerId)),...p]}(T.providerData,wt),mr=!!T.isAnonymous&&!(T.email&&we.passwordHash||null!=Yt&&Yt.length),yi={uid:we.localId,displayName:we.displayName||null,photoURL:we.photoUrl||null,email:we.email||null,emailVerified:we.emailVerified||!1,phoneNumber:we.phoneNumber||null,tenantId:we.tenantId||null,providerData:Yt,metadata:new zn(we.createdAt,we.lastLoginAt),isAnonymous:mr};Object.assign(T,yi)})).apply(this,arguments)}function ft(){return(ft=(0,d.A)(function*(T){const p=(0,k.Ku)(T);yield si(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Vt(T){return T.map(p=>{var{providerId:v}=p,M=(0,ae.Tt)(p,["providerId"]);return{providerId:v,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function ce(){return(ce=(0,d.A)(function*(T,p){const v=yield Ze(T,{},(0,d.A)(function*(){const M=(0,k.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:Y,apiKey:we}=T.config,wt=Pt(T,Y,"/v1/token",`key=${we}`),Yt=yield T._getAdditionalHeaders();return Yt["Content-Type"]="application/x-www-form-urlencoded",ne.fetch()(wt,{method:"POST",headers:Yt,body:M})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function se(){return(se=(0,d.A)(function*(T,p){return $e(T,"POST","/v2/accounts:revokeToken",Oe(T,p))})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){he(p.idToken,"internal-error"),he(typeof p.idToken<"u","internal-error"),he(typeof p.refreshToken<"u","internal-error");const v="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):gi(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,v)}updateFromIdToken(p){he(0!==p.length,"internal-error");const v=gi(p);this.updateTokensAndExpiration(p,null,v)}getToken(p,v=!1){var M=this;return(0,d.A)(function*(){return v||!M.accessToken||M.isExpired?(he(M.refreshToken,p,"user-token-expired"),M.refreshToken?(yield M.refresh(p,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,v){var M=this;return(0,d.A)(function*(){const{accessToken:Y,refreshToken:we,expiresIn:wt}=yield function pt(T,p){return ce.apply(this,arguments)}(p,v);M.updateTokensAndExpiration(Y,we,Number(wt))})()}updateTokensAndExpiration(p,v,M){this.refreshToken=v||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(p,v){const{refreshToken:M,accessToken:Y,expirationTime:we}=v,wt=new Ie;return M&&(he("string"==typeof M,"internal-error",{appName:p}),wt.refreshToken=M),Y&&(he("string"==typeof Y,"internal-error",{appName:p}),wt.accessToken=Y),we&&(he("number"==typeof we,"internal-error",{appName:p}),wt.expirationTime=we),wt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return He("not implemented")}}function ue(T,p){he("string"==typeof T||typeof T>"u","internal-error",{appName:p})}class gt{constructor(p){var{uid:v,auth:M,stsTokenManager:Y}=p,we=(0,ae.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=M,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=we.displayName||null,this.email=we.email||null,this.emailVerified=we.emailVerified||!1,this.phoneNumber=we.phoneNumber||null,this.photoURL=we.photoURL||null,this.isAnonymous=we.isAnonymous||!1,this.tenantId=we.tenantId||null,this.providerData=we.providerData?[...we.providerData]:[],this.metadata=new zn(we.createdAt||void 0,we.lastLoginAt||void 0)}getIdToken(p){var v=this;return(0,d.A)(function*(){const M=yield Qn(v,v.stsTokenManager.getToken(v.auth,p));return he(M,v.auth,"internal-error"),v.accessToken!==M&&(v.accessToken=M,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),M})()}getIdTokenResult(p){return function oi(T){return rr.apply(this,arguments)}(this,p)}reload(){return function _n(T){return ft.apply(this,arguments)}(this)}_assign(p){this!==p&&(he(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(v=>Object.assign({},v)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const v=new gt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(p){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,v=!1){var M=this;return(0,d.A)(function*(){let Y=!1;p.idToken&&p.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(p),Y=!0),v&&(yield si(M)),yield M.auth._persistUserIfCurrent(M),Y&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var p=this;return(0,d.A)(function*(){if((0,s._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ye(p.auth));const v=yield p.getIdToken();return yield Qn(p,function sr(T,p){return yr.apply(this,arguments)}(p.auth,{idToken:v})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,v){var M,Y,we,wt,Yt,Cn,er,mr;const yi=null!==(M=v.displayName)&&void 0!==M?M:void 0,Cs=null!==(Y=v.email)&&void 0!==Y?Y:void 0,ll=null!==(we=v.phoneNumber)&&void 0!==we?we:void 0,ju=null!==(wt=v.photoURL)&&void 0!==wt?wt:void 0,Cd=null!==(Yt=v.tenantId)&&void 0!==Yt?Yt:void 0,Zd=null!==(Cn=v._redirectEventId)&&void 0!==Cn?Cn:void 0,yu=null!==(er=v.createdAt)&&void 0!==er?er:void 0,ma=null!==(mr=v.lastLoginAt)&&void 0!==mr?mr:void 0,{uid:Hu,emailVerified:Jd,isAnonymous:vc,providerData:Po,stsTokenManager:Iu}=v;he(Hu&&Iu,p,"internal-error");const Yo=Ie.fromJSON(this.name,Iu);he("string"==typeof Hu,p,"internal-error"),ue(yi,p.name),ue(Cs,p.name),he("boolean"==typeof Jd,p,"internal-error"),he("boolean"==typeof vc,p,"internal-error"),ue(ll,p.name),ue(ju,p.name),ue(Cd,p.name),ue(Zd,p.name),ue(yu,p.name),ue(ma,p.name);const zu=new gt({uid:Hu,auth:p,email:Cs,emailVerified:Jd,displayName:yi,isAnonymous:vc,photoURL:ju,phoneNumber:ll,tenantId:Cd,stsTokenManager:Yo,createdAt:yu,lastLoginAt:ma});return Po&&Array.isArray(Po)&&(zu.providerData=Po.map(yc=>Object.assign({},yc))),Zd&&(zu._redirectEventId=Zd),zu}static _fromIdTokenResponse(p,v,M=!1){return(0,d.A)(function*(){const Y=new Ie;Y.updateFromServerResponse(v);const we=new gt({uid:v.localId,auth:p,stsTokenManager:Y,isAnonymous:M});return yield si(we),we})()}static _fromGetAccountInfoResponse(p,v,M){return(0,d.A)(function*(){const Y=v.users[0];he(void 0!==Y.localId,"internal-error");const we=void 0!==Y.providerUserInfo?Vt(Y.providerUserInfo):[],wt=!(Y.email&&Y.passwordHash||null!=we&&we.length),Yt=new Ie;Yt.updateFromIdToken(M);const Cn=new gt({uid:Y.localId,auth:p,stsTokenManager:Yt,isAnonymous:wt}),er={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:we,metadata:new zn(Y.createdAt,Y.lastLoginAt),isAnonymous:!(Y.email&&Y.passwordHash||null!=we&&we.length)};return Object.assign(Cn,er),Cn})()}}const Qt=new Map;function Dn(T){Tt(T instanceof Function,"Expected a class definition");let p=Qt.get(T);return p?(Tt(p instanceof T,"Instance stored in cache mismatched with class"),p):(p=new T,Qt.set(T,p),p)}const fr=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(v,M){var Y=this;return(0,d.A)(function*(){Y.storage[v]=M})()}_get(v){var M=this;return(0,d.A)(function*(){const Y=M.storage[v];return void 0===Y?null:Y})()}_remove(v){var M=this;return(0,d.A)(function*(){delete M.storage[v]})()}_addListener(v,M){}_removeListener(v,M){}}return T.type="NONE",T})();function Ur(T,p,v){return`firebase:${T}:${p}:${v}`}class st{constructor(p,v,M){this.persistence=p,this.auth=v,this.userKey=M;const{config:Y,name:we}=this.auth;this.fullUserKey=Ur(this.userKey,Y.apiKey,we),this.fullPersistenceKey=Ur("persistence",Y.apiKey,we),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.A)(function*(){const v=yield p.persistence._get(p.fullUserKey);return v?gt._fromJSON(p.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var v=this;return(0,d.A)(function*(){if(v.persistence===p)return;const M=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=p,M?v.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,v,M="authUser"){return(0,d.A)(function*(){if(!v.length)return new st(Dn(fr),p,M);const Y=(yield Promise.all(v.map(function(){var er=(0,d.A)(function*(mr){if(yield mr._isAvailable())return mr});return function(mr){return er.apply(this,arguments)}}()))).filter(er=>er);let we=Y[0]||Dn(fr);const wt=Ur(M,p.config.apiKey,p.name);let Yt=null;for(const er of v)try{const mr=yield er._get(wt);if(mr){const yi=gt._fromJSON(p,mr);er!==we&&(Yt=yi),we=er;break}}catch{}const Cn=Y.filter(er=>er._shouldAllowMigration);return we._shouldAllowMigration&&Cn.length?(we=Cn[0],Yt&&(yield we._set(wt,Yt.toJSON())),yield Promise.all(v.map(function(){var er=(0,d.A)(function*(mr){if(mr!==we)try{yield mr._remove(wt)}catch{}});return function(mr){return er.apply(this,arguments)}}())),new st(we,p,M)):new st(we,p,M)})()}}function wn(T){const p=T.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(vo(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Yn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Hr(p))return"Blackberry";if(Fi(p))return"Webos";if(mi(p))return"Safari";if((p.includes("chrome/")||Ei(p))&&!p.includes("edge/"))return"Chrome";if(Ti(p))return"Android";{const M=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function Yn(T=(0,k.ZQ)()){return/firefox\//i.test(T)}function mi(T=(0,k.ZQ)()){const p=T.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ei(T=(0,k.ZQ)()){return/crios\//i.test(T)}function vo(T=(0,k.ZQ)()){return/iemobile/i.test(T)}function Ti(T=(0,k.ZQ)()){return/android/i.test(T)}function Hr(T=(0,k.ZQ)()){return/blackberry/i.test(T)}function Fi(T=(0,k.ZQ)()){return/webos/i.test(T)}function Gi(T=(0,k.ZQ)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function no(T=(0,k.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function ee(T=(0,k.ZQ)()){return Gi(T)||Ti(T)||Fi(T)||Hr(T)||/windows phone/i.test(T)||vo(T)}function le(T,p=[]){let v;switch(T){case"Browser":v=wn((0,k.ZQ)());break;case"Worker":v=`${wn((0,k.ZQ)())}-${T}`;break;default:v=T}const M=p.length?p.join(","):"FirebaseCore-web";return`${v}/JsCore/${s.SDK_VERSION}/${M}`}class re{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,v){const M=we=>new Promise((wt,Yt)=>{try{wt(p(we))}catch(Cn){Yt(Cn)}});M.onAbort=v,this.queue.push(M);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(p){var v=this;return(0,d.A)(function*(){if(v.auth.currentUser===p)return;const M=[];try{for(const Y of v.queue)yield Y(p),Y.onAbort&&M.push(Y.onAbort)}catch(Y){M.reverse();for(const we of M)try{we()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null==Y?void 0:Y.message})}})()}}function Lt(){return(Lt=(0,d.A)(function*(T,p={}){return $e(T,"GET","/v2/passwordPolicy",Oe(T,p))})).apply(this,arguments)}class En{constructor(p){var v,M,Y,we;const wt=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=wt.minPasswordLength)&&void 0!==v?v:6,wt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=wt.maxPasswordLength),void 0!==wt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=wt.containsLowercaseCharacter),void 0!==wt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=wt.containsUppercaseCharacter),void 0!==wt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=wt.containsNumericCharacter),void 0!==wt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=wt.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(M=p.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(we=p.forceUpgradeOnSignin)&&void 0!==we&&we,this.schemaVersion=p.schemaVersion}validatePassword(p){var v,M,Y,we,wt,Yt;const Cn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,Cn),this.validatePasswordCharacterOptions(p,Cn),Cn.isValid&&(Cn.isValid=null===(v=Cn.meetsMinPasswordLength)||void 0===v||v),Cn.isValid&&(Cn.isValid=null===(M=Cn.meetsMaxPasswordLength)||void 0===M||M),Cn.isValid&&(Cn.isValid=null===(Y=Cn.containsLowercaseLetter)||void 0===Y||Y),Cn.isValid&&(Cn.isValid=null===(we=Cn.containsUppercaseLetter)||void 0===we||we),Cn.isValid&&(Cn.isValid=null===(wt=Cn.containsNumericCharacter)||void 0===wt||wt),Cn.isValid&&(Cn.isValid=null===(Yt=Cn.containsNonAlphanumericCharacter)||void 0===Yt||Yt),Cn}validatePasswordLengthOptions(p,v){const M=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;M&&(v.meetsMinPasswordLength=p.length>=M),Y&&(v.meetsMaxPasswordLength=p.length<=Y)}validatePasswordCharacterOptions(p,v){let M;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Y=0;Y<p.length;Y++)M=p.charAt(Y),this.updatePasswordCharacterOptionsStatuses(v,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(p,v,M,Y,we){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=we))}}class or{constructor(p,v,M,Y){this.app=p,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=M,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vi(this),this.idTokenSubscription=new Vi(this),this.beforeStateQueue=new re(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(p,v){var M=this;return v&&(this._popupRedirectResolver=Dn(v)),this._initializationPromise=this.queue((0,d.A)(function*(){var Y,we;if(!M._deleted&&(M.persistenceManager=yield st.create(M,p),!M._deleted)){if(null!==(Y=M._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(v),M.lastNotifiedUid=(null===(we=M.currentUser)||void 0===we?void 0:we.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.A)(function*(){if(p._deleted)return;const v=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||v){if(p.currentUser&&v&&p.currentUser.uid===v.uid)return p._currentUser._assign(v),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(p){var v=this;return(0,d.A)(function*(){try{const M=yield yn(v,{idToken:p}),Y=yield gt._fromGetAccountInfoResponse(v,M,p);yield v.directlySetCurrentUser(Y)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var v=this;return(0,d.A)(function*(){var M;if((0,s._isFirebaseServerApp)(v.app)){const Yt=v.app.settings.authIdToken;return Yt?new Promise(Cn=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Yt).then(Cn,Cn))}):v.directlySetCurrentUser(null)}const Y=yield v.assertedPersistence.getCurrentUser();let we=Y,wt=!1;if(p&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Yt=null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId,Cn=null==we?void 0:we._redirectEventId,er=yield v.tryRedirectSignIn(p);(!Yt||Yt===Cn)&&null!=er&&er.user&&(we=er.user,wt=!0)}if(!we)return v.directlySetCurrentUser(null);if(!we._redirectEventId){if(wt)try{yield v.beforeStateQueue.runMiddleware(we)}catch(Yt){we=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Yt))}return we?v.reloadAndSetCurrentUserOrClear(we):v.directlySetCurrentUser(null)}return he(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===we._redirectEventId?v.directlySetCurrentUser(we):v.reloadAndSetCurrentUserOrClear(we)})()}tryRedirectSignIn(p){var v=this;return(0,d.A)(function*(){let M=null;try{M=yield v._popupRedirectResolver._completeRedirectFn(v,p,!0)}catch{yield v._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(p){var v=this;return(0,d.A)(function*(){try{yield si(p)}catch(M){if("auth/network-request-failed"!==(null==M?void 0:M.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Mt(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var p=this;return(0,d.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var v=this;return(0,d.A)(function*(){if((0,s._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const M=p?(0,k.Ku)(p):null;return M&&he(M.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(M&&M._clone(v))})()}_updateCurrentUser(p,v=!1){var M=this;return(0,d.A)(function*(){if(!M._deleted)return p&&he(M.tenantId===p.tenantId,M,"tenant-id-mismatch"),v||(yield M.beforeStateQueue.runMiddleware(p)),M.queue((0,d.A)(function*(){yield M.directlySetCurrentUser(p),M.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.A)(function*(){return(0,s._isFirebaseServerApp)(p.app)?Promise.reject(Ye(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var v=this;return(0,s._isFirebaseServerApp)(this.app)?Promise.reject(Ye(this)):this.queue((0,d.A)(function*(){yield v.assertedPersistence.setPersistence(Dn(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var v=this;return(0,d.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const M=v._getPasswordPolicyInternal();return M.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,d.A)(function*(){const v=yield function Ue(T){return Lt.apply(this,arguments)}(p),M=new En(v);null===p.tenantId?p._projectPasswordPolicy=M:p._tenantPasswordPolicies[p.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.FA("auth","Firebase",p())}onAuthStateChanged(p,v,M){return this.registerStateListener(this.authStateSubscription,p,v,M)}beforeAuthStateChanged(p,v){return this.beforeStateQueue.pushCallback(p,v)}onIdTokenChanged(p,v,M){return this.registerStateListener(this.idTokenSubscription,p,v,M)}authStateReady(){return new Promise((p,v)=>{if(this.currentUser)p();else{const M=this.onAuthStateChanged(()=>{M(),p()},v)}})}revokeAccessToken(p){var v=this;return(0,d.A)(function*(){if(v.currentUser){const M=yield v.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:M};null!=v.tenantId&&(Y.tenantId=v.tenantId),yield function Ae(T,p){return se.apply(this,arguments)}(v,Y)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,v){var M=this;return(0,d.A)(function*(){const Y=yield M.getOrInitRedirectPersistenceManager(v);return null===p?Y.removeCurrentUser():Y.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var v=this;return(0,d.A)(function*(){if(!v.redirectPersistenceManager){const M=p&&Dn(p)||v._popupRedirectResolver;he(M,v,"argument-error"),v.redirectPersistenceManager=yield st.create(v,[Dn(M._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(p){var v=this;return(0,d.A)(function*(){var M,Y;return v._isInitialized&&(yield v.queue((0,d.A)(function*(){}))),(null===(M=v._currentUser)||void 0===M?void 0:M._redirectEventId)===p?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===p?v.redirectUser:null})()}_persistUserIfCurrent(p){var v=this;return(0,d.A)(function*(){if(p===v.currentUser)return v.queue((0,d.A)(function*(){return v.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(v=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,v,M,Y){if(this._deleted)return()=>{};const we="function"==typeof v?v:v.next.bind(v);let wt=!1;const Yt=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(Yt,this,"internal-error"),Yt.then(()=>{wt||we(this.currentUser)}),"function"==typeof v){const Cn=p.addObserver(v,M,Y);return()=>{wt=!0,Cn()}}{const Cn=p.addObserver(v);return()=>{wt=!0,Cn()}}}directlySetCurrentUser(p){var v=this;return(0,d.A)(function*(){v.currentUser&&v.currentUser!==p&&v._currentUser._stopProactiveRefresh(),p&&v.isProactiveRefreshEnabled&&p._startProactiveRefresh(),v.currentUser=p,p?yield v.assertedPersistence.setCurrentUser(p):yield v.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=le(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.A)(function*(){var v;const M={"X-Client-Version":p.clientVersion};p.app.options.appId&&(M["X-Firebase-gmpid"]=p.app.options.appId);const Y=yield null===(v=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Y&&(M["X-Firebase-Client"]=Y);const we=yield p._getAppCheckToken();return we&&(M["X-Firebase-AppCheck"]=we),M})()}_getAppCheckToken(){var p=this;return(0,d.A)(function*(){var v;const M=yield null===(v=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return null!=M&&M.error&&function Nt(T,...p){mt.logLevel<=de.$b.WARN&&mt.warn(`Auth (${s.SDK_VERSION}): ${T}`,...p)}(`Error while retrieving App Check token: ${M.error}`),null==M?void 0:M.token})()}}function nr(T){return(0,k.Ku)(T)}class Vi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.tD)(v=>this.observer=v)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ji={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gr(T){return Ji.loadJS(T)}function ai(T){return`__${T}${Math.floor(1e6*Math.random())}`}class jo{constructor(p){this.type="recaptcha-enterprise",this.auth=nr(p)}verify(p="verify",v=!1){var M=this;return(0,d.A)(function*(){function we(){return we=(0,d.A)(function*(Yt){if(!v){if(null==Yt.tenantId&&null!=Yt._agentRecaptchaConfig)return Yt._agentRecaptchaConfig.siteKey;if(null!=Yt.tenantId&&void 0!==Yt._tenantRecaptchaConfigs[Yt.tenantId])return Yt._tenantRecaptchaConfigs[Yt.tenantId].siteKey}return new Promise(function(){var Cn=(0,d.A)(function*(er,mr){We(Yt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yi=>{if(void 0!==yi.recaptchaKey){const Cs=new tr(yi);return null==Yt.tenantId?Yt._agentRecaptchaConfig=Cs:Yt._tenantRecaptchaConfigs[Yt.tenantId]=Cs,er(Cs.siteKey)}mr(new Error("recaptcha Enterprise site key undefined"))}).catch(yi=>{mr(yi)})});return function(er,mr){return Cn.apply(this,arguments)}}())}),we.apply(this,arguments)}function wt(Yt,Cn,er){const mr=window.grecaptcha;rn(mr)?mr.enterprise.ready(()=>{mr.enterprise.execute(Yt,{action:p}).then(yi=>{Cn(yi)}).catch(()=>{Cn("NO_RECAPTCHA")})}):er(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Yt,Cn)=>{(function Y(Yt){return we.apply(this,arguments)})(M.auth).then(er=>{if(!v&&rn(window.grecaptcha))wt(er,Yt,Cn);else{if(typeof window>"u")return void Cn(new Error("RecaptchaVerifier is only supported in browser"));let mr=function uo(){return Ji.recaptchaEnterpriseScript}();0!==mr.length&&(mr+=er),gr(mr).then(()=>{wt(er,Yt,Cn)}).catch(yi=>{Cn(yi)})}}).catch(er=>{Cn(er)})})})()}}function Ho(T,p,v){return zo.apply(this,arguments)}function zo(){return(zo=(0,d.A)(function*(T,p,v,M=!1){const Y=new jo(T);let we;try{we=yield Y.verify(v)}catch{we=yield Y.verify(v,!0)}const wt=Object.assign({},p);return Object.assign(wt,M?{captchaResp:we}:{captchaResponse:we}),Object.assign(wt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(wt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),wt})).apply(this,arguments)}function wo(T,p,v,M){return ro.apply(this,arguments)}function ro(){return ro=(0,d.A)(function*(T,p,v,M){var Y;if(null!==(Y=T._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const we=yield Ho(T,p,v,"getOobCode"===v);return M(T,we)}return M(T,p).catch(function(){var we=(0,d.A)(function*(wt){if("auth/missing-recaptcha-token"===wt.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Yt=yield Ho(T,p,v,"getOobCode"===v);return M(T,Yt)}return Promise.reject(wt)});return function(wt){return we.apply(this,arguments)}}())}),ro.apply(this,arguments)}function zs(T,p,v){const M=nr(T);he(M._canInitEmulator,M,"emulator-config-failed"),he(/^https?:\/\//.test(p),M,"invalid-emulator-scheme");const Y=!(null==v||!v.disableWarnings),we=aa(p),{host:wt,port:Yt}=function Gs(T){const p=aa(T),v=/(\/\/)?([^?#/]+)/.exec(T.substr(p.length));if(!v)return{host:"",port:null};const M=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(M);if(Y){const we=Y[1];return{host:we,port:is(M.substr(we.length+1))}}{const[we,wt]=M.split(":");return{host:we,port:is(wt)}}}(p);M.config.emulator={url:`${we}//${wt}${null===Yt?"":`:${Yt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:wt,port:Yt,protocol:we.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Jn(){function T(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function aa(T){const p=T.indexOf(":");return p<0?"":T.substr(0,p+1)}function is(T){if(!T)return null;const p=Number(T);return isNaN(p)?null:p}class li{constructor(p,v){this.providerId=p,this.signInMethod=v}toJSON(){return He("not implemented")}_getIdTokenResponse(p){return He("not implemented")}_linkToIdToken(p,v){return He("not implemented")}_getReauthenticationResolver(p){return He("not implemented")}}function Go(T,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,d.A)(function*(T,p){return $e(T,"POST","/v1/accounts:resetPassword",Oe(T,p))})).apply(this,arguments)}function ui(){return(ui=(0,d.A)(function*(T,p){return $e(T,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ks(T,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,d.A)(function*(T,p){return $e(T,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function Bi(){return(Bi=(0,d.A)(function*(T,p){return $e(T,"POST","/v1/accounts:update",Oe(T,p))})).apply(this,arguments)}function N(T,p){return Q.apply(this,arguments)}function Q(){return(Q=(0,d.A)(function*(T,p){return Ot(T,"POST","/v1/accounts:signInWithPassword",Oe(T,p))})).apply(this,arguments)}function be(T,p){return V.apply(this,arguments)}function V(){return(V=(0,d.A)(function*(T,p){return $e(T,"POST","/v1/accounts:sendOobCode",Oe(T,p))})).apply(this,arguments)}function At(){return(At=(0,d.A)(function*(T,p){return be(T,p)})).apply(this,arguments)}function br(T,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.A)(function*(T,p){return be(T,p)})).apply(this,arguments)}function K(T,p){return ve.apply(this,arguments)}function ve(){return(ve=(0,d.A)(function*(T,p){return be(T,p)})).apply(this,arguments)}function Je(){return(Je=(0,d.A)(function*(T,p){return be(T,p)})).apply(this,arguments)}function Et(){return(Et=(0,d.A)(function*(T,p){return Ot(T,"POST","/v1/accounts:signInWithEmailLink",Oe(T,p))})).apply(this,arguments)}function un(){return(un=(0,d.A)(function*(T,p){return Ot(T,"POST","/v1/accounts:signInWithEmailLink",Oe(T,p))})).apply(this,arguments)}class an extends li{constructor(p,v,M,Y=null){super("password",M),this._email=p,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(p,v){return new an(p,v,"password")}static _fromEmailAndCode(p,v,M=null){return new an(p,v,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p;if(null!=v&&v.email&&null!=v&&v.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(p){var v=this;return(0,d.A)(function*(){switch(v.signInMethod){case"password":return wo(p,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",N);case"emailLink":return function xt(T,p){return Et.apply(this,arguments)}(p,{email:v._email,oobCode:v._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,v){var M=this;return(0,d.A)(function*(){switch(M.signInMethod){case"password":return wo(p,{idToken:v,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ks);case"emailLink":return function Zt(T,p){return un.apply(this,arguments)}(p,{idToken:v,email:M._email,oobCode:M._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ln(T,p){return On.apply(this,arguments)}function On(){return(On=(0,d.A)(function*(T,p){return Ot(T,"POST","/v1/accounts:signInWithIdp",Oe(T,p))})).apply(this,arguments)}class Zn extends li{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const v=new Zn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(v.idToken=p.idToken),p.accessToken&&(v.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(v.nonce=p.nonce),p.pendingToken&&(v.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(v.accessToken=p.oauthToken,v.secret=p.oauthTokenSecret):Me("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:Y}=v,we=(0,ae.Tt)(v,["providerId","signInMethod"]);if(!M||!Y)return null;const wt=new Zn(M,Y);return wt.idToken=we.idToken||void 0,wt.accessToken=we.accessToken||void 0,wt.secret=we.secret,wt.nonce=we.nonce,wt.pendingToken=we.pendingToken||null,wt}_getIdTokenResponse(p){return ln(p,this.buildRequest())}_linkToIdToken(p,v){const M=this.buildRequest();return M.idToken=v,ln(p,M)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,ln(p,v)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),p.postBody=(0,k.Am)(v)}return p}}function Wr(){return(Wr=(0,d.A)(function*(T,p){return $e(T,"POST","/v1/accounts:sendVerificationCode",Oe(T,p))})).apply(this,arguments)}function Sr(){return(Sr=(0,d.A)(function*(T,p){return Ot(T,"POST","/v1/accounts:signInWithPhoneNumber",Oe(T,p))})).apply(this,arguments)}function Ai(){return(Ai=(0,d.A)(function*(T,p){const v=yield Ot(T,"POST","/v1/accounts:signInWithPhoneNumber",Oe(T,p));if(v.temporaryProof)throw $n(T,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const io={USER_NOT_FOUND:"user-not-found"};function ss(){return(ss=(0,d.A)(function*(T,p){return Ot(T,"POST","/v1/accounts:signInWithPhoneNumber",Oe(T,Object.assign(Object.assign({},p),{operation:"REAUTH"})),io)})).apply(this,arguments)}class Do extends li{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,v){return new Do({verificationId:p,verificationCode:v})}static _fromTokenResponse(p,v){return new Do({phoneNumber:p,temporaryProof:v})}_getIdTokenResponse(p){return function Ki(T,p){return Sr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,v){return function Zr(T,p){return Ai.apply(this,arguments)}(p,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function os(T,p){return ss.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:v,verificationId:M,verificationCode:Y}=this.params;return p&&v?{temporaryProof:p,phoneNumber:v}:{sessionInfo:M,code:Y}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:v,verificationCode:M,phoneNumber:Y,temporaryProof:we}=p;return M||v||Y||we?new Do({verificationId:v,verificationCode:M,phoneNumber:Y,temporaryProof:we}):null}}class So{constructor(p){var v,M,Y,we,wt,Yt;const Cn=(0,k.I9)((0,k.hp)(p)),er=null!==(v=Cn.apiKey)&&void 0!==v?v:null,mr=null!==(M=Cn.oobCode)&&void 0!==M?M:null,yi=function Ml(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Cn.mode)&&void 0!==Y?Y:null);he(er&&mr&&yi,"argument-error"),this.apiKey=er,this.operation=yi,this.code=mr,this.continueUrl=null!==(we=Cn.continueUrl)&&void 0!==we?we:null,this.languageCode=null!==(wt=Cn.languageCode)&&void 0!==wt?wt:null,this.tenantId=null!==(Yt=Cn.tenantId)&&void 0!==Yt?Yt:null}static parseLink(p){const v=function qs(T){const p=(0,k.I9)((0,k.hp)(T)).link,v=p?(0,k.I9)((0,k.hp)(p)).deep_link_id:null,M=(0,k.I9)((0,k.hp)(T)).deep_link_id;return(M?(0,k.I9)((0,k.hp)(M)).link:null)||M||v||p||T}(p);try{return new So(v)}catch{return null}}}let Ro=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(v,M){return an._fromEmailAndPassword(v,M)}static credentialWithLink(v,M){const Y=So.parseLink(M);return he(Y,"argument-error"),an._fromEmailAndCode(v,Y.code,Y.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class Ni{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class yo extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Jr extends yo{static credentialFromJSON(p){const v="string"==typeof p?JSON.parse(p):p;return he("providerId"in v&&"signInMethod"in v,"argument-error"),Zn._fromParams(v)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return he(p.idToken||p.accessToken,"argument-error"),Zn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Jr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Jr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:M,oauthTokenSecret:Y,pendingToken:we,nonce:wt,providerId:Yt}=p;if(!M&&!Y&&!v&&!we||!Yt)return null;try{return new Jr(Yt)._credential({idToken:v,accessToken:M,nonce:wt,pendingToken:we})}catch{return null}}}let $r=(()=>{class T extends yo{constructor(){super("facebook.com")}static credential(v){return Zn._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Fa=(()=>{class T extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(v,M){return Zn._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:M})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:M,oauthAccessToken:Y}=v;if(!M&&!Y)return null;try{return T.credential(M,Y)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Ca=(()=>{class T extends yo{constructor(){super("github.com")}static credential(v){return Zn._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Is extends li{constructor(p,v){super(p,p),this.pendingToken=v}_getIdTokenResponse(p){return ln(p,this.buildRequest())}_linkToIdToken(p,v){const M=this.buildRequest();return M.idToken=v,ln(p,M)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,ln(p,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:Y,pendingToken:we}=v;return M&&Y&&we&&M===Y?new Is(M,we):null}static _create(p,v){return new Is(p,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xr extends Ni{constructor(p){he(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return xr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return xr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const v=Is.fromJSON(p);return he(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:v,providerId:M}=p;if(!v||!M)return null;try{return Is._create(M,v)}catch{return null}}}let ri=(()=>{class T extends yo{constructor(){super("twitter.com")}static credential(v,M){return Zn._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:M})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:M,oauthTokenSecret:Y}=v;if(!M||!Y)return null;try{return T.credential(M,Y)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function hs(T,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,d.A)(function*(T,p){return Ot(T,"POST","/v1/accounts:signUp",Oe(T,p))})).apply(this,arguments)}class ko{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,v,M,Y=!1){return(0,d.A)(function*(){const we=yield gt._fromIdTokenResponse(p,M,Y),wt=hl(M);return new ko({user:we,providerId:wt,_tokenResponse:M,operationType:v})})()}static _forOperation(p,v,M){return(0,d.A)(function*(){yield p._updateTokensIfNecessary(M,!0);const Y=hl(M);return new ko({user:p,providerId:Y,_tokenResponse:M,operationType:v})})()}}function hl(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function Ss(T){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,d.A)(function*(T){var p;if((0,s._isFirebaseServerApp)(T.app))return Promise.reject(Ye(T));const v=nr(T);if(yield v._initializationPromise,null!==(p=v.currentUser)&&void 0!==p&&p.isAnonymous)return new ko({user:v.currentUser,providerId:null,operationType:"signIn"});const M=yield hs(v,{returnSecureToken:!0}),Y=yield ko._fromIdTokenResponse(v,"signIn",M,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class ca extends k.g{constructor(p,v,M,Y){var we;super(v.code,v.message),this.operationType=M,this.user=Y,Object.setPrototypeOf(this,ca.prototype),this.customData={appName:p.name,tenantId:null!==(we=p.tenantId)&&void 0!==we?we:void 0,_serverResponse:v.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(p,v,M,Y){return new ca(p,v,M,Y)}}function Za(T,p,v,M){return("reauthenticate"===p?v._getReauthenticationResolver(T):v._getIdTokenResponse(T)).catch(we=>{throw"auth/multi-factor-auth-required"===we.code?ca._fromErrorAndOperation(T,we,p,M):we})}function fl(T){return new Set(T.map(({providerId:p})=>p).filter(p=>!!p))}function q(T,p){return $.apply(this,arguments)}function $(){return $=(0,d.A)(function*(T,p){const v=(0,k.Ku)(T);yield _e(!0,v,p);const{providerUserInfo:M}=yield function ar(T,p){return Fn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[p]}),Y=fl(M||[]);return v.providerData=v.providerData.filter(we=>Y.has(we.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),$.apply(this,arguments)}function Te(T,p){return W.apply(this,arguments)}function W(){return(W=(0,d.A)(function*(T,p,v=!1){const M=yield Qn(T,p._linkToIdToken(T.auth,yield T.getIdToken()),v);return ko._forOperation(T,"link",M)})).apply(this,arguments)}function _e(T,p,v){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.A)(function*(T,p,v){yield si(p);const Y=!1===T?"provider-already-linked":"no-such-provider";he(fl(p.providerData).has(v)===T,p.auth,Y)})).apply(this,arguments)}function Un(T,p){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,d.A)(function*(T,p,v=!1){const{auth:M}=T;if((0,s._isFirebaseServerApp)(M.app))return Promise.reject(Ye(M));const Y="reauthenticate";try{const we=yield Qn(T,Za(M,Y,p,T),v);he(we.idToken,M,"internal-error");const wt=In(we.idToken);he(wt,M,"internal-error");const{sub:Yt}=wt;return he(T.uid===Yt,M,"user-mismatch"),ko._forOperation(T,Y,we)}catch(we){throw"auth/user-not-found"===(null==we?void 0:we.code)&&Me(M,"user-mismatch"),we}})).apply(this,arguments)}function co(T,p){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,d.A)(function*(T,p,v=!1){if((0,s._isFirebaseServerApp)(T.app))return Promise.reject(Ye(T));const M="signIn",Y=yield Za(T,M,p),we=yield ko._fromIdTokenResponse(T,M,Y);return v||(yield T._updateCurrentUser(we.user)),we})).apply(this,arguments)}function Wo(T,p){return da.apply(this,arguments)}function da(){return(da=(0,d.A)(function*(T,p){return co(nr(T),p)})).apply(this,arguments)}function ba(T,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,d.A)(function*(T,p){const v=(0,k.Ku)(T);return yield _e(!1,v,p.providerId),Te(v,p)})).apply(this,arguments)}function Mu(T,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,d.A)(function*(T,p){return Un((0,k.Ku)(T),p)})).apply(this,arguments)}function Qs(){return(Qs=(0,d.A)(function*(T,p){return Ot(T,"POST","/v1/accounts:signInWithCustomToken",Oe(T,p))})).apply(this,arguments)}function Pl(T,p){return Es.apply(this,arguments)}function Es(){return Es=(0,d.A)(function*(T,p){if((0,s._isFirebaseServerApp)(T.app))return Promise.reject(Ye(T));const v=nr(T),M=yield function Ja(T,p){return Qs.apply(this,arguments)}(v,{token:p,returnSecureToken:!0}),Y=yield ko._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(Y.user),Y}),Es.apply(this,arguments)}class Fr{constructor(p,v){this.factorId=p,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(p,v){return"phoneInfo"in v?fi._fromServerResponse(p,v):"totpInfo"in v?oo._fromServerResponse(p,v):Me(p,"internal-error")}}class fi extends Fr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,v){return new fi(v)}}class oo extends Fr{constructor(p){super("totp",p)}static _fromServerResponse(p,v){return new oo(v)}}function Eo(T,p,v){var M;he((null===(M=v.url)||void 0===M?void 0:M.length)>0,T,"invalid-continue-uri"),he(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),p.continueUrl=v.url,p.dynamicLinkDomain=v.dynamicLinkDomain,p.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(he(v.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),p.iOSBundleId=v.iOS.bundleId),v.android&&(he(v.android.packageName.length>0,T,"missing-android-pkg-name"),p.androidInstallApp=v.android.installApp,p.androidMinimumVersionCode=v.android.minimumVersion,p.androidPackageName=v.android.packageName)}function ho(T){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,d.A)(function*(T){const p=nr(T);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function Ao(T,p,v){return ha.apply(this,arguments)}function ha(){return(ha=(0,d.A)(function*(T,p,v){const M=nr(T),Y={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};v&&Eo(M,Y,v),yield wo(M,Y,"getOobCode",br)})).apply(this,arguments)}function Va(T,p,v){return La.apply(this,arguments)}function La(){return La=(0,d.A)(function*(T,p,v){yield Go((0,k.Ku)(T),{oobCode:p,newPassword:v}).catch(function(){var M=(0,d.A)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&ho(T),Y});return function(Y){return M.apply(this,arguments)}}())}),La.apply(this,arguments)}function pl(T,p){return gl.apply(this,arguments)}function gl(){return gl=(0,d.A)(function*(T,p){yield function ci(T,p){return Bi.apply(this,arguments)}((0,k.Ku)(T),{oobCode:p})}),gl.apply(this,arguments)}function ml(T,p){return di.apply(this,arguments)}function di(){return(di=(0,d.A)(function*(T,p){const v=(0,k.Ku)(T),M=yield Go(v,{oobCode:p}),Y=M.requestType;switch(he(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(M.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(M.mfaInfo,v,"internal-error");default:he(M.email,v,"internal-error")}let we=null;return M.mfaInfo&&(we=Fr._fromServerResponse(nr(v),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:we},operation:Y}})).apply(this,arguments)}function zi(T,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,d.A)(function*(T,p){const{data:v}=yield ml((0,k.Ku)(T),p);return v.email})).apply(this,arguments)}function _l(T,p,v){return el.apply(this,arguments)}function el(){return(el=(0,d.A)(function*(T,p,v){if((0,s._isFirebaseServerApp)(T.app))return Promise.reject(Ye(T));const M=nr(T),wt=yield wo(M,{returnSecureToken:!0,email:p,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hs).catch(Cn=>{throw"auth/password-does-not-meet-requirements"===Cn.code&&ho(T),Cn}),Yt=yield ko._fromIdTokenResponse(M,"signIn",wt);return yield M._updateCurrentUser(Yt.user),Yt})).apply(this,arguments)}function tu(T,p,v){return(0,s._isFirebaseServerApp)(T.app)?Promise.reject(Ye(T)):Wo((0,k.Ku)(T),Ro.credential(p,v)).catch(function(){var M=(0,d.A)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&ho(T),Y});return function(Y){return M.apply(this,arguments)}}())}function Ys(T,p,v){return xl.apply(this,arguments)}function xl(){return(xl=(0,d.A)(function*(T,p,v){const M=nr(T),Y={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function we(wt,Yt){he(Yt.handleCodeInApp,M,"argument-error"),Yt&&Eo(M,wt,Yt)})(Y,v),yield wo(M,Y,"getOobCode",K)})).apply(this,arguments)}function Ps(T,p){const v=So.parseLink(p);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function nu(T,p,v){return vl.apply(this,arguments)}function vl(){return(vl=(0,d.A)(function*(T,p,v){if((0,s._isFirebaseServerApp)(T.app))return Promise.reject(Ye(T));const M=(0,k.Ku)(T),Y=Ro.credentialWithLink(p,v||dn());return he(Y._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Wo(M,Y)})).apply(this,arguments)}function ru(){return(ru=(0,d.A)(function*(T,p){return $e(T,"POST","/v1/accounts:createAuthUri",Oe(T,p))})).apply(this,arguments)}function Nl(T,p){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,d.A)(function*(T,p){const M={identifier:p,continueUri:An()?dn():"http://localhost"},{signinMethods:Y}=yield function Gr(T,p){return ru.apply(this,arguments)}((0,k.Ku)(T),M);return Y||[]}),Ta.apply(this,arguments)}function ps(T,p){return wa.apply(this,arguments)}function wa(){return wa=(0,d.A)(function*(T,p){const v=(0,k.Ku)(T),Y={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};p&&Eo(v.auth,Y,p);const{email:we}=yield function Ce(T,p){return At.apply(this,arguments)}(v.auth,Y);we!==T.email&&(yield T.reload())}),wa.apply(this,arguments)}function yl(T,p,v){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,d.A)(function*(T,p,v){const M=(0,k.Ku)(T),we={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:p};v&&Eo(M.auth,we,v);const{email:wt}=yield function ke(T,p){return Je.apply(this,arguments)}(M.auth,we);wt!==T.email&&(yield T.reload())}),Ua.apply(this,arguments)}function tl(){return(tl=(0,d.A)(function*(T,p){return $e(T,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function as(T,p){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,d.A)(function*(T,{displayName:p,photoURL:v}){if(void 0===p&&void 0===v)return;const M=(0,k.Ku)(T),we={idToken:yield M.getIdToken(),displayName:p,photoUrl:v,returnSecureToken:!0},wt=yield Qn(M,function iu(T,p){return tl.apply(this,arguments)}(M.auth,we));M.displayName=wt.displayName||null,M.photoURL=wt.photoUrl||null;const Yt=M.providerData.find(({providerId:Cn})=>"password"===Cn);Yt&&(Yt.displayName=M.displayName,Yt.photoURL=M.photoURL),yield M._updateTokensIfNecessary(wt)}),Uo.apply(this,arguments)}function fo(T,p){const v=(0,k.Ku)(T);return(0,s._isFirebaseServerApp)(v.auth.app)?Promise.reject(Ye(v.auth)):Ol(v,p,null)}function Da(T,p){return Ol((0,k.Ku)(T),null,p)}function Ol(T,p,v){return gs.apply(this,arguments)}function gs(){return gs=(0,d.A)(function*(T,p,v){const{auth:M}=T,we={idToken:yield T.getIdToken(),returnSecureToken:!0};p&&(we.email=p),v&&(we.password=v);const wt=yield Qn(T,function Ws(T,p){return ui.apply(this,arguments)}(M,we));yield T._updateTokensIfNecessary(wt,!0)}),gs.apply(this,arguments)}class xs{constructor(p,v,M={}){this.isNewUser=p,this.providerId=v,this.profile=M}}class S extends xs{constructor(p,v,M,Y){super(p,v,M),this.username=Y}}class G extends xs{constructor(p,v){super(p,"facebook.com",v)}}class Be extends S{constructor(p,v){super(p,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class U extends xs{constructor(p,v){super(p,"google.com",v)}}class Ee extends S{constructor(p,v,M){super(p,"twitter.com",v,M)}}function qe(T){const{user:p,_tokenResponse:v}=T;return p.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function ou(T){var p,v;if(!T)return null;const{providerId:M}=T,Y=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},we=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!M&&null!=T&&T.idToken){const wt=null===(v=null===(p=In(T.idToken))||void 0===p?void 0:p.firebase)||void 0===v?void 0:v.sign_in_provider;if(wt)return new xs(we,"anonymous"!==wt&&"custom"!==wt?wt:null)}if(!M)return null;switch(M){case"facebook.com":return new G(we,Y);case"github.com":return new Be(we,Y);case"google.com":return new U(we,Y);case"twitter.com":return new Ee(we,Y,T.screenName||null);case"custom":case"anonymous":return new xs(we,null);default:return new xs(we,M,Y)}}(v)}class Xi{constructor(p,v,M){this.type=p,this.credential=v,this.user=M}static _fromIdtoken(p,v){return new Xi("enroll",p,v)}static _fromMfaPendingCredential(p){return new Xi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var v,M;if(null!=p&&p.multiFactorSession){if(null!==(v=p.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Xi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(M=p.multiFactorSession)&&void 0!==M&&M.idToken)return Xi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Xr{constructor(p,v,M){this.session=p,this.hints=v,this.signInResolver=M}static _fromError(p,v){const M=nr(p),Y=v.customData._serverResponse,we=(Y.mfaInfo||[]).map(Yt=>Fr._fromServerResponse(M,Yt));he(Y.mfaPendingCredential,M,"internal-error");const wt=Xi._fromMfaPendingCredential(Y.mfaPendingCredential);return new Xr(wt,we,function(){var Yt=(0,d.A)(function*(Cn){const er=yield Cn._process(M,wt);delete Y.mfaInfo,delete Y.mfaPendingCredential;const mr=Object.assign(Object.assign({},Y),{idToken:er.idToken,refreshToken:er.refreshToken});switch(v.operationType){case"signIn":const yi=yield ko._fromIdTokenResponse(M,v.operationType,mr);return yield M._updateCurrentUser(yi.user),yi;case"reauthenticate":return he(v.user,M,"internal-error"),ko._forOperation(v.user,v.operationType,mr);default:Me(M,"internal-error")}});return function(Cn){return Yt.apply(this,arguments)}}())}resolveSignIn(p){var v=this;return(0,d.A)(function*(){return v.signInResolver(p)})()}}function go(T,p){var v;const M=(0,k.Ku)(T),Y=p;return he(p.customData.operationType,M,"argument-error"),he(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,M,"argument-error"),Xr._fromError(M,Y)}class ea{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(M=>Fr._fromServerResponse(p.auth,M)))})}static _fromUser(p){return new ea(p)}getSession(){var p=this;return(0,d.A)(function*(){return Xi._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,v){var M=this;return(0,d.A)(function*(){const Y=p,we=yield M.getSession(),wt=yield Qn(M.user,Y._process(M.user.auth,we,v));return yield M.user._updateTokensIfNecessary(wt),M.user.reload()})()}unenroll(p){var v=this;return(0,d.A)(function*(){const M="string"==typeof p?p:p.uid,Y=yield v.user.getIdToken();try{const we=yield Qn(v.user,function Or(T,p){return $e(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Oe(T,p))}(v.user.auth,{idToken:Y,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:wt})=>wt!==M),yield v.user._updateTokensIfNecessary(we),yield v.user.reload()}catch(we){throw we}})()}}const kl=new WeakMap;function su(T){const p=(0,k.Ku)(T);return kl.has(p)||kl.set(p,ea._fromUser(p)),kl.get(p)}const _i="__sak";class qo{constructor(p,v){this.storageRetriever=p,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(_i,"1"),this.storage.removeItem(_i),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,v){return this.storage.setItem(p,JSON.stringify(v)),Promise.resolve()}_get(p){const v=this.storage.getItem(p);return Promise.resolve(v?JSON.parse(v):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qi=(()=>{class T extends qo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,M)=>this.onStorageEvent(v,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nl(){const T=(0,k.ZQ)();return mi(T)||Gi(T)}()&&function Ge(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ee(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const M of Object.keys(this.listeners)){const Y=this.storage.getItem(M),we=this.localCache[M];Y!==we&&v(M,we,Y)}}onStorageEvent(v,M=!1){if(!v.key)return void this.forAllChangedKeys((Yt,Cn,er)=>{this.notifyListeners(Yt,er)});const Y=v.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Yt=this.storage.getItem(Y);if(v.newValue!==Yt)null!==v.newValue?this.storage.setItem(Y,v.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===v.newValue&&!M)return}const we=()=>{const Yt=this.storage.getItem(Y);!M&&this.localCache[Y]===Yt||this.notifyListeners(Y,Yt)},wt=this.storage.getItem(Y);!function ie(){return(0,k.lT)()&&10===document.documentMode}()||wt===v.newValue||v.newValue===v.oldValue?we():setTimeout(we,10)}notifyListeners(v,M){this.localCache[v]=M;const Y=this.listeners[v];if(Y)for(const we of Array.from(Y))we(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,M,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:M,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,M){var Y=()=>super._set,we=this;return(0,d.A)(function*(){yield Y().call(we,v,M),we.localCache[v]=JSON.stringify(M)})()}_get(v){var M=()=>super._get,Y=this;return(0,d.A)(function*(){const we=yield M().call(Y,v);return Y.localCache[v]=JSON.stringify(we),we})()}_remove(v){var M=()=>super._remove,Y=this;return(0,d.A)(function*(){yield M().call(Y,v),delete Y.localCache[v]})()}}return T.type="LOCAL",T})(),ta=(()=>{class T extends qo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,M){}_removeListener(v,M){}}return T.type="SESSION",T})();let rc=(()=>{class T{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const M=this.receivers.find(we=>we.isListeningto(v));if(M)return M;const Y=new T(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var M=this;return(0,d.A)(function*(){const Y=v,{eventId:we,eventType:wt,data:Yt}=Y.data,Cn=M.handlersMap[wt];if(null==Cn||!Cn.size)return;Y.ports[0].postMessage({status:"ack",eventId:we,eventType:wt});const er=Array.from(Cn).map(function(){var yi=(0,d.A)(function*(Cs){return Cs(Y.origin,Yt)});return function(Cs){return yi.apply(this,arguments)}}()),mr=yield function kr(T){return Promise.all(T.map(function(){var p=(0,d.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(M){return{fulfilled:!1,reason:M}}});return function(v){return p.apply(this,arguments)}}()))}(er);Y.ports[0].postMessage({status:"done",eventId:we,eventType:wt,response:mr})})()}_subscribe(v,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(M)}_unsubscribe(v,M){this.handlersMap[v]&&M&&this.handlersMap[v].delete(M),(!M||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function ja(T="",p=10){let v="";for(let M=0;M<p;M++)v+=Math.floor(10*Math.random());return T+v}class Os{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,v,M=50){var Y=this;return(0,d.A)(function*(){const we=typeof MessageChannel<"u"?new MessageChannel:null;if(!we)throw new Error("connection_unavailable");let wt,Yt;return new Promise((Cn,er)=>{const mr=ja("",20);we.port1.start();const yi=setTimeout(()=>{er(new Error("unsupported_event"))},M);Yt={messageChannel:we,onMessage(Cs){const ll=Cs;if(ll.data.eventId===mr)switch(ll.data.status){case"ack":clearTimeout(yi),wt=setTimeout(()=>{er(new Error("timeout"))},3e3);break;case"done":clearTimeout(wt),Cn(ll.data.response);break;default:clearTimeout(yi),clearTimeout(wt),er(new Error("invalid_response"))}}},Y.handlers.add(Yt),we.port1.addEventListener("message",Yt.onMessage),Y.target.postMessage({eventType:p,eventId:mr,data:v},[we.port2])}).finally(()=>{Yt&&Y.removeMessageHandler(Yt)})})()}}function mo(){return window}function _o(){return typeof mo().WorkerGlobalScope<"u"&&"function"==typeof mo().importScripts}function Vo(){return(Vo=(0,d.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xo="firebaseLocalStorageDb",ls="firebaseLocalStorage",Fl="fbase_key";class fa{constructor(p){this.request=p}toPromise(){return new Promise((p,v)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ra(T,p){return T.transaction([ls],p?"readwrite":"readonly").objectStore(ls)}function au(){const T=indexedDB.open(Xo,1);return new Promise((p,v)=>{T.addEventListener("error",()=>{v(T.error)}),T.addEventListener("upgradeneeded",()=>{const M=T.result;try{M.createObjectStore(ls,{keyPath:Fl})}catch(Y){v(Y)}}),T.addEventListener("success",(0,d.A)(function*(){const M=T.result;M.objectStoreNames.contains(ls)?p(M):(M.close(),yield function ks(){const T=indexedDB.deleteDatabase(Xo);return new fa(T).toPromise()}(),p(yield au()))}))})}function lu(T,p,v){return El.apply(this,arguments)}function El(){return(El=(0,d.A)(function*(T,p,v){const M=ra(T,!0).put({[Fl]:p,value:v});return new fa(M).toPromise()})).apply(this,arguments)}function Uc(){return(Uc=(0,d.A)(function*(T,p){const v=ra(T,!1).get(p),M=yield new fa(v).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function dd(T,p){const v=ra(T,!0).delete(p);return new fa(v).toPromise()}const b=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,d.A)(function*(){return v.db||(v.db=yield au()),v.db})()}_withRetries(v){var M=this;return(0,d.A)(function*(){let Y=0;for(;;)try{const we=yield M._openDb();return yield v(we)}catch(we){if(Y++>3)throw we;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,d.A)(function*(){return _o()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,d.A)(function*(){v.receiver=rc._getInstance(function na(){return _o()?self:null}()),v.receiver._subscribe("keyChanged",function(){var M=(0,d.A)(function*(Y,we){return{keyProcessed:(yield v._poll()).includes(we.key)}});return function(Y,we){return M.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var M=(0,d.A)(function*(Y,we){return["keyChanged"]});return function(Y,we){return M.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,d.A)(function*(){var M,Y;if(v.activeServiceWorker=yield function ic(){return Vo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Os(v.activeServiceWorker);const we=yield v.sender._send("ping",{},800);we&&null!==(M=we[0])&&void 0!==M&&M.fulfilled&&null!==(Y=we[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var M=this;return(0,d.A)(function*(){if(M.sender&&M.activeServiceWorker&&function Mo(){var T;return(null===(T=null==navigator?void 0:navigator.serviceWorker)||void 0===T?void 0:T.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:v},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const v=yield au();return yield lu(v,_i,"1"),yield dd(v,_i),!0}catch{}return!1})()}_withPendingWrite(v){var M=this;return(0,d.A)(function*(){M.pendingWrites++;try{yield v()}finally{M.pendingWrites--}})()}_set(v,M){var Y=this;return(0,d.A)(function*(){return Y._withPendingWrite((0,d.A)(function*(){return yield Y._withRetries(we=>lu(we,v,M)),Y.localCache[v]=M,Y.notifyServiceWorker(v)}))})()}_get(v){var M=this;return(0,d.A)(function*(){const Y=yield M._withRetries(we=>function $d(T,p){return Uc.apply(this,arguments)}(we,v));return M.localCache[v]=Y,Y})()}_remove(v){var M=this;return(0,d.A)(function*(){return M._withPendingWrite((0,d.A)(function*(){return yield M._withRetries(Y=>dd(Y,v)),delete M.localCache[v],M.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,d.A)(function*(){const M=yield v._withRetries(wt=>{const Yt=ra(wt,!1).getAll();return new fa(Yt).toPromise()});if(!M)return[];if(0!==v.pendingWrites)return[];const Y=[],we=new Set;if(0!==M.length)for(const{fbase_key:wt,value:Yt}of M)we.add(wt),JSON.stringify(v.localCache[wt])!==JSON.stringify(Yt)&&(v.notifyListeners(wt,Yt),Y.push(wt));for(const wt of Object.keys(v.localCache))v.localCache[wt]&&!we.has(wt)&&(v.notifyListeners(wt,null),Y.push(wt));return Y})()}notifyListeners(v,M){this.localCache[v]=M;const Y=this.listeners[v];if(Y)for(const we of Array.from(Y))we(M)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),Se=1e12;class kt{constructor(p){this.auth=p,this.counter=Se,this._widgets=new Map}render(p,v){const M=this.counter;return this._widgets.set(M,new bn(p,this.auth.name,v||{})),this.counter++,M}reset(p){var v;const M=p||Se;null===(v=this._widgets.get(M))||void 0===v||v.delete(),this._widgets.delete(M)}getResponse(p){var v;return(null===(v=this._widgets.get(p||Se))||void 0===v?void 0:v.getResponse())||""}execute(p){var v=this;return(0,d.A)(function*(){var M;return null===(M=v._widgets.get(p||Se))||void 0===M||M.execute(),""})()}}class bn{constructor(p,v,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof p?document.getElementById(p):p;he(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gt(T){const p=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<T;M++)p.push(v.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":v}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gn=ai("rcb"),Tr=new Ve(3e4,6e4);class $i{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=mo().grecaptcha)||void 0===p||!p.render)}load(p,v=""){return he(function Qr(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(v),p,"argument-error"),this.shouldResolveImmediately(v)&&en(mo().grecaptcha)?Promise.resolve(mo().grecaptcha):new Promise((M,Y)=>{const we=mo().setTimeout(()=>{Y(Fe(p,"network-request-failed"))},Tr.get());mo()[Gn]=()=>{mo().clearTimeout(we),delete mo()[Gn];const Yt=mo().grecaptcha;if(!Yt||!en(Yt))return void Y(Fe(p,"internal-error"));const Cn=Yt.render;Yt.render=(er,mr)=>{const yi=Cn(er,mr);return this.counter++,yi},this.hostLanguage=v,M(Yt)},gr(`${function ki(){return Ji.recaptchaV2Script}()}?${(0,k.Am)({onload:Gn,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(we),Y(Fe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var v;return!(null===(v=mo().grecaptcha)||void 0===v||!v.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qo{load(p){return(0,d.A)(function*(){return new kt(p)})()}clearedOneInstance(){}}const Sa="recaptcha",Fs={theme:"light",type:"image"};class Vl{constructor(p,v,M=Object.assign({},Fs)){this.parameters=M,this.type=Sa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(p),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof v?document.getElementById(v):v;he(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qo:new $i,this.validateStartingState()}verify(){var p=this;return(0,d.A)(function*(){p.assertNotDestroyed();const v=yield p.render(),M=p.getAssertedRecaptcha();return M.getResponse(v)||new Promise(we=>{const wt=Yt=>{Yt&&(p.tokenChangeListeners.delete(wt),we(Yt))};p.tokenChangeListeners.add(wt),p.isInvisible&&M.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return v=>{if(this.tokenChangeListeners.forEach(M=>M(v)),"function"==typeof p)p(v);else if("string"==typeof p){const M=mo()[p];"function"==typeof M&&M(v)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.A)(function*(){if(yield p.init(),!p.widgetId){let v=p.container;if(!p.isInvisible){const M=document.createElement("div");v.appendChild(M),v=M}p.widgetId=p.getAssertedRecaptcha().render(v,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.A)(function*(){he(An()&&!_o(),p.auth,"internal-error"),yield function Al(){let T=null;return new Promise(p=>{"complete"!==document.readyState?(T=()=>p(),window.addEventListener("load",T)):p()}).catch(p=>{throw T&&window.removeEventListener("load",T),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const v=yield function ze(T){return xe.apply(this,arguments)}(p.auth);he(v,p.auth,"internal-error"),p.parameters.sitekey=v})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ms{constructor(p,v){this.verificationId=p,this.onConfirmation=v}confirm(p){const v=Do._fromVerification(this.verificationId,p);return this.onConfirmation(v)}}function xu(T,p,v){return _s.apply(this,arguments)}function _s(){return(_s=(0,d.A)(function*(T,p,v){if((0,s._isFirebaseServerApp)(T.app))return Promise.reject(Ye(T));const M=nr(T),Y=yield Ul(M,p,(0,k.Ku)(v));return new ms(Y,we=>Wo(M,we))})).apply(this,arguments)}function Ll(T,p,v){return us.apply(this,arguments)}function us(){return(us=(0,d.A)(function*(T,p,v){const M=(0,k.Ku)(T);yield _e(!1,M,"phone");const Y=yield Ul(M.auth,p,(0,k.Ku)(v));return new ms(Y,we=>ba(M,we))})).apply(this,arguments)}function Nu(T,p,v){return oc.apply(this,arguments)}function oc(){return(oc=(0,d.A)(function*(T,p,v){const M=(0,k.Ku)(T);if((0,s._isFirebaseServerApp)(M.auth.app))return Promise.reject(Ye(M.auth));const Y=yield Ul(M.auth,p,(0,k.Ku)(v));return new ms(Y,we=>Mu(M,we))})).apply(this,arguments)}function Ul(T,p,v){return cu.apply(this,arguments)}function cu(){return cu=(0,d.A)(function*(T,p,v){var M;const Y=yield v.verify();try{let we;if(he("string"==typeof Y,T,"argument-error"),he(v.type===Sa,T,"argument-error"),we="string"==typeof p?{phoneNumber:p}:p,"session"in we){const wt=we.session;if("phoneNumber"in we)return he("enroll"===wt.type,T,"internal-error"),(yield function Zs(T,p){return $e(T,"POST","/v2/accounts/mfaEnrollment:start",Oe(T,p))}(T,{idToken:wt.credential,phoneEnrollmentInfo:{phoneNumber:we.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{he("signin"===wt.type,T,"internal-error");const Yt=(null===(M=we.multiFactorHint)||void 0===M?void 0:M.uid)||we.multiFactorUid;return he(Yt,T,"missing-multi-factor-info"),(yield function P(T,p){return $e(T,"POST","/v2/accounts/mfaSignIn:start",Oe(T,p))}(T,{mfaPendingCredential:wt.credential,mfaEnrollmentId:Yt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:wt}=yield function lr(T,p){return Wr.apply(this,arguments)}(T,{phoneNumber:we.phoneNumber,recaptchaToken:Y});return wt}}finally{v._reset()}}),cu.apply(this,arguments)}function zd(T,p){return ji.apply(this,arguments)}function ji(){return(ji=(0,d.A)(function*(T,p){const v=(0,k.Ku)(T);if((0,s._isFirebaseServerApp)(v.auth.app))return Promise.reject(Ye(v.auth));yield Te(v,p)})).apply(this,arguments)}let hd=(()=>{class T{constructor(v){this.providerId=T.PROVIDER_ID,this.auth=nr(v)}verifyPhoneNumber(v,M){return Ul(this.auth,v,(0,k.Ku)(M))}static credential(v,M){return Do._fromVerification(v,M)}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:M,temporaryProof:Y}=v;return M&&Y?Do._fromTokenResponse(M,Y):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function Ra(T,p){return p?Dn(p):(he(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class cs extends li{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ln(p,this._buildIdpRequest())}_linkToIdToken(p,v){return ln(p,this._buildIdpRequest(v))}_getReauthenticationResolver(p){return ln(p,this._buildIdpRequest())}_buildIdpRequest(p){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(v.idToken=p),v}}function sc(T){return co(T.auth,new cs(T),T.bypassAuthState)}function Cl(T){const{auth:p,user:v}=T;return he(v,p,"internal-error"),Un(v,new cs(T),T.bypassAuthState)}function Ma(T){return As.apply(this,arguments)}function As(){return(As=(0,d.A)(function*(T){const{auth:p,user:v}=T;return he(v,p,"internal-error"),Te(v,new cs(T),T.bypassAuthState)})).apply(this,arguments)}class fd{constructor(p,v,M,Y,we=!1){this.auth=p,this.resolver=M,this.user=Y,this.bypassAuthState=we,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var p=this;return new Promise(function(){var v=(0,d.A)(function*(M,Y){p.pendingPromise={resolve:M,reject:Y};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(we){p.reject(we)}});return function(M,Y){return v.apply(this,arguments)}}())}onAuthEvent(p){var v=this;return(0,d.A)(function*(){const{urlResponse:M,sessionId:Y,postBody:we,tenantId:wt,error:Yt,type:Cn}=p;if(Yt)return void v.reject(Yt);const er={auth:v.auth,requestUri:M,sessionId:Y,tenantId:wt||void 0,postBody:we||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Cn)(er))}catch(mr){v.reject(mr)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return sc;case"linkViaPopup":case"linkViaRedirect":return Ma;case"reauthViaPopup":case"reauthViaRedirect":return Cl;default:Me(this.auth,"internal-error")}}resolve(p){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bc=new Ve(2e3,1e4);function Kh(T,p,v){return ia.apply(this,arguments)}function ia(){return(ia=(0,d.A)(function*(T,p,v){if((0,s._isFirebaseServerApp)(T.app))return Promise.reject(Fe(T,"operation-not-supported-in-this-environment"));const M=nr(T);ut(T,p,Ni);const Y=Ra(M,v);return new lc(M,"signInViaPopup",p,Y).executeNotNull()})).apply(this,arguments)}function du(T,p,v){return rl.apply(this,arguments)}function rl(){return(rl=(0,d.A)(function*(T,p,v){const M=(0,k.Ku)(T);if((0,s._isFirebaseServerApp)(M.auth.app))return Promise.reject(Fe(M.auth,"operation-not-supported-in-this-environment"));ut(M.auth,p,Ni);const Y=Ra(M.auth,v);return new lc(M.auth,"reauthViaPopup",p,Y,M).executeNotNull()})).apply(this,arguments)}function il(T,p,v){return ac.apply(this,arguments)}function ac(){return(ac=(0,d.A)(function*(T,p,v){const M=(0,k.Ku)(T);ut(M.auth,p,Ni);const Y=Ra(M.auth,v);return new lc(M.auth,"linkViaPopup",p,Y,M).executeNotNull()})).apply(this,arguments)}let lc=(()=>{class T extends fd{constructor(v,M,Y,we,wt){super(v,M,we,wt),this.provider=Y,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var v=this;return(0,d.A)(function*(){const M=yield v.execute();return he(M,v.auth,"internal-error"),M})()}onExecution(){var v=this;return(0,d.A)(function*(){Tt(1===v.filter.length,"Popup operations only handle one event");const M=ja();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],M),v.authWindow.associatedEvent=M,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(Fe(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const v=()=>{var M,Y;this.pollId=null!==(Y=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Bc.get())};v()}}return T.currentPopupAction=null,T})();const uc="pendingRedirect",Bl=new Map;class cc extends fd{constructor(p,v,M=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,M),this.eventId=null}execute(){var p=()=>super.execute,v=this;return(0,d.A)(function*(){let M=Bl.get(v.auth._key());if(!M){try{const we=(yield function bl(T,p){return Lr.apply(this,arguments)}(v.resolver,v.auth))?yield p().call(v):null;M=()=>Promise.resolve(we)}catch(Y){M=()=>Promise.reject(Y)}Bl.set(v.auth._key(),M)}return v.bypassAuthState||Bl.set(v.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(p){var v=()=>super.onAuthEvent,M=this;return(0,d.A)(function*(){if("signInViaRedirect"===p.type)return v().call(M,p);if("unknown"!==p.type){if(p.eventId){const Y=yield M.auth._redirectUserForId(p.eventId);if(Y)return M.user=Y,v().call(M,p);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function Lr(){return(Lr=(0,d.A)(function*(T,p){const v=dc(p),M=Wd(T);if(!(yield M._isAvailable()))return!1;const Y="true"===(yield M._get(v));return yield M._remove(v),Y})).apply(this,arguments)}function Ou(T,p){return $c.apply(this,arguments)}function $c(){return($c=(0,d.A)(function*(T,p){return Wd(T)._set(dc(p),"true")})).apply(this,arguments)}function Gd(){Bl.clear()}function ku(T,p){Bl.set(T._key(),p)}function Wd(T){return Dn(T._redirectPersistence)}function dc(T){return Ur(uc,T.config.apiKey,T.name)}function ol(T,p,v){return function pp(T,p,v){return pd.apply(this,arguments)}(T,p,v)}function pd(){return(pd=(0,d.A)(function*(T,p,v){if((0,s._isFirebaseServerApp)(T.app))return Promise.reject(Ye(T));const M=nr(T);ut(T,p,Ni),yield M._initializationPromise;const Y=Ra(M,v);return yield Ou(Y,M),Y._openRedirect(M,p,"signInViaRedirect")})).apply(this,arguments)}function Fu(T,p,v){return function hc(T,p,v){return Ha.apply(this,arguments)}(T,p,v)}function Ha(){return(Ha=(0,d.A)(function*(T,p,v){const M=(0,k.Ku)(T);if(ut(M.auth,p,Ni),(0,s._isFirebaseServerApp)(M.auth.app))return Promise.reject(Ye(M.auth));yield M.auth._initializationPromise;const Y=Ra(M.auth,v);yield Ou(Y,M.auth);const we=yield ds(M);return Y._openRedirect(M.auth,p,"reauthViaRedirect",we)})).apply(this,arguments)}function cn(T,p,v){return function vi(T,p,v){return so.apply(this,arguments)}(T,p,v)}function so(){return(so=(0,d.A)(function*(T,p,v){const M=(0,k.Ku)(T);ut(M.auth,p,Ni),yield M.auth._initializationPromise;const Y=Ra(M.auth,v);yield _e(!1,M,p.providerId),yield Ou(Y,M.auth);const we=yield ds(M);return Y._openRedirect(M.auth,p,"linkViaRedirect",we)})).apply(this,arguments)}function jc(T,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,d.A)(function*(T,p){return yield nr(T)._initializationPromise,hu(T,p,!1)})).apply(this,arguments)}function hu(T,p){return $l.apply(this,arguments)}function $l(){return($l=(0,d.A)(function*(T,p,v=!1){if((0,s._isFirebaseServerApp)(T.app))return Promise.reject(Ye(T));const M=nr(T),Y=Ra(M,p),wt=yield new cc(M,Y,v).execute();return wt&&!v&&(delete wt.user._redirectEventId,yield M._persistUserIfCurrent(wt.user),yield M._setRedirectUser(null,p)),wt})).apply(this,arguments)}function ds(T){return sl.apply(this,arguments)}function sl(){return(sl=(0,d.A)(function*(T){const p=ja(`${T.uid}:::`);return T._redirectEventId=p,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),p})).apply(this,arguments)}class fu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let v=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(p,M)&&(v=!0,this.sendToConsumer(p,M),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function es(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tl(T);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=p,v=!0)),v}sendToConsumer(p,v){var M;if(p.error&&!Tl(p)){const Y=(null===(M=p.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";v.onError(Fe(this.auth,Y))}else v.onAuthEvent(p)}isEventForConsumer(p,v){const M=null===v.eventId||!!p.eventId&&p.eventId===v.eventId;return v.filter.includes(p.type)&&M}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qh(p))}saveEventToCache(p){this.cachedEventUids.add(qh(p)),this.lastProcessedEventTime=Date.now()}}function qh(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(p=>p).join("-")}function Tl({type:T,error:p}){return"unknown"===T&&"auth/no-auth-event"===(null==p?void 0:p.code)}function vs(T){return fc.apply(this,arguments)}function fc(){return(fc=(0,d.A)(function*(T,p={}){return $e(T,"GET","/v1/projects",p)})).apply(this,arguments)}const za=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,al=/^https?/;function zc(){return(zc=(0,d.A)(function*(T){if(T.config.emulator)return;const{authorizedDomains:p}=yield vs(T);for(const v of p)try{if(gp(v))return}catch{}Me(T,"unauthorized-domain")})).apply(this,arguments)}function gp(T){const p=dn(),{protocol:v,hostname:M}=new URL(p);if(T.startsWith("chrome-extension://")){const wt=new URL(T);return""===wt.hostname&&""===M?"chrome-extension:"===v&&T.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===v&&wt.hostname===M}if(!al.test(v))return!1;if(za.test(T))return M===T;const Y=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(M)}const gd=new Ve(3e4,6e4);function pc(){const T=mo().___jsl;if(null!=T&&T.H)for(const p of Object.keys(T.H))if(T.H[p].r=T.H[p].r||[],T.H[p].L=T.H[p].L||[],T.H[p].r=[...T.H[p].L],T.CP)for(let v=0;v<T.CP.length;v++)T.CP[v]=null}let pu=null;const Kd=new Ve(5e3,15e3),jl="__/auth/iframe",gu="emulator/auth/iframe",_d={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qd(T){const p=T.config;he(p.authDomain,T,"auth-domain-config-required");const v=p.emulator?te(p,gu):`https://${T.config.authDomain}/${jl}`,M={apiKey:p.apiKey,appName:T.name,v:s.SDK_VERSION},Y=vd.get(T.config.apiHost);Y&&(M.eid=Y);const we=T._getFrameworks();return we.length&&(M.fw=we.join(",")),`${v}?${(0,k.Am)(M).slice(1)}`}function gc(){return gc=(0,d.A)(function*(T){const p=yield function Gc(T){return pu=pu||function md(T){return new Promise((p,v)=>{var M,Y,we;function wt(){pc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{pc(),v(Fe(T,"network-request-failed"))},timeout:gd.get()})}if(null!==(Y=null===(M=mo().gapi)||void 0===M?void 0:M.iframes)&&void 0!==Y&&Y.Iframe)p(gapi.iframes.getContext());else{if(null===(we=mo().gapi)||void 0===we||!we.load){const Yt=ai("iframefcb");return mo()[Yt]=()=>{gapi.load?wt():v(Fe(T,"network-request-failed"))},gr(`${function eo(){return Ji.gapiScript}()}?onload=${Yt}`).catch(Cn=>v(Cn))}wt()}}).catch(p=>{throw pu=null,p})}(T),pu}(T),v=mo().gapi;return he(v,T,"internal-error"),p.open({where:document.body,url:qd(T),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_d,dontclear:!0},M=>new Promise(function(){var Y=(0,d.A)(function*(we,wt){yield M.restyle({setHideOnLeave:!1});const Yt=Fe(T,"network-request-failed"),Cn=mo().setTimeout(()=>{wt(Yt)},Kd.get());function er(){mo().clearTimeout(Cn),we(M)}M.ping(er).then(er,()=>{wt(Yt)})});return function(we,wt){return Y.apply(this,arguments)}}()))}),gc.apply(this,arguments)}const Qh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Qd="__/auth/handler",mc="emulator/auth/handler",Hl=encodeURIComponent("fac");function pa(T,p,v,M,Y,we){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,d.A)(function*(T,p,v,M,Y,we){he(T.config.authDomain,T,"auth-domain-config-required"),he(T.config.apiKey,T,"invalid-api-key");const wt={apiKey:T.config.apiKey,appName:T.name,authType:v,redirectUrl:M,v:s.SDK_VERSION,eventId:Y};if(p instanceof Ni){p.setDefaultLanguage(T.languageCode),wt.providerId=p.providerId||"",(0,k.Im)(p.getCustomParameters())||(wt.customParameters=JSON.stringify(p.getCustomParameters()));for(const[mr,yi]of Object.entries(we||{}))wt[mr]=yi}if(p instanceof yo){const mr=p.getScopes().filter(yi=>""!==yi);mr.length>0&&(wt.scopes=mr.join(","))}T.tenantId&&(wt.tid=T.tenantId);const Yt=wt;for(const mr of Object.keys(Yt))void 0===Yt[mr]&&delete Yt[mr];const Cn=yield T._getAppCheckToken(),er=Cn?`#${Hl}=${encodeURIComponent(Cn)}`:"";return`${function Lu({config:T}){return T.emulator?te(T,mc):`https://${T.authDomain}/${Qd}`}(T)}?${(0,k.Am)(Yt).slice(1)}${er}`})).apply(this,arguments)}const wl="webStorageSupport",mu=class zl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ta,this._completeRedirectFn=hu,this._overrideRedirectResult=ku}_openPopup(p,v,M,Y){var we=this;return(0,d.A)(function*(){var wt;Tt(null===(wt=we.eventManagers[p._key()])||void 0===wt?void 0:wt.manager,"_initialize() not called before _openPopup()");const Yt=yield pa(p,v,M,dn(),Y);return function Zh(T,p,v,M=500,Y=600){const we=Math.max((window.screen.availHeight-Y)/2,0).toString(),wt=Math.max((window.screen.availWidth-M)/2,0).toString();let Yt="";const Cn=Object.assign(Object.assign({},Qh),{width:M.toString(),height:Y.toString(),top:we,left:wt}),er=(0,k.ZQ)().toLowerCase();v&&(Yt=Ei(er)?"_blank":v),Yn(er)&&(p=p||"http://localhost",Cn.scrollbars="yes");const mr=Object.entries(Cn).reduce((Cs,[ll,ju])=>`${Cs}${ll}=${ju},`,"");if(function Wt(T=(0,k.ZQ)()){var p;return Gi(T)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(er)&&"_self"!==Yt)return function Id(T,p){const v=document.createElement("a");v.href=T,v.target=p;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(M)}(p||"",Yt),new Xd(null);const yi=window.open(p||"",Yt,mr);he(yi,T,"popup-blocked");try{yi.focus()}catch{}return new Xd(yi)}(p,Yt,ja())})()}_openRedirect(p,v,M,Y){var we=this;return(0,d.A)(function*(){return yield we._originValidation(p),function Il(T){mo().location.href=T}(yield pa(p,v,M,dn(),Y)),new Promise(()=>{})})()}_initialize(p){const v=p._key();if(this.eventManagers[v]){const{manager:Y,promise:we}=this.eventManagers[v];return Y?Promise.resolve(Y):(Tt(we,"If manager is not set, promise should be"),we)}const M=this.initAndGetManager(p);return this.eventManagers[v]={promise:M},M.catch(()=>{delete this.eventManagers[v]}),M}initAndGetManager(p){var v=this;return(0,d.A)(function*(){const M=yield function yd(T){return gc.apply(this,arguments)}(p),Y=new fu(p);return M.register("authEvent",we=>(he(null==we?void 0:we.authEvent,p,"invalid-auth-event"),{status:Y.onEvent(we.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[p._key()]={manager:Y},v.iframes[p._key()]=M,Y})()}_isIframeWebStorageSupported(p,v){this.iframes[p._key()].send(wl,{type:wl},Y=>{var we;const wt=null===(we=null==Y?void 0:Y[0])||void 0===we?void 0:we[wl];void 0!==wt&&v(!!wt),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Xh(T){return zc.apply(this,arguments)}(p)),this.originValidationPromises[v]}get _shouldInitProactively(){return ee()||mi()||Gi()}};class _c{constructor(p){this.factorId=p}_process(p,v,M){switch(v.type){case"enroll":return this._finalizeEnroll(p,v.credential,M);case"signin":return this._finalizeSignIn(p,v.credential);default:return He("unexpected MultiFactorSessionType")}}}class Uu extends _c{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Uu(p)}_finalizeEnroll(p,v,M){return function jr(T,p){return $e(T,"POST","/v2/accounts/mfaEnrollment:finalize",Oe(T,p))}(p,{idToken:v,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,v){return function F(T,p){return $e(T,"POST","/v2/accounts/mfaSignIn:finalize",Oe(T,p))}(p,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jh=(()=>{class T{constructor(){}static assertion(v){return Uu._fromCredential(v)}}return T.FACTOR_ID="phone",T})();var Wc="@firebase/auth";class ef{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var v=this;return(0,d.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const v=this.auth.onIdTokenChanged(M=>{p((null==M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,v),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const v=this.internalListeners.get(p);v&&(this.internalListeners.delete(p),v(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,k.XA)("authIdTokenMaxAge"),function Wi(T){Ji=T}({loadJS:T=>new Promise((p,v)=>{const M=document.createElement("script");M.setAttribute("src",T),M.onload=p,M.onerror=Y=>{const we=Fe("internal-error");we.customData=Y,v(we)},M.type="text/javascript",M.charset="UTF-8",function Kc(){var T,p;return null!==(p=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==p?p:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function tf(T){(0,s._registerComponent)(new Qe.uA("auth",(p,{options:v})=>{const M=p.getProvider("app").getImmediate(),Y=p.getProvider("heartbeat"),we=p.getProvider("app-check-internal"),{apiKey:wt,authDomain:Yt}=M.options;he(wt&&!wt.includes(":"),"invalid-api-key",{appName:M.name});const Cn={apiKey:wt,authDomain:Yt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:le(T)},er=new or(M,Y,we,Cn);return function Ui(T,p){const v=(null==p?void 0:p.persistence)||[],M=(Array.isArray(v)?v:[v]).map(Dn);null!=p&&p.errorMap&&T._updateErrorMap(p.errorMap),T._initializeWithPersistence(M,null==p?void 0:p.popupRedirectResolver)}(er,v),er},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,v,M)=>{p.getProvider("auth-internal").initialize()})),(0,s._registerComponent)(new Qe.uA("auth-internal",p=>{const v=nr(p.getProvider("auth").getImmediate());return new ef(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)(Wc,"1.7.3",function mp(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,s.registerVersion)(Wc,"1.7.3","esm2017")}("Browser")},1076:(xn,St,L)=>{"use strict";L.d(St,{Am:()=>sr,Bd:()=>He,FA:()=>$e,Fy:()=>Ye,I9:()=>yr,Im:()=>tr,Ku:()=>pt,Ll:()=>he,T9:()=>Me,Uj:()=>at,XA:()=>Fe,ZQ:()=>ut,bD:()=>xe,cY:()=>tt,eX:()=>ne,g:()=>Oe,gR:()=>en,hp:()=>ar,jZ:()=>Ht,lT:()=>nn,lV:()=>dn,nr:()=>Ve,sr:()=>Tt,tD:()=>yn,u:()=>Le,yU:()=>It,zW:()=>te,zw:()=>it});const de=function(ce){const Ae=[];let se=0;for(let Ie=0;Ie<ce.length;Ie++){let ue=ce.charCodeAt(Ie);ue<128?Ae[se++]=ue:ue<2048?(Ae[se++]=ue>>6|192,Ae[se++]=63&ue|128):55296==(64512&ue)&&Ie+1<ce.length&&56320==(64512&ce.charCodeAt(Ie+1))?(ue=65536+((1023&ue)<<10)+(1023&ce.charCodeAt(++Ie)),Ae[se++]=ue>>18|240,Ae[se++]=ue>>12&63|128,Ae[se++]=ue>>6&63|128,Ae[se++]=63&ue|128):(Ae[se++]=ue>>12|224,Ae[se++]=ue>>6&63|128,Ae[se++]=63&ue|128)}return Ae},Qe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,Ae){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let ue=0;ue<ce.length;ue+=3){const gt=ce[ue],Qt=ue+1<ce.length,Dn=Qt?ce[ue+1]:0,Wn=ue+2<ce.length,fr=Wn?ce[ue+2]:0;let wn=(15&Dn)<<2|fr>>6,Yn=63&fr;Wn||(Yn=64,Qt||(wn=64)),Ie.push(se[gt>>2],se[(3&gt)<<4|Dn>>4],se[wn],se[Yn])}return Ie.join("")},encodeString(ce,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(ce):this.encodeByteArray(de(ce),Ae)},decodeString(ce,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(ce):function(ce){const Ae=[];let se=0,Ie=0;for(;se<ce.length;){const ue=ce[se++];if(ue<128)Ae[Ie++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const gt=ce[se++];Ae[Ie++]=String.fromCharCode((31&ue)<<6|63&gt)}else if(ue>239&&ue<365){const Wn=((7&ue)<<18|(63&ce[se++])<<12|(63&ce[se++])<<6|63&ce[se++])-65536;Ae[Ie++]=String.fromCharCode(55296+(Wn>>10)),Ae[Ie++]=String.fromCharCode(56320+(1023&Wn))}else{const gt=ce[se++],Qt=ce[se++];Ae[Ie++]=String.fromCharCode((15&ue)<<12|(63&gt)<<6|63&Qt)}}return Ae.join("")}(this.decodeStringToByteArray(ce,Ae))},decodeStringToByteArray(ce,Ae){this.init_();const se=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let ue=0;ue<ce.length;){const gt=se[ce.charAt(ue++)],Dn=ue<ce.length?se[ce.charAt(ue)]:0;++ue;const fr=ue<ce.length?se[ce.charAt(ue)]:64;++ue;const st=ue<ce.length?se[ce.charAt(ue)]:64;if(++ue,null==gt||null==Dn||null==fr||null==st)throw new me;Ie.push(gt<<2|Dn>>4),64!==fr&&(Ie.push(Dn<<4&240|fr>>2),64!==st&&Ie.push(fr<<6&192|st))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const at=function(ce){return function(ce){const Ae=de(ce);return Qe.encodeByteArray(Ae,!0)}(ce).replace(/\./g,"")},Le=function(ce){try{return Qe.decodeString(ce,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function it(ce,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===ce&&(ce={});break;case Array:ce=[];break;default:return Ae}for(const se in Ae)!Ae.hasOwnProperty(se)||!ot(se)||(ce[se]=it(ce[se],Ae[se]));return ce}function ot(ce){return"__proto__"!==ce}const mt=()=>{try{return function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ce=process.env.__FIREBASE_DEFAULTS__;return ce?JSON.parse(ce):void 0})()||(()=>{if(typeof document>"u")return;let ce;try{ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ae=ce&&Le(ce[1]);return Ae&&JSON.parse(Ae)})()}catch(ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ce}`)}},It=ce=>{const Ae=(ce=>{var Ae,se;return null===(se=null===(Ae=mt())||void 0===Ae?void 0:Ae.emulatorHosts)||void 0===se?void 0:se[ce]})(ce);if(!Ae)return;const se=Ae.lastIndexOf(":");if(se<=0||se+1===Ae.length)throw new Error(`Invalid host ${Ae} with no separate hostname and port!`);const Ie=parseInt(Ae.substring(se+1),10);return"["===Ae[0]?[Ae.substring(1,se-1),Ie]:[Ae.substring(0,se),Ie]},Me=()=>{var ce;return null===(ce=mt())||void 0===ce?void 0:ce.config},Fe=ce=>{var Ae;return null===(Ae=mt())||void 0===Ae?void 0:Ae[`_${ce}`]};class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,se)=>{this.resolve=Ae,this.reject=se})}wrapCallback(Ae){return(se,Ie)=>{se?this.reject(se):this.resolve(Ie),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(se):Ae(se,Ie))}}}function Ye(ce,Ae){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=Ae||"demo-project",ue=ce.iat||0,gt=ce.sub||ce.user_id;if(!gt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qt=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:ue,exp:ue+3600,auth_time:ue,sub:gt,user_id:gt,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[at(JSON.stringify({alg:"none",type:"JWT"})),at(JSON.stringify(Qt)),""].join(".")}function ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ht(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function he(){var ce;const Ae=null===(ce=mt())||void 0===ce?void 0:ce.forceEnvironment;if("node"===Ae)return!0;if("browser"===Ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function Tt(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function dn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nn(){const ce=ut();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function Ve(){return!he()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((ce,Ae)=>{try{let se=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(Ie);ue.onsuccess=()=>{ue.result.close(),se||self.indexedDB.deleteDatabase(Ie),ce(!0)},ue.onupgradeneeded=()=>{se=!1},ue.onerror=()=>{var gt;Ae((null===(gt=ue.error)||void 0===gt?void 0:gt.message)||"")}}catch(se){Ae(se)}})}class Oe extends Error{constructor(Ae,se,Ie){super(se),this.code=Ae,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(Ae,se,Ie){this.service=Ae,this.serviceName=se,this.errors=Ie}create(Ae,...se){const Ie=se[0]||{},ue=`${this.service}/${Ae}`,gt=this.errors[Ae],Qt=gt?function Re(ce,Ae){return ce.replace(Ze,(se,Ie)=>{const ue=Ae[Ie];return null!=ue?String(ue):`<${Ie}?>`})}(gt,Ie):"Error";return new Oe(ue,`${this.serviceName}: ${Qt} (${ue}).`,Ie)}}const Ze=/\{\$([^}]+)}/g;function en(ce,Ae){return Object.prototype.hasOwnProperty.call(ce,Ae)}function tr(ce){for(const Ae in ce)if(Object.prototype.hasOwnProperty.call(ce,Ae))return!1;return!0}function xe(ce,Ae){if(ce===Ae)return!0;const se=Object.keys(ce),Ie=Object.keys(Ae);for(const ue of se){if(!Ie.includes(ue))return!1;const gt=ce[ue],Qt=Ae[ue];if(We(gt)&&We(Qt)){if(!xe(gt,Qt))return!1}else if(gt!==Qt)return!1}for(const ue of Ie)if(!se.includes(ue))return!1;return!0}function We(ce){return null!==ce&&"object"==typeof ce}function sr(ce){const Ae=[];for(const[se,Ie]of Object.entries(ce))Array.isArray(Ie)?Ie.forEach(ue=>{Ae.push(encodeURIComponent(se)+"="+encodeURIComponent(ue))}):Ae.push(encodeURIComponent(se)+"="+encodeURIComponent(Ie));return Ae.length?"&"+Ae.join("&"):""}function yr(ce){const Ae={};return ce.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[ue,gt]=Ie.split("=");Ae[decodeURIComponent(ue)]=decodeURIComponent(gt)}}),Ae}function ar(ce){const Ae=ce.indexOf("?");if(!Ae)return"";const se=ce.indexOf("#",Ae);return ce.substring(Ae,se>0?se:void 0)}function yn(ce,Ae){const se=new dr(ce,Ae);return se.subscribe.bind(se)}class dr{constructor(Ae,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{Ae(this)}).catch(Ie=>{this.error(Ie)})}next(Ae){this.forEachObserver(se=>{se.next(Ae)})}error(Ae){this.forEachObserver(se=>{se.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,se,Ie){let ue;if(void 0===Ae&&void 0===se&&void 0===Ie)throw new Error("Missing Observer.");ue=function Ar(ce,Ae){if("object"!=typeof ce||null===ce)return!1;for(const se of Ae)if(se in ce&&"function"==typeof ce[se])return!0;return!1}(Ae,["next","error","complete"])?Ae:{next:Ae,error:se,complete:Ie},void 0===ue.next&&(ue.next=oi),void 0===ue.error&&(ue.error=oi),void 0===ue.complete&&(ue.complete=oi);const gt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch{}}),this.observers.push(ue),gt}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,Ae)}sendOne(Ae,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{se(this.observers[Ae])}catch(Ie){typeof console<"u"&&console.error&&console.error(Ie)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oi(){}function pt(ce){return ce&&ce._delegate?ce._delegate:ce}},4442:(xn,St,L)=>{"use strict";L.d(St,{L:()=>ae,a:()=>Qe,b:()=>me,c:()=>et,d:()=>at,g:()=>Mt}),L(5531);const ae="ionViewWillEnter",Qe="ionViewDidEnter",me="ionViewWillLeave",et="ionViewDidLeave",at="ionViewWillUnload",Mt=Ve=>Ve.classList.contains("ion-page")?Ve:Ve.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ve},5531:(xn,St,L)=>{"use strict";L.d(St,{a:()=>Le,c:()=>s,g:()=>at});class d{constructor(){this.m=new Map}reset(Ve){this.m=new Map(Object.entries(Ve))}get(Ve,te){const ne=this.m.get(Ve);return void 0!==ne?ne:te}getBoolean(Ve,te=!1){const ne=this.m.get(Ve);return void 0===ne?te:"string"==typeof ne?"true"===ne:!!ne}getNumber(Ve,te){const ne=parseFloat(this.m.get(Ve));return isNaN(ne)?void 0!==te?te:NaN:ne}set(Ve,te){this.m.set(Ve,te)}}const s=new d,at=Mt=>De(Mt),Le=(Mt,Ve)=>("string"==typeof Mt&&(Ve=Mt,Mt=void 0),at(Mt).includes(Ve)),De=(Mt=window)=>{if(typeof Mt>"u")return[];Mt.Ionic=Mt.Ionic||{};let Ve=Mt.Ionic.platforms;return null==Ve&&(Ve=Mt.Ionic.platforms=it(Mt),Ve.forEach(te=>Mt.document.documentElement.classList.add(`plt-${te}`))),Ve},it=Mt=>{const Ve=s.get("platform");return Object.keys(dn).filter(te=>{const ne=null==Ve?void 0:Ve[te];return"function"==typeof ne?ne(Mt):dn[te](Mt)})},nt=Mt=>!!(He(Mt,/iPad/i)||He(Mt,/Macintosh/i)&&Me(Mt)),_t=Mt=>He(Mt,/android|sink/i),Me=Mt=>Tt(Mt,"(any-pointer:coarse)"),tt=Mt=>Ye(Mt)||ut(Mt),Ye=Mt=>!!(Mt.cordova||Mt.phonegap||Mt.PhoneGap),ut=Mt=>{const Ve=Mt.Capacitor;return!(null==Ve||!Ve.isNative)},He=(Mt,Ve)=>Ve.test(Mt.navigator.userAgent),Tt=(Mt,Ve)=>{var te;return null===(te=Mt.matchMedia)||void 0===te?void 0:te.call(Mt,Ve).matches},dn={ipad:nt,iphone:Mt=>He(Mt,/iPhone/i),ios:Mt=>He(Mt,/iPhone|iPod/i)||nt(Mt),android:_t,phablet:Mt=>{const Ve=Mt.innerWidth,te=Mt.innerHeight,ne=Math.min(Ve,te),ge=Math.max(Ve,te);return ne>390&&ne<520&&ge>620&&ge<800},tablet:Mt=>{const Ve=Mt.innerWidth,te=Mt.innerHeight,ne=Math.min(Ve,te),ge=Math.max(Ve,te);return nt(Mt)||(Mt=>_t(Mt)&&!He(Mt,/mobile/i))(Mt)||ne>460&&ne<820&&ge>780&&ge<1400},cordova:Ye,capacitor:ut,electron:Mt=>He(Mt,/electron/i),pwa:Mt=>{var Ve;return!!(null!==(Ve=Mt.matchMedia)&&void 0!==Ve&&Ve.call(Mt,"(display-mode: standalone)").matches||Mt.navigator.standalone)},mobile:Me,mobileweb:Mt=>Me(Mt)&&!tt(Mt),desktop:Mt=>!Me(Mt),hybrid:tt}},9986:(xn,St,L)=>{"use strict";L.d(St,{c:()=>Qe});var d=L(8476);let s;const de=(me,et,at)=>{const Le=et.startsWith("animation")?(me=>(void 0===s&&(s=void 0===me.style.animationName&&void 0!==me.style.webkitAnimationName?"-webkit-":""),s))(me):"";me.style.setProperty(Le+et,at)},ae=(me=[],et)=>{if(void 0!==et){const at=Array.isArray(et)?et:[et];return[...me,...at]}return me},Qe=me=>{let et,at,Le,De,it,ot,mt,Ht,he,He,nn,nt=[],ct=[],Ct=[],_t=!1,Nt={},It=[],Me=[],Fe={},tt=0,Ye=!1,ut=!1,Tt=!0,dn=!1,An=!0,Rn=!1;const Mt=me,Ve=[],te=[],ne=[],ge=[],Ke=[],Oe=[],$e=[],Re=[],Ze=[],dt=[],Ot=[],jt="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,Pt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&jt,mn=()=>Ot,tr=(re,Ue)=>{const Lt=Ue.findIndex(Ut=>Ut.c===re);Lt>-1&&Ue.splice(Lt,1)},xe=(re,Ue)=>((null!=Ue&&Ue.oneTimeCallback?te:Ve).push({c:re,o:Ue}),nn),hn=()=>{Pt&&(Ot.forEach(re=>{re.cancel()}),Ot.length=0)},sr=()=>{Oe.forEach(re=>{null!=re&&re.parentNode&&re.parentNode.removeChild(re)}),Oe.length=0},Qn=()=>void 0!==it?it:mt?mt.getFill():"both",Bn=()=>void 0!==Ht?Ht:void 0!==ot?ot:mt?mt.getDirection():"normal",Ln=()=>Ye?"linear":void 0!==Le?Le:mt?mt.getEasing():"linear",pr=()=>ut?0:void 0!==he?he:void 0!==at?at:mt?mt.getDuration():0,zn=()=>void 0!==De?De:mt?mt.getIterations():1,si=()=>void 0!==He?He:void 0!==et?et:mt?mt.getDelay():0,Wn=()=>{0!==tt&&(tt--,0===tt&&((()=>{Ze.forEach(En=>En()),dt.forEach(En=>En());const re=Tt?1:0,Ue=It,Lt=Me,Ut=Fe;ge.forEach(En=>{const or=En.classList;Ue.forEach(nr=>or.add(nr)),Lt.forEach(nr=>or.remove(nr));for(const nr in Ut)Ut.hasOwnProperty(nr)&&de(En,nr,Ut[nr])}),he=void 0,Ht=void 0,He=void 0,Ve.forEach(En=>En.c(re,nn)),te.forEach(En=>En.c(re,nn)),te.length=0,An=!0,Tt&&(dn=!0),Tt=!0})(),mt&&mt.animationFinish()))},Ur=()=>{(()=>{$e.forEach(Ut=>Ut()),Re.forEach(Ut=>Ut());const re=ct,Ue=Ct,Lt=Nt;ge.forEach(Ut=>{const En=Ut.classList;re.forEach(or=>En.add(or)),Ue.forEach(or=>En.remove(or));for(const or in Lt)Lt.hasOwnProperty(or)&&de(Ut,or,Lt[or])})})(),nt.length>0&&Pt&&(ge.forEach(re=>{const Ue=re.animate(nt,{id:Mt,delay:si(),duration:pr(),easing:Ln(),iterations:zn(),fill:Qn(),direction:Bn()});Ue.pause(),Ot.push(Ue)}),Ot.length>0&&(Ot[0].onfinish=()=>{Wn()})),_t=!0},st=re=>{re=Math.min(Math.max(re,0),.9999),Pt&&Ot.forEach(Ue=>{Ue.currentTime=Ue.effect.getComputedTiming().delay+pr()*re,Ue.pause()})},wn=re=>{Ot.forEach(Ue=>{Ue.effect.updateTiming({delay:si(),duration:pr(),easing:Ln(),iterations:zn(),fill:Qn(),direction:Bn()})}),void 0!==re&&st(re)},Yn=(re=!1,Ue=!0,Lt)=>(re&&Ke.forEach(Ut=>{Ut.update(re,Ue,Lt)}),Pt&&wn(Lt),nn),Ti=()=>{_t&&(Pt?Ot.forEach(re=>{re.pause()}):ge.forEach(re=>{de(re,"animation-play-state","paused")}),Rn=!0)},Wt=re=>new Promise(Ue=>{null!=re&&re.sync&&(ut=!0,xe(()=>ut=!1,{oneTimeCallback:!0})),_t||Ur(),dn&&(Pt&&(st(0),wn()),dn=!1),An&&(tt=Ke.length+1,An=!1);const Lt=()=>{tr(Ut,te),Ue()},Ut=()=>{tr(Lt,ne),Ue()};xe(Ut,{oneTimeCallback:!0}),((re,Ue)=>{ne.push({c:re,o:{oneTimeCallback:!0}})})(Lt),Ke.forEach(En=>{En.play()}),Pt?(Ot.forEach(re=>{re.play()}),(0===nt.length||0===ge.length)&&Wn()):Wn(),Rn=!1}),ee=(re,Ue)=>{const Lt=nt[0];return void 0===Lt||void 0!==Lt.offset&&0!==Lt.offset?nt=[{offset:0,[re]:Ue},...nt]:Lt[re]=Ue,nn};return nn={parentAnimation:mt,elements:ge,childAnimations:Ke,id:Mt,animationFinish:Wn,from:ee,to:(re,Ue)=>{const Lt=nt[nt.length-1];return void 0===Lt||void 0!==Lt.offset&&1!==Lt.offset?nt=[...nt,{offset:1,[re]:Ue}]:Lt[re]=Ue,nn},fromTo:(re,Ue,Lt)=>ee(re,Ue).to(re,Lt),parent:re=>(mt=re,nn),play:Wt,pause:()=>(Ke.forEach(re=>{re.pause()}),Ti(),nn),stop:()=>{Ke.forEach(re=>{re.stop()}),_t&&(hn(),_t=!1),Ye=!1,ut=!1,An=!0,Ht=void 0,he=void 0,He=void 0,tt=0,dn=!1,Tt=!0,Rn=!1,ne.forEach(re=>re.c(0,nn)),ne.length=0},destroy:re=>(Ke.forEach(Ue=>{Ue.destroy(re)}),(re=>{hn(),re&&sr()})(re),ge.length=0,Ke.length=0,nt.length=0,Ve.length=0,te.length=0,_t=!1,An=!0,nn),keyframes:re=>{const Ue=nt!==re;return nt=re,Ue&&(re=>{Pt&&mn().forEach(Ue=>{const Lt=Ue.effect;if(Lt.setKeyframes)Lt.setKeyframes(re);else{const Ut=new KeyframeEffect(Lt.target,re,Lt.getTiming());Ue.effect=Ut}})})(nt),nn},addAnimation:re=>{if(null!=re)if(Array.isArray(re))for(const Ue of re)Ue.parent(nn),Ke.push(Ue);else re.parent(nn),Ke.push(re);return nn},addElement:re=>{if(null!=re)if(1===re.nodeType)ge.push(re);else if(re.length>=0)for(let Ue=0;Ue<re.length;Ue++)ge.push(re[Ue]);else console.error("Invalid addElement value");return nn},update:Yn,fill:re=>(it=re,Yn(!0),nn),direction:re=>(ot=re,Yn(!0),nn),iterations:re=>(De=re,Yn(!0),nn),duration:re=>(!Pt&&0===re&&(re=1),at=re,Yn(!0),nn),easing:re=>(Le=re,Yn(!0),nn),delay:re=>(et=re,Yn(!0),nn),getWebAnimations:mn,getKeyframes:()=>nt,getFill:Qn,getDirection:Bn,getDelay:si,getIterations:zn,getEasing:Ln,getDuration:pr,afterAddRead:re=>(Ze.push(re),nn),afterAddWrite:re=>(dt.push(re),nn),afterClearStyles:(re=[])=>{for(const Ue of re)Fe[Ue]="";return nn},afterStyles:(re={})=>(Fe=re,nn),afterRemoveClass:re=>(Me=ae(Me,re),nn),afterAddClass:re=>(It=ae(It,re),nn),beforeAddRead:re=>($e.push(re),nn),beforeAddWrite:re=>(Re.push(re),nn),beforeClearStyles:(re=[])=>{for(const Ue of re)Nt[Ue]="";return nn},beforeStyles:(re={})=>(Nt=re,nn),beforeRemoveClass:re=>(Ct=ae(Ct,re),nn),beforeAddClass:re=>(ct=ae(ct,re),nn),onFinish:xe,isRunning:()=>0!==tt&&!Rn,progressStart:(re=!1,Ue)=>(Ke.forEach(Lt=>{Lt.progressStart(re,Ue)}),Ti(),Ye=re,_t||Ur(),Yn(!1,!0,Ue),nn),progressStep:re=>(Ke.forEach(Ue=>{Ue.progressStep(re)}),st(re),nn),progressEnd:(re,Ue,Lt)=>(Ye=!1,Ke.forEach(Ut=>{Ut.progressEnd(re,Ue,Lt)}),void 0!==Lt&&(he=Lt),dn=!1,Tt=!0,0===re?(Ht="reverse"===Bn()?"normal":"reverse","reverse"===Ht&&(Tt=!1),Pt?(Yn(),st(1-Ue)):(He=(1-Ue)*pr()*-1,Yn(!1,!1))):1===re&&(Pt?(Yn(),st(Ue)):(He=Ue*pr()*-1,Yn(!1,!1))),void 0!==re&&!mt&&Wt(),nn)}}},464:(xn,St,L)=>{"use strict";L.d(St,{E:()=>Le,a:()=>d,s:()=>et});const d=De=>{try{if(De instanceof me)return De.value;if(!de()||"string"!=typeof De||""===De)return De;if(De.includes("onload="))return"";const it=document.createDocumentFragment(),ot=document.createElement("div");it.appendChild(ot),ot.innerHTML=De,Qe.forEach(_t=>{const mt=it.querySelectorAll(_t);for(let Nt=mt.length-1;Nt>=0;Nt--){const It=mt[Nt];It.parentNode?It.parentNode.removeChild(It):it.removeChild(It);const Me=k(It);for(let Fe=0;Fe<Me.length;Fe++)s(Me[Fe])}});const nt=k(it);for(let _t=0;_t<nt.length;_t++)s(nt[_t]);const ct=document.createElement("div");ct.appendChild(it);const Ct=ct.querySelector("div");return null!==Ct?Ct.innerHTML:ct.innerHTML}catch(it){return console.error(it),""}},s=De=>{if(De.nodeType&&1!==De.nodeType)return;if(typeof NamedNodeMap<"u"&&!(De.attributes instanceof NamedNodeMap))return void De.remove();for(let ot=De.attributes.length-1;ot>=0;ot--){const nt=De.attributes.item(ot),ct=nt.name;if(!ae.includes(ct.toLowerCase())){De.removeAttribute(ct);continue}const Ct=nt.value,_t=De[ct];(null!=Ct&&Ct.toLowerCase().includes("javascript:")||null!=_t&&_t.toLowerCase().includes("javascript:"))&&De.removeAttribute(ct)}const it=k(De);for(let ot=0;ot<it.length;ot++)s(it[ot])},k=De=>null!=De.children?De.children:De.childNodes,de=()=>{var De;const it=window,ot=null===(De=null==it?void 0:it.Ionic)||void 0===De?void 0:De.config;return!ot||(ot.get?ot.get("sanitizerEnabled",!0):!0===ot.sanitizerEnabled||void 0===ot.sanitizerEnabled)},ae=["class","id","href","src","name","slot"],Qe=["script","style","iframe","meta","link","object","embed"];class me{constructor(it){this.value=it}}const et=De=>{const it=window,ot=it.Ionic;if(!ot||!ot.config||"Object"===ot.config.constructor.name)return it.Ionic=it.Ionic||{},it.Ionic.config=Object.assign(Object.assign({},it.Ionic.config),De),it.Ionic.config},Le=!1},1002:(xn,St,L)=>{"use strict";L.d(St,{C:()=>ae,a:()=>k,d:()=>de});var d=L(467),s=L(4920);const k=function(){var Qe=(0,d.A)(function*(me,et,at,Le,De,it){var ot;if(me)return me.attachViewToDom(et,at,De,Le);if(!(it||"string"==typeof at||at instanceof HTMLElement))throw new Error("framework delegate is missing");const nt="string"==typeof at?null===(ot=et.ownerDocument)||void 0===ot?void 0:ot.createElement(at):at;return Le&&Le.forEach(ct=>nt.classList.add(ct)),De&&Object.assign(nt,De),et.appendChild(nt),yield new Promise(ct=>(0,s.c)(nt,ct)),nt});return function(et,at,Le,De,it,ot){return Qe.apply(this,arguments)}}(),de=(Qe,me)=>{if(me){if(Qe)return Qe.removeViewFromDom(me.parentElement,me);me.remove()}return Promise.resolve()},ae=()=>{let Qe,me;return{attachViewToDom:function(){var Le=(0,d.A)(function*(De,it,ot={},nt=[]){var ct,Ct;let _t;if(Qe=De,it){const Nt="string"==typeof it?null===(ct=Qe.ownerDocument)||void 0===ct?void 0:ct.createElement(it):it;nt.forEach(It=>Nt.classList.add(It)),Object.assign(Nt,ot),Qe.appendChild(Nt),_t=Nt,yield new Promise(It=>(0,s.c)(Nt,It))}else if(Qe.children.length>0&&("ION-MODAL"===Qe.tagName||"ION-POPOVER"===Qe.tagName)&&!(_t=Qe.children[0]).classList.contains("ion-delegate-host")){const It=null===(Ct=Qe.ownerDocument)||void 0===Ct?void 0:Ct.createElement("div");It.classList.add("ion-delegate-host"),nt.forEach(Me=>It.classList.add(Me)),It.append(...Qe.children),Qe.appendChild(It),_t=It}const mt=document.querySelector("ion-app")||document.body;return me=document.createComment("ionic teleport"),Qe.parentNode.insertBefore(me,Qe),mt.appendChild(Qe),null!=_t?_t:Qe});return function(it,ot){return Le.apply(this,arguments)}}(),removeViewFromDom:()=>(Qe&&me&&(me.parentNode.insertBefore(Qe,me),me.remove()),Promise.resolve())}}},1970:(xn,St,L)=>{"use strict";L.d(St,{B:()=>de,G:()=>ae});class s{constructor(me,et,at,Le,De){this.id=et,this.name=at,this.disableScroll=De,this.priority=1e6*Le+et,this.ctrl=me}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const me=this.ctrl.capture(this.name,this.id,this.priority);return me&&this.disableScroll&&this.ctrl.disableScroll(this.id),me}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class k{constructor(me,et,at,Le){this.id=et,this.disable=at,this.disableScroll=Le,this.ctrl=me}block(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.disableGesture(me,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.enableGesture(me,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const de="backdrop-no-scroll",ae=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(me){var et;return new s(this,this.newID(),me.name,null!==(et=me.priority)&&void 0!==et?et:0,!!me.disableScroll)}createBlocker(me={}){return new k(this,this.newID(),me.disable,!!me.disableScroll)}start(me,et,at){return this.canStart(me)?(this.requestedStart.set(et,at),!0):(this.requestedStart.delete(et),!1)}capture(me,et,at){if(!this.start(me,et,at))return!1;const Le=this.requestedStart;let De=-1e4;if(Le.forEach(it=>{De=Math.max(De,it)}),De===at){this.capturedId=et,Le.clear();const it=new CustomEvent("ionGestureCaptured",{detail:{gestureName:me}});return document.dispatchEvent(it),!0}return Le.delete(et),!1}release(me){this.requestedStart.delete(me),this.capturedId===me&&(this.capturedId=void 0)}disableGesture(me,et){let at=this.disabledGestures.get(me);void 0===at&&(at=new Set,this.disabledGestures.set(me,at)),at.add(et)}enableGesture(me,et){const at=this.disabledGestures.get(me);void 0!==at&&at.delete(et)}disableScroll(me){this.disabledScroll.add(me),1===this.disabledScroll.size&&document.body.classList.add(de)}enableScroll(me){this.disabledScroll.delete(me),0===this.disabledScroll.size&&document.body.classList.remove(de)}canStart(me){return!(void 0!==this.capturedId||this.isDisabled(me))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(me){const et=this.disabledGestures.get(me);return!!(et&&et.size>0)}newID(){return this.gestureId++,this.gestureId}}},6411:(xn,St,L)=>{"use strict";L.r(St),L.d(St,{MENU_BACK_BUTTON_PRIORITY:()=>at,OVERLAY_BACK_BUTTON_PRIORITY:()=>et,blockHardwareBackButton:()=>Qe,shouldUseCloseWatcher:()=>ae,startHardwareBackButton:()=>me});var d=L(467),s=L(8476),k=L(3664);L(9672);const ae=()=>k.c.get("experimentalCloseWatcher",!1)&&void 0!==s.w&&"CloseWatcher"in s.w,Qe=()=>{document.addEventListener("backbutton",()=>{})},me=()=>{const Le=document;let De=!1;const it=()=>{if(De)return;let ot=0,nt=[];const ct=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(mt,Nt){nt.push({priority:mt,handler:Nt,id:ot++})}}});Le.dispatchEvent(ct);const Ct=function(){var mt=(0,d.A)(function*(Nt){try{if(null!=Nt&&Nt.handler){const It=Nt.handler(_t);null!=It&&(yield It)}}catch(It){console.error(It)}});return function(It){return mt.apply(this,arguments)}}(),_t=()=>{if(nt.length>0){let mt={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};nt.forEach(Nt=>{Nt.priority>=mt.priority&&(mt=Nt)}),De=!0,nt=nt.filter(Nt=>Nt.id!==mt.id),Ct(mt).then(()=>De=!1)}};_t()};if(ae()){let ot;const nt=()=>{null==ot||ot.destroy(),ot=new s.w.CloseWatcher,ot.onclose=()=>{it(),nt()}};nt()}else Le.addEventListener("backbutton",it)},et=100,at=99},4920:(xn,St,L)=>{"use strict";L.d(St,{a:()=>et,b:()=>at,c:()=>k,d:()=>nt,e:()=>Nt,f:()=>ot,g:()=>Le,h:()=>ae,i:()=>me,j:()=>ct,k:()=>de,l:()=>it,m:()=>Ct,n:()=>mt,o:()=>It,p:()=>_t,r:()=>De,s:()=>Me,t:()=>d});const d=(Fe,tt=0)=>new Promise(Ye=>{s(Fe,tt,Ye)}),s=(Fe,tt=0,Ye)=>{let ut,Ht;const he={passive:!0},Tt=()=>{ut&&ut()},dn=An=>{(void 0===An||Fe===An.target)&&(Tt(),Ye(An))};return Fe&&(Fe.addEventListener("webkitTransitionEnd",dn,he),Fe.addEventListener("transitionend",dn,he),Ht=setTimeout(dn,tt+500),ut=()=>{void 0!==Ht&&(clearTimeout(Ht),Ht=void 0),Fe.removeEventListener("webkitTransitionEnd",dn,he),Fe.removeEventListener("transitionend",dn,he)}),Tt},k=(Fe,tt)=>{Fe.componentOnReady?Fe.componentOnReady().then(Ye=>tt(Ye)):De(()=>tt(Fe))},de=Fe=>void 0!==Fe.componentOnReady,ae=(Fe,tt=[])=>{const Ye={};return tt.forEach(ut=>{Fe.hasAttribute(ut)&&(null!==Fe.getAttribute(ut)&&(Ye[ut]=Fe.getAttribute(ut)),Fe.removeAttribute(ut))}),Ye},Qe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],me=(Fe,tt)=>{let Ye=Qe;return tt&&tt.length>0&&(Ye=Ye.filter(ut=>!tt.includes(ut))),ae(Fe,Ye)},et=(Fe,tt,Ye,ut)=>{var Ht;if(typeof window<"u"){const he=window,He=null===(Ht=null==he?void 0:he.Ionic)||void 0===Ht?void 0:Ht.config;if(He){const Tt=He.get("_ael");if(Tt)return Tt(Fe,tt,Ye,ut);if(He._ael)return He._ael(Fe,tt,Ye,ut)}}return Fe.addEventListener(tt,Ye,ut)},at=(Fe,tt,Ye,ut)=>{var Ht;if(typeof window<"u"){const he=window,He=null===(Ht=null==he?void 0:he.Ionic)||void 0===Ht?void 0:Ht.config;if(He){const Tt=He.get("_rel");if(Tt)return Tt(Fe,tt,Ye,ut);if(He._rel)return He._rel(Fe,tt,Ye,ut)}}return Fe.removeEventListener(tt,Ye,ut)},Le=(Fe,tt=Fe)=>Fe.shadowRoot||tt,De=Fe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Fe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Fe):setTimeout(Fe),it=Fe=>!!Fe.shadowRoot&&!!Fe.attachShadow,ot=Fe=>{if(Fe.focus(),Fe.classList.contains("ion-focusable")){const tt=Fe.closest("ion-app");tt&&tt.setFocus([Fe])}},nt=(Fe,tt,Ye,ut,Ht)=>{if(Fe||it(tt)){let he=tt.querySelector("input.aux-input");he||(he=tt.ownerDocument.createElement("input"),he.type="hidden",he.classList.add("aux-input"),tt.appendChild(he)),he.disabled=Ht,he.name=Ye,he.value=ut||""}},ct=(Fe,tt,Ye)=>Math.max(Fe,Math.min(tt,Ye)),Ct=(Fe,tt)=>{if(!Fe){const Ye="ASSERT: "+tt;throw console.error(Ye),new Error(Ye)}},_t=Fe=>{if(Fe){const tt=Fe.changedTouches;if(tt&&tt.length>0){const Ye=tt[0];return{x:Ye.clientX,y:Ye.clientY}}if(void 0!==Fe.pageX)return{x:Fe.pageX,y:Fe.pageY}}return{x:0,y:0}},mt=Fe=>{const tt="rtl"===document.dir;switch(Fe){case"start":return tt;case"end":return!tt;default:throw new Error(`"${Fe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Nt=(Fe,tt)=>{const Ye=Fe._original||Fe;return{_original:Fe,emit:It(Ye.emit.bind(Ye),tt)}},It=(Fe,tt=0)=>{let Ye;return(...ut)=>{clearTimeout(Ye),Ye=setTimeout(Fe,tt,...ut)}},Me=(Fe,tt)=>{if(null!=Fe||(Fe={}),null!=tt||(tt={}),Fe===tt)return!0;const Ye=Object.keys(Fe);if(Ye.length!==Object.keys(tt).length)return!1;for(const ut of Ye)if(!(ut in tt)||Fe[ut]!==tt[ut])return!1;return!0}},5465:(xn,St,L)=>{"use strict";L.d(St,{m:()=>ot});var d=L(467),s=L(8476),k=L(6411),de=L(4929),ae=L(4920),Qe=L(3664),me=L(9986);const et=nt=>(0,me.c)().duration(nt?400:300),at=nt=>{let ct,Ct;const _t=nt.width+8,mt=(0,me.c)(),Nt=(0,me.c)();nt.isEndSide?(ct=_t+"px",Ct="0px"):(ct=-_t+"px",Ct="0px"),mt.addElement(nt.menuInnerEl).fromTo("transform",`translateX(${ct})`,`translateX(${Ct})`);const Me="ios"===(0,Qe.b)(nt),Fe=Me?.2:.25;return Nt.addElement(nt.backdropEl).fromTo("opacity",.01,Fe),et(Me).addAnimation([mt,Nt])},Le=nt=>{let ct,Ct;const _t=(0,Qe.b)(nt),mt=nt.width;nt.isEndSide?(ct=-mt+"px",Ct=mt+"px"):(ct=mt+"px",Ct=-mt+"px");const Nt=(0,me.c)().addElement(nt.menuInnerEl).fromTo("transform",`translateX(${Ct})`,"translateX(0px)"),It=(0,me.c)().addElement(nt.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`),Me=(0,me.c)().addElement(nt.backdropEl).fromTo("opacity",.01,.32);return et("ios"===_t).addAnimation([Nt,It,Me])},De=nt=>{const ct=(0,Qe.b)(nt),Ct=nt.width*(nt.isEndSide?-1:1)+"px",_t=(0,me.c)().addElement(nt.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ct})`);return et("ios"===ct).addAnimation(_t)},ot=(()=>{const nt=new Map,ct=[],Ct=function(){var ne=(0,d.A)(function*(ge){const Ke=yield tt(ge,!0);return!!Ke&&Ke.open()});return function(Ke){return ne.apply(this,arguments)}}(),_t=function(){var ne=(0,d.A)(function*(ge){const Ke=yield void 0!==ge?tt(ge,!0):Ye();return void 0!==Ke&&Ke.close()});return function(Ke){return ne.apply(this,arguments)}}(),mt=function(){var ne=(0,d.A)(function*(ge){const Ke=yield tt(ge,!0);return!!Ke&&Ke.toggle()});return function(Ke){return ne.apply(this,arguments)}}(),Nt=function(){var ne=(0,d.A)(function*(ge,Ke){const Oe=yield tt(Ke);return Oe&&(Oe.disabled=!ge),Oe});return function(Ke,Oe){return ne.apply(this,arguments)}}(),It=function(){var ne=(0,d.A)(function*(ge,Ke){const Oe=yield tt(Ke);return Oe&&(Oe.swipeGesture=ge),Oe});return function(Ke,Oe){return ne.apply(this,arguments)}}(),Me=function(){var ne=(0,d.A)(function*(ge){if(null!=ge){const Ke=yield tt(ge);return void 0!==Ke&&Ke.isOpen()}return void 0!==(yield Ye())});return function(Ke){return ne.apply(this,arguments)}}(),Fe=function(){var ne=(0,d.A)(function*(ge){const Ke=yield tt(ge);return!!Ke&&!Ke.disabled});return function(Ke){return ne.apply(this,arguments)}}(),tt=function(){var ne=(0,d.A)(function*(ge,Ke=!1){if(yield te(),"start"===ge||"end"===ge){const $e=ct.filter(Ze=>Ze.side===ge&&!Ze.disabled);if($e.length>=1)return $e.length>1&&Ke&&(0,de.p)(`menuController queried for a menu on the "${ge}" side, but ${$e.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,$e.map(Ze=>Ze.el)),$e[0].el;const Re=ct.filter(Ze=>Ze.side===ge);if(Re.length>=1)return Re.length>1&&Ke&&(0,de.p)(`menuController queried for a menu on the "${ge}" side, but ${Re.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Re.map(Ze=>Ze.el)),Re[0].el}else if(null!=ge)return Ve($e=>$e.menuId===ge);return Ve($e=>!$e.disabled)||(ct.length>0?ct[0].el:void 0)});return function(Ke){return ne.apply(this,arguments)}}(),Ye=function(){var ne=(0,d.A)(function*(){return yield te(),nn()});return function(){return ne.apply(this,arguments)}}(),ut=function(){var ne=(0,d.A)(function*(){return yield te(),Rn()});return function(){return ne.apply(this,arguments)}}(),Ht=function(){var ne=(0,d.A)(function*(){return yield te(),Mt()});return function(){return ne.apply(this,arguments)}}(),he=(ne,ge)=>{nt.set(ne,ge)},dn=function(){var ne=(0,d.A)(function*(ge,Ke,Oe){if(Mt())return!1;if(Ke){const $e=yield Ye();$e&&ge.el!==$e&&(yield $e.setOpen(!1,!1))}return ge._setOpen(Ke,Oe)});return function(Ke,Oe,$e){return ne.apply(this,arguments)}}(),nn=()=>Ve(ne=>ne._isOpen),Rn=()=>ct.map(ne=>ne.el),Mt=()=>ct.some(ne=>ne.isAnimating),Ve=ne=>{const ge=ct.find(ne);if(void 0!==ge)return ge.el},te=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ne=>new Promise(ge=>(0,ae.c)(ne,ge))));return he("reveal",De),he("push",Le),he("overlay",at),null==s.d||s.d.addEventListener("ionBackButton",ne=>{const ge=nn();ge&&ne.detail.register(k.MENU_BACK_BUTTON_PRIORITY,()=>ge.close())}),{registerAnimation:he,get:tt,getMenus:ut,getOpen:Ye,isEnabled:Fe,swipeGesture:It,isAnimating:Ht,isOpen:Me,enable:Nt,toggle:mt,close:_t,open:Ct,_getOpenSync:nn,_createAnimation:(ne,ge)=>{const Ke=nt.get(ne);if(!Ke)throw new Error("animation not registered");return Ke(ge)},_register:ne=>{ct.indexOf(ne)<0&&ct.push(ne)},_unregister:ne=>{const ge=ct.indexOf(ne);ge>-1&&ct.splice(ge,1)},_setOpen:dn}})()},8607:(xn,St,L)=>{"use strict";L.r(St),L.d(St,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>at});var d=L(1970);const s=(ot,nt,ct,Ct)=>{const _t=k(ot)?{capture:!!Ct.capture,passive:!!Ct.passive}:!!Ct.capture;let mt,Nt;return ot.__zone_symbol__addEventListener?(mt="__zone_symbol__addEventListener",Nt="__zone_symbol__removeEventListener"):(mt="addEventListener",Nt="removeEventListener"),ot[mt](nt,ct,_t),()=>{ot[Nt](nt,ct,_t)}},k=ot=>{if(void 0===de)try{const nt=Object.defineProperty({},"passive",{get:()=>{de=!0}});ot.addEventListener("optsTest",()=>{},nt)}catch{de=!1}return!!de};let de;const me=ot=>ot instanceof Document?ot:ot.ownerDocument,at=ot=>{let nt=!1,ct=!1,Ct=!0,_t=!1;const mt=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ot),Nt=mt.canStart,It=mt.onWillStart,Me=mt.onStart,Fe=mt.onEnd,tt=mt.notCaptured,Ye=mt.onMove,ut=mt.threshold,Ht=mt.passive,he=mt.blurOnStart,He={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Tt=((ot,nt,ct)=>{const Ct=ct*(Math.PI/180),_t="x"===ot,mt=Math.cos(Ct),Nt=nt*nt;let It=0,Me=0,Fe=!1,tt=0;return{start(Ye,ut){It=Ye,Me=ut,tt=0,Fe=!0},detect(Ye,ut){if(!Fe)return!1;const Ht=Ye-It,he=ut-Me,He=Ht*Ht+he*he;if(He<Nt)return!1;const Tt=Math.sqrt(He),dn=(_t?Ht:he)/Tt;return tt=dn>mt?1:dn<-mt?-1:0,Fe=!1,!0},isGesture:()=>0!==tt,getDirection:()=>tt}})(mt.direction,mt.threshold,mt.maxAngle),dn=d.G.createGesture({name:ot.gestureName,priority:ot.gesturePriority,disableScroll:ot.disableScroll}),Rn=()=>{nt&&(_t=!1,Ye&&Ye(He))},Mt=()=>!!dn.capture()&&(nt=!0,Ct=!1,He.startX=He.currentX,He.startY=He.currentY,He.startTime=He.currentTime,It?It(He).then(te):te(),!0),te=()=>{he&&(()=>{if(typeof document<"u"){const $e=document.activeElement;null!=$e&&$e.blur&&$e.blur()}})(),Me&&Me(He),Ct=!0},ne=()=>{nt=!1,ct=!1,_t=!1,Ct=!0,dn.release()},ge=$e=>{const Re=nt,Ze=Ct;if(ne(),Ze){if(Le(He,$e),Re)return void(Fe&&Fe(He));tt&&tt(He)}},Ke=((ot,nt,ct,Ct,_t)=>{let mt,Nt,It,Me,Fe,tt,Ye,ut=0;const Ht=Ve=>{ut=Date.now()+2e3,nt(Ve)&&(!Nt&&ct&&(Nt=s(ot,"touchmove",ct,_t)),It||(It=s(Ve.target,"touchend",He,_t)),Me||(Me=s(Ve.target,"touchcancel",He,_t)))},he=Ve=>{ut>Date.now()||nt(Ve)&&(!tt&&ct&&(tt=s(me(ot),"mousemove",ct,_t)),Ye||(Ye=s(me(ot),"mouseup",Tt,_t)))},He=Ve=>{dn(),Ct&&Ct(Ve)},Tt=Ve=>{An(),Ct&&Ct(Ve)},dn=()=>{Nt&&Nt(),It&&It(),Me&&Me(),Nt=It=Me=void 0},An=()=>{tt&&tt(),Ye&&Ye(),tt=Ye=void 0},nn=()=>{dn(),An()},Rn=(Ve=!0)=>{Ve?(mt||(mt=s(ot,"touchstart",Ht,_t)),Fe||(Fe=s(ot,"mousedown",he,_t))):(mt&&mt(),Fe&&Fe(),mt=Fe=void 0,nn())};return{enable:Rn,stop:nn,destroy:()=>{Rn(!1),Ct=ct=nt=void 0}}})(mt.el,$e=>{const Re=it($e);return!(ct||!Ct||(De($e,He),He.startX=He.currentX,He.startY=He.currentY,He.startTime=He.currentTime=Re,He.velocityX=He.velocityY=He.deltaX=He.deltaY=0,He.event=$e,Nt&&!1===Nt(He))||(dn.release(),!dn.start()))&&(ct=!0,0===ut?Mt():(Tt.start(He.startX,He.startY),!0))},$e=>{nt?!_t&&Ct&&(_t=!0,Le(He,$e),requestAnimationFrame(Rn)):(Le(He,$e),Tt.detect(He.currentX,He.currentY)&&(!Tt.isGesture()||!Mt())&&Oe())},ge,{capture:!1,passive:Ht}),Oe=()=>{ne(),Ke.stop(),tt&&tt(He)};return{enable($e=!0){$e||(nt&&ge(void 0),ne()),Ke.enable($e)},destroy(){dn.destroy(),Ke.destroy()}}},Le=(ot,nt)=>{if(!nt)return;const ct=ot.currentX,Ct=ot.currentY,_t=ot.currentTime;De(nt,ot);const mt=ot.currentX,Nt=ot.currentY,Me=(ot.currentTime=it(nt))-_t;if(Me>0&&Me<100){const tt=(Nt-Ct)/Me;ot.velocityX=(mt-ct)/Me*.7+.3*ot.velocityX,ot.velocityY=.7*tt+.3*ot.velocityY}ot.deltaX=mt-ot.startX,ot.deltaY=Nt-ot.startY,ot.event=nt},De=(ot,nt)=>{let ct=0,Ct=0;if(ot){const _t=ot.changedTouches;if(_t&&_t.length>0){const mt=_t[0];ct=mt.clientX,Ct=mt.clientY}else void 0!==ot.pageX&&(ct=ot.pageX,Ct=ot.pageY)}nt.currentX=ct,nt.currentY=Ct},it=ot=>ot.timeStamp||Date.now()},9672:(xn,St,L)=>{"use strict";L.d(St,{B:()=>Qe,a:()=>Ws,b:()=>ai,c:()=>Ze,d:()=>Pt,e:()=>br,f:()=>Mt,g:()=>dt,h:()=>nn,i:()=>jt,j:()=>Yn,k:()=>me,r:()=>Dr,w:()=>Br});var d=L(467);var de=Object.defineProperty,Qe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},me=K=>{const ve=new URL(K,Ir.$resourcesUrl$);return ve.origin!==Jn.location.origin?ve.href:ve.pathname},et={},it=K=>"object"==(K=typeof K)||"function"===K;function ot(K){var ve,ke,Je;return null!=(Je=null==(ke=null==(ve=K.head)?void 0:ve.querySelector('meta[name="csp-nonce"]'))?void 0:ke.getAttribute("content"))?Je:void 0}((K,ve)=>{for(var ke in ve)de(K,ke,{get:ve[ke],enumerable:!0})})({},{err:()=>Ct,map:()=>_t,ok:()=>ct,unwrap:()=>mt,unwrapErr:()=>Nt});var ct=K=>({isOk:!0,isErr:!1,value:K}),Ct=K=>({isOk:!1,isErr:!0,value:K});function _t(K,ve){if(K.isOk){const ke=ve(K.value);return ke instanceof Promise?ke.then(Je=>ct(Je)):ct(ke)}if(K.isErr)return Ct(K.value);throw"should never get here"}var mt=K=>{if(K.isOk)return K.value;throw K.value},Nt=K=>{if(K.isErr)return K.value;throw K.value},Ht="s-id",he="sty-id",dn="slot-fb{display:contents}slot-fb[hidden]{display:none}",An="http://www.w3.org/1999/xlink",nn=(K,ve,...ke)=>{let Je=null,xt=null,Et=null,Zt=!1,un=!1;const an=[],ln=jn=>{for(let Zn=0;Zn<jn.length;Zn++)Je=jn[Zn],Array.isArray(Je)?ln(Je):null!=Je&&"boolean"!=typeof Je&&((Zt="function"!=typeof K&&!it(Je))&&(Je=String(Je)),Zt&&un?an[an.length-1].$text$+=Je:an.push(Zt?Rn(null,Je):Je),un=Zt)};if(ln(ke),ve){ve.key&&(xt=ve.key),ve.name&&(Et=ve.name);{const jn=ve.className||ve.class;jn&&(ve.class="object"!=typeof jn?jn:Object.keys(jn).filter(Zn=>jn[Zn]).join(" "))}}if("function"==typeof K)return K(null===ve?{}:ve,an,te);const On=Rn(K,null);return On.$attrs$=ve,an.length>0&&(On.$children$=an),On.$key$=xt,On.$name$=Et,On},Rn=(K,ve)=>({$flags$:0,$tag$:K,$text$:ve,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Mt={},te={forEach:(K,ve)=>K.map(ne).forEach(ve),map:(K,ve)=>K.map(ne).map(ve).map(ge)},ne=K=>({vattrs:K.$attrs$,vchildren:K.$children$,vkey:K.$key$,vname:K.$name$,vtag:K.$tag$,vtext:K.$text$}),ge=K=>{if("function"==typeof K.vtag){const ke={...K.vattrs};return K.vkey&&(ke.key=K.vkey),K.vname&&(ke.name=K.vname),nn(K.vtag,ke,...K.vchildren||[])}const ve=Rn(K.vtag,K.vtext);return ve.$attrs$=K.vattrs,ve.$children$=K.vchildren,ve.$key$=K.vkey,ve.$name$=K.vname,ve},Oe=(K,ve,ke,Je,xt,Et,Zt)=>{let un,an,ln,On;if(1===Et.nodeType){for(un=Et.getAttribute("c-id"),un&&(an=un.split("."),(an[0]===Zt||"0"===an[0])&&(ln={$flags$:0,$hostId$:an[0],$nodeId$:an[1],$depth$:an[2],$index$:an[3],$tag$:Et.tagName.toLowerCase(),$elm$:Et,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ve.push(ln),Et.removeAttribute("c-id"),K.$children$||(K.$children$=[]),K.$children$[ln.$index$]=ln,K=ln,Je&&"0"===ln.$depth$&&(Je[ln.$index$]=ln.$elm$))),On=Et.childNodes.length-1;On>=0;On--)Oe(K,ve,ke,Je,xt,Et.childNodes[On],Zt);if(Et.shadowRoot)for(On=Et.shadowRoot.childNodes.length-1;On>=0;On--)Oe(K,ve,ke,Je,xt,Et.shadowRoot.childNodes[On],Zt)}else if(8===Et.nodeType)an=Et.nodeValue.split("."),(an[1]===Zt||"0"===an[1])&&(un=an[0],ln={$flags$:0,$hostId$:an[1],$nodeId$:an[2],$depth$:an[3],$index$:an[4],$elm$:Et,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===un?(ln.$elm$=Et.nextSibling,ln.$elm$&&3===ln.$elm$.nodeType&&(ln.$text$=ln.$elm$.textContent,ve.push(ln),Et.remove(),K.$children$||(K.$children$=[]),K.$children$[ln.$index$]=ln,Je&&"0"===ln.$depth$&&(Je[ln.$index$]=ln.$elm$))):ln.$hostId$===Zt&&("s"===un?(ln.$tag$="slot",Et["s-sn"]=an[5]?ln.$name$=an[5]:"",Et["s-sr"]=!0,Je&&(ln.$elm$=li.createElement(ln.$tag$),ln.$name$&&ln.$elm$.setAttribute("name",ln.$name$),Et.parentNode.insertBefore(ln.$elm$,Et),Et.remove(),"0"===ln.$depth$&&(Je[ln.$index$]=ln.$elm$)),ke.push(ln),K.$children$||(K.$children$=[]),K.$children$[ln.$index$]=ln):"r"===un&&(Je?Et.remove():(xt["s-cr"]=Et,Et["s-cn"]=!0))));else if(K&&"style"===K.$tag$){const jn=Rn(null,Et.textContent);jn.$elm$=Et,jn.$index$="0",K.$children$=[jn]}},$e=(K,ve)=>{if(1===K.nodeType){let ke=0;for(;ke<K.childNodes.length;ke++)$e(K.childNodes[ke],ve);if(K.shadowRoot)for(ke=0;ke<K.shadowRoot.childNodes.length;ke++)$e(K.shadowRoot.childNodes[ke],ve)}else if(8===K.nodeType){const ke=K.nodeValue.split(".");"o"===ke[0]&&(ve.set(ke[1]+"."+ke[2],K),K.nodeValue="",K["s-en"]=ke[3])}},Ze=K=>is.push(K),dt=K=>ro(K).$modeName$,jt=K=>ro(K).$hostElement$,Pt=(K,ve,ke)=>{const Je=jt(K);return{emit:xt=>mn(Je,ve,{bubbles:!!(4&ke),composed:!!(2&ke),cancelable:!!(1&ke),detail:xt})}},mn=(K,ve,ke)=>{const Je=Ir.ce(ve,ke);return K.dispatchEvent(Je),Je},Nn=new WeakMap,$n=(K,ve,ke)=>{let Je=Gs.get(K);ci&&ke?(Je=Je||new CSSStyleSheet,"string"==typeof Je?Je=ve:Je.replaceSync(ve)):Je=ve,Gs.set(K,Je)},en=(K,ve,ke)=>{var Je;const xt=tr(ve,ke),Et=Gs.get(xt);if(K=11===K.nodeType?K:li,Et)if("string"==typeof Et){let un,Zt=Nn.get(K=K.head||K);if(Zt||Nn.set(K,Zt=new Set),!Zt.has(xt)){if(K.host&&(un=K.querySelector(`[${he}="${xt}"]`)))un.innerHTML=Et;else{un=li.createElement("style"),un.innerHTML=Et;const an=null!=(Je=Ir.$nonce$)?Je:ot(li);null!=an&&un.setAttribute("nonce",an),K.insertBefore(un,K.querySelector("link"))}4&ve.$flags$&&(un.innerHTML+=dn),Zt&&Zt.add(xt)}}else K.adoptedStyleSheets.includes(Et)||(K.adoptedStyleSheets=[...K.adoptedStyleSheets,Et]);return xt},tr=(K,ve)=>"sc-"+(ve&&32&K.$flags$?K.$tagName$+"-"+ve:K.$tagName$),ze=K=>K.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),xe=(K,ve,ke,Je,xt,Et)=>{if(ke!==Je){let Zt=ka(K,ve),un=ve.toLowerCase();if("class"===ve){const an=K.classList,ln=hn(ke),On=hn(Je);an.remove(...ln.filter(jn=>jn&&!On.includes(jn))),an.add(...On.filter(jn=>jn&&!ln.includes(jn)))}else if("style"===ve){for(const an in ke)(!Je||null==Je[an])&&(an.includes("-")?K.style.removeProperty(an):K.style[an]="");for(const an in Je)(!ke||Je[an]!==ke[an])&&(an.includes("-")?K.style.setProperty(an,Je[an]):K.style[an]=Je[an])}else if("key"!==ve)if("ref"===ve)Je&&Je(K);else if(Zt||"o"!==ve[0]||"n"!==ve[1]){const an=it(Je);if((Zt||an&&null!==Je)&&!xt)try{if(K.tagName.includes("-"))K[ve]=Je;else{const On=null==Je?"":Je;"list"===ve?Zt=!1:(null==ke||K[ve]!=On)&&(K[ve]=On)}}catch{}let ln=!1;un!==(un=un.replace(/^xlink\:?/,""))&&(ve=un,ln=!0),null==Je||!1===Je?(!1!==Je||""===K.getAttribute(ve))&&(ln?K.removeAttributeNS(An,ve):K.removeAttribute(ve)):(!Zt||4&Et||xt)&&!an&&(Je=!0===Je?"":Je,ln?K.setAttributeNS(An,ve,Je):K.setAttribute(ve,Je))}else if(ve="-"===ve[2]?ve.slice(3):ka(Jn,un)?un.slice(2):un[2]+ve.slice(3),ke||Je){const an=ve.endsWith(sr);ve=ve.replace(yr,""),ke&&Ir.rel(K,ve,ke,an),Je&&Ir.ael(K,ve,Je,an)}}},We=/\s/,hn=K=>K?K.split(We):[],sr="Capture",yr=new RegExp(sr+"$"),ar=(K,ve,ke)=>{const Je=11===ve.$elm$.nodeType&&ve.$elm$.host?ve.$elm$.host:ve.$elm$,xt=K&&K.$attrs$||et,Et=ve.$attrs$||et;for(const Zt of Fn(Object.keys(xt)))Zt in Et||xe(Je,Zt,xt[Zt],void 0,ke,ve.$flags$);for(const Zt of Fn(Object.keys(Et)))xe(Je,Zt,xt[Zt],Et[Zt],ke,ve.$flags$)};function Fn(K){return K.includes("ref")?[...K.filter(ve=>"ref"!==ve),"ref"]:K}var yn,dr,hr,Ar=!1,oi=!1,rr=!1,qr=!1,In=(K,ve,ke,Je)=>{var xt;const Et=ve.$children$[ke];let un,an,ln,Zt=0;if(Ar||(rr=!0,"slot"===Et.$tag$&&(yn&&Je.classList.add(yn+"-s"),Et.$flags$|=Et.$children$?2:1)),null!==Et.$text$)un=Et.$elm$=li.createTextNode(Et.$text$);else if(1&Et.$flags$)un=Et.$elm$=li.createTextNode("");else{if(qr||(qr="svg"===Et.$tag$),un=Et.$elm$=li.createElementNS(qr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Et.$flags$?"slot-fb":Et.$tag$),qr&&"foreignObject"===Et.$tag$&&(qr=!1),ar(null,Et,qr),(K=>null!=K)(yn)&&un["s-si"]!==yn&&un.classList.add(un["s-si"]=yn),Et.$children$)for(Zt=0;Zt<Et.$children$.length;++Zt)an=In(K,Et,Zt,un),an&&un.appendChild(an);"svg"===Et.$tag$?qr=!1:"foreignObject"===un.tagName&&(qr=!0)}return un["s-hn"]=hr,3&Et.$flags$&&(un["s-sr"]=!0,un["s-cr"]=dr,un["s-sn"]=Et.$name$||"",un["s-rf"]=null==(xt=Et.$attrs$)?void 0:xt.ref,ln=K&&K.$children$&&K.$children$[ke],ln&&ln.$tag$===Et.$tag$&&K.$elm$&&gi(K.$elm$)),un},gi=K=>{Ir.$flags$|=1;const ve=K.closest(hr.toLowerCase());if(null!=ve){const ke=Array.from(ve.childNodes).find(xt=>xt["s-cr"]),Je=Array.from(K.childNodes);for(const xt of ke?Je.reverse():Je)null!=xt["s-sh"]&&(Ae(ve,xt,null!=ke?ke:null),xt["s-sh"]=void 0,rr=!0)}Ir.$flags$&=-2},Qn=(K,ve)=>{Ir.$flags$|=1;const ke=Array.from(K.childNodes);if(K["s-sr"]){let Je=K;for(;Je=Je.nextSibling;)Je&&Je["s-sn"]===K["s-sn"]&&Je["s-sh"]===hr&&ke.push(Je)}for(let Je=ke.length-1;Je>=0;Je--){const xt=ke[Je];xt["s-hn"]!==hr&&xt["s-ol"]&&(Ae(_r(xt),xt,si(xt)),xt["s-ol"].remove(),xt["s-ol"]=void 0,xt["s-sh"]=void 0,rr=!0),ve&&Qn(xt,ve)}Ir.$flags$&=-2},Bn=(K,ve,ke,Je,xt,Et)=>{let un,Zt=K["s-cr"]&&K["s-cr"].parentNode||K;for(Zt.shadowRoot&&Zt.tagName===hr&&(Zt=Zt.shadowRoot);xt<=Et;++xt)Je[xt]&&(un=In(null,ke,xt,K),un&&(Je[xt].$elm$=un,Ae(Zt,un,si(ve))))},Ln=(K,ve,ke)=>{for(let Je=ve;Je<=ke;++Je){const xt=K[Je];if(xt){const Et=xt.$elm$;ce(xt),Et&&(oi=!0,Et["s-ol"]?Et["s-ol"].remove():Qn(Et,!0),Et.remove())}}},zn=(K,ve,ke=!1)=>K.$tag$===ve.$tag$&&("slot"===K.$tag$?K.$name$===ve.$name$:!!ke||K.$key$===ve.$key$),si=K=>K&&K["s-ol"]||K,_r=K=>(K["s-ol"]?K["s-ol"]:K).parentNode,_n=(K,ve,ke=!1)=>{const Je=ve.$elm$=K.$elm$,xt=K.$children$,Et=ve.$children$,Zt=ve.$tag$,un=ve.$text$;let an;null===un?(qr="svg"===Zt||"foreignObject"!==Zt&&qr,"slot"!==Zt||Ar?ar(K,ve,qr):K.$name$!==ve.$name$&&(ve.$elm$["s-sn"]=ve.$name$||"",gi(ve.$elm$.parentElement)),null!==xt&&null!==Et?((K,ve,ke,Je,xt=!1)=>{let Ki,Sr,Et=0,Zt=0,un=0,an=0,ln=ve.length-1,On=ve[0],jn=ve[ln],Zn=Je.length-1,lr=Je[0],Wr=Je[Zn];for(;Et<=ln&&Zt<=Zn;)if(null==On)On=ve[++Et];else if(null==jn)jn=ve[--ln];else if(null==lr)lr=Je[++Zt];else if(null==Wr)Wr=Je[--Zn];else if(zn(On,lr,xt))_n(On,lr,xt),On=ve[++Et],lr=Je[++Zt];else if(zn(jn,Wr,xt))_n(jn,Wr,xt),jn=ve[--ln],Wr=Je[--Zn];else if(zn(On,Wr,xt))("slot"===On.$tag$||"slot"===Wr.$tag$)&&Qn(On.$elm$.parentNode,!1),_n(On,Wr,xt),Ae(K,On.$elm$,jn.$elm$.nextSibling),On=ve[++Et],Wr=Je[--Zn];else if(zn(jn,lr,xt))("slot"===On.$tag$||"slot"===Wr.$tag$)&&Qn(jn.$elm$.parentNode,!1),_n(jn,lr,xt),Ae(K,jn.$elm$,On.$elm$),jn=ve[--ln],lr=Je[++Zt];else{for(un=-1,an=Et;an<=ln;++an)if(ve[an]&&null!==ve[an].$key$&&ve[an].$key$===lr.$key$){un=an;break}un>=0?(Sr=ve[un],Sr.$tag$!==lr.$tag$?Ki=In(ve&&ve[Zt],ke,un,K):(_n(Sr,lr,xt),ve[un]=void 0,Ki=Sr.$elm$),lr=Je[++Zt]):(Ki=In(ve&&ve[Zt],ke,Zt,K),lr=Je[++Zt]),Ki&&Ae(_r(On.$elm$),Ki,si(On.$elm$))}Et>ln?Bn(K,null==Je[Zn+1]?null:Je[Zn+1].$elm$,ke,Je,Zt,Zn):Zt>Zn&&Ln(ve,Et,ln)})(Je,xt,ve,Et,ke):null!==Et?(null!==K.$text$&&(Je.textContent=""),Bn(Je,null,ve,Et,0,Et.length-1)):null!==xt&&Ln(xt,0,xt.length-1),qr&&"svg"===Zt&&(qr=!1)):(an=Je["s-cr"])?an.parentNode.textContent=un:K.$text$!==un&&(Je.data=un)},ft=K=>{const ve=K.childNodes;for(const ke of ve)if(1===ke.nodeType){if(ke["s-sr"]){const Je=ke["s-sn"];ke.hidden=!1;for(const xt of ve)if(xt!==ke)if(xt["s-hn"]!==ke["s-hn"]||""!==Je){if(1===xt.nodeType&&(Je===xt.getAttribute("slot")||Je===xt["s-sn"])||3===xt.nodeType&&Je===xt["s-sn"]){ke.hidden=!0;break}}else if(1===xt.nodeType||3===xt.nodeType&&""!==xt.textContent.trim()){ke.hidden=!0;break}}ft(ke)}},ht=[],Vt=K=>{let ve,ke,Je;for(const xt of K.childNodes){if(xt["s-sr"]&&(ve=xt["s-cr"])&&ve.parentNode){ke=ve.parentNode.childNodes;const Et=xt["s-sn"];for(Je=ke.length-1;Je>=0;Je--)if(ve=ke[Je],!(ve["s-cn"]||ve["s-nr"]||ve["s-hn"]===xt["s-hn"]||ve["s-sh"]&&ve["s-sh"]===xt["s-hn"]))if(pt(ve,Et)){let Zt=ht.find(un=>un.$nodeToRelocate$===ve);oi=!0,ve["s-sn"]=ve["s-sn"]||Et,Zt?(Zt.$nodeToRelocate$["s-sh"]=xt["s-hn"],Zt.$slotRefNode$=xt):(ve["s-sh"]=xt["s-hn"],ht.push({$slotRefNode$:xt,$nodeToRelocate$:ve})),ve["s-sr"]&&ht.map(un=>{pt(un.$nodeToRelocate$,ve["s-sn"])&&(Zt=ht.find(an=>an.$nodeToRelocate$===ve),Zt&&!un.$slotRefNode$&&(un.$slotRefNode$=Zt.$slotRefNode$))})}else ht.some(Zt=>Zt.$nodeToRelocate$===ve)||ht.push({$nodeToRelocate$:ve})}1===xt.nodeType&&Vt(xt)}},pt=(K,ve)=>1===K.nodeType?null===K.getAttribute("slot")&&""===ve||K.getAttribute("slot")===ve:K["s-sn"]===ve||""===ve,ce=K=>{K.$attrs$&&K.$attrs$.ref&&K.$attrs$.ref(null),K.$children$&&K.$children$.map(ce)},Ae=(K,ve,ke)=>{const Je=null==K?void 0:K.insertBefore(ve,ke);return Ie(ve,K),Je},se=K=>K?K["s-rsc"]||K["s-si"]||K["s-sc"]||se(K.parentElement):void 0,Ie=(K,ve)=>{var ke,Je,xt;if(K&&ve){const Et=K["s-rsc"],Zt=se(ve);Et&&null!=(ke=K.classList)&&ke.contains(Et)&&K.classList.remove(Et),Zt&&(K["s-rsc"]=Zt,(null==(Je=K.classList)||!Je.contains(Zt))&&(null==(xt=K.classList)||xt.add(Zt)))}},gt=(K,ve)=>{ve&&!K.$onRenderResolve$&&ve["s-p"]&&ve["s-p"].push(new Promise(ke=>K.$onRenderResolve$=ke))},Qt=(K,ve)=>{if(K.$flags$|=16,!(4&K.$flags$))return gt(K,K.$ancestorComponent$),Br(()=>Dn(K,ve));K.$flags$|=512},Dn=(K,ve)=>{const Je=K.$lazyInstance$;let xt;return ve&&(K.$flags$|=256,K.$queuedListeners$&&(K.$queuedListeners$.map(([Et,Zt])=>Ei(Je,Et,Zt)),K.$queuedListeners$=void 0),xt=Ei(Je,"componentWillLoad")),xt=Wn(xt,()=>Ei(Je,"componentWillRender")),Wn(xt,()=>Ur(K,Je,ve))},Wn=(K,ve)=>fr(K)?K.then(ve):ve(),fr=K=>K instanceof Promise||K&&K.then&&"function"==typeof K.then,Ur=function(){var K=(0,d.A)(function*(ve,ke,Je){var xt;const Et=ve.$hostElement$,un=Et["s-rc"];Je&&(K=>{const ve=K.$cmpMeta$,ke=K.$hostElement$,Je=ve.$flags$,Et=en(ke.shadowRoot?ke.shadowRoot:ke.getRootNode(),ve,K.$modeName$);10&Je&&(ke["s-sc"]=Et,ke.classList.add(Et+"-h"),2&Je&&ke.classList.add(Et+"-s"))})(ve);st(ve,ke,Et,Je),un&&(un.map(ln=>ln()),Et["s-rc"]=void 0);{const ln=null!=(xt=Et["s-p"])?xt:[],On=()=>wn(ve);0===ln.length?On():(Promise.all(ln).then(On),ve.$flags$|=4,ln.length=0)}});return function(ke,Je,xt){return K.apply(this,arguments)}}(),st=(K,ve,ke,Je)=>{try{ve=ve.render&&ve.render(),K.$flags$&=-17,K.$flags$|=2,((K,ve,ke=!1)=>{var Je,xt,Et,Zt,un;const an=K.$hostElement$,ln=K.$cmpMeta$,On=K.$vnode$||Rn(null,null),jn=(K=>K&&K.$tag$===Mt)(ve)?ve:nn(null,null,ve);if(hr=an.tagName,ln.$attrsToReflect$&&(jn.$attrs$=jn.$attrs$||{},ln.$attrsToReflect$.map(([Zn,lr])=>jn.$attrs$[lr]=an[Zn])),ke&&jn.$attrs$)for(const Zn of Object.keys(jn.$attrs$))an.hasAttribute(Zn)&&!["key","ref","style","class"].includes(Zn)&&(jn.$attrs$[Zn]=an[Zn]);if(jn.$tag$=null,jn.$flags$|=4,K.$vnode$=jn,jn.$elm$=On.$elm$=an.shadowRoot||an,yn=an["s-sc"],Ar=!!(1&ln.$flags$),dr=an["s-cr"],oi=!1,_n(On,jn,ke),Ir.$flags$|=1,rr){Vt(jn.$elm$);for(const Zn of ht){const lr=Zn.$nodeToRelocate$;if(!lr["s-ol"]){const Wr=li.createTextNode("");Wr["s-nr"]=lr,Ae(lr.parentNode,lr["s-ol"]=Wr,lr)}}for(const Zn of ht){const lr=Zn.$nodeToRelocate$,Wr=Zn.$slotRefNode$;if(Wr){const Ki=Wr.parentNode;let Sr=Wr.nextSibling;if(Sr&&1===Sr.nodeType){let Zr=null==(Je=lr["s-ol"])?void 0:Je.previousSibling;for(;Zr;){let Ai=null!=(xt=Zr["s-nr"])?xt:null;if(Ai&&Ai["s-sn"]===lr["s-sn"]&&Ki===Ai.parentNode){for(Ai=Ai.nextSibling;Ai===lr||null!=Ai&&Ai["s-sr"];)Ai=null==Ai?void 0:Ai.nextSibling;if(!Ai||!Ai["s-nr"]){Sr=Ai;break}}Zr=Zr.previousSibling}}(!Sr&&Ki!==lr.parentNode||lr.nextSibling!==Sr)&&lr!==Sr&&(Ae(Ki,lr,Sr),1===lr.nodeType&&(lr.hidden=null!=(Et=lr["s-ih"])&&Et)),lr&&"function"==typeof Wr["s-rf"]&&Wr["s-rf"](lr)}else 1===lr.nodeType&&(ke&&(lr["s-ih"]=null!=(Zt=lr.hidden)&&Zt),lr.hidden=!0)}}if(oi&&ft(jn.$elm$),Ir.$flags$&=-2,ht.length=0,2&ln.$flags$)for(const Zn of jn.$elm$.childNodes)Zn["s-hn"]!==hr&&!Zn["s-sh"]&&(ke&&null==Zn["s-ih"]&&(Zn["s-ih"]=null!=(un=Zn.hidden)&&un),Zn.hidden=!0);dr=void 0})(K,ve,Je)}catch(xt){Ui(xt,K.$hostElement$)}return null},wn=K=>{const ke=K.$hostElement$,xt=K.$lazyInstance$,Et=K.$ancestorComponent$;Ei(xt,"componentDidRender"),64&K.$flags$?Ei(xt,"componentDidUpdate"):(K.$flags$|=64,vo(ke),Ei(xt,"componentDidLoad"),K.$onReadyResolve$(ke),Et||mi()),K.$onInstanceResolve$(ke),K.$onRenderResolve$&&(K.$onRenderResolve$(),K.$onRenderResolve$=void 0),512&K.$flags$&&At(()=>Qt(K,!1)),K.$flags$&=-517},Yn=K=>{{const ve=ro(K),ke=ve.$hostElement$.isConnected;return ke&&2==(18&ve.$flags$)&&Qt(ve,!1),ke}},mi=K=>{vo(li.documentElement),At(()=>mn(Jn,"appload",{detail:{namespace:"ionic"}}))},Ei=(K,ve,ke)=>{if(K&&K[ve])try{return K[ve](ke)}catch(Je){Ui(Je)}},vo=K=>K.classList.add("hydrated"),Fi=(K,ve,ke)=>{var Je;const xt=K.prototype;if(ve.$members$){K.watchers&&(ve.$watchers$=K.watchers);const Et=Object.entries(ve.$members$);if(Et.map(([Zt,[un]])=>{31&un||2&ke&&32&un?Object.defineProperty(xt,Zt,{get(){return((K,ve)=>ro(this).$instanceValues$.get(ve))(0,Zt)},set(an){((K,ve,ke,Je)=>{const xt=ro(K);if(!xt)throw new Error(`Couldn't find host element for "${Je.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Et=xt.$hostElement$,Zt=xt.$instanceValues$.get(ve),un=xt.$flags$,an=xt.$lazyInstance$;ke=((K,ve)=>null==K||it(K)?K:4&ve?"false"!==K&&(""===K||!!K):2&ve?parseFloat(K):1&ve?String(K):K)(ke,Je.$members$[ve][0]);const ln=Number.isNaN(Zt)&&Number.isNaN(ke);if((!(8&un)||void 0===Zt)&&ke!==Zt&&!ln&&(xt.$instanceValues$.set(ve,ke),an)){if(Je.$watchers$&&128&un){const jn=Je.$watchers$[ve];jn&&jn.map(Zn=>{try{an[Zn](ke,Zt,ve)}catch(lr){Ui(lr,Et)}})}2==(18&un)&&Qt(xt,!1)}})(this,Zt,an,ve)},configurable:!0,enumerable:!0}):1&ke&&64&un&&Object.defineProperty(xt,Zt,{value(...an){var ln;const On=ro(this);return null==(ln=null==On?void 0:On.$onInstancePromise$)?void 0:ln.then(()=>{var jn;return null==(jn=On.$lazyInstance$)?void 0:jn[Zt](...an)})}})}),1&ke){const Zt=new Map;xt.attributeChangedCallback=function(un,an,ln){Ir.jmp(()=>{var On;const jn=Zt.get(un);if(this.hasOwnProperty(jn))ln=this[jn],delete this[jn];else{if(xt.hasOwnProperty(jn)&&"number"==typeof this[jn]&&this[jn]==ln)return;if(null==jn){const Zn=ro(this),lr=null==Zn?void 0:Zn.$flags$;if(lr&&!(8&lr)&&128&lr&&ln!==an){const Wr=Zn.$lazyInstance$,Ki=null==(On=ve.$watchers$)?void 0:On[un];null==Ki||Ki.forEach(Sr=>{null!=Wr[Sr]&&Wr[Sr].call(Wr,ln,an,un)})}return}}this[jn]=(null!==ln||"boolean"!=typeof this[jn])&&ln})},K.observedAttributes=Array.from(new Set([...Object.keys(null!=(Je=ve.$watchers$)?Je:{}),...Et.filter(([un,an])=>15&an[0]).map(([un,an])=>{var ln;const On=an[1]||un;return Zt.set(On,un),512&an[0]&&(null==(ln=ve.$attrsToReflect$)||ln.push([un,On])),On})]))}}return K},Gi=function(){var K=(0,d.A)(function*(ve,ke,Je,xt){let Et;if(!(32&ke.$flags$)){if(ke.$flags$|=32,Je.$lazyBundleId$){if(Et=aa(Je),Et.then){const On=()=>{};Et=yield Et,On()}Et.isProxied||(Je.$watchers$=Et.watchers,Fi(Et,Je,2),Et.isProxied=!0);const ln=()=>{};ke.$flags$|=8;try{new Et(ke)}catch(On){Ui(On)}ke.$flags$&=-9,ke.$flags$|=128,ln(),no(ke.$lazyInstance$)}else Et=ve.constructor,customElements.whenDefined(Je.$tagName$).then(()=>ke.$flags$|=128);if(Et.style){let ln=Et.style;"string"!=typeof ln&&(ln=ln[ke.$modeName$=(K=>is.map(ve=>ve(K)).find(ve=>!!ve))(ve)]);const On=tr(Je,ke.$modeName$);if(!Gs.has(On)){const jn=()=>{};$n(On,ln,!!(1&Je.$flags$)),jn()}}}const Zt=ke.$ancestorComponent$,un=()=>Qt(ke,!0);Zt&&Zt["s-rc"]?Zt["s-rc"].push(un):un()});return function(ke,Je,xt,Et){return K.apply(this,arguments)}}(),no=K=>{Ei(K,"connectedCallback")},ie=K=>{const ve=K["s-cr"]=li.createComment("");ve["s-cn"]=!0,Ae(K,ve,K.firstChild)},ee=K=>{Ei(K,"disconnectedCallback")},Ge=function(){var K=(0,d.A)(function*(ve){if(!(1&Ir.$flags$)){const ke=ro(ve);ke.$rmListeners$&&(ke.$rmListeners$.map(Je=>Je()),ke.$rmListeners$=void 0),null!=ke&&ke.$lazyInstance$?ee(ke.$lazyInstance$):null!=ke&&ke.$onReadyPromise$&&ke.$onReadyPromise$.then(()=>ee(ke.$lazyInstance$))}});return function(ke){return K.apply(this,arguments)}}(),re=K=>{const ve=K.cloneNode;K.cloneNode=function(ke){const Je=this,xt=Je.shadowRoot&&ui,Et=ve.call(Je,!!xt&&ke);if(!xt&&ke){let un,an,Zt=0;const ln=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-rsc"];for(;Zt<Je.childNodes.length;Zt++)un=Je.childNodes[Zt]["s-nr"],an=ln.every(On=>!Je.childNodes[Zt][On]),un&&(Et.__appendChild?Et.__appendChild(un.cloneNode(!0)):Et.appendChild(un.cloneNode(!0))),an&&Et.appendChild(Je.childNodes[Zt].cloneNode(!0))}return Et}},Ue=K=>{K.__appendChild=K.appendChild,K.appendChild=function(ve){const ke=ve["s-sn"]=ki(ve),Je=uo(this.childNodes,ke,this.tagName);if(Je){const xt=eo(Je,ke),Et=xt[xt.length-1],Zt=Ae(Et.parentNode,ve,Et.nextSibling);return ft(this),Zt}return this.__appendChild(ve)}},Lt=K=>{K.__removeChild=K.removeChild,K.removeChild=function(ve){if(ve&&typeof ve["s-sn"]<"u"){const ke=uo(this.childNodes,ve["s-sn"],this.tagName);if(ke){const xt=eo(ke,ve["s-sn"]).find(Et=>Et===ve);if(xt)return xt.remove(),void ft(this)}}return this.__removeChild(ve)}},Ut=K=>{const ve=K.prepend;K.prepend=function(...ke){ke.forEach(Je=>{"string"==typeof Je&&(Je=this.ownerDocument.createTextNode(Je));const xt=Je["s-sn"]=ki(Je),Et=uo(this.childNodes,xt,this.tagName);if(Et){const Zt=document.createTextNode("");Zt["s-nr"]=Je,Et["s-cr"].parentNode.__appendChild(Zt),Je["s-ol"]=Zt;const an=eo(Et,xt)[0];return Ae(an.parentNode,Je,an.nextSibling)}return 1===Je.nodeType&&Je.getAttribute("slot")&&(Je.hidden=!0),ve.call(this,Je)})}},En=K=>{K.append=function(...ve){ve.forEach(ke=>{"string"==typeof ke&&(ke=this.ownerDocument.createTextNode(ke)),this.appendChild(ke)})}},or=K=>{const ve=K.insertAdjacentHTML;K.insertAdjacentHTML=function(ke,Je){if("afterbegin"!==ke&&"beforeend"!==ke)return ve.call(this,ke,Je);const xt=this.ownerDocument.createElement("_");let Et;if(xt.innerHTML=Je,"afterbegin"===ke)for(;Et=xt.firstChild;)this.prepend(Et);else if("beforeend"===ke)for(;Et=xt.firstChild;)this.append(Et)}},nr=K=>{K.insertAdjacentText=function(ve,ke){this.insertAdjacentHTML(ve,ke)}},Vi=K=>{const ve=K.insertAdjacentElement;K.insertAdjacentElement=function(ke,Je){return"afterbegin"!==ke&&"beforeend"!==ke?ve.call(this,ke,Je):"afterbegin"===ke?(this.prepend(Je),Je):("beforeend"===ke&&this.append(Je),Je)}},Ji=K=>{const ve=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(K,"__textContent",ve),Object.defineProperty(K,"textContent",{get(){return" "+gr(this.childNodes).map(xt=>{var Et,Zt;const un=[];let an=xt.nextSibling;for(;an&&an["s-sn"]===xt["s-sn"];)(3===an.nodeType||1===an.nodeType)&&un.push(null!=(Zt=null==(Et=an.textContent)?void 0:Et.trim())?Zt:""),an=an.nextSibling;return un.filter(ln=>""!==ln).join(" ")}).filter(xt=>""!==xt).join(" ")+" "},set(ke){gr(this.childNodes).forEach(xt=>{let Et=xt.nextSibling;for(;Et&&Et["s-sn"]===xt["s-sn"];){const Zt=Et;Et=Et.nextSibling,Zt.remove()}if(""===xt["s-sn"]){const Zt=this.ownerDocument.createTextNode(ke);Zt["s-sn"]="",Ae(xt.parentElement,Zt,xt.nextSibling)}else xt.remove()})}})},Wi=(K,ve)=>{class ke extends Array{item(xt){return this[xt]}}if(8&ve.$flags$){const Je=K.__lookupGetter__("childNodes");Object.defineProperty(K,"children",{get(){return this.childNodes.map(xt=>1===xt.nodeType)}}),Object.defineProperty(K,"childElementCount",{get:()=>K.children.length}),Object.defineProperty(K,"childNodes",{get(){const xt=Je.call(this);if(!(1&Ir.$flags$)&&2&ro(this).$flags$){const Et=new ke;for(let Zt=0;Zt<xt.length;Zt++){const un=xt[Zt]["s-nr"];un&&Et.push(un)}return Et}return ke.from(xt)}})}},gr=K=>{const ve=[];for(const ke of Array.from(K))ke["s-sr"]&&ve.push(ke),ve.push(...gr(ke.childNodes));return ve},ki=K=>K["s-sn"]||1===K.nodeType&&K.getAttribute("slot")||"",uo=(K,ve,ke)=>{let xt,Je=0;for(;Je<K.length;Je++)if(xt=K[Je],xt["s-sr"]&&xt["s-sn"]===ve&&xt["s-hn"]===ke||(xt=uo(xt.childNodes,ve,ke),xt))return xt;return null},eo=(K,ve)=>{const ke=[K];for(;(K=K.nextSibling)&&K["s-sn"]===ve;)ke.push(K);return ke},ai=(K,ve={})=>{var ke;const xt=[],Et=ve.exclude||[],Zt=Jn.customElements,un=li.head,an=un.querySelector("meta[charset]"),ln=li.createElement("style"),On=[],jn=li.querySelectorAll(`[${he}]`);let Zn,lr=!0,Wr=0;for(Object.assign(Ir,ve),Ir.$resourcesUrl$=new URL(ve.resourcesUrl||"./",li.baseURI).href,Ir.$flags$|=2;Wr<jn.length;Wr++)$n(jn[Wr].getAttribute(he),ze(jn[Wr].innerHTML),!0);let Ki=!1;if(K.map(Sr=>{Sr[1].map(Zr=>{var Ai;const io={$flags$:Zr[0],$tagName$:Zr[1],$members$:Zr[2],$listeners$:Zr[3]};4&io.$flags$&&(Ki=!0),io.$members$=Zr[2],io.$listeners$=Zr[3],io.$attrsToReflect$=[],io.$watchers$=null!=(Ai=Zr[4])?Ai:{};const os=io.$tagName$,ss=class extends HTMLElement{constructor(Do){super(Do),zr(Do=this,io),1&io.$flags$&&Do.attachShadow({mode:"open",delegatesFocus:!!(16&io.$flags$)})}connectedCallback(){Zn&&(clearTimeout(Zn),Zn=null),lr?On.push(this):Ir.jmp(()=>(K=>{if(!(1&Ir.$flags$)){const ve=ro(K),ke=ve.$cmpMeta$,Je=()=>{};if(1&ve.$flags$)Li(K,ve,ke.$listeners$),null!=ve&&ve.$lazyInstance$?no(ve.$lazyInstance$):null!=ve&&ve.$onReadyPromise$&&ve.$onReadyPromise$.then(()=>no(ve.$lazyInstance$));else{let xt;if(ve.$flags$|=1,xt=K.getAttribute(Ht),xt){if(1&ke.$flags$){const Et=en(K.shadowRoot,ke,K.getAttribute("s-mode"));K.classList.remove(Et+"-h",Et+"-s")}((K,ve,ke,Je)=>{const Et=K.shadowRoot,Zt=[],an=Et?[]:null,ln=Je.$vnode$=Rn(ve,null);Ir.$orgLocNodes$||$e(li.body,Ir.$orgLocNodes$=new Map),K[Ht]=ke,K.removeAttribute(Ht),Oe(ln,Zt,[],an,K,K,ke),Zt.map(On=>{const jn=On.$hostId$+"."+On.$nodeId$,Zn=Ir.$orgLocNodes$.get(jn),lr=On.$elm$;Zn&&ui&&""===Zn["s-en"]&&Zn.parentNode.insertBefore(lr,Zn.nextSibling),Et||(lr["s-hn"]=ve,Zn&&(lr["s-ol"]=Zn,lr["s-ol"]["s-nr"]=lr)),Ir.$orgLocNodes$.delete(jn)}),Et&&an.map(On=>{On&&Et.appendChild(On)})})(K,ke.$tagName$,xt,ve)}xt||12&ke.$flags$&&ie(K);{let Et=K;for(;Et=Et.parentNode||Et.host;)if(1===Et.nodeType&&Et.hasAttribute("s-id")&&Et["s-p"]||Et["s-p"]){gt(ve,ve.$ancestorComponent$=Et);break}}ke.$members$&&Object.entries(ke.$members$).map(([Et,[Zt]])=>{if(31&Zt&&K.hasOwnProperty(Et)){const un=K[Et];delete K[Et],K[Et]=un}}),Gi(K,ve,ke)}Je()}})(this))}disconnectedCallback(){Ir.jmp(()=>Ge(this))}componentOnReady(){return ro(this).$onReadyPromise$}};2&io.$flags$&&((K,ve)=>{re(K),Ue(K),En(K),Ut(K),Vi(K),or(K),nr(K),Ji(K),Wi(K,ve),Lt(K)})(ss.prototype,io),io.$lazyBundleId$=Sr[0],!Et.includes(os)&&!Zt.get(os)&&(xt.push(os),Zt.define(os,Fi(ss,io,1)))})}),xt.length>0&&(Ki&&(ln.textContent+=dn),ln.textContent+=xt+"{visibility:hidden}.hydrated{visibility:inherit}",ln.innerHTML.length)){ln.setAttribute("data-styles","");const Sr=null!=(ke=Ir.$nonce$)?ke:ot(li);null!=Sr&&ln.setAttribute("nonce",Sr),un.insertBefore(ln,an?an.nextSibling:un.firstChild)}lr=!1,On.length?On.map(Sr=>Sr.connectedCallback()):Ir.jmp(()=>Zn=setTimeout(mi,30))},Li=(K,ve,ke,Je)=>{ke&&ke.map(([xt,Et,Zt])=>{const un=jo(K,xt),an=Oo(ve,Zt),ln=Ho(xt);Ir.ael(un,Et,an,ln),(ve.$rmListeners$=ve.$rmListeners$||[]).push(()=>Ir.rel(un,Et,an,ln))})},Oo=(K,ve)=>ke=>{try{256&K.$flags$?K.$lazyInstance$[ve](ke):(K.$queuedListeners$=K.$queuedListeners$||[]).push([ve,ke])}catch(Je){Ui(Je)}},jo=(K,ve)=>4&ve?li:8&ve?Jn:16&ve?li.body:K,Ho=K=>Ks?{passive:!!(1&K),capture:!!(2&K)}:!!(2&K),wo=new WeakMap,ro=K=>wo.get(K),Dr=(K,ve)=>wo.set(ve.$lazyInstance$=K,ve),zr=(K,ve)=>{const ke={$flags$:0,$hostElement$:K,$cmpMeta$:ve,$instanceValues$:new Map};return ke.$onInstancePromise$=new Promise(Je=>ke.$onInstanceResolve$=Je),ke.$onReadyPromise$=new Promise(Je=>ke.$onReadyResolve$=Je),K["s-p"]=[],K["s-rc"]=[],Li(K,ke,ve.$listeners$),wo.set(K,ke)},ka=(K,ve)=>ve in K,Ui=(K,ve)=>(0,console.error)(K,ve),zs=new Map,aa=(K,ve,ke)=>{const Je=K.$tagName$.replace(/-/g,"_"),xt=K.$lazyBundleId$,Et=zs.get(xt);return Et?Et[Je]:L(8996)(`./${xt}.entry.js`).then(Zt=>(zs.set(xt,Zt),Zt[Je]),Ui)},Gs=new Map,is=[],Jn=typeof window<"u"?window:{},li=Jn.document||{head:{}},Ir={$flags$:0,$resourcesUrl$:"",jmp:K=>K(),raf:K=>requestAnimationFrame(K),ael:(K,ve,ke,Je)=>K.addEventListener(ve,ke,Je),rel:(K,ve,ke,Je)=>K.removeEventListener(ve,ke,Je),ce:(K,ve)=>new CustomEvent(K,ve)},Ws=K=>{Object.assign(Ir,K)},ui=!0,Ks=(()=>{let K=!1;try{li.addEventListener("e",null,Object.defineProperty({},"passive",{get(){K=!0}}))}catch{}return K})(),ci=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Bi=!1,N=[],Q=[],be=(K,ve)=>ke=>{K.push(ke),Bi||(Bi=!0,ve&&4&Ir.$flags$?At(Ce):Ir.raf(Ce))},V=K=>{for(let ve=0;ve<K.length;ve++)try{K[ve](performance.now())}catch(ke){Ui(ke)}K.length=0},Ce=()=>{V(N),V(Q),(Bi=N.length>0)&&Ir.raf(Ce)},At=K=>Promise.resolve(void 0).then(K),br=be(N,!1),Br=be(Q,!0)},2725:(xn,St,L)=>{"use strict";L.d(St,{b:()=>et,c:()=>at,d:()=>Le,e:()=>nn,g:()=>Ve,l:()=>dn,s:()=>Rn,t:()=>mt,w:()=>An});var d=L(467),s=L(3664),k=L(9672),de=L(4929),ae=L(4920);const et="ionViewWillLeave",at="ionViewDidLeave",Le="ionViewWillUnload",De=te=>{te.tabIndex=-1,te.focus()},it=te=>null!==te.offsetParent,nt="ion-last-focus",_t_saveViewFocus=ge=>{if(s.c.get("focusManagerPriority",!1)){const Oe=document.activeElement;null!==Oe&&null!=ge&&ge.contains(Oe)&&Oe.setAttribute(nt,"true")}},_t_setViewFocus=ge=>{const Ke=s.c.get("focusManagerPriority",!1);if(Array.isArray(Ke)&&!ge.contains(document.activeElement)){const Oe=ge.querySelector(`[${nt}]`);if(Oe&&it(Oe))return void De(Oe);for(const $e of Ke)switch($e){case"content":const Re=ge.querySelector('main, [role="main"]');if(Re&&it(Re))return void De(Re);break;case"heading":const Ze=ge.querySelector('h1, [role="heading"][aria-level="1"]');if(Ze&&it(Ze))return void De(Ze);break;case"banner":const dt=ge.querySelector('header, [role="banner"]');if(dt&&it(dt))return void De(dt);break;default:(0,de.p)(`Unrecognized focus manager priority value ${$e}`)}De(ge)}},mt=te=>new Promise((ne,ge)=>{(0,k.w)(()=>{Nt(te),It(te).then(Ke=>{Ke.animation&&Ke.animation.destroy(),Me(te),ne(Ke)},Ke=>{Me(te),ge(Ke)})})}),Nt=te=>{const ne=te.enteringEl,ge=te.leavingEl;_t_saveViewFocus(ge),Mt(ne,ge,te.direction),te.showGoBack?ne.classList.add("can-go-back"):ne.classList.remove("can-go-back"),Rn(ne,!1),ne.style.setProperty("pointer-events","none"),ge&&(Rn(ge,!1),ge.style.setProperty("pointer-events","none"))},It=function(){var te=(0,d.A)(function*(ne){const ge=yield Fe(ne);return ge&&k.B.isBrowser?tt(ge,ne):Ye(ne)});return function(ge){return te.apply(this,arguments)}}(),Me=te=>{const ne=te.enteringEl,ge=te.leavingEl;ne.classList.remove("ion-page-invisible"),ne.style.removeProperty("pointer-events"),void 0!==ge&&(ge.classList.remove("ion-page-invisible"),ge.style.removeProperty("pointer-events")),_t_setViewFocus(ne)},Fe=function(){var te=(0,d.A)(function*(ne){return ne.leavingEl&&ne.animated&&0!==ne.duration?ne.animationBuilder?ne.animationBuilder:"ios"===ne.mode?(yield Promise.resolve().then(L.bind(L,8454))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,3314))).mdTransitionAnimation:void 0});return function(ge){return te.apply(this,arguments)}}(),tt=function(){var te=(0,d.A)(function*(ne,ge){yield ut(ge,!0);const Ke=ne(ge.baseEl,ge);He(ge.enteringEl,ge.leavingEl);const Oe=yield he(Ke,ge);return ge.progressCallback&&ge.progressCallback(void 0),Oe&&Tt(ge.enteringEl,ge.leavingEl),{hasCompleted:Oe,animation:Ke}});return function(ge,Ke){return te.apply(this,arguments)}}(),Ye=function(){var te=(0,d.A)(function*(ne){const ge=ne.enteringEl,Ke=ne.leavingEl,Oe=s.c.get("focusManagerPriority",!1);return yield ut(ne,Oe),He(ge,Ke),Tt(ge,Ke),{hasCompleted:!0}});return function(ge){return te.apply(this,arguments)}}(),ut=function(){var te=(0,d.A)(function*(ne,ge){(void 0!==ne.deepWait?ne.deepWait:ge)&&(yield Promise.all([nn(ne.enteringEl),nn(ne.leavingEl)])),yield Ht(ne.viewIsReady,ne.enteringEl)});return function(ge,Ke){return te.apply(this,arguments)}}(),Ht=function(){var te=(0,d.A)(function*(ne,ge){ne&&(yield ne(ge))});return function(ge,Ke){return te.apply(this,arguments)}}(),he=(te,ne)=>{const ge=ne.progressCallback,Ke=new Promise(Oe=>{te.onFinish($e=>Oe(1===$e))});return ge?(te.progressStart(!0),ge(te)):te.play(),Ke},He=(te,ne)=>{dn(ne,et),dn(te,"ionViewWillEnter")},Tt=(te,ne)=>{dn(te,"ionViewDidEnter"),dn(ne,at)},dn=(te,ne)=>{if(te){const ge=new CustomEvent(ne,{bubbles:!1,cancelable:!1});te.dispatchEvent(ge)}},An=()=>new Promise(te=>(0,ae.r)(()=>(0,ae.r)(()=>te()))),nn=function(){var te=(0,d.A)(function*(ne){const ge=ne;if(ge){if(null!=ge.componentOnReady){if(null!=(yield ge.componentOnReady()))return}else if(null!=ge.__registerHost)return void(yield new Promise(Oe=>(0,ae.r)(Oe)));yield Promise.all(Array.from(ge.children).map(nn))}});return function(ge){return te.apply(this,arguments)}}(),Rn=(te,ne)=>{ne?(te.setAttribute("aria-hidden","true"),te.classList.add("ion-page-hidden")):(te.hidden=!1,te.removeAttribute("aria-hidden"),te.classList.remove("ion-page-hidden"))},Mt=(te,ne,ge)=>{void 0!==te&&(te.style.zIndex="back"===ge?"99":"101"),void 0!==ne&&(ne.style.zIndex="100")},Ve=te=>te.classList.contains("ion-page")?te:te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||te},4929:(xn,St,L)=>{"use strict";L.d(St,{a:()=>s,b:()=>k,p:()=>d});const d=(de,...ae)=>console.warn(`[Ionic Warning]: ${de}`,...ae),s=(de,...ae)=>console.error(`[Ionic Error]: ${de}`,...ae),k=(de,...ae)=>console.error(`<${de.tagName.toLowerCase()}> must be used inside ${ae.join(" or ")}.`)},8476:(xn,St,L)=>{"use strict";L.d(St,{d:()=>s,w:()=>d});const d=typeof window<"u"?window:void 0,s=typeof document<"u"?document:void 0},3664:(xn,St,L)=>{"use strict";L.d(St,{a:()=>De,b:()=>Rn,c:()=>k,i:()=>Mt});var d=L(9672);class s{constructor(){this.m=new Map}reset(te){this.m=new Map(Object.entries(te))}get(te,ne){const ge=this.m.get(te);return void 0!==ge?ge:ne}getBoolean(te,ne=!1){const ge=this.m.get(te);return void 0===ge?ne:"string"==typeof ge?"true"===ge:!!ge}getNumber(te,ne){const ge=parseFloat(this.m.get(te));return isNaN(ge)?void 0!==ne?ne:NaN:ge}set(te,ne){this.m.set(te,ne)}}const k=new s,at="ionic-persist-config",De=(Ve,te)=>("string"==typeof Ve&&(te=Ve,Ve=void 0),(Ve=>it(Ve))(Ve).includes(te)),it=(Ve=window)=>{if(typeof Ve>"u")return[];Ve.Ionic=Ve.Ionic||{};let te=Ve.Ionic.platforms;return null==te&&(te=Ve.Ionic.platforms=ot(Ve),te.forEach(ne=>Ve.document.documentElement.classList.add(`plt-${ne}`))),te},ot=Ve=>{const te=k.get("platform");return Object.keys(An).filter(ne=>{const ge=null==te?void 0:te[ne];return"function"==typeof ge?ge(Ve):An[ne](Ve)})},ct=Ve=>!!(Tt(Ve,/iPad/i)||Tt(Ve,/Macintosh/i)&&Fe(Ve)),mt=Ve=>Tt(Ve,/android|sink/i),Fe=Ve=>dn(Ve,"(any-pointer:coarse)"),Ye=Ve=>ut(Ve)||Ht(Ve),ut=Ve=>!!(Ve.cordova||Ve.phonegap||Ve.PhoneGap),Ht=Ve=>{const te=Ve.Capacitor;return!(null==te||!te.isNative)},Tt=(Ve,te)=>te.test(Ve.navigator.userAgent),dn=(Ve,te)=>{var ne;return null===(ne=Ve.matchMedia)||void 0===ne?void 0:ne.call(Ve,te).matches},An={ipad:ct,iphone:Ve=>Tt(Ve,/iPhone/i),ios:Ve=>Tt(Ve,/iPhone|iPod/i)||ct(Ve),android:mt,phablet:Ve=>{const te=Ve.innerWidth,ne=Ve.innerHeight,ge=Math.min(te,ne),Ke=Math.max(te,ne);return ge>390&&ge<520&&Ke>620&&Ke<800},tablet:Ve=>{const te=Ve.innerWidth,ne=Ve.innerHeight,ge=Math.min(te,ne),Ke=Math.max(te,ne);return ct(Ve)||(Ve=>mt(Ve)&&!Tt(Ve,/mobile/i))(Ve)||ge>460&&ge<820&&Ke>780&&Ke<1400},cordova:ut,capacitor:Ht,electron:Ve=>Tt(Ve,/electron/i),pwa:Ve=>{var te;return!!(null!==(te=Ve.matchMedia)&&void 0!==te&&te.call(Ve,"(display-mode: standalone)").matches||Ve.navigator.standalone)},mobile:Fe,mobileweb:Ve=>Fe(Ve)&&!Ye(Ve),desktop:Ve=>!Fe(Ve),hybrid:Ye};let nn;const Rn=Ve=>Ve&&(0,d.g)(Ve)||nn,Mt=(Ve={})=>{if(typeof window>"u")return;const te=window.document,ne=window,ge=ne.Ionic=ne.Ionic||{},Ke={};Ve._ael&&(Ke.ael=Ve._ael),Ve._rel&&(Ke.rel=Ve._rel),Ve._ce&&(Ke.ce=Ve._ce),(0,d.a)(Ke);const Oe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ve=>{try{const te=Ve.sessionStorage.getItem(at);return null!==te?JSON.parse(te):{}}catch{return{}}})(ne)),{persistConfig:!1}),ge.config),(Ve=>{const te={};return Ve.location.search.slice(1).split("&").map(ne=>ne.split("=")).map(([ne,ge])=>{try{return[decodeURIComponent(ne),decodeURIComponent(ge)]}catch{return["",""]}}).filter(([ne])=>((Ve,te)=>Ve.substr(0,te.length)===te)(ne,"ionic:")).map(([ne,ge])=>[ne.slice(6),ge]).forEach(([ne,ge])=>{te[ne]=ge}),te})(ne)),Ve);k.reset(Oe),k.getBoolean("persistConfig")&&((Ve,te)=>{try{Ve.sessionStorage.setItem(at,JSON.stringify(te))}catch{return}})(ne,Oe),it(ne),ge.config=k,ge.mode=nn=k.get("mode",te.documentElement.getAttribute("mode")||(De(ne,"ios")?"ios":"md")),k.set("mode",nn),te.documentElement.setAttribute("mode",nn),te.documentElement.classList.add(nn),k.getBoolean("_testing")&&k.set("animated",!1);const $e=Ze=>{var dt;return null===(dt=Ze.tagName)||void 0===dt?void 0:dt.startsWith("ION-")},Re=Ze=>["ios","md"].includes(Ze);(0,d.c)(Ze=>{for(;Ze;){const dt=Ze.mode||Ze.getAttribute("mode");if(dt){if(Re(dt))return dt;$e(Ze)&&console.warn('Invalid ionic mode: "'+dt+'", expected: "ios" or "md"')}Ze=Ze.parentElement}return nn})}},8454:(xn,St,L)=>{"use strict";L.r(St),L.d(St,{iosTransitionAnimation:()=>nt,shadow:()=>et});var d=L(9986),s=L(2725);L(8476),L(3664),L(9672);const me=Ct=>document.querySelector(`${Ct}.ion-cloned-element`),et=Ct=>Ct.shadowRoot||Ct,at=Ct=>{const _t="ION-TABS"===Ct.tagName?Ct:Ct.querySelector("ion-tabs"),mt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=_t){const Nt=_t.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Nt?Nt.querySelector(mt):null}return Ct.querySelector(mt)},Le=(Ct,_t)=>{const mt="ION-TABS"===Ct.tagName?Ct:Ct.querySelector("ion-tabs");let Nt=[];if(null!=mt){const It=mt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=It&&(Nt=It.querySelectorAll("ion-buttons"))}else Nt=Ct.querySelectorAll("ion-buttons");for(const It of Nt){const Me=It.closest("ion-header"),Fe=Me&&!Me.classList.contains("header-collapse-condense-inactive"),tt=It.querySelector("ion-back-button"),Ye=It.classList.contains("buttons-collapse");if(null!==tt&&("start"===It.slot||""===It.slot)&&(Ye&&Fe&&_t||!Ye))return tt}return null},it=(Ct,_t,mt,Nt,It,Me,Fe,tt,Ye)=>{var ut,Ht;const he=_t?`calc(100% - ${It.right+4}px)`:It.left-4+"px",He=_t?"right":"left",Tt=_t?"left":"right",dn=_t?"right":"left";let An=1,nn=1,Rn=`scale(${nn})`;const Mt="scale(1)";if(Me&&Fe){const We=(null===(ut=Me.textContent)||void 0===ut?void 0:ut.trim())===(null===(Ht=tt.textContent)||void 0===Ht?void 0:Ht.trim());An=Ye.width/Fe.width,nn=(Ye.height-ct)/Fe.height,Rn=We?`scale(${An}, ${nn})`:`scale(${nn})`}const te=et(Nt).querySelector("ion-icon").getBoundingClientRect(),ne=_t?te.width/2-(te.right-It.right)+"px":It.left-te.width/2+"px",ge=_t?`-${window.innerWidth-It.right}px`:`${It.left}px`,Ke=`${Ye.top}px`,Oe=`${It.top}px`,Ze=mt?[{offset:0,transform:`translate3d(${ge}, ${Oe}, 0)`},{offset:1,transform:`translate3d(${ne}, ${Ke}, 0)`}]:[{offset:0,transform:`translate3d(${ne}, ${Ke}, 0)`},{offset:1,transform:`translate3d(${ge}, ${Oe}, 0)`}],jt=mt?[{offset:0,opacity:1,transform:Mt},{offset:1,opacity:0,transform:Rn}]:[{offset:0,opacity:0,transform:Rn},{offset:1,opacity:1,transform:Mt}],Nn=mt?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],$n=(0,d.c)(),en=(0,d.c)(),rn=(0,d.c)(),tr=me("ion-back-button"),ze=et(tr).querySelector(".button-text"),xe=et(tr).querySelector("ion-icon");tr.text=Nt.text,tr.mode=Nt.mode,tr.icon=Nt.icon,tr.color=Nt.color,tr.disabled=Nt.disabled,tr.style.setProperty("display","block"),tr.style.setProperty("position","fixed"),en.addElement(xe),$n.addElement(ze),rn.addElement(tr),rn.beforeStyles({position:"absolute",top:"0px",[dn]:"0px"}).beforeAddWrite(()=>{Nt.style.setProperty("display","none"),tr.style.setProperty(He,he)}).afterAddWrite(()=>{Nt.style.setProperty("display",""),tr.style.setProperty("display","none"),tr.style.removeProperty(He)}).keyframes(Ze),$n.beforeStyles({"transform-origin":`${He} top`}).keyframes(jt),en.beforeStyles({"transform-origin":`${Tt} center`}).keyframes(Nn),Ct.addAnimation([$n,en,rn])},ot=(Ct,_t,mt,Nt,It,Me,Fe,tt,Ye)=>{var ut,Ht;const he=_t?"right":"left",He=_t?`calc(100% - ${It.right}px)`:`${It.left}px`,dn=`${It.top}px`;let nn=_t?`-${window.innerWidth-Fe.right-8}px`:`${Fe.x+8}px`,Rn=.5;const Mt="scale(1)";let Ve=`scale(${Rn})`;if(tt&&Ye){nn=_t?`-${window.innerWidth-Ye.right-8}px`:Ye.x-8+"px";const dt=(null===(ut=tt.textContent)||void 0===ut?void 0:ut.trim())===(null===(Ht=Nt.textContent)||void 0===Ht?void 0:Ht.trim());Rn=Ye.height/(Me.height-ct),Ve=dt?`scale(${Ye.width/Me.width}, ${Rn})`:`scale(${Rn})`}const ge=Fe.top+Fe.height/2-It.height*Rn/2+"px",$e=mt?[{offset:0,opacity:0,transform:`translate3d(${nn}, ${ge}, 0) ${Ve}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${dn}, 0) ${Mt}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${dn}, 0) ${Mt}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${nn}, ${ge}, 0) ${Ve}`}],Re=me("ion-title"),Ze=(0,d.c)();Re.innerText=Nt.innerText,Re.size=Nt.size,Re.color=Nt.color,Ze.addElement(Re),Ze.beforeStyles({"transform-origin":`${he} top`,height:`${It.height}px`,display:"",position:"relative",[he]:He}).beforeAddWrite(()=>{Nt.style.setProperty("opacity","0")}).afterAddWrite(()=>{Nt.style.setProperty("opacity",""),Re.style.setProperty("display","none")}).keyframes($e),Ct.addAnimation(Ze)},nt=(Ct,_t)=>{var mt;try{const Nt="cubic-bezier(0.32,0.72,0,1)",It="opacity",Me="transform",Fe="0%",Ye="rtl"===Ct.ownerDocument.dir,ut=Ye?"-99.5%":"99.5%",Ht=Ye?"33%":"-33%",he=_t.enteringEl,He=_t.leavingEl,Tt="back"===_t.direction,dn=he.querySelector(":scope > ion-content"),An=he.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),nn=he.querySelectorAll(":scope > ion-header > ion-toolbar"),Rn=(0,d.c)(),Mt=(0,d.c)();if(Rn.addElement(he).duration((null!==(mt=_t.duration)&&void 0!==mt?mt:0)||540).easing(_t.easing||Nt).fill("both").beforeRemoveClass("ion-page-invisible"),He&&null!=Ct){const ge=(0,d.c)();ge.addElement(Ct),Rn.addAnimation(ge)}if(dn||0!==nn.length||0!==An.length?(Mt.addElement(dn),Mt.addElement(An)):Mt.addElement(he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Rn.addAnimation(Mt),Tt?Mt.beforeClearStyles([It]).fromTo("transform",`translateX(${Ht})`,`translateX(${Fe})`).fromTo(It,.8,1):Mt.beforeClearStyles([It]).fromTo("transform",`translateX(${ut})`,`translateX(${Fe})`),dn){const ge=et(dn).querySelector(".transition-effect");if(ge){const Ke=ge.querySelector(".transition-cover"),Oe=ge.querySelector(".transition-shadow"),$e=(0,d.c)(),Re=(0,d.c)(),Ze=(0,d.c)();$e.addElement(ge).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Re.addElement(Ke).beforeClearStyles([It]).fromTo(It,0,.1),Ze.addElement(Oe).beforeClearStyles([It]).fromTo(It,.03,.7),$e.addAnimation([Re,Ze]),Mt.addAnimation([$e])}}const Ve=he.querySelector("ion-header.header-collapse-condense"),{forward:te,backward:ne}=((Ct,_t,mt,Nt,It)=>{const Me=Le(Nt,mt),Fe=at(It),tt=at(Nt),Ye=Le(It,mt),ut=null!==Me&&null!==Fe&&!mt,Ht=null!==tt&&null!==Ye&&mt;if(ut){const he=Fe.getBoundingClientRect(),He=Me.getBoundingClientRect(),Tt=et(Me).querySelector(".button-text"),dn=null==Tt?void 0:Tt.getBoundingClientRect(),nn=et(Fe).querySelector(".toolbar-title").getBoundingClientRect();ot(Ct,_t,mt,Fe,he,nn,He,Tt,dn),it(Ct,_t,mt,Me,He,Tt,dn,Fe,nn)}else if(Ht){const he=tt.getBoundingClientRect(),He=Ye.getBoundingClientRect(),Tt=et(Ye).querySelector(".button-text"),dn=null==Tt?void 0:Tt.getBoundingClientRect(),nn=et(tt).querySelector(".toolbar-title").getBoundingClientRect();ot(Ct,_t,mt,tt,he,nn,He,Tt,dn),it(Ct,_t,mt,Ye,He,Tt,dn,tt,nn)}return{forward:ut,backward:Ht}})(Rn,Ye,Tt,he,He);if(nn.forEach(ge=>{const Ke=(0,d.c)();Ke.addElement(ge),Rn.addAnimation(Ke);const Oe=(0,d.c)();Oe.addElement(ge.querySelector("ion-title"));const $e=(0,d.c)(),Re=Array.from(ge.querySelectorAll("ion-buttons,[menuToggle]")),Ze=ge.closest("ion-header"),dt=null==Ze?void 0:Ze.classList.contains("header-collapse-condense-inactive");let Ot;Ot=Re.filter(Tt?$n=>{const en=$n.classList.contains("buttons-collapse");return en&&!dt||!en}:$n=>!$n.classList.contains("buttons-collapse")),$e.addElement(Ot);const jt=(0,d.c)();jt.addElement(ge.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Pt=(0,d.c)();Pt.addElement(et(ge).querySelector(".toolbar-background"));const mn=(0,d.c)(),Nn=ge.querySelector("ion-back-button");if(Nn&&mn.addElement(Nn),Ke.addAnimation([Oe,$e,jt,Pt,mn]),$e.fromTo(It,.01,1),jt.fromTo(It,.01,1),Tt)dt||Oe.fromTo("transform",`translateX(${Ht})`,`translateX(${Fe})`).fromTo(It,.01,1),jt.fromTo("transform",`translateX(${Ht})`,`translateX(${Fe})`),mn.fromTo(It,.01,1);else if(Ve||Oe.fromTo("transform",`translateX(${ut})`,`translateX(${Fe})`).fromTo(It,.01,1),jt.fromTo("transform",`translateX(${ut})`,`translateX(${Fe})`),Pt.beforeClearStyles([It,"transform"]),(null==Ze?void 0:Ze.translucent)?Pt.fromTo("transform",Ye?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Pt.fromTo(It,.01,"var(--opacity)"),te||mn.fromTo(It,.01,1),Nn&&!te){const en=(0,d.c)();en.addElement(et(Nn).querySelector(".button-text")).fromTo("transform",Ye?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ke.addAnimation(en)}}),He){const ge=(0,d.c)(),Ke=He.querySelector(":scope > ion-content"),Oe=He.querySelectorAll(":scope > ion-header > ion-toolbar"),$e=He.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ke||0!==Oe.length||0!==$e.length?(ge.addElement(Ke),ge.addElement($e)):ge.addElement(He.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Rn.addAnimation(ge),Tt){ge.beforeClearStyles([It]).fromTo("transform",`translateX(${Fe})`,Ye?"translateX(-100%)":"translateX(100%)");const Re=(0,s.g)(He);Rn.afterAddWrite(()=>{"normal"===Rn.getDirection()&&Re.style.setProperty("display","none")})}else ge.fromTo("transform",`translateX(${Fe})`,`translateX(${Ht})`).fromTo(It,1,.8);if(Ke){const Re=et(Ke).querySelector(".transition-effect");if(Re){const Ze=Re.querySelector(".transition-cover"),dt=Re.querySelector(".transition-shadow"),Ot=(0,d.c)(),jt=(0,d.c)(),Pt=(0,d.c)();Ot.addElement(Re).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),jt.addElement(Ze).beforeClearStyles([It]).fromTo(It,.1,0),Pt.addElement(dt).beforeClearStyles([It]).fromTo(It,.7,.03),Ot.addAnimation([jt,Pt]),ge.addAnimation([Ot])}}Oe.forEach(Re=>{const Ze=(0,d.c)();Ze.addElement(Re);const dt=(0,d.c)();dt.addElement(Re.querySelector("ion-title"));const Ot=(0,d.c)(),jt=Re.querySelectorAll("ion-buttons,[menuToggle]"),Pt=Re.closest("ion-header"),mn=null==Pt?void 0:Pt.classList.contains("header-collapse-condense-inactive"),Nn=Array.from(jt).filter(xe=>{const We=xe.classList.contains("buttons-collapse");return We&&!mn||!We});Ot.addElement(Nn);const $n=(0,d.c)(),en=Re.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");en.length>0&&$n.addElement(en);const rn=(0,d.c)();rn.addElement(et(Re).querySelector(".toolbar-background"));const tr=(0,d.c)(),ze=Re.querySelector("ion-back-button");if(ze&&tr.addElement(ze),Ze.addAnimation([dt,Ot,$n,tr,rn]),Rn.addAnimation(Ze),tr.fromTo(It,.99,0),Ot.fromTo(It,.99,0),$n.fromTo(It,.99,0),Tt){if(mn||dt.fromTo("transform",`translateX(${Fe})`,Ye?"translateX(-100%)":"translateX(100%)").fromTo(It,.99,0),$n.fromTo("transform",`translateX(${Fe})`,Ye?"translateX(-100%)":"translateX(100%)"),rn.beforeClearStyles([It,"transform"]),(null==Pt?void 0:Pt.translucent)?rn.fromTo("transform","translateX(0px)",Ye?"translateX(-100%)":"translateX(100%)"):rn.fromTo(It,"var(--opacity)",0),ze&&!ne){const We=(0,d.c)();We.addElement(et(ze).querySelector(".button-text")).fromTo("transform",`translateX(${Fe})`,`translateX(${(Ye?-124:124)+"px"})`),Ze.addAnimation(We)}}else mn||dt.fromTo("transform",`translateX(${Fe})`,`translateX(${Ht})`).fromTo(It,.99,0).afterClearStyles([Me,It]),$n.fromTo("transform",`translateX(${Fe})`,`translateX(${Ht})`).afterClearStyles([Me,It]),tr.afterClearStyles([It]),dt.afterClearStyles([It]),Ot.afterClearStyles([It])})}return Rn}catch(Nt){throw Nt}},ct=10},3314:(xn,St,L)=>{"use strict";L.r(St),L.d(St,{mdTransitionAnimation:()=>Qe});var d=L(9986),s=L(2725);L(8476),L(3664),L(9672);const Qe=(me,et)=>{var at,Le,De;const nt="back"===et.direction,Ct=et.leavingEl,_t=(0,s.g)(et.enteringEl),mt=_t.querySelector("ion-toolbar"),Nt=(0,d.c)();if(Nt.addElement(_t).fill("both").beforeRemoveClass("ion-page-invisible"),nt?Nt.duration((null!==(at=et.duration)&&void 0!==at?at:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Nt.duration((null!==(Le=et.duration)&&void 0!==Le?Le:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),mt){const It=(0,d.c)();It.addElement(mt),Nt.addAnimation(It)}if(Ct&&nt){Nt.duration((null!==(De=et.duration)&&void 0!==De?De:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const It=(0,d.c)();It.addElement((0,s.g)(Ct)).onFinish(Me=>{1===Me&&It.elements.length>0&&It.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Nt.addAnimation(It)}return Nt}},6002:(xn,St,L)=>{"use strict";L.d(St,{B:()=>jt,F:()=>tr,G:()=>Pt,O:()=>mn,a:()=>_t,b:()=>mt,c:()=>Fe,d:()=>Nn,e:()=>$n,f:()=>te,g:()=>ge,h:()=>$e,i:()=>Ze,j:()=>Ye,k:()=>ut,m:()=>It,n:()=>Le,o:()=>Mt,q:()=>De,s:()=>Ot});var d=L(467),s=L(8476),k=L(4920),de=L(6411),ae=L(3664),Qe=L(1002),me=L(1970),et=L(4929);const at='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Le=(ze,xe)=>{const We=ze.querySelector(at);it(We,null!=xe?xe:ze)},De=(ze,xe)=>{const We=Array.from(ze.querySelectorAll(at));it(We.length>0?We[We.length-1]:null,null!=xe?xe:ze)},it=(ze,xe)=>{let We=ze;const hn=null==ze?void 0:ze.shadowRoot;hn&&(We=hn.querySelector(at)||ze),We?(0,k.f)(We):xe.focus()};let ot=0,nt=0;const ct=new WeakMap,Ct=ze=>({create:xe=>Ht(ze,xe),dismiss:(xe,We,hn)=>An(document,xe,We,ze,hn),getTop:()=>(0,d.A)(function*(){return Mt(document,ze)})()}),_t=Ct("ion-alert"),mt=Ct("ion-action-sheet"),It=Ct("ion-modal"),Fe=Ct("ion-popover"),Ye=ze=>{typeof document<"u"&&dn(document);const xe=ot++;ze.overlayIndex=xe},ut=ze=>(ze.hasAttribute("id")||(ze.id="ion-overlay-"+ ++nt),ze.id),Ht=(ze,xe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ze).then(()=>{const We=document.createElement(ze);return We.classList.add("overlay-hidden"),Object.assign(We,Object.assign(Object.assign({},xe),{hasController:!0})),Ke(document).appendChild(We),new Promise(hn=>(0,k.c)(We,hn))}):Promise.resolve(),He=(ze,xe)=>{let We=ze;const hn=null==ze?void 0:ze.shadowRoot;hn&&(We=hn.querySelector(at)||ze),We?(0,k.f)(We):xe.focus()},dn=ze=>{0===ot&&(ot=1,ze.addEventListener("focus",xe=>{((ze,xe)=>{const We=Mt(xe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),hn=ze.target;We&&hn&&!We.classList.contains(tr)&&(We.shadowRoot?(()=>{if(We.contains(hn))We.lastFocus=hn;else if("ION-TOAST"===hn.tagName)He(We.lastFocus,We);else{const ar=We.lastFocus;Le(We),ar===xe.activeElement&&De(We),We.lastFocus=xe.activeElement}})():(()=>{if(We===hn)We.lastFocus=void 0;else if("ION-TOAST"===hn.tagName)He(We.lastFocus,We);else{const ar=(0,k.g)(We);if(!ar.contains(hn))return;const Fn=ar.querySelector(".ion-overlay-wrapper");if(!Fn)return;if(Fn.contains(hn)||hn===ar.querySelector("ion-backdrop"))We.lastFocus=hn;else{const yn=We.lastFocus;Le(Fn,We),yn===xe.activeElement&&De(Fn,We),We.lastFocus=xe.activeElement}}})())})(xe,ze)},!0),ze.addEventListener("ionBackButton",xe=>{const We=Mt(ze);null!=We&&We.backdropDismiss&&xe.detail.register(de.OVERLAY_BACK_BUTTON_PRIORITY,()=>{We.dismiss(void 0,jt)})}),(0,de.shouldUseCloseWatcher)()||ze.addEventListener("keydown",xe=>{if("Escape"===xe.key){const We=Mt(ze);null!=We&&We.backdropDismiss&&We.dismiss(void 0,jt)}}))},An=(ze,xe,We,hn,sr)=>{const yr=Mt(ze,hn,sr);return yr?yr.dismiss(xe,We):Promise.reject("overlay does not exist")},Rn=(ze,xe)=>((ze,xe)=>(void 0===xe&&(xe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(ze.querySelectorAll(xe)).filter(We=>We.overlayIndex>0)))(ze,xe).filter(We=>!(ze=>ze.classList.contains("overlay-hidden"))(We)),Mt=(ze,xe,We)=>{const hn=Rn(ze,xe);return void 0===We?hn[hn.length-1]:hn.find(sr=>sr.id===We)},Ve=(ze=!1)=>{const We=Ke(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");We&&(ze?We.setAttribute("aria-hidden","true"):We.removeAttribute("aria-hidden"))},te=function(){var ze=(0,d.A)(function*(xe,We,hn,sr,yr){var ar,Fn;if(xe.presented)return;Ve(!0),document.body.classList.add(me.B),en(xe.el),xe.presented=!0,xe.willPresent.emit(),null===(ar=xe.willPresentShorthand)||void 0===ar||ar.emit();const yn=(0,ae.b)(xe),dr=xe.enterAnimation?xe.enterAnimation:ae.c.get(We,"ios"===yn?hn:sr);(yield Oe(xe,dr,xe.el,yr))&&(xe.didPresent.emit(),null===(Fn=xe.didPresentShorthand)||void 0===Fn||Fn.emit()),"ION-TOAST"!==xe.el.tagName&&ne(xe.el),xe.keyboardClose&&(null===document.activeElement||!xe.el.contains(document.activeElement))&&xe.el.focus(),xe.el.removeAttribute("aria-hidden")});return function(We,hn,sr,yr,ar){return ze.apply(this,arguments)}}(),ne=function(){var ze=(0,d.A)(function*(xe){let We=document.activeElement;if(!We)return;const hn=null==We?void 0:We.shadowRoot;hn&&(We=hn.querySelector(at)||We),yield xe.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&We.focus()});return function(We){return ze.apply(this,arguments)}}(),ge=function(){var ze=(0,d.A)(function*(xe,We,hn,sr,yr,ar,Fn){var yn,dr;if(!xe.presented)return!1;void 0!==s.d&&1===Rn(s.d).length&&(Ve(!1),document.body.classList.remove(me.B)),xe.presented=!1;try{xe.el.style.setProperty("pointer-events","none"),xe.willDismiss.emit({data:We,role:hn}),null===(yn=xe.willDismissShorthand)||void 0===yn||yn.emit({data:We,role:hn});const Ar=(0,ae.b)(xe),oi=xe.leaveAnimation?xe.leaveAnimation:ae.c.get(sr,"ios"===Ar?yr:ar);hn!==Pt&&(yield Oe(xe,oi,xe.el,Fn)),xe.didDismiss.emit({data:We,role:hn}),null===(dr=xe.didDismissShorthand)||void 0===dr||dr.emit({data:We,role:hn}),(ct.get(xe)||[]).forEach(qr=>qr.destroy()),ct.delete(xe),xe.el.classList.add("overlay-hidden"),xe.el.style.removeProperty("pointer-events"),void 0!==xe.el.lastFocus&&(xe.el.lastFocus=void 0)}catch(Ar){console.error(Ar)}return xe.el.remove(),rn(),!0});return function(We,hn,sr,yr,ar,Fn,yn){return ze.apply(this,arguments)}}(),Ke=ze=>ze.querySelector("ion-app")||ze.body,Oe=function(){var ze=(0,d.A)(function*(xe,We,hn,sr){hn.classList.remove("overlay-hidden");const ar=We(xe.el,sr);(!xe.animated||!ae.c.getBoolean("animated",!0))&&ar.duration(0),xe.keyboardClose&&ar.beforeAddWrite(()=>{const yn=hn.ownerDocument.activeElement;null!=yn&&yn.matches("input,ion-input, ion-textarea")&&yn.blur()});const Fn=ct.get(xe)||[];return ct.set(xe,[...Fn,ar]),yield ar.play(),!0});return function(We,hn,sr,yr){return ze.apply(this,arguments)}}(),$e=(ze,xe)=>{let We;const hn=new Promise(sr=>We=sr);return Re(ze,xe,sr=>{We(sr.detail)}),hn},Re=(ze,xe,We)=>{const hn=sr=>{(0,k.b)(ze,xe,hn),We(sr)};(0,k.a)(ze,xe,hn)},Ze=ze=>"cancel"===ze||ze===jt,dt=ze=>ze(),Ot=(ze,xe)=>{if("function"==typeof ze)return ae.c.get("_zoneGate",dt)(()=>{try{return ze(xe)}catch(hn){throw hn}})},jt="backdrop",Pt="gesture",mn=39,Nn=ze=>{let We,xe=!1;const hn=(0,Qe.C)(),sr=(Fn=!1)=>{if(We&&!Fn)return{delegate:We,inline:xe};const{el:yn,hasController:dr,delegate:hr}=ze;return xe=null!==yn.parentNode&&!dr,We=xe?hr||hn:hr,{inline:xe,delegate:We}};return{attachViewToDom:function(){var Fn=(0,d.A)(function*(yn){const{delegate:dr}=sr(!0);if(dr)return yield dr.attachViewToDom(ze.el,yn);const{hasController:hr}=ze;if(hr&&void 0!==yn)throw new Error("framework delegate is missing");return null});return function(dr){return Fn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Fn}=sr();Fn&&void 0!==ze.el&&Fn.removeViewFromDom(ze.el.parentElement,ze.el)}}},$n=()=>{let ze;const xe=()=>{ze&&(ze(),ze=void 0)};return{addClickListener:(hn,sr)=>{xe();const yr=void 0!==sr?document.getElementById(sr):null;yr?ze=((Fn,yn)=>{const dr=()=>{yn.present()};return Fn.addEventListener("click",dr),()=>{Fn.removeEventListener("click",dr)}})(yr,hn):(0,et.p)(`A trigger element with the ID "${sr}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,hn)},removeClickListener:xe}},en=ze=>{var xe;if(void 0===s.d)return;const We=Rn(s.d);for(let hn=We.length-1;hn>=0;hn--){const sr=We[hn],yr=null!==(xe=We[hn+1])&&void 0!==xe?xe:ze;(yr.hasAttribute("aria-hidden")||"ION-TOAST"!==yr.tagName)&&sr.setAttribute("aria-hidden","true")}},rn=()=>{if(void 0===s.d)return;const ze=Rn(s.d);for(let xe=ze.length-1;xe>=0;xe--){const We=ze[xe];if(We.removeAttribute("aria-hidden"),"ION-TOAST"!==We.tagName)break}},tr="ion-disable-focus-trap"},5602:(xn,St,L)=>{"use strict";L.d(St,{g:()=>k});var d=L(4438),s=L(8079);let k=(()=>{var de;class ae{constructor(me){this.firestore=me}getUsers(){return this.firestore.collection("users").snapshotChanges()}getUserById(me){return this.firestore.collection("users").snapshotChanges()}addIUserInfo(me){return this.firestore.collection("users").add(me)}updateUser(me,et){return this.firestore.collection("users").doc(et).update(me)}}return(de=ae).\u0275fac=function(me){return new(me||de)(d.KVO(s.Qe))},de.\u0275prov=d.jDH({token:de,factory:de.\u0275fac,providedIn:"root"}),ae})()},7671:(xn,St,L)=>{"use strict";var d=L(345),s=L(4438),k=L(8621),de=L(4341),ae=L(9969);function at(A){return new s.wOt(3e3,!1)}function jt(A){switch(A.length){case 0:return new ae.sf;case 1:return A[0];default:return new ae.ui(A)}}function Pt(A,f,_=new Map,I=new Map){const w=[],O=[];let oe=-1,Pe=null;if(f.forEach(rt=>{const Dt=rt.get("offset"),Jt=Dt==oe,gn=Jt&&Pe||new Map;rt.forEach((Kn,ir)=>{let Hn=ir,ur=Kn;if("offset"!==ir)switch(Hn=A.normalizePropertyName(Hn,w),ur){case ae.FX:ur=_.get(ir);break;case ae.kp:ur=I.get(ir);break;default:ur=A.normalizeStyleValue(ir,Hn,ur,w)}gn.set(Hn,ur)}),Jt||O.push(gn),Pe=gn,oe=Dt}),w.length)throw function Rn(A){return new s.wOt(3502,!1)}();return O}function mn(A,f,_,I){switch(f){case"start":A.onStart(()=>I(_&&Nn(_,"start",A)));break;case"done":A.onDone(()=>I(_&&Nn(_,"done",A)));break;case"destroy":A.onDestroy(()=>I(_&&Nn(_,"destroy",A)))}}function Nn(A,f,_){const I=_.totalTime,O=$n(A.element,A.triggerName,A.fromState,A.toState,f||A.phaseName,null==I?A.totalTime:I,!!_.disabled),oe=A._data;return null!=oe&&(O._data=oe),O}function $n(A,f,_,I,w="",O=0,oe){return{element:A,triggerName:f,fromState:_,toState:I,phaseName:w,totalTime:O,disabled:!!oe}}function en(A,f,_){let I=A.get(f);return I||A.set(f,I=_),I}function rn(A){const f=A.indexOf(":");return[A.substring(1,f),A.slice(f+1)]}const tr=typeof document>"u"?null:document.documentElement;function ze(A){const f=A.parentNode||A.host||null;return f===tr?null:f}let We=null,hn=!1;function Fn(A,f){for(;f;){if(f===A)return!0;f=ze(f)}return!1}function yn(A,f,_){if(_)return Array.from(A.querySelectorAll(f));const I=A.querySelector(f);return I?[I]:[]}let hr=(()=>{var A;class f{validateStyleProperty(I){return function sr(A){We||(We=function ar(){return typeof document<"u"?document.body:null}()||{},hn=!!We.style&&"WebkitAppearance"in We.style);let f=!0;return We.style&&!function xe(A){return"ebkit"==A.substring(1,6)}(A)&&(f=A in We.style,!f&&hn&&(f="Webkit"+A.charAt(0).toUpperCase()+A.slice(1)in We.style)),f}(I)}matchesElement(I,w){return!1}containsElement(I,w){return Fn(I,w)}getParentElement(I){return ze(I)}query(I,w,O){return yn(I,w,O)}computeStyle(I,w,O){return O||""}animate(I,w,O,oe,Pe,rt=[],Dt){return new ae.sf(O,oe)}}return(A=f).\u0275fac=function(I){return new(I||A)},A.\u0275prov=s.jDH({token:A,factory:A.\u0275fac}),f})();class Ar{}Ar.NOOP=new hr;class oi{}const qr=1e3,Qn="ng-enter",Bn="ng-leave",Ln="ng-trigger",pr=".ng-trigger",zn="ng-animating",si=".ng-animating";function _r(A){if("number"==typeof A)return A;const f=A.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:_n(parseFloat(f[1]),f[2])}function _n(A,f){return"s"===f?A*qr:A}function ft(A,f,_){return A.hasOwnProperty("duration")?A:function ht(A,f,_){let w,O=0,oe="";if("string"==typeof A){const Pe=A.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Pe)return f.push(at()),{duration:0,delay:0,easing:""};w=_n(parseFloat(Pe[1]),Pe[2]);const rt=Pe[3];null!=rt&&(O=_n(parseFloat(rt),Pe[4]));const Dt=Pe[5];Dt&&(oe=Dt)}else w=A;if(!_){let Pe=!1,rt=f.length;w<0&&(f.push(function Le(){return new s.wOt(3100,!1)}()),Pe=!0),O<0&&(f.push(function De(){return new s.wOt(3101,!1)}()),Pe=!0),Pe&&f.splice(rt,0,at())}return{duration:w,delay:O,easing:oe}}(A,f,_)}function ce(A,f,_){f.forEach((I,w)=>{const O=Wn(w);_&&!_.has(w)&&_.set(w,A.style[O]),A.style[O]=I})}function Ae(A,f){f.forEach((_,I)=>{const w=Wn(I);A.style[w]=""})}function se(A){return Array.isArray(A)?1==A.length?A[0]:(0,ae.K2)(A):A}const ue=new RegExp("{{\\s*(.+?)\\s*}}","g");function gt(A){let f=[];if("string"==typeof A){let _;for(;_=ue.exec(A);)f.push(_[1]);ue.lastIndex=0}return f}function Qt(A,f,_){const I=`${A}`,w=I.replace(ue,(O,oe)=>{let Pe=f[oe];return null==Pe&&(_.push(function ot(A){return new s.wOt(3003,!1)}()),Pe=""),Pe.toString()});return w==I?A:w}const Dn=/-+([a-z0-9])/g;function Wn(A){return A.replace(Dn,(...f)=>f[1].toUpperCase())}function wn(A,f,_){switch(f.type){case ae.If.Trigger:return A.visitTrigger(f,_);case ae.If.State:return A.visitState(f,_);case ae.If.Transition:return A.visitTransition(f,_);case ae.If.Sequence:return A.visitSequence(f,_);case ae.If.Group:return A.visitGroup(f,_);case ae.If.Animate:return A.visitAnimate(f,_);case ae.If.Keyframes:return A.visitKeyframes(f,_);case ae.If.Style:return A.visitStyle(f,_);case ae.If.Reference:return A.visitReference(f,_);case ae.If.AnimateChild:return A.visitAnimateChild(f,_);case ae.If.AnimateRef:return A.visitAnimateRef(f,_);case ae.If.Query:return A.visitQuery(f,_);case ae.If.Stagger:return A.visitStagger(f,_);default:throw function nt(A){return new s.wOt(3004,!1)}()}}function Yn(A,f){return window.getComputedStyle(A)[f]}const mi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ei extends oi{normalizePropertyName(f,_){return Wn(f)}normalizeStyleValue(f,_,I,w){let O="";const oe=I.toString().trim();if(mi.has(_)&&0!==I&&"0"!==I)if("number"==typeof I)O="px";else{const Pe=I.match(/^[+-]?[\d\.]+([a-z]*)$/);Pe&&0==Pe[1].length&&w.push(function ct(A,f){return new s.wOt(3005,!1)}())}return oe+O}}const Wt="*";const le=new Set(["true","1"]),re=new Set(["false","0"]);function Ue(A,f){const _=le.has(A)||re.has(A),I=le.has(f)||re.has(f);return(w,O)=>{let oe=A==Wt||A==w,Pe=f==Wt||f==O;return!oe&&_&&"boolean"==typeof w&&(oe=w?le.has(A):re.has(A)),!Pe&&I&&"boolean"==typeof O&&(Pe=O?le.has(f):re.has(f)),oe&&Pe}}const Ut=new RegExp("s*:selfs*,?","g");function En(A,f,_,I){return new nr(A).build(f,_,I)}class nr{constructor(f){this._driver=f}build(f,_,I){const w=new Wi(_);return this._resetContextStyleTimingState(w),wn(this,se(f),w)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,_){let I=_.queryCount=0,w=_.depCount=0;const O=[],oe=[];return"@"==f.name.charAt(0)&&_.errors.push(function Ct(){return new s.wOt(3006,!1)}()),f.definitions.forEach(Pe=>{if(this._resetContextStyleTimingState(_),Pe.type==ae.If.State){const rt=Pe,Dt=rt.name;Dt.toString().split(/\s*,\s*/).forEach(Jt=>{rt.name=Jt,O.push(this.visitState(rt,_))}),rt.name=Dt}else if(Pe.type==ae.If.Transition){const rt=this.visitTransition(Pe,_);I+=rt.queryCount,w+=rt.depCount,oe.push(rt)}else _.errors.push(function _t(){return new s.wOt(3007,!1)}())}),{type:ae.If.Trigger,name:f.name,states:O,transitions:oe,queryCount:I,depCount:w,options:null}}visitState(f,_){const I=this.visitStyle(f.styles,_),w=f.options&&f.options.params||null;if(I.containsDynamicStyles){const O=new Set,oe=w||{};I.styles.forEach(Pe=>{Pe instanceof Map&&Pe.forEach(rt=>{gt(rt).forEach(Dt=>{oe.hasOwnProperty(Dt)||O.add(Dt)})})}),O.size&&_.errors.push(function mt(A,f){return new s.wOt(3008,!1)}(0,O.values()))}return{type:ae.If.State,name:f.name,style:I,options:w?{params:w}:null}}visitTransition(f,_){_.queryCount=0,_.depCount=0;const I=wn(this,se(f.animation),_),w=function ie(A,f){const _=[];return"string"==typeof A?A.split(/\s*,\s*/).forEach(I=>function ee(A,f,_){if(":"==A[0]){const rt=function Ge(A,f){switch(A){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,I)=>parseFloat(I)>parseFloat(_);case":decrement":return(_,I)=>parseFloat(I)<parseFloat(_);default:return f.push(function Tt(A){return new s.wOt(3016,!1)}()),"* => *"}}(A,_);if("function"==typeof rt)return void f.push(rt);A=rt}const I=A.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==I||I.length<4)return _.push(function He(A){return new s.wOt(3015,!1)}()),f;const w=I[1],O=I[2],oe=I[3];f.push(Ue(w,oe)),"<"==O[0]&&(w!=Wt||oe!=Wt)&&f.push(Ue(oe,w))}(I,_,f)):_.push(A),_}(f.expr,_.errors);return{type:ae.If.Transition,matchers:w,animation:I,queryCount:_.queryCount,depCount:_.depCount,options:uo(f.options)}}visitSequence(f,_){return{type:ae.If.Sequence,steps:f.steps.map(I=>wn(this,I,_)),options:uo(f.options)}}visitGroup(f,_){const I=_.currentTime;let w=0;const O=f.steps.map(oe=>{_.currentTime=I;const Pe=wn(this,oe,_);return w=Math.max(w,_.currentTime),Pe});return _.currentTime=w,{type:ae.If.Group,steps:O,options:uo(f.options)}}visitAnimate(f,_){const I=function ki(A,f){if(A.hasOwnProperty("duration"))return A;if("number"==typeof A)return eo(ft(A,f).duration,0,"");const _=A;if(_.split(/\s+/).some(O=>"{"==O.charAt(0)&&"{"==O.charAt(1))){const O=eo(0,0,"");return O.dynamic=!0,O.strValue=_,O}const w=ft(_,f);return eo(w.duration,w.delay,w.easing)}(f.timings,_.errors);_.currentAnimateTimings=I;let w,O=f.styles?f.styles:(0,ae.iF)({});if(O.type==ae.If.Keyframes)w=this.visitKeyframes(O,_);else{let oe=f.styles,Pe=!1;if(!oe){Pe=!0;const Dt={};I.easing&&(Dt.easing=I.easing),oe=(0,ae.iF)(Dt)}_.currentTime+=I.duration+I.delay;const rt=this.visitStyle(oe,_);rt.isEmptyStep=Pe,w=rt}return _.currentAnimateTimings=null,{type:ae.If.Animate,timings:I,style:w,options:null}}visitStyle(f,_){const I=this._makeStyleAst(f,_);return this._validateStyleAst(I,_),I}_makeStyleAst(f,_){const I=[],w=Array.isArray(f.styles)?f.styles:[f.styles];for(let Pe of w)"string"==typeof Pe?Pe===ae.kp?I.push(Pe):_.errors.push(new s.wOt(3002,!1)):I.push(new Map(Object.entries(Pe)));let O=!1,oe=null;return I.forEach(Pe=>{if(Pe instanceof Map&&(Pe.has("easing")&&(oe=Pe.get("easing"),Pe.delete("easing")),!O))for(let rt of Pe.values())if(rt.toString().indexOf("{{")>=0){O=!0;break}}),{type:ae.If.Style,styles:I,easing:oe,offset:f.offset,containsDynamicStyles:O,options:null}}_validateStyleAst(f,_){const I=_.currentAnimateTimings;let w=_.currentTime,O=_.currentTime;I&&O>0&&(O-=I.duration+I.delay),f.styles.forEach(oe=>{"string"!=typeof oe&&oe.forEach((Pe,rt)=>{const Dt=_.collectedStyles.get(_.currentQuerySelector),Jt=Dt.get(rt);let gn=!0;Jt&&(O!=w&&O>=Jt.startTime&&w<=Jt.endTime&&(_.errors.push(function Me(A,f,_,I,w){return new s.wOt(3010,!1)}()),gn=!1),O=Jt.startTime),gn&&Dt.set(rt,{startTime:O,endTime:w}),_.options&&function Ie(A,f,_){const I=f.params||{},w=gt(A);w.length&&w.forEach(O=>{I.hasOwnProperty(O)||_.push(function it(A){return new s.wOt(3001,!1)}())})}(Pe,_.options,_.errors)})})}visitKeyframes(f,_){const I={type:ae.If.Keyframes,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function Fe(){return new s.wOt(3011,!1)}()),I;let O=0;const oe=[];let Pe=!1,rt=!1,Dt=0;const Jt=f.steps.map(Di=>{const to=this._makeStyleAst(Di,_);let Oi=null!=to.offset?to.offset:function gr(A){if("string"==typeof A)return null;let f=null;if(Array.isArray(A))A.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const I=_;f=parseFloat(I.get("offset")),I.delete("offset")}});else if(A instanceof Map&&A.has("offset")){const _=A;f=parseFloat(_.get("offset")),_.delete("offset")}return f}(to.styles),Si=0;return null!=Oi&&(O++,Si=to.offset=Oi),rt=rt||Si<0||Si>1,Pe=Pe||Si<Dt,Dt=Si,oe.push(Si),to});rt&&_.errors.push(function tt(){return new s.wOt(3012,!1)}()),Pe&&_.errors.push(function Ye(){return new s.wOt(3200,!1)}());const gn=f.steps.length;let Kn=0;O>0&&O<gn?_.errors.push(function ut(){return new s.wOt(3202,!1)}()):0==O&&(Kn=1/(gn-1));const ir=gn-1,Hn=_.currentTime,ur=_.currentAnimateTimings,Kr=ur.duration;return Jt.forEach((Di,to)=>{const Oi=Kn>0?to==ir?1:Kn*to:oe[to],Si=Oi*Kr;_.currentTime=Hn+ur.delay+Si,ur.duration=Si,this._validateStyleAst(Di,_),Di.offset=Oi,I.styles.push(Di)}),I}visitReference(f,_){return{type:ae.If.Reference,animation:wn(this,se(f.animation),_),options:uo(f.options)}}visitAnimateChild(f,_){return _.depCount++,{type:ae.If.AnimateChild,options:uo(f.options)}}visitAnimateRef(f,_){return{type:ae.If.AnimateRef,animation:this.visitReference(f.animation,_),options:uo(f.options)}}visitQuery(f,_){const I=_.currentQuerySelector,w=f.options||{};_.queryCount++,_.currentQuery=f;const[O,oe]=function Vi(A){const f=!!A.split(/\s*,\s*/).find(_=>":self"==_);return f&&(A=A.replace(Ut,"")),A=A.replace(/@\*/g,pr).replace(/@\w+/g,_=>pr+"-"+_.slice(1)).replace(/:animating/g,si),[A,f]}(f.selector);_.currentQuerySelector=I.length?I+" "+O:O,en(_.collectedStyles,_.currentQuerySelector,new Map);const Pe=wn(this,se(f.animation),_);return _.currentQuery=null,_.currentQuerySelector=I,{type:ae.If.Query,selector:O,limit:w.limit||0,optional:!!w.optional,includeSelf:oe,animation:Pe,originalSelector:f.selector,options:uo(f.options)}}visitStagger(f,_){_.currentQuery||_.errors.push(function Ht(){return new s.wOt(3013,!1)}());const I="full"===f.timings?{duration:0,delay:0,easing:"full"}:ft(f.timings,_.errors,!0);return{type:ae.If.Stagger,animation:wn(this,se(f.animation),_),timings:I,options:null}}}class Wi{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function uo(A){return A?(A={...A}).params&&(A.params=function Ji(A){return A?{...A}:null}(A.params)):A={},A}function eo(A,f,_){return{duration:A,delay:f,easing:_}}function ai(A,f,_,I,w,O,oe=null,Pe=!1){return{type:1,element:A,keyframes:f,preStyleProps:_,postStyleProps:I,duration:w,delay:O,totalTime:w+O,easing:oe,subTimeline:Pe}}class Li{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,_){let I=this._map.get(f);I||this._map.set(f,I=[]),I.push(..._)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const Ho=new RegExp(":enter","g"),wo=new RegExp(":leave","g");function ro(A,f,_,I,w,O=new Map,oe=new Map,Pe,rt,Dt=[]){return(new Dr).buildKeyframes(A,f,_,I,w,O,oe,Pe,rt,Dt)}class Dr{buildKeyframes(f,_,I,w,O,oe,Pe,rt,Dt,Jt=[]){Dt=Dt||new Li;const gn=new ka(f,_,Dt,w,O,Jt,[]);gn.options=rt;const Kn=rt.delay?_r(rt.delay):0;gn.currentTimeline.delayNextStep(Kn),gn.currentTimeline.setStyles([oe],null,gn.errors,rt),wn(this,I,gn);const ir=gn.timelines.filter(Hn=>Hn.containsAnimation());if(ir.length&&Pe.size){let Hn;for(let ur=ir.length-1;ur>=0;ur--){const Kr=ir[ur];if(Kr.element===_){Hn=Kr;break}}Hn&&!Hn.allowOnlyTimelineStyles()&&Hn.setStyles([Pe],null,gn.errors,rt)}return ir.length?ir.map(Hn=>Hn.buildKeyframes()):[ai(_,[],[],[],0,Kn,"",!1)]}visitTrigger(f,_){}visitState(f,_){}visitTransition(f,_){}visitAnimateChild(f,_){const I=_.subInstructions.get(_.element);if(I){const w=_.createSubContext(f.options),O=_.currentTimeline.currentTime,oe=this._visitSubInstructions(I,w,w.options);O!=oe&&_.transformIntoNewTimeline(oe)}_.previousNode=f}visitAnimateRef(f,_){const I=_.createSubContext(f.options);I.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],_,I),this.visitReference(f.animation,I),_.transformIntoNewTimeline(I.currentTimeline.currentTime),_.previousNode=f}_applyAnimationRefDelays(f,_,I){for(const O of f){const oe=null==O?void 0:O.delay;if(oe){var w;const Pe="number"==typeof oe?oe:_r(Qt(oe,null!==(w=null==O?void 0:O.params)&&void 0!==w?w:{},_.errors));I.delayNextStep(Pe)}}}_visitSubInstructions(f,_,I){let O=_.currentTimeline.currentTime;const oe=null!=I.duration?_r(I.duration):null,Pe=null!=I.delay?_r(I.delay):null;return 0!==oe&&f.forEach(rt=>{const Dt=_.appendInstructionToTimeline(rt,oe,Pe);O=Math.max(O,Dt.duration+Dt.delay)}),O}visitReference(f,_){_.updateOptions(f.options,!0),wn(this,f.animation,_),_.previousNode=f}visitSequence(f,_){const I=_.subContextCount;let w=_;const O=f.options;if(O&&(O.params||O.delay)&&(w=_.createSubContext(O),w.transformIntoNewTimeline(),null!=O.delay)){w.previousNode.type==ae.If.Style&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=zr);const oe=_r(O.delay);w.delayNextStep(oe)}f.steps.length&&(f.steps.forEach(oe=>wn(this,oe,w)),w.currentTimeline.applyStylesToKeyframe(),w.subContextCount>I&&w.transformIntoNewTimeline()),_.previousNode=f}visitGroup(f,_){const I=[];let w=_.currentTimeline.currentTime;const O=f.options&&f.options.delay?_r(f.options.delay):0;f.steps.forEach(oe=>{const Pe=_.createSubContext(f.options);O&&Pe.delayNextStep(O),wn(this,oe,Pe),w=Math.max(w,Pe.currentTimeline.currentTime),I.push(Pe.currentTimeline)}),I.forEach(oe=>_.currentTimeline.mergeTimelineCollectedStyles(oe)),_.transformIntoNewTimeline(w),_.previousNode=f}_visitTiming(f,_){if(f.dynamic){const I=f.strValue;return ft(_.params?Qt(I,_.params,_.errors):I,_.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,_){const I=_.currentAnimateTimings=this._visitTiming(f.timings,_),w=_.currentTimeline;I.delay&&(_.incrementTime(I.delay),w.snapshotCurrentStyles());const O=f.style;O.type==ae.If.Keyframes?this.visitKeyframes(O,_):(_.incrementTime(I.duration),this.visitStyle(O,_),w.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=f}visitStyle(f,_){const I=_.currentTimeline,w=_.currentAnimateTimings;!w&&I.hasCurrentStyleProperties()&&I.forwardFrame();const O=w&&w.easing||f.easing;f.isEmptyStep?I.applyEmptyStep(O):I.setStyles(f.styles,O,_.errors,_.options),_.previousNode=f}visitKeyframes(f,_){const I=_.currentAnimateTimings,w=_.currentTimeline.duration,O=I.duration,Pe=_.createSubContext().currentTimeline;Pe.easing=I.easing,f.styles.forEach(rt=>{Pe.forwardTime((rt.offset||0)*O),Pe.setStyles(rt.styles,rt.easing,_.errors,_.options),Pe.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(Pe),_.transformIntoNewTimeline(w+O),_.previousNode=f}visitQuery(f,_){const I=_.currentTimeline.currentTime,w=f.options||{},O=w.delay?_r(w.delay):0;O&&(_.previousNode.type===ae.If.Style||0==I&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=zr);let oe=I;const Pe=_.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!w.optional,_.errors);_.currentQueryTotal=Pe.length;let rt=null;Pe.forEach((Dt,Jt)=>{_.currentQueryIndex=Jt;const gn=_.createSubContext(f.options,Dt);O&&gn.delayNextStep(O),Dt===_.element&&(rt=gn.currentTimeline),wn(this,f.animation,gn),gn.currentTimeline.applyStylesToKeyframe(),oe=Math.max(oe,gn.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(oe),rt&&(_.currentTimeline.mergeTimelineCollectedStyles(rt),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=f}visitStagger(f,_){const I=_.parentContext,w=_.currentTimeline,O=f.timings,oe=Math.abs(O.duration),Pe=oe*(_.currentQueryTotal-1);let rt=oe*_.currentQueryIndex;switch(O.duration<0?"reverse":O.easing){case"reverse":rt=Pe-rt;break;case"full":rt=I.currentStaggerTime}const Jt=_.currentTimeline;rt&&Jt.delayNextStep(rt);const gn=Jt.currentTime;wn(this,f.animation,_),_.previousNode=f,I.currentStaggerTime=w.currentTime-gn+(w.startTime-I.currentTimeline.startTime)}}const zr={};class ka{constructor(f,_,I,w,O,oe,Pe,rt){this._driver=f,this.element=_,this.subInstructions=I,this._enterClassName=w,this._leaveClassName=O,this.errors=oe,this.timelines=Pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=rt||new Ui(this._driver,_,0),Pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,_){if(!f)return;const I=f;let w=this.options;null!=I.duration&&(w.duration=_r(I.duration)),null!=I.delay&&(w.delay=_r(I.delay));const O=I.params;if(O){let oe=w.params;oe||(oe=this.options.params={}),Object.keys(O).forEach(Pe=>{(!_||!oe.hasOwnProperty(Pe))&&(oe[Pe]=Qt(O[Pe],oe,this.errors))})}}_copyOptions(){const f={};if(this.options){const _=this.options.params;if(_){const I=f.params={};Object.keys(_).forEach(w=>{I[w]=_[w]})}}return f}createSubContext(f=null,_,I){const w=_||this.element,O=new ka(this._driver,w,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(w,I||0));return O.previousNode=this.previousNode,O.currentAnimateTimings=this.currentAnimateTimings,O.options=this._copyOptions(),O.updateOptions(f),O.currentQueryIndex=this.currentQueryIndex,O.currentQueryTotal=this.currentQueryTotal,O.parentContext=this,this.subContextCount++,O}transformIntoNewTimeline(f){return this.previousNode=zr,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,_,I){const w={duration:null!=_?_:f.duration,delay:this.currentTimeline.currentTime+(null!=I?I:0)+f.delay,easing:""},O=new zs(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,w,f.stretchStartingKeyframe);return this.timelines.push(O),w}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,_,I,w,O,oe){let Pe=[];if(w&&Pe.push(this.element),f.length>0){f=(f=f.replace(Ho,"."+this._enterClassName)).replace(wo,"."+this._leaveClassName);let Dt=this._driver.query(this.element,f,1!=I);0!==I&&(Dt=I<0?Dt.slice(Dt.length+I,Dt.length):Dt.slice(0,I)),Pe.push(...Dt)}return!O&&0==Pe.length&&oe.push(function he(A){return new s.wOt(3014,!1)}()),Pe}}class Ui{constructor(f,_,I,w){this._driver=f,this.element=_,this.startTime=I,this._elementTimelineStylesLookup=w,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+f),_&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,_){return this.applyStylesToKeyframe(),new Ui(this._driver,f,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,_){this._localTimelineStyles.set(f,_),this._globalTimelineStyles.set(f,_),this._styleSummary.set(f,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[_,I]of this._globalTimelineStyles)this._backFill.set(_,I||ae.kp),this._currentKeyframe.set(_,ae.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,_,I,w){_&&this._previousKeyframe.set("easing",_);const O=w&&w.params||{},oe=function Gs(A,f){const _=new Map;let I;return A.forEach(w=>{if("*"===w){var O;null!==(O=I)&&void 0!==O||(I=f.keys());for(let oe of I)_.set(oe,ae.kp)}else for(let[oe,Pe]of w)_.set(oe,Pe)}),_}(f,this._globalTimelineStyles);for(let[rt,Dt]of oe){const Jt=Qt(Dt,O,I);var Pe;this._pendingStyles.set(rt,Jt),this._localTimelineStyles.has(rt)||this._backFill.set(rt,null!==(Pe=this._globalTimelineStyles.get(rt))&&void 0!==Pe?Pe:ae.kp),this._updateStyle(rt,Jt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,_)=>{this._currentKeyframe.set(_,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,f)}))}snapshotCurrentStyles(){for(let[f,_]of this._localTimelineStyles)this._pendingStyles.set(f,_),this._updateStyle(f,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let _ in this._currentKeyframe)f.push(_);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((_,I)=>{const w=this._styleSummary.get(I);(!w||_.time>w.time)&&this._updateStyle(I,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,_=new Set,I=1===this._keyframes.size&&0===this.duration;let w=[];this._keyframes.forEach((Pe,rt)=>{const Dt=new Map([...this._backFill,...Pe]);Dt.forEach((Jt,gn)=>{Jt===ae.FX?f.add(gn):Jt===ae.kp&&_.add(gn)}),I||Dt.set("offset",rt/this.duration),w.push(Dt)});const O=[...f.values()],oe=[..._.values()];if(I){const Pe=w[0],rt=new Map(Pe);Pe.set("offset",0),rt.set("offset",1),w=[Pe,rt]}return ai(this.element,w,O,oe,this.duration,this.startTime,this.easing,!1)}}class zs extends Ui{constructor(f,_,I,w,O,oe,Pe=!1){super(f,_,oe.delay),this.keyframes=I,this.preStyleProps=w,this.postStyleProps=O,this._stretchStartingKeyframe=Pe,this.timings={duration:oe.duration,delay:oe.delay,easing:oe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:_,duration:I,easing:w}=this.timings;if(this._stretchStartingKeyframe&&_){const O=[],oe=I+_,Pe=_/oe,rt=new Map(f[0]);rt.set("offset",0),O.push(rt);const Dt=new Map(f[0]);Dt.set("offset",aa(Pe)),O.push(Dt);const Jt=f.length-1;for(let gn=1;gn<=Jt;gn++){let Kn=new Map(f[gn]);const ir=Kn.get("offset");Kn.set("offset",aa((_+ir*I)/oe)),O.push(Kn)}I=oe,_=0,w="",f=O}return ai(this.element,f,this.preStyleProps,this.postStyleProps,I,_,w,!0)}}function aa(A,f=3){const _=Math.pow(10,f-1);return Math.round(A*_)/_}function is(A,f,_,I,w,O,oe,Pe,rt,Dt,Jt,gn,Kn){return{type:0,element:A,triggerName:f,isRemovalTransition:w,fromState:_,fromStyles:O,toState:I,toStyles:oe,timelines:Pe,queriedElements:rt,preStyleProps:Dt,postStyleProps:Jt,totalTime:gn,errors:Kn}}const Jn={};class li{constructor(f,_,I){this._triggerName=f,this.ast=_,this._stateStyles=I}match(f,_,I,w){return function Ir(A,f,_,I,w){return A.some(O=>O(f,_,I,w))}(this.ast.matchers,f,_,I,w)}buildStyles(f,_,I){let w=this._stateStyles.get("*");return void 0!==f&&(w=this._stateStyles.get(null==f?void 0:f.toString())||w),w?w.buildStyles(_,I):new Map}build(f,_,I,w,O,oe,Pe,rt,Dt,Jt){var gn;const Kn=[],ir=this.ast.options&&this.ast.options.params||Jn,ur=this.buildStyles(I,Pe&&Pe.params||Jn,Kn),Kr=rt&&rt.params||Jn,Di=this.buildStyles(w,Kr,Kn),to=new Set,Oi=new Map,Si=new Map,Vs="void"===w,Zo={params:Ws(Kr,ir),delay:null===(gn=this.ast.options)||void 0===gn?void 0:gn.delay},Bo=Jt?[]:ro(f,_,this.ast.animation,O,oe,ur,Di,Zo,Dt,Kn);let ws=0;return Bo.forEach(Ls=>{ws=Math.max(Ls.duration+Ls.delay,ws)}),Kn.length?is(_,this._triggerName,I,w,Vs,ur,Di,[],[],Oi,Si,ws,Kn):(Bo.forEach(Ls=>{const Dl=Ls.element,bc=en(Oi,Dl,new Set);Ls.preStyleProps.forEach(Kl=>bc.add(Kl));const Wl=en(Si,Dl,new Set);Ls.postStyleProps.forEach(Kl=>Wl.add(Kl)),Dl!==_&&to.add(Dl)}),is(_,this._triggerName,I,w,Vs,ur,Di,Bo,[...to.values()],Oi,Si,ws))}}function Ws(A,f){const _={...f};return Object.entries(A).forEach(([I,w])=>{null!=w&&(_[I]=w)}),_}class ui{constructor(f,_,I){this.styles=f,this.defaultParams=_,this.normalizer=I}buildStyles(f,_){const I=new Map,w=Ws(f,this.defaultParams);return this.styles.styles.forEach(O=>{"string"!=typeof O&&O.forEach((oe,Pe)=>{oe&&(oe=Qt(oe,w,_));const rt=this.normalizer.normalizePropertyName(Pe,_);oe=this.normalizer.normalizeStyleValue(Pe,rt,oe,_),I.set(Pe,oe)})}),I}}class Ri{constructor(f,_,I){this.name=f,this.ast=_,this._normalizer=I,this.transitionFactories=[],this.states=new Map,_.states.forEach(w=>{this.states.set(w.name,new ui(w.style,w.options&&w.options.params||{},I))}),Bi(this.states,"true","1"),Bi(this.states,"false","0"),_.transitions.forEach(w=>{this.transitionFactories.push(new li(f,w,this.states))}),this.fallbackTransition=function ci(A,f,_){return new li(A,{type:ae.If.Transition,animation:{type:ae.If.Sequence,steps:[],options:null},matchers:[(oe,Pe)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,_,I,w){return this.transitionFactories.find(oe=>oe.match(f,_,I,w))||null}matchStyles(f,_,I){return this.fallbackTransition.buildStyles(f,_,I)}}function Bi(A,f,_){A.has(f)?A.has(_)||A.set(_,A.get(f)):A.has(_)&&A.set(f,A.get(_))}const N=new Li;class Q{constructor(f,_,I){this.bodyNode=f,this._driver=_,this._normalizer=I,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,_){const I=[],O=En(this._driver,_,I,[]);if(I.length)throw function Mt(A){return new s.wOt(3503,!1)}();this._animations.set(f,O)}_buildPlayer(f,_,I){const w=f.element,O=Pt(this._normalizer,f.keyframes,_,I);return this._driver.animate(w,O,f.duration,f.delay,f.easing,[],!0)}create(f,_,I={}){const w=[],O=this._animations.get(f);let oe;const Pe=new Map;if(O?(oe=ro(this._driver,_,O,Qn,Bn,new Map,new Map,I,N,w),oe.forEach(Jt=>{const gn=en(Pe,Jt.element,new Map);Jt.postStyleProps.forEach(Kn=>gn.set(Kn,null))})):(w.push(function Ve(){return new s.wOt(3300,!1)}()),oe=[]),w.length)throw function te(A){return new s.wOt(3504,!1)}();Pe.forEach((Jt,gn)=>{Jt.forEach((Kn,ir)=>{Jt.set(ir,this._driver.computeStyle(gn,ir,ae.kp))})});const Dt=jt(oe.map(Jt=>{const gn=Pe.get(Jt.element);return this._buildPlayer(Jt,new Map,gn)}));return this._playersById.set(f,Dt),Dt.onDestroy(()=>this.destroy(f)),this.players.push(Dt),Dt}destroy(f){const _=this._getPlayer(f);_.destroy(),this._playersById.delete(f);const I=this.players.indexOf(_);I>=0&&this.players.splice(I,1)}_getPlayer(f){const _=this._playersById.get(f);if(!_)throw function ne(A){return new s.wOt(3301,!1)}();return _}listen(f,_,I,w){const O=$n(_,"","","");return mn(this._getPlayer(f),I,O,w),()=>{}}command(f,_,I,w){if("register"==I)return void this.register(f,w[0]);if("create"==I)return void this.create(f,_,w[0]||{});const O=this._getPlayer(f);switch(I){case"play":O.play();break;case"pause":O.pause();break;case"reset":O.reset();break;case"restart":O.restart();break;case"finish":O.finish();break;case"init":O.init();break;case"setPosition":O.setPosition(parseFloat(w[0]));break;case"destroy":this.destroy(f)}}}const be="ng-animate-queued",Ce="ng-animate-disabled",K=[],ve={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ke={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Je="__ng_removed";class xt{get params(){return this.options.params}constructor(f,_=""){this.namespaceId=_;const I=f&&f.hasOwnProperty("value");if(this.value=function jn(A){return null!=A?A:null}(I?f.value:f),I){const{value:O,...oe}=f;this.options=oe}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const _=f.params;if(_){const I=this.options.params;Object.keys(_).forEach(w=>{null==I[w]&&(I[w]=_[w])})}}}const Et="void",Zt=new xt(Et);class un{constructor(f,_,I){this.id=f,this.hostElement=_,this._engine=I,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,Zr(_,this._hostClassName)}listen(f,_,I,w){if(!this._triggers.has(_))throw function ge(A,f){return new s.wOt(3302,!1)}();if(null==I||0==I.length)throw function Ke(A){return new s.wOt(3303,!1)}();if(!function lr(A){return"start"==A||"done"==A}(I))throw function Oe(A,f){return new s.wOt(3400,!1)}();const O=en(this._elementListeners,f,[]),oe={name:_,phase:I,callback:w};O.push(oe);const Pe=en(this._engine.statesByElement,f,new Map);return Pe.has(_)||(Zr(f,Ln),Zr(f,Ln+"-"+_),Pe.set(_,Zt)),()=>{this._engine.afterFlush(()=>{const rt=O.indexOf(oe);rt>=0&&O.splice(rt,1),this._triggers.has(_)||Pe.delete(_)})}}register(f,_){return!this._triggers.has(f)&&(this._triggers.set(f,_),!0)}_getTrigger(f){const _=this._triggers.get(f);if(!_)throw function $e(A){return new s.wOt(3401,!1)}();return _}trigger(f,_,I,w=!0){const O=this._getTrigger(_),oe=new ln(this.id,_,f);let Pe=this._engine.statesByElement.get(f);Pe||(Zr(f,Ln),Zr(f,Ln+"-"+_),this._engine.statesByElement.set(f,Pe=new Map));let rt=Pe.get(_);const Dt=new xt(I,this.id);if(!(I&&I.hasOwnProperty("value"))&&rt&&Dt.absorbOptions(rt.options),Pe.set(_,Dt),rt||(rt=Zt),Dt.value!==Et&&rt.value===Dt.value){if(!function Do(A,f){const _=Object.keys(A),I=Object.keys(f);if(_.length!=I.length)return!1;for(let w=0;w<_.length;w++){const O=_[w];if(!f.hasOwnProperty(O)||A[O]!==f[O])return!1}return!0}(rt.params,Dt.params)){const ur=[],Kr=O.matchStyles(rt.value,rt.params,ur),Di=O.matchStyles(Dt.value,Dt.params,ur);ur.length?this._engine.reportError(ur):this._engine.afterFlush(()=>{Ae(f,Kr),ce(f,Di)})}return}const Kn=en(this._engine.playersByElement,f,[]);Kn.forEach(ur=>{ur.namespaceId==this.id&&ur.triggerName==_&&ur.queued&&ur.destroy()});let ir=O.matchTransition(rt.value,Dt.value,f,Dt.params),Hn=!1;if(!ir){if(!w)return;ir=O.fallbackTransition,Hn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:_,transition:ir,fromState:rt,toState:Dt,player:oe,isFallbackTransition:Hn}),Hn||(Zr(f,be),oe.onStart(()=>{Ai(f,be)})),oe.onDone(()=>{let ur=this.players.indexOf(oe);ur>=0&&this.players.splice(ur,1);const Kr=this._engine.playersByElement.get(f);if(Kr){let Di=Kr.indexOf(oe);Di>=0&&Kr.splice(Di,1)}}),this.players.push(oe),Kn.push(oe),oe}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(_=>_.delete(f)),this._elementListeners.forEach((_,I)=>{this._elementListeners.set(I,_.filter(w=>w.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const _=this._engine.playersByElement.get(f);_&&(_.forEach(I=>I.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,_){const I=this._engine.driver.query(f,pr,!0);I.forEach(w=>{if(w[Je])return;const O=this._engine.fetchNamespacesByElement(w);O.size?O.forEach(oe=>oe.triggerLeaveAnimation(w,_,!1,!0)):this.clearElementCache(w)}),this._engine.afterFlushAnimationsDone(()=>I.forEach(w=>this.clearElementCache(w)))}triggerLeaveAnimation(f,_,I,w){const O=this._engine.statesByElement.get(f),oe=new Map;if(O){const Pe=[];if(O.forEach((rt,Dt)=>{if(oe.set(Dt,rt.value),this._triggers.has(Dt)){const Jt=this.trigger(f,Dt,Et,w);Jt&&Pe.push(Jt)}}),Pe.length)return this._engine.markElementAsRemoved(this.id,f,!0,_,oe),I&&jt(Pe).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const _=this._elementListeners.get(f),I=this._engine.statesByElement.get(f);if(_&&I){const w=new Set;_.forEach(O=>{const oe=O.name;if(w.has(oe))return;w.add(oe);const rt=this._triggers.get(oe).fallbackTransition,Dt=I.get(oe)||Zt,Jt=new xt(Et),gn=new ln(this.id,oe,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:oe,transition:rt,fromState:Dt,toState:Jt,player:gn,isFallbackTransition:!0})})}}removeNode(f,_){const I=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,_),this.triggerLeaveAnimation(f,_,!0))return;let w=!1;if(I.totalAnimations){const O=I.players.length?I.playersByQueriedElement.get(f):[];if(O&&O.length)w=!0;else{let oe=f;for(;oe=oe.parentNode;)if(I.statesByElement.get(oe)){w=!0;break}}}if(this.prepareLeaveAnimationListeners(f),w)I.markElementAsRemoved(this.id,f,!1,_);else{const O=f[Je];(!O||O===ve)&&(I.afterFlush(()=>this.clearElementCache(f)),I.destroyInnerAnimations(f),I._onRemovalComplete(f,_))}}insertNode(f,_){Zr(f,this._hostClassName)}drainQueuedTransitions(f){const _=[];return this._queue.forEach(I=>{const w=I.player;if(w.destroyed)return;const O=I.element,oe=this._elementListeners.get(O);oe&&oe.forEach(Pe=>{if(Pe.name==I.triggerName){const rt=$n(O,I.triggerName,I.fromState.value,I.toState.value);rt._data=f,mn(I.player,Pe.phase,rt,Pe.callback)}}),w.markedForDestroy?this._engine.afterFlush(()=>{w.destroy()}):_.push(I)}),this._queue=[],_.sort((I,w)=>{const O=I.transition.ast.depCount,oe=w.transition.ast.depCount;return 0==O||0==oe?O-oe:this._engine.driver.containsElement(I.element,w.element)?1:-1})}destroy(f){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class an{_onRemovalComplete(f,_){this.onRemovalComplete(f,_)}constructor(f,_,I,w){this.bodyNode=f,this.driver=_,this._normalizer=I,this.scheduler=w,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(O,oe)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(_=>{_.players.forEach(I=>{I.queued&&f.push(I)})}),f}createNamespace(f,_){const I=new un(f,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(I,_):(this.newHostElements.set(_,I),this.collectEnterElement(_)),this._namespaceLookup[f]=I}_balanceNamespaceList(f,_){const I=this._namespaceList,w=this.namespacesByHostElement;if(I.length-1>=0){let oe=!1,Pe=this.driver.getParentElement(_);for(;Pe;){const rt=w.get(Pe);if(rt){const Dt=I.indexOf(rt);I.splice(Dt+1,0,f),oe=!0;break}Pe=this.driver.getParentElement(Pe)}oe||I.unshift(f)}else I.push(f);return w.set(_,f),f}register(f,_){let I=this._namespaceLookup[f];return I||(I=this.createNamespace(f,_)),I}registerTrigger(f,_,I){let w=this._namespaceLookup[f];w&&w.register(_,I)&&this.totalAnimations++}destroy(f,_){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const I=this._fetchNamespace(f);this.namespacesByHostElement.delete(I.hostElement);const w=this._namespaceList.indexOf(I);w>=0&&this._namespaceList.splice(w,1),I.destroy(_),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const _=new Set,I=this.statesByElement.get(f);if(I)for(let w of I.values())if(w.namespaceId){const O=this._fetchNamespace(w.namespaceId);O&&_.add(O)}return _}trigger(f,_,I,w){if(Zn(_)){const O=this._fetchNamespace(f);if(O)return O.trigger(_,I,w),!0}return!1}insertNode(f,_,I,w){if(!Zn(_))return;const O=_[Je];if(O&&O.setForRemoval){O.setForRemoval=!1,O.setForMove=!0;const oe=this.collectedLeaveElements.indexOf(_);oe>=0&&this.collectedLeaveElements.splice(oe,1)}if(f){const oe=this._fetchNamespace(f);oe&&oe.insertNode(_,I)}w&&this.collectEnterElement(_)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,_){_?this.disabledNodes.has(f)||(this.disabledNodes.add(f),Zr(f,Ce)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),Ai(f,Ce))}removeNode(f,_,I){if(Zn(_)){var w;null===(w=this.scheduler)||void 0===w||w.notify();const O=f?this._fetchNamespace(f):null;O?O.removeNode(_,I):this.markElementAsRemoved(f,_,!1,I);const oe=this.namespacesByHostElement.get(_);oe&&oe.id!==f&&oe.removeNode(_,I)}else this._onRemovalComplete(_,I)}markElementAsRemoved(f,_,I,w,O){this.collectedLeaveElements.push(_),_[Je]={namespaceId:f,setForRemoval:w,hasAnimation:I,removedBeforeQueried:!1,previousTriggersValues:O}}listen(f,_,I,w,O){return Zn(_)?this._fetchNamespace(f).listen(_,I,w,O):()=>{}}_buildInstruction(f,_,I,w,O){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,I,w,f.fromState.options,f.toState.options,_,O)}destroyInnerAnimations(f){let _=this.driver.query(f,pr,!0);_.forEach(I=>this.destroyActiveAnimationsForElement(I)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(f,si,!0),_.forEach(I=>this.finishActiveQueriedAnimationOnElement(I)))}destroyActiveAnimationsForElement(f){const _=this.playersByElement.get(f);_&&_.forEach(I=>{I.queued?I.markedForDestroy=!0:I.destroy()})}finishActiveQueriedAnimationOnElement(f){const _=this.playersByQueriedElement.get(f);_&&_.forEach(I=>I.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return jt(this.players).onDone(()=>f());f()})}processLeaveNode(f){var _;const I=f[Je];if(I&&I.setForRemoval){if(f[Je]=ve,I.namespaceId){this.destroyInnerAnimations(f);const w=this._fetchNamespace(I.namespaceId);w&&w.clearElementCache(f)}this._onRemovalComplete(f,I.setForRemoval)}null!==(_=f.classList)&&void 0!==_&&_.contains(Ce)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(w=>{this.markElementAsDisabled(w,!1)})}flush(f=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((I,w)=>this._balanceNamespaceList(I,w)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let I=0;I<this.collectedEnterElements.length;I++)Zr(this.collectedEnterElements[I],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const I=[];try{_=this._flushAnimations(I,f)}finally{for(let w=0;w<I.length;w++)I[w]()}}else for(let I=0;I<this.collectedLeaveElements.length;I++)this.processLeaveNode(this.collectedLeaveElements[I]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(I=>I()),this._flushFns=[],this._whenQuietFns.length){const I=this._whenQuietFns;this._whenQuietFns=[],_.length?jt(_).onDone(()=>{I.forEach(w=>w())}):I.forEach(w=>w())}}reportError(f){throw function Re(A){return new s.wOt(3402,!1)}()}_flushAnimations(f,_){const I=new Li,w=[],O=new Map,oe=[],Pe=new Map,rt=new Map,Dt=new Map,Jt=new Set;this.disabledNodes.forEach(cr=>{Jt.add(cr);const wr=this.driver.query(cr,".ng-animate-queued",!0);for(let Mr=0;Mr<wr.length;Mr++)Jt.add(wr[Mr])});const gn=this.bodyNode,Kn=Array.from(this.statesByElement.keys()),ir=Sr(Kn,this.collectedEnterElements),Hn=new Map;let ur=0;ir.forEach((cr,wr)=>{const Mr=Qn+ur++;Hn.set(wr,Mr),cr.forEach(pi=>Zr(pi,Mr))});const Kr=[],Di=new Set,to=new Set;for(let cr=0;cr<this.collectedLeaveElements.length;cr++){const wr=this.collectedLeaveElements[cr],Mr=wr[Je];Mr&&Mr.setForRemoval&&(Kr.push(wr),Di.add(wr),Mr.hasAnimation?this.driver.query(wr,".ng-star-inserted",!0).forEach(pi=>Di.add(pi)):to.add(wr))}const Oi=new Map,Si=Sr(Kn,Array.from(Di));Si.forEach((cr,wr)=>{const Mr=Bn+ur++;Oi.set(wr,Mr),cr.forEach(pi=>Zr(pi,Mr))}),f.push(()=>{ir.forEach((cr,wr)=>{const Mr=Hn.get(wr);cr.forEach(pi=>Ai(pi,Mr))}),Si.forEach((cr,wr)=>{const Mr=Oi.get(wr);cr.forEach(pi=>Ai(pi,Mr))}),Kr.forEach(cr=>{this.processLeaveNode(cr)})});const Vs=[],Zo=[];for(let cr=this._namespaceList.length-1;cr>=0;cr--)this._namespaceList[cr].drainQueuedTransitions(_).forEach(Mr=>{const pi=Mr.player,$o=Mr.element;if(Vs.push(pi),this.collectedEnterElements.length){const ns=$o[Je];if(ns&&ns.setForMove){if(ns.previousTriggersValues&&ns.previousTriggersValues.has(Mr.triggerName)){const ql=ns.previousTriggersValues.get(Mr.triggerName),ul=this.statesByElement.get(Mr.element);if(ul&&ul.has(Mr.triggerName)){const Cu=ul.get(Mr.triggerName);Cu.value=ql,ul.set(Mr.triggerName,Cu)}}return void pi.destroy()}}const Wa=!gn||!this.driver.containsElement(gn,$o),Us=Oi.get($o),Ku=Hn.get($o),bo=this._buildInstruction(Mr,I,Ku,Us,Wa);if(bo.errors&&bo.errors.length)return void Zo.push(bo);if(Wa)return pi.onStart(()=>Ae($o,bo.fromStyles)),pi.onDestroy(()=>ce($o,bo.toStyles)),void w.push(pi);if(Mr.isFallbackTransition)return pi.onStart(()=>Ae($o,bo.fromStyles)),pi.onDestroy(()=>ce($o,bo.toStyles)),void w.push(pi);const Op=[];bo.timelines.forEach(ns=>{ns.stretchStartingKeyframe=!0,this.disabledNodes.has(ns.element)||Op.push(ns)}),bo.timelines=Op,I.append($o,bo.timelines),oe.push({instruction:bo,player:pi,element:$o}),bo.queriedElements.forEach(ns=>en(Pe,ns,[]).push(pi)),bo.preStyleProps.forEach((ns,ql)=>{if(ns.size){let ul=rt.get(ql);ul||rt.set(ql,ul=new Set),ns.forEach((Cu,Tc)=>ul.add(Tc))}}),bo.postStyleProps.forEach((ns,ql)=>{let ul=Dt.get(ql);ul||Dt.set(ql,ul=new Set),ns.forEach((Cu,Tc)=>ul.add(Tc))})});if(Zo.length){const cr=[];Zo.forEach(wr=>{cr.push(function dt(A,f){return new s.wOt(3505,!1)}())}),Vs.forEach(wr=>wr.destroy()),this.reportError(cr)}const Bo=new Map,ws=new Map;oe.forEach(cr=>{const wr=cr.element;I.has(wr)&&(ws.set(wr,wr),this._beforeAnimationBuild(cr.player.namespaceId,cr.instruction,Bo))}),w.forEach(cr=>{const wr=cr.element;this._getPreviousPlayers(wr,!1,cr.namespaceId,cr.triggerName,null).forEach(pi=>{en(Bo,wr,[]).push(pi),pi.destroy()})});const Ls=Kr.filter(cr=>Ml(cr,rt,Dt)),Dl=new Map;Ki(Dl,this.driver,to,Dt,ae.kp).forEach(cr=>{Ml(cr,rt,Dt)&&Ls.push(cr)});const Wl=new Map;ir.forEach((cr,wr)=>{Ki(Wl,this.driver,new Set(cr),rt,ae.FX)}),Ls.forEach(cr=>{var wr,Mr;const pi=Dl.get(cr),$o=Wl.get(cr);Dl.set(cr,new Map([...null!==(wr=null==pi?void 0:pi.entries())&&void 0!==wr?wr:[],...null!==(Mr=null==$o?void 0:$o.entries())&&void 0!==Mr?Mr:[]]))});const Kl=[],Au=[],ed={};oe.forEach(cr=>{const{element:wr,player:Mr,instruction:pi}=cr;if(I.has(wr)){if(Jt.has(wr))return Mr.onDestroy(()=>ce(wr,pi.toStyles)),Mr.disabled=!0,Mr.overrideTotalTime(pi.totalTime),void w.push(Mr);let $o=ed;if(ws.size>1){let Us=wr;const Ku=[];for(;Us=Us.parentNode;){const bo=ws.get(Us);if(bo){$o=bo;break}Ku.push(Us)}Ku.forEach(bo=>ws.set(bo,$o))}const Wa=this._buildAnimation(Mr.namespaceId,pi,Bo,O,Wl,Dl);if(Mr.setRealPlayer(Wa),$o===ed)Kl.push(Mr);else{const Us=this.playersByElement.get($o);Us&&Us.length&&(Mr.parentPlayer=jt(Us)),w.push(Mr)}}else Ae(wr,pi.fromStyles),Mr.onDestroy(()=>ce(wr,pi.toStyles)),Au.push(Mr),Jt.has(wr)&&w.push(Mr)}),Au.forEach(cr=>{const wr=O.get(cr.element);if(wr&&wr.length){const Mr=jt(wr);cr.setRealPlayer(Mr)}}),w.forEach(cr=>{cr.parentPlayer?cr.syncPlayerEvents(cr.parentPlayer):cr.destroy()});for(let cr=0;cr<Kr.length;cr++){const wr=Kr[cr],Mr=wr[Je];if(Ai(wr,Bn),Mr&&Mr.hasAnimation)continue;let pi=[];if(Pe.size){let Wa=Pe.get(wr);Wa&&Wa.length&&pi.push(...Wa);let Us=this.driver.query(wr,si,!0);for(let Ku=0;Ku<Us.length;Ku++){let bo=Pe.get(Us[Ku]);bo&&bo.length&&pi.push(...bo)}}const $o=pi.filter(Wa=>!Wa.destroyed);$o.length?io(this,wr,$o):this.processLeaveNode(wr)}return Kr.length=0,Kl.forEach(cr=>{this.players.push(cr),cr.onDone(()=>{cr.destroy();const wr=this.players.indexOf(cr);this.players.splice(wr,1)}),cr.play()}),Kl}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,_,I,w,O){let oe=[];if(_){const Pe=this.playersByQueriedElement.get(f);Pe&&(oe=Pe)}else{const Pe=this.playersByElement.get(f);if(Pe){const rt=!O||O==Et;Pe.forEach(Dt=>{Dt.queued||!rt&&Dt.triggerName!=w||oe.push(Dt)})}}return(I||w)&&(oe=oe.filter(Pe=>!(I&&I!=Pe.namespaceId||w&&w!=Pe.triggerName))),oe}_beforeAnimationBuild(f,_,I){const O=_.element,oe=_.isRemovalTransition?void 0:f,Pe=_.isRemovalTransition?void 0:_.triggerName;for(const rt of _.timelines){const Dt=rt.element,Jt=Dt!==O,gn=en(I,Dt,[]);this._getPreviousPlayers(Dt,Jt,oe,Pe,_.toState).forEach(ir=>{const Hn=ir.getRealPlayer();Hn.beforeDestroy&&Hn.beforeDestroy(),ir.destroy(),gn.push(ir)})}Ae(O,_.fromStyles)}_buildAnimation(f,_,I,w,O,oe){const Pe=_.triggerName,rt=_.element,Dt=[],Jt=new Set,gn=new Set,Kn=_.timelines.map(Hn=>{const ur=Hn.element;Jt.add(ur);const Kr=ur[Je];if(Kr&&Kr.removedBeforeQueried)return new ae.sf(Hn.duration,Hn.delay);const Di=ur!==rt,to=function os(A){const f=[];return ss(A,f),f}((I.get(ur)||K).map(Bo=>Bo.getRealPlayer())).filter(Bo=>!!Bo.element&&Bo.element===ur),Oi=O.get(ur),Si=oe.get(ur),Vs=Pt(this._normalizer,Hn.keyframes,Oi,Si),Zo=this._buildPlayer(Hn,Vs,to);if(Hn.subTimeline&&w&&gn.add(ur),Di){const Bo=new ln(f,Pe,ur);Bo.setRealPlayer(Zo),Dt.push(Bo)}return Zo});Dt.forEach(Hn=>{en(this.playersByQueriedElement,Hn.element,[]).push(Hn),Hn.onDone(()=>function On(A,f,_){let I=A.get(f);if(I){if(I.length){const w=I.indexOf(_);I.splice(w,1)}0==I.length&&A.delete(f)}return I}(this.playersByQueriedElement,Hn.element,Hn))}),Jt.forEach(Hn=>Zr(Hn,zn));const ir=jt(Kn);return ir.onDestroy(()=>{Jt.forEach(Hn=>Ai(Hn,zn)),ce(rt,_.toStyles)}),gn.forEach(Hn=>{en(w,Hn,[]).push(ir)}),ir}_buildPlayer(f,_,I){return _.length>0?this.driver.animate(f.element,_,f.duration,f.delay,f.easing,I):new ae.sf(f.duration,f.delay)}}class ln{constructor(f,_,I){this.namespaceId=f,this.triggerName=_,this.element=I,this._player=new ae.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((_,I)=>{_.forEach(w=>mn(f,I,void 0,w))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const _=this._player;_.triggerCallback&&f.onStart(()=>_.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,_){en(this._queuedCallbacks,f,[]).push(_)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const _=this._player;_.triggerCallback&&_.triggerCallback(f)}}function Zn(A){return A&&1===A.nodeType}function Wr(A,f){const _=A.style.display;return A.style.display=null!=f?f:"none",_}function Ki(A,f,_,I,w){const O=[];_.forEach(rt=>O.push(Wr(rt)));const oe=[];I.forEach((rt,Dt)=>{const Jt=new Map;rt.forEach(gn=>{const Kn=f.computeStyle(Dt,gn,w);Jt.set(gn,Kn),(!Kn||0==Kn.length)&&(Dt[Je]=ke,oe.push(Dt))}),A.set(Dt,Jt)});let Pe=0;return _.forEach(rt=>Wr(rt,O[Pe++])),oe}function Sr(A,f){const _=new Map;if(A.forEach(Pe=>_.set(Pe,[])),0==f.length)return _;const w=new Set(f),O=new Map;function oe(Pe){if(!Pe)return 1;let rt=O.get(Pe);if(rt)return rt;const Dt=Pe.parentNode;return rt=_.has(Dt)?Dt:w.has(Dt)?1:oe(Dt),O.set(Pe,rt),rt}return f.forEach(Pe=>{const rt=oe(Pe);1!==rt&&_.get(rt).push(Pe)}),_}function Zr(A,f){var _;null===(_=A.classList)||void 0===_||_.add(f)}function Ai(A,f){var _;null===(_=A.classList)||void 0===_||_.remove(f)}function io(A,f,_){jt(_).onDone(()=>A.processLeaveNode(f))}function ss(A,f){for(let _=0;_<A.length;_++){const I=A[_];I instanceof ae.ui?ss(I.players,f):f.push(I)}}function Ml(A,f,_){const I=_.get(A);if(!I)return!1;let w=f.get(A);return w?I.forEach(O=>w.add(O)):f.set(A,I),_.delete(A),!0}class qs{constructor(f,_,I,w){this._driver=_,this._normalizer=I,this._triggerCache={},this.onRemovalComplete=(O,oe)=>{},this._transitionEngine=new an(f.body,_,I,w),this._timelineEngine=new Q(f.body,_,I),this._transitionEngine.onRemovalComplete=(O,oe)=>this.onRemovalComplete(O,oe)}registerTrigger(f,_,I,w,O){const oe=f+"-"+w;let Pe=this._triggerCache[oe];if(!Pe){const rt=[],Jt=En(this._driver,O,rt,[]);if(rt.length)throw function nn(A,f){return new s.wOt(3404,!1)}();Pe=function Ks(A,f,_){return new Ri(A,f,_)}(w,Jt,this._normalizer),this._triggerCache[oe]=Pe}this._transitionEngine.registerTrigger(_,w,Pe)}register(f,_){this._transitionEngine.register(f,_)}destroy(f,_){this._transitionEngine.destroy(f,_)}onInsert(f,_,I,w){this._transitionEngine.insertNode(f,_,I,w)}onRemove(f,_,I){this._transitionEngine.removeNode(f,_,I)}disableAnimations(f,_){this._transitionEngine.markElementAsDisabled(f,_)}process(f,_,I,w){if("@"==I.charAt(0)){const[O,oe]=rn(I);this._timelineEngine.command(O,_,oe,w)}else this._transitionEngine.trigger(f,_,I,w)}listen(f,_,I,w,O){if("@"==I.charAt(0)){const[oe,Pe]=rn(I);return this._timelineEngine.listen(oe,_,Pe,O)}return this._transitionEngine.listen(f,_,I,w,O)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}class Xs{constructor(f,_,I){this._element=f,this._startStyles=_,this._endStyles=I,this._state=0;let w=Xs.initialStylesByElement.get(f);w||Xs.initialStylesByElement.set(f,w=new Map),this._initialStyles=w}start(){this._state<1&&(this._startStyles&&ce(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ce(this._element,this._initialStyles),this._endStyles&&(ce(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Xs.initialStylesByElement.delete(this._element),this._startStyles&&(Ae(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ae(this._element,this._endStyles),this._endStyles=null),ce(this._element,this._initialStyles),this._state=3)}}function Ro(A){let f=null;return A.forEach((_,I)=>{(function Ni(A){return"display"===A||"position"===A})(I)&&(f=f||new Map,f.set(I,_))}),f}Xs.initialStylesByElement=new WeakMap;class yo{constructor(f,_,I,w){this.element=f,this.keyframes=_,this.options=I,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=I.duration,this._delay=I.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const _=()=>this._onFinish();this.domPlayer.addEventListener("finish",_),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",_)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const _=[];return f.forEach(I=>{_.push(Object.fromEntries(I))}),_}_triggerWebAnimation(f,_,I){return f.animate(this._convertKeyframesToObject(_),I)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){var f;return+(null!==(f=this.domPlayer.currentTime)&&void 0!==f?f:0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((I,w)=>{"offset"!==w&&f.set(w,this._finished?I:Yn(this.element,w))}),this.currentSnapshot=f}triggerCallback(f){const _="start"===f?this._onStartFns:this._onDoneFns;_.forEach(I=>I()),_.length=0}}class Jr{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,_){return!1}containsElement(f,_){return Fn(f,_)}getParentElement(f){return ze(f)}query(f,_,I){return yn(f,_,I)}computeStyle(f,_,I){return Yn(f,_)}animate(f,_,I,w,O,oe=[]){const rt={duration:I,delay:w,fill:0==w?"both":"forwards"};O&&(rt.easing=O);const Dt=new Map,Jt=oe.filter(ir=>ir instanceof yo);(function Ur(A,f){return 0===A||0===f})(I,w)&&Jt.forEach(ir=>{ir.currentSnapshot.forEach((Hn,ur)=>Dt.set(ur,Hn))});let gn=function Vt(A){return A.length?A[0]instanceof Map?A:A.map(f=>new Map(Object.entries(f))):[]}(_).map(ir=>new Map(ir));gn=function st(A,f,_){if(_.size&&f.length){let I=f[0],w=[];if(_.forEach((O,oe)=>{I.has(oe)||w.push(oe),I.set(oe,O)}),w.length)for(let O=1;O<f.length;O++){let oe=f[O];w.forEach(Pe=>oe.set(Pe,Yn(A,Pe)))}}return f}(f,gn,Dt);const Kn=function So(A,f){let _=null,I=null;return Array.isArray(f)&&f.length?(_=Ro(f[0]),f.length>1&&(I=Ro(f[f.length-1]))):f instanceof Map&&(_=Ro(f)),_||I?new Xs(A,_,I):null}(f,gn);return new yo(f,gn,rt,Kn)}}const la="@.disabled";class Is{constructor(f,_,I,w){this.namespaceId=f,this.delegate=_,this.engine=I,this._onDestroy=w,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(f){var _,I;null===(_=(I=this.delegate).destroyNode)||void 0===_||_.call(I,f)}destroy(){var f;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),null===(f=this._onDestroy)||void 0===f||f.call(this)}createElement(f,_){return this.delegate.createElement(f,_)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,_){this.delegate.appendChild(f,_),this.engine.onInsert(this.namespaceId,_,f,!1)}insertBefore(f,_,I,w=!0){this.delegate.insertBefore(f,_,I),this.engine.onInsert(this.namespaceId,_,f,w)}removeChild(f,_,I){this.engine.onRemove(this.namespaceId,_,this.delegate)}selectRootElement(f,_){return this.delegate.selectRootElement(f,_)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,_,I,w){this.delegate.setAttribute(f,_,I,w)}removeAttribute(f,_,I){this.delegate.removeAttribute(f,_,I)}addClass(f,_){this.delegate.addClass(f,_)}removeClass(f,_){this.delegate.removeClass(f,_)}setStyle(f,_,I,w){this.delegate.setStyle(f,_,I,w)}removeStyle(f,_,I){this.delegate.removeStyle(f,_,I)}setProperty(f,_,I){"@"==_.charAt(0)&&_==la?this.disableAnimations(f,!!I):this.delegate.setProperty(f,_,I)}setValue(f,_){this.delegate.setValue(f,_)}listen(f,_,I){return this.delegate.listen(f,_,I)}disableAnimations(f,_){this.engine.disableAnimations(f,_)}}class ua extends Is{constructor(f,_,I,w,O){super(_,I,w,O),this.factory=f,this.namespaceId=_}setProperty(f,_,I){"@"==_.charAt(0)?"."==_.charAt(1)&&_==la?this.disableAnimations(f,I=void 0===I||!!I):this.engine.process(this.namespaceId,f,_.slice(1),I):this.delegate.setProperty(f,_,I)}listen(f,_,I){if("@"==_.charAt(0)){const w=function xr(A){switch(A){case"body":return document.body;case"document":return document;case"window":return window;default:return A}}(f);let O=_.slice(1),oe="";return"@"!=O.charAt(0)&&([O,oe]=function ri(A){const f=A.indexOf(".");return[A.substring(0,f),A.slice(f+1)]}(O)),this.engine.listen(this.namespaceId,w,O,oe,Pe=>{this.factory.scheduleListenerCallback(Pe._data||-1,I,Pe)})}return this.delegate.listen(f,_,I)}}class hs{constructor(f,_,I){this.delegate=f,this.engine=_,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,_.onRemovalComplete=(w,O)=>{const oe=null==O?void 0:O.parentNode(w);oe&&O.removeChild(oe,w)}}createRenderer(f,_){var I;const O=this.delegate.createRenderer(f,_);if(!f||null==_||null===(I=_.data)||void 0===I||!I.animation){const Jt=this._rendererCache;let gn=Jt.get(O);return gn||(gn=new Is("",O,this.engine,()=>Jt.delete(O)),Jt.set(O,gn)),gn}const oe=_.id,Pe=_.id+"-"+this._currentId;this._currentId++,this.engine.register(Pe,f);const rt=Jt=>{Array.isArray(Jt)?Jt.forEach(rt):this.engine.registerTrigger(oe,Pe,f,Jt.name,Jt)};return _.data.animation.forEach(rt),new ua(this,Pe,O,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(f,_,I){if(f>=0&&f<this._microtaskId)return void this._zone.run(()=>_(I));const w=this._animationCallbacksBuffer;0==w.length&&queueMicrotask(()=>{this._zone.run(()=>{w.forEach(O=>{const[oe,Pe]=O;oe(Pe)}),this._animationCallbacksBuffer=[]})}),w.push([_,I])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var qi=L(177);const Rs=[{provide:oi,useFactory:function hl(){return new Ei}},{provide:qs,useClass:(()=>{var A;class f extends qs{constructor(I,w,O){super(I,w,O,(0,s.WQX)(s.An2,{optional:!0}))}ngOnDestroy(){this.flush()}}return(A=f).\u0275fac=function(I){return new(I||A)(s.KVO(qi.qQ),s.KVO(Ar),s.KVO(oi))},A.\u0275prov=s.jDH({token:A,factory:A.\u0275fac}),f})()},{provide:s._9s,useFactory:function Ss(A,f,_){return new hs(A,f,_)},deps:[d.B7,qs,s.SKi]}],ca=[{provide:Ar,useFactory:()=>new Jr},{provide:s.bc$,useValue:"BrowserAnimations"},...Rs],Za=[{provide:Ar,useClass:hr},{provide:s.bc$,useValue:"NoopAnimations"},...Rs];let fl=(()=>{var A;class f{static withConfig(I){return{ngModule:f,providers:I.disableAnimations?Za:ca}}}return(A=f).\u0275fac=function(I){return new(I||A)},A.\u0275mod=s.$C({type:A}),A.\u0275inj=s.G2t({providers:ca,imports:[d.Bb]}),f})();var W=L(2872),_e=L(7863),fn=L(5794),Un=L(467),Cr=L(980),co=L(1182),Fo=L(8079);let Wo=(()=>{var A;class f{constructor(I){this.firestore=I}getim(){return this.firestore.collection("img-activate").snapshotChanges()}updateImgAc(I,w){return this.firestore.collection("img-activate").doc(I).update(w)}addImagenInfo(I){return this.firestore.collection("img-activate").add(I)}delete(I){return this.firestore.collection("img-activate").doc(I).delete()}}return(A=f).\u0275fac=function(I){return new(I||A)(s.KVO(Fo.Qe))},A.\u0275prov=s.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),f})();var da=L(5602),ba=L(9842),Io=L(5407),Mu=L(1985),fs=L(7673),Ja=L(8455),Qs=L(3236),Pl=L(9974),Es=L(4360),fi=L(6354),oo=L(5558),Eo=L(9253),ho=L(3345),Ms=L(7852),Ao=L(1076),ha=L(1362);const Va="firebasestorage.googleapis.com",La="storageBucket";class di extends Ao.g{constructor(f,_,I=0){super(Ko(f),`Firebase Storage: ${_} (${Ko(f)})`),this.status_=I,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,di.prototype)}get status(){return this.status_}set status(f){this.status_=f}_codeEquals(f){return Ko(f)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(f){this.customData.serverResponse=f,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var zi=function(A){return A.UNKNOWN="unknown",A.OBJECT_NOT_FOUND="object-not-found",A.BUCKET_NOT_FOUND="bucket-not-found",A.PROJECT_NOT_FOUND="project-not-found",A.QUOTA_EXCEEDED="quota-exceeded",A.UNAUTHENTICATED="unauthenticated",A.UNAUTHORIZED="unauthorized",A.UNAUTHORIZED_APP="unauthorized-app",A.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",A.INVALID_CHECKSUM="invalid-checksum",A.CANCELED="canceled",A.INVALID_EVENT_NAME="invalid-event-name",A.INVALID_URL="invalid-url",A.INVALID_DEFAULT_BUCKET="invalid-default-bucket",A.NO_DEFAULT_BUCKET="no-default-bucket",A.CANNOT_SLICE_BLOB="cannot-slice-blob",A.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",A.NO_DOWNLOAD_URL="no-download-url",A.INVALID_ARGUMENT="invalid-argument",A.INVALID_ARGUMENT_COUNT="invalid-argument-count",A.APP_DELETED="app-deleted",A.INVALID_ROOT_OPERATION="invalid-root-operation",A.INVALID_FORMAT="invalid-format",A.INTERNAL_ERROR="internal-error",A.UNSUPPORTED_ENVIRONMENT="unsupported-environment",A}(zi||{});function Ko(A){return"storage/"+A}function _l(){return new di(zi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function nu(){return new di(zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vl(){return new di(zi.CANCELED,"User canceled the upload/download.")}function Ta(){return new di(zi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ua(A){return new di(zi.INVALID_ARGUMENT,A)}function iu(){return new di(zi.APP_DELETED,"The Firebase app was deleted.")}function tl(A){return new di(zi.INVALID_ROOT_OPERATION,"The operation '"+A+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function as(A,f){return new di(zi.INVALID_FORMAT,"String does not match format '"+A+"': "+f)}function Uo(A){throw new di(zi.INTERNAL_ERROR,"Internal error: "+A)}class fo{constructor(f,_){this.bucket=f,this.path_=_}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const f=encodeURIComponent;return"/b/"+f(this.bucket)+"/o/"+f(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(f,_){let I;try{I=fo.makeFromUrl(f,_)}catch{return new fo(f,"")}if(""===I.path)return I;throw function ru(A){return new di(zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+A+"'.")}(f)}static makeFromUrl(f,_){let I=null;const w="([A-Za-z0-9.\\-_]+)",Pe=new RegExp("^gs://"+w+"(/(.*))?$","i");function Dt(Si){Si.path_=decodeURIComponent(Si.path)}const gn=_.replace(/[.]/g,"\\."),Oi=[{regex:Pe,indices:{bucket:1,path:3},postModify:function O(Si){"/"===Si.path.charAt(Si.path.length-1)&&(Si.path_=Si.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${gn}/v[A-Za-z0-9_]+/b/${w}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Dt},{regex:new RegExp(`^https?://${_===Va?"(?:storage.googleapis.com|storage.cloud.google.com)":_}/${w}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Dt}];for(let Si=0;Si<Oi.length;Si++){const Vs=Oi[Si],Zo=Vs.regex.exec(f);if(Zo){let ws=Zo[Vs.indices.path];ws||(ws=""),I=new fo(Zo[Vs.indices.bucket],ws),Vs.postModify(I);break}}if(null==I)throw function Gr(A){return new di(zi.INVALID_URL,"Invalid URL '"+A+"'.")}(f);return I}}class Da{constructor(f){this.promise_=Promise.reject(f)}getPromise(){return this.promise_}cancel(f=!1){}}function G(A){return"string"==typeof A||A instanceof String}function Be(A){return U()&&A instanceof Blob}function U(){return typeof Blob<"u"}function Ee(A,f,_,I){if(I<f)throw Ua(`Invalid value for '${A}'. Expected ${f} or greater.`);if(I>_)throw Ua(`Invalid value for '${A}'. Expected ${_} or less.`)}function qe(A,f,_){let I=f;return null==_&&(I=`https://${f}`),`${_}://${I}/v0${A}`}function tn(A){const f=encodeURIComponent;let _="?";for(const I in A)A.hasOwnProperty(I)&&(_=_+(f(I)+"=")+f(A[I])+"&");return _=_.slice(0,-1),_}var Tn=function(A){return A[A.NO_ERROR=0]="NO_ERROR",A[A.NETWORK_ERROR=1]="NETWORK_ERROR",A[A.ABORT=2]="ABORT",A}(Tn||{});function Nr(A,f){const _=A>=500&&A<600,w=-1!==[408,429].indexOf(A),O=-1!==f.indexOf(A);return _||w||O}class ti{constructor(f,_,I,w,O,oe,Pe,rt,Dt,Jt,gn,Kn=!0){this.url_=f,this.method_=_,this.headers_=I,this.body_=w,this.successCodes_=O,this.additionalRetryCodes_=oe,this.callback_=Pe,this.errorCallback_=rt,this.timeout_=Dt,this.progressCallback_=Jt,this.connectionFactory_=gn,this.retry=Kn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ir,Hn)=>{this.resolve_=ir,this.reject_=Hn,this.start_()})}start_(){const _=(I,w)=>{const O=this.resolve_,oe=this.reject_,Pe=w.connection;if(w.wasSuccessCode)try{const rt=this.callback_(Pe,Pe.getResponse());!function ou(A){return void 0!==A}(rt)?O():O(rt)}catch(rt){oe(rt)}else if(null!==Pe){const rt=_l();rt.serverResponse=Pe.getErrorText(),oe(this.errorCallback_?this.errorCallback_(Pe,rt):rt)}else oe(w.canceled?this.appDelete_?iu():vl():nu())};this.canceled_?_(0,new hi(!1,null,!0)):this.backoffId_=function Ol(A,f,_){let I=1,w=null,O=null,oe=!1,Pe=0;function rt(){return 2===Pe}let Dt=!1;function Jt(...Kr){Dt||(Dt=!0,f.apply(null,Kr))}function gn(Kr){w=setTimeout(()=>{w=null,A(ir,rt())},Kr)}function Kn(){O&&clearTimeout(O)}function ir(Kr,...Di){if(Dt)return void Kn();if(Kr)return Kn(),void Jt.call(null,Kr,...Di);if(rt()||oe)return Kn(),void Jt.call(null,Kr,...Di);let Oi;I<64&&(I*=2),1===Pe?(Pe=2,Oi=0):Oi=1e3*(I+Math.random()),gn(Oi)}let Hn=!1;function ur(Kr){Hn||(Hn=!0,Kn(),!Dt&&(null!==w?(Kr||(Pe=2),clearTimeout(w),gn(0)):Kr||(Pe=1)))}return gn(0),O=setTimeout(()=>{oe=!0,ur(!0)},_),ur}((I,w)=>{if(w)return void I(!1,new hi(!1,null,!0));const O=this.connectionFactory_();this.pendingConnection_=O;const oe=Pe=>{null!==this.progressCallback_&&this.progressCallback_(Pe.loaded,Pe.lengthComputable?Pe.total:-1)};null!==this.progressCallback_&&O.addUploadProgressListener(oe),O.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&O.removeUploadProgressListener(oe),this.pendingConnection_=null;const Pe=O.getErrorCode()===Tn.NO_ERROR,rt=O.getStatus();if(!Pe||Nr(rt,this.additionalRetryCodes_)&&this.retry){const Jt=O.getErrorCode()===Tn.ABORT;return void I(!1,new hi(!1,null,Jt))}const Dt=-1!==this.successCodes_.indexOf(rt);I(!0,new hi(Dt,O))})},_,this.timeout_)}getPromise(){return this.promise_}cancel(f){this.canceled_=!0,this.appDelete_=f||!1,null!==this.backoffId_&&function gs(A){A(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class hi{constructor(f,_,I){this.wasSuccessCode=f,this.connection=_,this.canceled=!!I}}function Xn(...A){const f=function Sn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==f){const _=new f;for(let I=0;I<A.length;I++)_.append(A[I]);return _.getBlob()}if(U())return new Blob(A);throw new di(zi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class go{constructor(f,_){this.data=f,this.contentType=_||null}}function Zs(A,f){switch(A){case Xr.RAW:return new go(jr(f));case Xr.BASE64:case Xr.BASE64URL:return new go(Js(A,f));case Xr.DATA_URL:return new go(function ea(A){const f=new Or(A);return f.base64?Js(Xr.BASE64,f.rest):function Rr(A){let f;try{f=decodeURIComponent(A)}catch{throw as(Xr.DATA_URL,"Malformed data URL.")}return jr(f)}(f.rest)}(f),function kl(A){return new Or(A).contentType}(f))}throw _l()}function jr(A){const f=[];for(let _=0;_<A.length;_++){let I=A.charCodeAt(_);I<=127?f.push(I):I<=2047?f.push(192|I>>6,128|63&I):55296==(64512&I)?_<A.length-1&&56320==(64512&A.charCodeAt(_+1))?(I=65536|(1023&I)<<10|1023&A.charCodeAt(++_),f.push(240|I>>18,128|I>>12&63,128|I>>6&63,128|63&I)):f.push(239,191,189):56320==(64512&I)?f.push(239,191,189):f.push(224|I>>12,128|I>>6&63,128|63&I)}return new Uint8Array(f)}function Js(A,f){switch(A){case Xr.BASE64:{const w=-1!==f.indexOf("-"),O=-1!==f.indexOf("_");if(w||O)throw as(A,"Invalid character '"+(w?"-":"_")+"' found: is it base64url encoded?");break}case Xr.BASE64URL:{const w=-1!==f.indexOf("+"),O=-1!==f.indexOf("/");if(w||O)throw as(A,"Invalid character '"+(w?"+":"/")+"' found: is it base64 encoded?");f=f.replace(/-/g,"+").replace(/_/g,"/");break}}let _;try{_=function Xi(A){if(typeof atob>"u")throw function yl(A){return new di(zi.UNSUPPORTED_ENVIRONMENT,`${A} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(A)}(f)}catch(w){throw w.message.includes("polyfill")?w:as(A,"Invalid character found")}const I=new Uint8Array(_.length);for(let w=0;w<_.length;w++)I[w]=_.charCodeAt(w);return I}class Or{constructor(f){this.base64=!1,this.contentType=null;const _=f.match(/^data:([^,]+)?,/);if(null===_)throw as(Xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const I=_[1]||null;null!=I&&(this.base64=function su(A,f){return A.length>=f.length&&A.substring(A.length-f.length)===f}(I,";base64"),this.contentType=this.base64?I.substring(0,I.length-7):I),this.rest=f.substring(f.indexOf(",")+1)}}class _i{constructor(f,_){let I=0,w="";Be(f)?(this.data_=f,I=f.size,w=f.type):f instanceof ArrayBuffer?(_?this.data_=new Uint8Array(f):(this.data_=new Uint8Array(f.byteLength),this.data_.set(new Uint8Array(f))),I=this.data_.length):f instanceof Uint8Array&&(_?this.data_=f:(this.data_=new Uint8Array(f.length),this.data_.set(f)),I=f.length),this.size_=I,this.type_=w}size(){return this.size_}type(){return this.type_}slice(f,_){if(Be(this.data_)){const w=function wi(A,f,_){return A.webkitSlice?A.webkitSlice(f,_):A.mozSlice?A.mozSlice(f,_):A.slice?A.slice(f,_):null}(this.data_,f,_);return null===w?null:new _i(w)}{const I=new Uint8Array(this.data_.buffer,f,_-f);return new _i(I,!0)}}static getBlob(...f){if(U()){const _=f.map(I=>I instanceof _i?I.data_:I);return new _i(Xn.apply(null,_))}{const _=f.map(oe=>G(oe)?Zs(Xr.RAW,oe).data:oe.data_);let I=0;_.forEach(oe=>{I+=oe.byteLength});const w=new Uint8Array(I);let O=0;return _.forEach(oe=>{for(let Pe=0;Pe<oe.length;Pe++)w[O++]=oe[Pe]}),new _i(w,!0)}}uploadData(){return this.data_}}function qo(A){let f;try{f=JSON.parse(A)}catch{return null}return function S(A){return"object"==typeof A&&!Array.isArray(A)}(f)?f:null}function Ba(A){const f=A.lastIndexOf("/",A.length-2);return-1===f?A:A.slice(f+1)}function Pu(A,f){return f}class Qi{constructor(f,_,I,w){this.server=f,this.local=_||f,this.writable=!!I,this.xform=w||Pu}}let $a=null;function kr(){if($a)return $a;const A=[];A.push(new Qi("bucket")),A.push(new Qi("generation")),A.push(new Qi("metageneration")),A.push(new Qi("name","fullPath",!0));const _=new Qi("name");_.xform=function f(O,oe){return function ta(A){return!G(A)||A.length<2?A:Ba(A)}(oe)},A.push(_);const w=new Qi("size");return w.xform=function I(O,oe){return void 0!==oe?Number(oe):oe},A.push(w),A.push(new Qi("timeCreated")),A.push(new Qi("updated")),A.push(new Qi("md5Hash",null,!0)),A.push(new Qi("cacheControl",null,!0)),A.push(new Qi("contentDisposition",null,!0)),A.push(new Qi("contentEncoding",null,!0)),A.push(new Qi("contentLanguage",null,!0)),A.push(new Qi("contentType",null,!0)),A.push(new Qi("metadata","customMetadata",!0)),$a=A,$a}function Os(A,f,_){const I=qo(f);return null===I?null:function ja(A,f,_){const I={type:"file"},w=_.length;for(let O=0;O<w;O++){const oe=_[O];I[oe.local]=oe.xform(I,f[oe.server])}return function rc(A,f){Object.defineProperty(A,"ref",{get:function _(){const O=new fo(A.bucket,A.fullPath);return f._makeStorageReference(O)}})}(I,A),I}(A,I,_)}function Il(A,f){const _={},I=f.length;for(let w=0;w<I;w++){const O=f[w];O.writable&&(_[O.server]=A[O.local])}return JSON.stringify(_)}const _o="prefixes",ic="items";class na{constructor(f,_,I,w){this.url=f,this.method=_,this.handler=I,this.timeout=w,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xo(A){if(!A)throw _l()}function Yi(A,f){return function _(I,w){const O=Os(A,w,f);return Xo(null!==O),O}}function fa(A){return function f(_,I){let w;return w=401===_.getStatus()?_.getErrorText().includes("Firebase App Check token is invalid")?function xl(){return new di(zi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ys(){return new di(zi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===_.getStatus()?function tu(A){return new di(zi.QUOTA_EXCEEDED,"Quota for bucket '"+A+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(A.bucket):403===_.getStatus()?function Ps(A){return new di(zi.UNAUTHORIZED,"User does not have permission to access '"+A+"'.")}(A.path):I,w.status=_.getStatus(),w.serverResponse=I.serverResponse,w}}function ra(A){const f=fa(A);return function _(I,w){let O=f(I,w);return 404===I.getStatus()&&(O=function el(A){return new di(zi.OBJECT_NOT_FOUND,"Object '"+A+"' does not exist.")}(A.path)),O.serverResponse=w.serverResponse,O}}function ks(A,f,_){const w=qe(f.fullServerUrl(),A.host,A._protocol),oe=A.maxOperationRetryTime,Pe=new na(w,"GET",Yi(A,_),oe);return Pe.errorHandler=ra(f),Pe}function au(A,f,_,I,w){const O={};O.prefix=f.isRoot?"":f.path+"/",_&&_.length>0&&(O.delimiter=_),I&&(O.pageToken=I),w&&(O.maxResults=w);const Pe=qe(f.bucketOnlyServerUrl(),A.host,A._protocol),Dt=A.maxOperationRetryTime,Jt=new na(Pe,"GET",function ls(A,f){return function _(I,w){const O=function Mo(A,f,_){const I=qo(_);return null===I?null:function Vo(A,f,_){const I={prefixes:[],items:[],nextPageToken:_.nextPageToken};if(_[_o])for(const w of _[_o]){const O=w.replace(/\/$/,""),oe=A._makeStorageReference(new fo(f,O));I.prefixes.push(oe)}if(_[ic])for(const w of _[ic]){const O=A._makeStorageReference(new fo(f,w.name));I.items.push(O)}return I}(A,f,I)}(A,f,w);return Xo(null!==O),O}}(A,f.bucket),Dt);return Jt.urlParams=O,Jt.errorHandler=fa(f),Jt}function jd(A,f,_){const I=Object.assign({},_);return I.fullPath=A.path,I.size=f.size(),I.contentType||(I.contentType=function dd(A,f){return A&&A.contentType||f&&f.type()||"application/octet-stream"}(null,f)),I}class uu{constructor(f,_,I,w){this.current=f,this.total=_,this.finalized=!!I,this.metadata=w||null}}function b(A,f){let _=null;try{_=A.getResponseHeader("X-Goog-Upload-Status")}catch{Xo(!1)}return Xo(!!_&&-1!==(f||["active"]).indexOf(_)),_}const R=262144;const fe={STATE_CHANGED:"state_changed"},Se={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kt(A){switch(A){case"running":case"pausing":case"canceling":return Se.RUNNING;case"paused":return Se.PAUSED;case"success":return Se.SUCCESS;case"canceled":return Se.CANCELED;default:return Se.ERROR}}class bn{constructor(f,_,I){if(function xs(A){return"function"==typeof A}(f)||null!=_||null!=I)this.next=f,this.error=null!=_?_:void 0,this.complete=null!=I?I:void 0;else{const O=f;this.next=O.next,this.error=O.error,this.complete=O.complete}}}function Gt(A){return(...f)=>{Promise.resolve().then(()=>A(...f))}}let Gn=null;class Tr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tn.NO_ERROR,this.sendPromise_=new Promise(f=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tn.ABORT,f()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tn.NETWORK_ERROR,f()}),this.xhr_.addEventListener("load",()=>{f()})})}send(f,_,I,w){if(this.sent_)throw Uo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(_,f,!0),void 0!==w)for(const O in w)w.hasOwnProperty(O)&&this.xhr_.setRequestHeader(O,w[O].toString());return void 0!==I?this.xhr_.send(I):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Uo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(f){return this.xhr_.getResponseHeader(f)}addUploadProgressListener(f){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",f)}removeUploadProgressListener(f){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",f)}}class $i extends Tr{initXhr(){this.xhr_.responseType="text"}}function Qr(){return Gn?Gn():new $i}class Al{constructor(f,_,I=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=f,this._blob=_,this._metadata=I,this._mappings=kr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=w=>{if(this._request=void 0,this._chunkMultiplier=1,w._codeEquals(zi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const O=this.isExponentialBackoffExpired();if(Nr(w.status,[])){if(!O)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();w=nu()}this._error=w,this._transition("error")}},this._metadataErrorHandler=w=>{this._request=void 0,w._codeEquals(zi.CANCELED)?this.completeTransitions_():(this._error=w,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((w,O)=>{this._resolve=w,this._reject=O,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const f=this._transferred;return _=>this._updateProgress(f+_)}_shouldDoResumable(f){return f.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(f){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([_,I])=>{switch(this._state){case"running":f(_,I);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((f,_)=>{const I=function P(A,f,_,I,w){const O=f.bucketOnlyServerUrl(),oe=jd(f,I,w),Pe={name:oe.fullPath},rt=qe(O,A.host,A._protocol),Jt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${I.size()}`,"X-Goog-Upload-Header-Content-Type":oe.contentType,"Content-Type":"application/json; charset=utf-8"},gn=Il(oe,_),Hn=new na(rt,"POST",function ir(ur){let Kr;b(ur);try{Kr=ur.getResponseHeader("X-Goog-Upload-URL")}catch{Xo(!1)}return Xo(G(Kr)),Kr},A.maxUploadRetryTime);return Hn.urlParams=Pe,Hn.headers=Jt,Hn.body=gn,Hn.errorHandler=fa(f),Hn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),w=this._ref.storage._makeRequest(I,Qr,f,_);this._request=w,w.getPromise().then(O=>{this._request=void 0,this._uploadUrl=O,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const f=this._uploadUrl;this._resolveToken((_,I)=>{const w=function F(A,f,_,I){const rt=new na(_,"POST",function O(Dt){const Jt=b(Dt,["active","final"]);let gn=null;try{gn=Dt.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xo(!1)}gn||Xo(!1);const Kn=Number(gn);return Xo(!isNaN(Kn)),new uu(Kn,I.size(),"final"===Jt)},A.maxUploadRetryTime);return rt.headers={"X-Goog-Upload-Command":"query"},rt.errorHandler=fa(f),rt}(this._ref.storage,this._ref._location,f,this._blob),O=this._ref.storage._makeRequest(w,Qr,_,I);this._request=O,O.getPromise().then(oe=>{this._request=void 0,this._updateProgress(oe.current),this._needToFetchStatus=!1,oe.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const f=R*this._chunkMultiplier,_=new uu(this._transferred,this._blob.size()),I=this._uploadUrl;this._resolveToken((w,O)=>{let oe;try{oe=function j(A,f,_,I,w,O,oe,Pe){const rt=new uu(0,0);if(oe?(rt.current=oe.current,rt.total=oe.total):(rt.current=0,rt.total=I.size()),I.size()!==rt.total)throw function ps(){return new di(zi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Dt=rt.total-rt.current;let Jt=Dt;w>0&&(Jt=Math.min(Jt,w));const gn=rt.current;let ir="";ir=0===Jt?"finalize":Dt===Jt?"upload, finalize":"upload";const Hn={"X-Goog-Upload-Command":ir,"X-Goog-Upload-Offset":`${rt.current}`},ur=I.slice(gn,gn+Jt);if(null===ur)throw Ta();const Oi=new na(_,"POST",function Kr(Si,Vs){const Zo=b(Si,["active","final"]),Bo=rt.current+Jt,ws=I.size();let Ls;return Ls="final"===Zo?Yi(f,O)(Si,Vs):null,new uu(Bo,ws,"final"===Zo,Ls)},f.maxUploadRetryTime);return Oi.headers=Hn,Oi.body=ur.uploadData(),Oi.progressCallback=Pe||null,Oi.errorHandler=fa(A),Oi}(this._ref._location,this._ref.storage,I,this._blob,f,this._mappings,_,this._makeProgressCallback())}catch(rt){return this._error=rt,void this._transition("error")}const Pe=this._ref.storage._makeRequest(oe,Qr,w,O,!1);this._request=Pe,Pe.getPromise().then(rt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(rt.current),rt.finalized?(this._metadata=rt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){R*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((f,_)=>{const I=ks(this._ref.storage,this._ref._location,this._mappings),w=this._ref.storage._makeRequest(I,Qr,f,_);this._request=w,w.getPromise().then(O=>{this._request=void 0,this._metadata=O,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((f,_)=>{const I=function Hd(A,f,_,I,w){const O=f.bucketOnlyServerUrl(),oe={"X-Goog-Upload-Protocol":"multipart"},rt=function Pe(){let Oi="";for(let Si=0;Si<2;Si++)Oi+=Math.random().toString().slice(2);return Oi}();oe["Content-Type"]="multipart/related; boundary="+rt;const Dt=jd(f,I,w),Jt=Il(Dt,_),ir=_i.getBlob("--"+rt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Jt+"\r\n--"+rt+"\r\nContent-Type: "+Dt.contentType+"\r\n\r\n",I,"\r\n--"+rt+"--");if(null===ir)throw Ta();const Hn={name:Dt.fullPath},ur=qe(O,A.host,A._protocol),Di=A.maxUploadRetryTime,to=new na(ur,"POST",Yi(A,_),Di);return to.urlParams=Hn,to.headers=oe,to.body=ir.uploadData(),to.errorHandler=fa(f),to}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),w=this._ref.storage._makeRequest(I,Qr,f,_);this._request=w,w.getPromise().then(O=>{this._request=void 0,this._metadata=O,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(f){const _=this._transferred;this._transferred=f,this._transferred!==_&&this._notifyObservers()}_transition(f){if(this._state!==f)switch(f){case"canceling":case"pausing":this._state=f,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const _="paused"===this._state;this._state=f,_&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=f,this._notifyObservers();break;case"canceled":this._error=vl(),this._state=f,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const f=kt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:f,metadata:this._metadata,task:this,ref:this._ref}}on(f,_,I,w){const O=new bn(_||void 0,I||void 0,w||void 0);return this._addObserver(O),()=>{this._removeObserver(O)}}then(f,_){return this._promise.then(f,_)}catch(f){return this.then(null,f)}_addObserver(f){this._observers.push(f),this._notifyObserver(f)}_removeObserver(f){const _=this._observers.indexOf(f);-1!==_&&this._observers.splice(_,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(_=>{this._notifyObserver(_)})}_finishPromise(){if(void 0!==this._resolve){let f=!0;switch(kt(this._state)){case Se.SUCCESS:Gt(this._resolve.bind(null,this.snapshot))();break;case Se.CANCELED:case Se.ERROR:Gt(this._reject.bind(null,this._error))();break;default:f=!1}f&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(f){switch(kt(this._state)){case Se.RUNNING:case Se.PAUSED:f.next&&Gt(f.next.bind(f,this.snapshot))();break;case Se.SUCCESS:f.complete&&Gt(f.complete.bind(f))();break;default:f.error&&Gt(f.error.bind(f,this._error))()}}resume(){const f="paused"===this._state||"pausing"===this._state;return f&&this._transition("running"),f}pause(){const f="running"===this._state;return f&&this._transition("pausing"),f}cancel(){const f="running"===this._state||"pausing"===this._state;return f&&this._transition("canceling"),f}}class ms{constructor(f,_){this._service=f,this._location=_ instanceof fo?_:fo.makeFromUrl(_,f.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(f,_){return new ms(f,_)}get root(){const f=new fo(this._location.bucket,"");return this._newRef(this._service,f)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ba(this._location.path)}get storage(){return this._service}get parent(){const f=function nl(A){if(0===A.length)return null;const f=A.lastIndexOf("/");return-1===f?"":A.slice(0,f)}(this._location.path);if(null===f)return null;const _=new fo(this._location.bucket,f);return new ms(this._service,_)}_throwIfRoot(f){if(""===this._location.path)throw tl(f)}}function Ul(A,f,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,Un.A)(function*(A,f,_){const w=yield zd(A,{pageToken:_});f.prefixes.push(...w.prefixes),f.items.push(...w.items),null!=w.nextPageToken&&(yield Ul(A,f,w.nextPageToken))})).apply(this,arguments)}function zd(A,f){null!=f&&"number"==typeof f.maxResults&&Ee("options.maxResults",1,1e3,f.maxResults);const _=f||{},I=au(A.storage,A._location,"/",_.pageToken,_.maxResults);return A.storage.makeRequestWithTokens(I,Qr)}function Ra(A){A._throwIfRoot("getDownloadURL");const f=function El(A,f,_){const w=qe(f.fullServerUrl(),A.host,A._protocol),oe=A.maxOperationRetryTime,Pe=new na(w,"GET",function Fl(A,f){return function _(I,w){const O=Os(A,w,f);return Xo(null!==O),function mo(A,f,_,I){const w=qo(f);if(null===w||!G(w.downloadTokens))return null;const O=w.downloadTokens;if(0===O.length)return null;const oe=encodeURIComponent;return O.split(",").map(Dt=>{const gn=A.fullPath;return qe("/b/"+oe(A.bucket)+"/o/"+oe(gn),_,I)+tn({alt:"media",token:Dt})})[0]}(O,w,A.host,A._protocol)}}(A,_),oe);return Pe.errorHandler=ra(f),Pe}(A.storage,A._location,kr());return A.storage.makeRequestWithTokens(f,Qr).then(_=>{if(null===_)throw function wa(){return new di(zi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return _})}function sc(A,f){const _=function Ns(A,f){const _=f.split("/").filter(I=>I.length>0).join("/");return 0===A.length?_:A+"/"+_}(A._location.path,f),I=new fo(A._location.bucket,_);return new ms(A.storage,I)}function As(A,f){if(A instanceof ia){const _=A;if(null==_._bucket)throw function Nl(){return new di(zi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+La+"' property when initializing the app?")}();const I=new ms(_,_._bucket);return null!=f?As(I,f):I}return void 0!==f?sc(A,f):A}function fd(A,f){if(f&&function Cl(A){return/^[A-Za-z]+:\/\//.test(A)}(f)){if(A instanceof ia)return function Ma(A,f){return new ms(A,f)}(A,f);throw Ua("To use ref(service, url), the first argument must be a Storage instance.")}return As(A,f)}function Bc(A,f){const _=null==f?void 0:f[La];return null==_?null:fo.makeFromBucketSpec(_,A)}class ia{constructor(f,_,I,w,O){this.app=f,this._authProvider=_,this._appCheckProvider=I,this._url=w,this._firebaseVersion=O,this._bucket=null,this._host=Va,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=w?fo.makeFromBucketSpec(w,this._host):Bc(this._host,this.app.options)}get host(){return this._host}set host(f){this._host=f,this._bucket=null!=this._url?fo.makeFromBucketSpec(this._url,f):Bc(f,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(f){Ee("time",0,Number.POSITIVE_INFINITY,f),this._maxUploadRetryTime=f}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(f){Ee("time",0,Number.POSITIVE_INFINITY,f),this._maxOperationRetryTime=f}_getAuthToken(){var f=this;return(0,Un.A)(function*(){if(f._overrideAuthToken)return f._overrideAuthToken;const _=f._authProvider.getImmediate({optional:!0});if(_){const I=yield _.getToken();if(null!==I)return I.accessToken}return null})()}_getAppCheckToken(){var f=this;return(0,Un.A)(function*(){const _=f._appCheckProvider.getImmediate({optional:!0});return _?(yield _.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(f=>f.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(f){return new ms(this,f)}_makeRequest(f,_,I,w,O=!0){if(this._deleted)return new Da(iu());{const oe=function Mi(A,f,_,I,w,O,oe=!0){const Pe=tn(A.urlParams),rt=A.url+Pe,Dt=Object.assign({},A.headers);return function Ci(A,f){f&&(A["X-Firebase-GMPID"]=f)}(Dt,f),function Vr(A,f){null!==f&&f.length>0&&(A.Authorization="Firebase "+f)}(Dt,_),function ni(A,f){A["X-Firebase-Storage-Version"]="webjs/"+(null!=f?f:"AppManager")}(Dt,O),function po(A,f){null!==f&&(A["X-Firebase-AppCheck"]=f)}(Dt,I),new ti(rt,A.method,Dt,A.body,A.successCodes,A.additionalRetryCodes,A.handler,A.errorHandler,A.timeout,A.progressCallback,w,oe)}(f,this._appId,I,w,_,this._firebaseVersion,O);return this._requests.add(oe),oe.getPromise().then(()=>this._requests.delete(oe),()=>this._requests.delete(oe)),oe}}makeRequestWithTokens(f,_){var I=this;return(0,Un.A)(function*(){const[w,O]=yield Promise.all([I._getAuthToken(),I._getAppCheckToken()]);return I._makeRequest(f,_,w,O).getPromise()})()}}const du="@firebase/storage",il="storage";function ku(A,f){return fd(A=(0,Ao.Ku)(A),f)}function dc(A=(0,Ms.getApp)(),f){A=(0,Ao.Ku)(A);const I=(0,Ms._getProvider)(A,il).getImmediate({identifier:f}),w=(0,Ao.yU)("storage");return w&&ol(I,...w),I}function ol(A,f,_,I={}){!function Kh(A,f,_,I={}){A.host=`${f}:${_}`,A._protocol="http";const{mockUserToken:w}=I;w&&(A._overrideAuthToken="string"==typeof w?w:(0,Ao.Fy)(w,A.app.options.projectId))}(A,f,_,I)}function Fu(A,{instanceIdentifier:f}){const _=A.getProvider("app").getImmediate(),I=A.getProvider("auth-internal"),w=A.getProvider("app-check-internal");return new ia(_,I,w,f,Ms.SDK_VERSION)}!function hc(){(0,Ms._registerComponent)(new ha.uA(il,Fu,"PUBLIC").setMultipleInstances(!0)),(0,Ms.registerVersion)(du,"0.12.5",""),(0,Ms.registerVersion)(du,"0.12.5","esm2017")}();class Ha{constructor(f,_,I){this._delegate=f,this.task=_,this.ref=I}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class cn{constructor(f,_){this._delegate=f,this._ref=_,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ha(this._delegate.snapshot,this,this._ref)}then(f,_){return this._delegate.then(I=>{if(f)return f(new Ha(I,this,this._ref))},_)}on(f,_,I,w){let O;return _&&(O="function"==typeof _?oe=>_(new Ha(oe,this,this._ref)):{next:_.next?oe=>_.next(new Ha(oe,this,this._ref)):void 0,complete:_.complete||void 0,error:_.error||void 0}),this._delegate.on(f,O,I||void 0,w||void 0)}}class vi{constructor(f,_){this._delegate=f,this._service=_}get prefixes(){return this._delegate.prefixes.map(f=>new so(f,this._service))}get items(){return this._delegate.items.map(f=>new so(f,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class so{constructor(f,_){this._delegate=f,this.storage=_}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(f){const _=function Wd(A,f){return sc(A,f)}(this._delegate,f);return new so(_,this.storage)}get root(){return new so(this._delegate.root,this.storage)}get parent(){const f=this._delegate.parent;return null==f?null:new so(f,this.storage)}put(f,_){return this._throwIfRoot("put"),new cn(function Bl(A,f,_){return function us(A,f,_){return A._throwIfRoot("uploadBytesResumable"),new Al(A,new _i(f),_)}(A=(0,Ao.Ku)(A),f,_)}(this._delegate,f,_),this)}putString(f,_=Xr.RAW,I){this._throwIfRoot("putString");const w=Zs(_,f),O=Object.assign({},I);return null==O.contentType&&null!=w.contentType&&(O.contentType=w.contentType),new cn(new Al(this._delegate,new _i(w.data,!0),O),this)}listAll(){return function Ou(A){return function oc(A){const f={prefixes:[],items:[]};return Ul(A,f).then(()=>f)}(A=(0,Ao.Ku)(A))}(this._delegate).then(f=>new vi(f,this.storage))}list(f){return function Lr(A,f){return zd(A=(0,Ao.Ku)(A),f)}(this._delegate,f||void 0).then(_=>new vi(_,this.storage))}getMetadata(){return function cc(A){return function ji(A){A._throwIfRoot("getMetadata");const f=ks(A.storage,A._location,kr());return A.storage.makeRequestWithTokens(f,Qr)}(A=(0,Ao.Ku)(A))}(this._delegate)}updateMetadata(f){return function bl(A,f){return function hd(A,f){A._throwIfRoot("updateMetadata");const _=function $d(A,f,_,I){const O=qe(f.fullServerUrl(),A.host,A._protocol),Pe=Il(_,I),Dt=A.maxOperationRetryTime,Jt=new na(O,"PATCH",Yi(A,I),Dt);return Jt.headers={"Content-Type":"application/json; charset=utf-8"},Jt.body=Pe,Jt.errorHandler=ra(f),Jt}(A.storage,A._location,f,kr());return A.storage.makeRequestWithTokens(_,Qr)}(A=(0,Ao.Ku)(A),f)}(this._delegate,f)}getDownloadURL(){return function $c(A){return Ra(A=(0,Ao.Ku)(A))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Gd(A){return function cs(A){A._throwIfRoot("deleteObject");const f=function Uc(A,f){const I=qe(f.fullServerUrl(),A.host,A._protocol),Pe=new na(I,"DELETE",function oe(rt,Dt){},A.maxOperationRetryTime);return Pe.successCodes=[200,204],Pe.errorHandler=ra(f),Pe}(A.storage,A._location);return A.storage.makeRequestWithTokens(f,Qr)}(A=(0,Ao.Ku)(A))}(this._delegate)}_throwIfRoot(f){if(""===this._delegate._location.path)throw tl(f)}}class jc{constructor(f,_){this.app=f,this._delegate=_}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(f){if(Pi(f))throw Ua("ref() expected a child path but got a URL, use refFromURL instead.");return new so(ku(this._delegate,f),this)}refFromURL(f){if(!Pi(f))throw Ua("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fo.makeFromUrl(f,this._delegate.host)}catch{throw Ua("refFromUrl() expected a valid full URL but got an invalid one.")}return new so(ku(this._delegate,f),this)}setMaxUploadRetryTime(f){this._delegate.maxUploadRetryTime=f}setMaxOperationRetryTime(f){this._delegate.maxOperationRetryTime=f}useEmulator(f,_,I={}){ol(this._delegate,f,_,I)}}function Pi(A){return/^[A-Za-z]+:\/\//.test(A)}function sl(A,{instanceIdentifier:f}){const _=A.getProvider("app-compat").getImmediate(),I=A.getProvider("storage").getImmediate({identifier:f});return new jc(_,I)}function Tl(A){const f=function qh(A){return new Mu.c(f=>{const _=oe=>f.next(oe);_(A.snapshot);const O=A.on("state_changed",_);return A.then(oe=>{_(oe),f.complete()},oe=>{_(A.snapshot),(oe=>{f.error(oe)})(oe)}),function(){O()}}).pipe(function Fr(A,f=Qs.E){return(0,Pl.N)((_,I)=>{let w=null,O=null,oe=null;const Pe=()=>{if(w){w.unsubscribe(),w=null;const Dt=O;O=null,I.next(Dt)}};function rt(){const Dt=oe+A,Jt=f.now();if(Jt<Dt)return w=this.schedule(void 0,Dt-Jt),void I.add(w);Pe()}_.subscribe((0,Es._)(I,Dt=>{O=Dt,oe=f.now(),w||(w=f.schedule(rt,A),I.add(w))},()=>{Pe(),I.complete()},void 0,()=>{O=w=null}))})}(0))}(A);return{task:A,then:A.then.bind(A),catch:A.catch.bind(A),pause:A.pause.bind(A),cancel:A.cancel.bind(A),resume:A.resume.bind(A),snapshotChanges:()=>f,percentageChanges:()=>f.pipe((0,fi.T)(_=>_.bytesTransferred/_.totalBytes*100))}}function es(A){return{getDownloadURL:()=>(0,fs.of)(void 0).pipe(Io.Oe,(0,oo.n)(()=>A.getDownloadURL()),Io.U0),getMetadata:()=>(0,fs.of)(void 0).pipe(Io.Oe,(0,oo.n)(()=>A.getMetadata()),Io.U0),delete:()=>(0,Ja.H)(A.delete()),child:f=>es(A.child(f)),updateMetadata:f=>(0,Ja.H)(A.updateMetadata(f)),put:(f,_)=>Tl(A.put(f,_)),putString:(f,_,I)=>Tl(A.putString(f,_,I)),list:f=>(0,Ja.H)(A.list(f)),listAll:()=>(0,Ja.H)(A.listAll())}}!function Hc(A){const f={TaskState:Se,TaskEvent:fe,StringFormat:Xr,Storage:jc,Reference:so};A.INTERNAL.registerComponent(new ha.uA("storage-compat",sl,"PUBLIC").setServiceProps(f).setMultipleInstances(!0)),A.registerVersion("@firebase/storage-compat","0.3.8")}(ho.A),L(7935);const vs=new s.nKC("angularfire2.storageBucket"),fc=new s.nKC("angularfire2.storage.maxUploadRetryTime"),za=new s.nKC("angularfire2.storage.maxOperationRetryTime"),al=new s.nKC("angularfire2.storage.use-emulator");let Xh=(()=>{var A;class f{constructor(I,w,O,oe,Pe,rt,Dt,Jt,gn,Kn){(0,ba.A)(this,"storage",void 0);const ir=(0,Eo.iB)(I,Pe,w);this.storage=(0,Eo.BM)(`${ir.name}.storage.${O}`,"AngularFireStorage",ir.name,()=>{const Hn=Pe.runOutsideAngular(()=>ir.storage(O||void 0)),ur=gn;return ur&&Hn.useEmulator(...ur),Dt&&Hn.setMaxUploadRetryTime(Dt),Jt&&Hn.setMaxOperationRetryTime(Jt),Hn},[Dt,Jt])}ref(I){return es(this.storage.ref(I))}refFromURL(I){return es(this.storage.refFromURL(I))}upload(I,w,O){return es(this.storage.ref(I)).put(w,O)}}return A=f,(0,ba.A)(f,"\u0275fac",function(I){return new(I||A)(s.KVO(Eo.rx),s.KVO(Eo.uP,8),s.KVO(vs,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(Io.u0),s.KVO(fc,8),s.KVO(za,8),s.KVO(al,8),s.KVO(Io.Jv,8))}),(0,ba.A)(f,"\u0275prov",s.jDH({token:A,factory:A.\u0275fac,providedIn:"any"})),f})();const pc=["modal"],md=A=>({active:A});function pu(A,f){if(1&A){const _=s.RV6();s.j41(0,"div",10)(1,"p",11),s.bIt("click",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.subirArchivo())}),s.EFF(2,"+ Agregar imagen"),s.k0s()()}}function Gc(A,f){if(1&A){const _=s.RV6();s.j41(0,"div",12)(1,"img",13),s.bIt("mouseenter",function(){const w=s.eBV(_).index,O=s.XpG();return s.Njj(O.onMouseEnter(w))})("mouseleave",function(){const w=s.eBV(_).index,O=s.XpG();return s.Njj(O.onMouseLeave(w))})("click",function(){const w=s.eBV(_).index,O=s.XpG();return s.Njj(O.onPreviewImage(w))}),s.k0s()()}if(2&A){const _=f.$implicit;s.R7$(),s.Y8G("src",_.url,s.B4B)}}function Kd(A,f){if(1&A&&(s.j41(0,"span",20),s.EFF(1),s.k0s()),2&A){const _=s.XpG(2);s.R7$(),s.Lme(" ",_.currentIndex+1,"/",_.totalImageCount," ")}}function jl(A,f){if(1&A){const _=s.RV6();s.j41(0,"button",21),s.bIt("click",function(){s.eBV(_);const w=s.XpG(2);return s.Njj(w.onClosePreview())}),s.nrm(1,"ion-icon",22),s.k0s()}}function gu(A,f){if(1&A){const _=s.RV6();s.j41(0,"button",23),s.bIt("click",function(){s.eBV(_);const w=s.XpG(2);return s.Njj(w.prev())}),s.nrm(1,"ion-icon",24),s.k0s()}}function _d(A,f){if(1&A){const _=s.RV6();s.j41(0,"button",25),s.bIt("click",function(){s.eBV(_);const w=s.XpG(2);return s.Njj(w.next())}),s.nrm(1,"ion-icon",26),s.k0s()}}function vd(A,f){if(1&A){const _=s.RV6();s.j41(0,"div")(1,"i",33),s.bIt("click",function(){s.eBV(_);const w=s.XpG(3);return s.Njj(w.deleteImgModal(w.currentLightboxImage.id))}),s.k0s()()}}function qd(A,f){if(1&A){const _=s.RV6();s.j41(0,"div",27),s.nrm(1,"img",28),s.j41(2,"div",29)(3,"div")(4,"ion-icon",30),s.bIt("click",function(){s.eBV(_);const w=s.XpG(2);return s.Njj(w.abrirCom(w.currentLightboxImage))}),s.k0s(),s.j41(5,"span"),s.EFF(6),s.k0s()(),s.j41(7,"div")(8,"ion-icon",31),s.bIt("click",function(){s.eBV(_);const w=s.XpG(2);return s.Njj(w.likeImage(w.currentLightboxImage))}),s.k0s(),s.j41(9,"span"),s.EFF(10),s.k0s()(),s.DNE(11,vd,2,0,"div",32),s.k0s()()}if(2&A){const _=s.XpG(2);s.R7$(),s.AVh("zoom-in",_.previewImage),s.Y8G("src",_.currentLightboxImage.url,s.B4B),s.R7$(5),s.JRh(_.currentLightboxImage.commentsVideo.length),s.R7$(2),s.AVh("liked",_.currentLightboxImage.likedByImage.includes(_.currentUser.uid)),s.R7$(2),s.JRh(_.currentLightboxImage.likesCountImage),s.R7$(),s.Y8G("ngIf",_.adm)}}function yd(A,f){if(1&A&&(s.j41(0,"div",14),s.DNE(1,Kd,2,2,"span",15)(2,jl,2,0,"button",16)(3,gu,2,0,"button",17)(4,_d,2,0,"button",18)(5,qd,12,8,"div",19),s.k0s()),2&A){const _=s.XpG();s.Y8G("ngClass",s.eq3(6,md,_.previewImage)),s.R7$(),s.Y8G("ngIf",_.showCount),s.R7$(),s.Y8G("ngIf",_.previewImage),s.R7$(),s.Y8G("ngIf",_.controls),s.R7$(),s.Y8G("ngIf",_.controls),s.R7$(),s.Y8G("ngIf",_.previewImage)}}function gc(A,f){if(1&A){const _=s.RV6();s.j41(0,"div",46)(1,"div",47)(2,"img",48),s.bIt("click",function(){const w=s.eBV(_).$implicit,O=s.XpG(2);return s.Njj(O.ir(w.idUser))}),s.k0s(),s.j41(3,"span"),s.EFF(4),s.k0s()(),s.j41(5,"div",49)(6,"p",50),s.EFF(7),s.k0s(),s.j41(8,"div",51)(9,"div",52)(10,"ion-icon",31),s.bIt("click",function(){const w=s.eBV(_).$implicit,O=s.XpG(2);return s.Njj(O.likeComment(w))}),s.k0s(),s.j41(11,"span"),s.EFF(12),s.k0s()(),s.j41(13,"div",53)(14,"div")(15,"span",54),s.bIt("click",function(){const w=s.eBV(_),O=w.$implicit,oe=w.index,Pe=s.XpG(2);return s.Njj(Pe.opciones(oe,O))}),s.EFF(16,"\u22ee"),s.k0s()()()()()()}if(2&A){const _=f.$implicit,I=s.XpG(2);s.R7$(2),s.Y8G("src",_.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",s.B4B),s.R7$(2),s.JRh(_.usuario),s.R7$(3),s.SpI(" ",_.comentario," "),s.R7$(3),s.AVh("liked",_.likedByComment&&_.likedByComment.includes(I.currentUser.uid)),s.R7$(2),s.JRh(_.likesCountComment)}}function Qh(A,f){if(1&A){const _=s.RV6();s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s.EFF(3,"Comentarios"),s.k0s(),s.j41(4,"ion-buttons",34)(5,"ion-button",35),s.bIt("click",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.closeModal())}),s.EFF(6,"Cerrar"),s.k0s()()()(),s.j41(7,"ion-content")(8,"div",36)(9,"span",37),s.bIt("click",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.close())}),s.k0s(),s.j41(10,"div",38)(11,"div",39),s.DNE(12,gc,17,6,"div",40),s.k0s()(),s.j41(13,"div",41)(14,"form",42,1),s.bIt("submit",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.addComment(w.comentario))}),s.j41(16,"label",43),s.EFF(17,"Agregar comentario:"),s.k0s(),s.nrm(18,"br"),s.j41(19,"textarea",44),s.mxI("ngModelChange",function(w){s.eBV(_);const O=s.XpG();return s.DH7(O.comentario,w)||(O.comentario=w),s.Njj(w)}),s.k0s(),s.nrm(20,"br"),s.j41(21,"button",45),s.EFF(22," Comentar "),s.k0s()()()()()}if(2&A){const _=s.sdS(15),I=s.XpG();s.R7$(12),s.Y8G("ngForOf",I.dataVideoId.commentsVideo),s.R7$(7),s.R50("ngModel",I.comentario),s.R7$(2),s.Y8G("disabled",!_.valid)}}let ts=(()=>{var A;class f{constructor(I,w,O,oe,Pe,rt,Dt,Jt,gn,Kn){this.location=I,this.el=w,this.afAuth=O,this._image=oe,this.toastr=Pe,this.router=rt,this._user=Dt,this.storagex=Jt,this.actionSheetCtrl=gn,this.alertCtrl=Kn,this.images=[],this.currentIndex=0,this.showCount=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.previewImage=!1,this.showMask=!1,this.currentLightboxImage=this.images[0],this.controls=!0,this.totalImageCount=0,this.reset=0,this.adm=!1,this.esInvitado=!1,this.ocultarx=!0,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.modalDeleteImage=!1,this.idDelete="",this.option=!1,this.presentingElement=null,this.alertButtons=["OK"],this.alertInputs=[{type:"textarea"}]}ngOnInit(){this.getImages(),this.afAuth.authState.subscribe(I=>{this.currentUser=I;const w=null==I?void 0:I.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==w&&(this.esInvitado=!0),("QxwJYfG0c2MwfjnJR70AdmmKOIz2"==w||"AO7bYMNMPuSUMl5vH8tOqzavTrt2"==w)&&(this.adm=!0)})}goBack(){this.location.back()}openModal(){var I;null===(I=this.modal2)||void 0===I||I.present()}getImages(){this._image.getim().subscribe(I=>{this.images=[],I.forEach(w=>{const O=w.payload.doc.data();this.images.push({id:w.payload.doc.id,...O,likesCountImage:O.likesCountImage||0,likedByImage:O.likedByImage||[],userImageLikes:O.userImageLikes||[],commentsVideo:O.commentsVideo||[]})})})}subirArchivo(){const I=document.createElement("input");I.type="file",I.accept="image/*",I.addEventListener("change",w=>{var O;const oe=null==w||null===(O=w.target)||void 0===O||null===(O=O.files)||void 0===O?void 0:O[0];if(oe){const Pe=new Image,rt=new FileReader;rt.onload=Dt=>{Pe.onload=()=>{const Jt=document.createElement("canvas");let ir=Pe.width,Hn=Pe.height;(ir>800||Hn>600)&&(ir>Hn?(Hn*=800/ir,ir=800):(ir*=600/Hn,Hn=600)),Jt.width=ir,Jt.height=Hn;const ur=Jt.getContext("2d");ur?(ur.drawImage(Pe,0,0,ir,Hn),Jt.toBlob(Kr=>{if(Kr){const Di=`images/${oe.name}`,to=this.storagex.ref(Di);this.storagex.upload(Di,Kr,{contentType:Kr.type}).snapshotChanges().pipe((0,Cr.j)(()=>{to.getDownloadURL().subscribe(Si=>{this._image.addImagenInfo({url:Si}).then(()=>{console.log("actualizando"),this.toastr.info("Actualizando lista de Imagenes")})})})).subscribe()}},oe.type)):console.error("Error: No se pudo obtener el contexto 2D del canvas.")},Pe.src=Dt.target.result},rt.readAsDataURL(oe)}}),I.click()}likeImage(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;if(O&&!w.esInvitado){const oe=O.uid,Pe=O.displayName,rt=O.email,Dt=I.likedByImage.indexOf(oe);-1!==Dt?(I.likedByImage.splice(Dt,1),I.userImageLikes.splice(Dt,1),I.likesCountImage--):(I.likedByImage.push(oe),I.likesCountImage++,I.userImageLikes.push({usuario:Pe,correo:rt}));const Jt=I.id,gn={likesCountImage:I.likesCountImage,likedByImage:I.likedByImage,userImageLikes:I.userImageLikes};yield w._image.updateImgAc(Jt,gn)}else w.modal=!0})()}onPreviewImage(I){this.showMask=!0,this.previewImage=!0,this.currentIndex=I,this.showCount=!0,this.currentLightboxImage=this.images[I],this.totalImageCount=this.images.length,document.body.style.overflow="hidden"}onClosePreview(){this.previewImage=!1,this.showMask=!1,this.modalDeleteImage=!1,document.body.style.overflow=""}next(){this.currentIndex=this.currentIndex+1,this.currentIndex>this.images.length-1&&(this.currentIndex=0),this.currentLightboxImage=this.images[this.currentIndex]}prev(){this.currentIndex=this.currentIndex-1,this.currentIndex<0&&(this.currentIndex=this.images.length-1),this.currentLightboxImage=this.images[this.currentIndex]}onMouseEnter(I){this.el.nativeElement.querySelectorAll(".zoomable-image")[I].style.transform="scale(1.1)"}onMouseLeave(I){this.el.nativeElement.querySelectorAll(".zoomable-image")[I].style.transform="scale(1)"}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}close(){this.modal=!1,this.modalcom=!1}abrirEditar(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;((null==O?void 0:O.email)===I.correo||"administrador.sistema@gmail.com"==(null==O?void 0:O.email)||"jeestrada377@gmail.com"==(null==O?void 0:O.email))&&(w.modalEditar=!0,w.ocultarx=!1),w.comentarioDel=I,w.esteComentario=I.comentario})()}deleteModal(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;((null==O?void 0:O.email)===I.correo||"administrador.sistema@gmail.com"==(null==O?void 0:O.email)||"jeestrada377@gmail.com"==(null==O?void 0:O.email))&&(w.modalDelete=!0,w.ocultarx=!1),w.comentarioDel=I})()}addComment(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;if(O){const oe=w.dataVideoId,Pe=w.dataVideoId.id;oe.commentsVideo.push({usuario:O.displayName,correo:O.email,comentario:I,imagen:O.photoURL,idUser:O.uid});const Kn={commentsVideo:oe.commentsVideo};yield w._image.updateImgAc(Pe,Kn),w.comentario=""}})()}abrirCom(I){var w=this;return(0,Un.A)(function*(){var oe;w.dataVideoId=I,(yield w.afAuth.currentUser)&&!w.esInvitado?null===(oe=w.modal2)||void 0===oe||oe.present():w.modal=!0})()}closeModal(){var I;null===(I=this.modal2)||void 0===I||I.dismiss()}borrarComentario(){const I=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==I?(this.dataVideoId.commentsVideo.splice(I,1),this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.option=!1,this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(oe=>{console.error("Error al eliminar el comentario:",oe)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const I=this.esteComentario,w=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==w?(this.dataVideoId.commentsVideo[w].comentario=I,this._image.updateImgAc(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(Pe=>{console.error("Error al editar el comentario:",Pe)})):console.error("\xcdndice de comentario no v\xe1lido")}verUsuario(I){var w=this;return(0,Un.A)(function*(){if(console.log(I),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"!=I){const oe=yield w.afAuth.currentUser;w.router.navigate((null==oe?void 0:oe.uid)===I?["/perfil"]:["/usuario/",I])}})()}likeComment(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;if(O&&!w.esInvitado){if(!I)return void console.error("El comentario no est\xe1 definido");I.likedByComment||(I.likedByComment=[]);const oe=O.uid,Pe=I.likedByComment.indexOf(oe);-1!==Pe?(I.likedByComment.splice(Pe,1),I.likesCountComment=Math.max(0,I.likesCountComment-1)):(I.likedByComment.push(oe),I.likesCountComment=(I.likesCountComment||0)+1);const rt=w.dataVideoId.id;if(-1!==w.dataVideoId.commentsVideo.findIndex(Jt=>Jt===I)){const Jt={commentsVideo:w.dataVideoId.commentsVideo};yield w._image.updateImgAc(rt,Jt)}}else w.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0,this.modalDeleteImage=!1}ir(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;w.router.navigate((null==O?void 0:O.uid)===I?["/perfil"]:["/usuario/",I])})()}deleteImgModal(I){this.idDelete=I,this.modalDeleteImage=!0,this.ocultarx=!0}eliminarImagen(){this._image.delete(this.idDelete).then(()=>{this.images=this.images.filter(I=>I.id!==this.idDelete),this.toastr.error("Imagen eliminida"),this.modalDeleteImage=!1,this.previewImage=!1})}opciones(I,w){var O=this;return(0,Un.A)(function*(){O.comentarioDel=w,O.esteComentario=w.comentario;const oe=yield O.afAuth.currentUser;if((null==oe?void 0:oe.email)===w.correo||"administrador.sistema@gmail.com"==(null==oe?void 0:oe.email)||"jeestrada377@gmail.com"==(null==oe?void 0:oe.email)){const Pe=yield O.actionSheetCtrl.create({header:"Acciones",buttons:[{text:"Editar comentario",data:{action:"editar"}},{text:"Eliminar",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]});yield Pe.present();const{data:rt}=yield Pe.onDidDismiss();if(rt&&"delete"===rt.action){const Dt=O.dataVideoId.commentsVideo.indexOf(O.comentarioDel);-1!==Dt?(O.dataVideoId.commentsVideo.splice(Dt,1),O._image.updateImgAc(O.dataVideoId.id,{commentsVideo:O.dataVideoId.commentsVideo}).then(()=>{O.modalDelete=!1,O.ocultarx=!0,O.option=!1,console.log("Comentario eliminado correctamente")}).catch(Kn=>{console.error("Error al eliminar el comentario:",Kn)})):console.error("\xcdndice de comentario no v\xe1lido")}else"editar"==rt.action&&O.presentAlert()}})()}presentAlert(){var I=this;return(0,Un.A)(function*(){yield(yield I.alertCtrl.create({header:"Editar Comentario",inputs:[{name:"comentario",type:"textarea",placeholder:"Escribe tu comentario",value:I.esteComentario}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:O=>{const oe=O.comentario,Pe=I.dataVideoId.commentsVideo.indexOf(I.comentarioDel);-1!==Pe?(I.dataVideoId.commentsVideo[Pe].comentario=oe,I._image.updateImgAc(I.dataVideoId.id,{commentsVideo:I.dataVideoId.commentsVideo}).then(()=>{I.modalEditar=!1,I.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(Jt=>{console.error("Error al editar el comentario:",Jt)})):console.error("\xcdndice de comentario no v\xe1lido")}}]})).present()})()}}return(A=f).\u0275fac=function(I){return new(I||A)(s.rXU(qi.aZ),s.rXU(s.aKT),s.rXU(co.DS),s.rXU(Wo),s.rXU(fn.tw),s.rXU(k.Ix),s.rXU(da.g),s.rXU(Xh),s.rXU(_e.GD),s.rXU(_e.hG))},A.\u0275cmp=s.VBU({type:A,selectors:[["app-activate-musica"]],viewQuery:function(I,w){if(1&I&&s.GBs(pc,5),2&I){let O;s.mGM(O=s.lsd())&&(w.modal2=O.first)}},decls:10,vars:4,consts:[["modal",""],["commentForm","ngForm"],[1,"contenedor"],[1,"box"],["class","subir",4,"ngIf"],[1,"gallery-lightbox-container"],[1,"gallery"],["class","gallery-img",4,"ngFor","ngForOf"],["class","lightbox",3,"ngClass",4,"ngIf"],["trigger","open-modal",3,"presentingElement"],[1,"subir"],[2,"cursor","pointer",3,"click"],[1,"gallery-img"],["alt","imagen",1,"zoomable-image",3,"mouseenter","mouseleave","click","src"],[1,"lightbox",3,"ngClass"],["class","count",4,"ngIf"],["style","\n            right: 3%;\n            top: 12%;\n            position: absolute;\n            font-size: 43px;\n          ","class","close-btn",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-prev",3,"click",4,"ngIf"],["class","btn-lightbox-carousel btn-next",3,"click",4,"ngIf"],["class","lightbox-img",4,"ngIf"],[1,"count"],[1,"close-btn",2,"right","3%","top","12%","position","absolute","font-size","43px",3,"click"],["name","close-outline"],[1,"btn-lightbox-carousel","btn-prev",3,"click"],["name","caret-back-outline",2,"height","50%","border-radius","50%","border","1px solid","font-size","50px"],[1,"btn-lightbox-carousel","btn-next",3,"click"],["name","caret-forward-outline",2,"height","50%","border-radius","50%","border","1px solid","font-size","50px"],[1,"lightbox-img"],["alt","imagen",2,"transform","none",3,"src"],[1,"btn-lc"],["name","chatbubble-ellipses-outline",2,"cursor","pointer",3,"click"],["name","heart-outline",3,"click"],[4,"ngIf"],[1,"fas","fa-trash",2,"cursor","pointer","color","red",3,"click"],["slot","end"],[3,"click"],[1,"modal-com",2,"text-align","justify"],[1,"fas","fa-times","lax2",3,"click"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModelChange","ngModel"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"click","src"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],[2,"gap","1rem","display","flex","align-items","center"],[2,"font-size","26px",3,"click"]],template:function(I,w){1&I&&(s.j41(0,"div",2)(1,"div",3),s.DNE(2,pu,3,0,"div",4),s.j41(3,"div",5)(4,"div",6),s.DNE(5,Gc,2,1,"div",7),s.k0s(),s.DNE(6,yd,6,8,"div",8),s.k0s()()(),s.j41(7,"ion-modal",9,0),s.DNE(9,Qh,23,3,"ng-template"),s.k0s()),2&I&&(s.R7$(2),s.Y8G("ngIf",w.adm),s.R7$(3),s.Y8G("ngForOf",w.images),s.R7$(),s.Y8G("ngIf",w.showMask),s.R7$(),s.Y8G("presentingElement",w.presentingElement))},dependencies:[qi.YU,qi.Sq,qi.bT,_e.Jm,_e.QW,_e.W9,_e.eU,_e.iq,_e.BC,_e.ai,_e.Sb,de.qT,de.me,de.BC,de.cb,de.YS,de.vS,de.cV],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center;margin:0;padding:0}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.subir[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-right:12px}.subir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#c4d6019a,#fefeff75);color:#fff;width:129px;padding:5px 9px;border-radius:13px}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.caja[_ngcontent-%COMP%]{padding:20px;border-radius:15px;outline:solid rgb(245,246,248);text-align:center}.btn-lc[_ngcontent-%COMP%]{border-radius:15px;padding:2px 18px;background-color:gray;display:inline-flex;gap:4rem;position:absolute;bottom:20%}.zoomable-image[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.zoomable-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}[_nghost-%COMP%]{display:block;text-align:center}.gallery-lightbox-container[_ngcontent-%COMP%]{z-index:999;position:relative;display:inline-block;margin-top:10px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]{line-height:0;column-count:3;column-gap:2px}.gallery-lightbox-container[_ngcontent-%COMP%]   .gallery[_ngcontent-%COMP%]   .gallery-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;cursor:zoom-in;border-radius:.35rem;margin-bottom:2px;box-shadow:0 1px 5px #00000036}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000d9;transition:opacity .3s ease-in-out;opacity:0;pointer-events:none}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:7%;height:10%;color:#fff;opacity:.7;font-size:18px;display:flex;justify-content:center;align-items:center;margin-left:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:0;color:#fff;background:0 0;border:0;cursor:pointer;width:7%;height:10%;z-index:2}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{font-size:25px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-lightbox-carousel[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;z-index:1;width:8%;height:8%;padding:0;color:#fff;text-align:center;background:0 0;border:0;cursor:pointer}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{left:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{right:0}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]{color:#fff;opacity:.5;transition:all .15s ease}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:hover{opacity:.9}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-lightbox-carousel[_ngcontent-%COMP%]:active{opacity:.5}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%], .gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{font-size:30px}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.35rem}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox.active[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.gallery-lightbox-container[_ngcontent-%COMP%]   .lightbox-img[_ngcontent-%COMP%]   img.zoom-in[_ngcontent-%COMP%]{transform:scale(1.1)}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#f4f4f4}.nav-link[_ngcontent-%COMP%]:hover{color:#ffe600;text-decoration:underline}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.swiper-container[_ngcontent-%COMP%]{width:100%;height:100%}.swiper-slide[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto}"]}),f})(),Co=(()=>{var A;class f{constructor(I){this.firestore=I}getactvid(){return this.firestore.collection("videos-activate",I=>I.orderBy("nombre","asc")).snapshotChanges()}updateActVideo(I,w){return this.firestore.collection("videos-activate").doc(I).update(w)}}return(A=f).\u0275fac=function(I){return new(I||A)(s.KVO(Fo.Qe))},A.\u0275prov=s.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),f})();const lo=["modal"],Yh=["videoPlayer"];function Xd(A,f){if(1&A&&(s.j41(0,"div")(1,"video",20,1),s.nrm(3,"source",21),s.k0s()()),2&A){const _=s.XpG().$implicit;s.R7$(3),s.Y8G("src",_.url,s.B4B)}}function Zh(A,f){if(1&A){const _=s.RV6();s.j41(0,"div",22)(1,"div",23)(2,"p",24),s.EFF(3),s.k0s()(),s.j41(4,"div",25)(5,"div",26)(6,"ion-icon",27),s.bIt("click",function(){s.eBV(_);const w=s.XpG().$implicit,O=s.XpG();return s.Njj(O.abrirCom(w))}),s.k0s(),s.j41(7,"span"),s.EFF(8),s.k0s()(),s.j41(9,"div",28)(10,"ion-icon",29),s.bIt("click",function(){s.eBV(_);const w=s.XpG().$implicit,O=s.XpG();return s.Njj(O.likeVideo(w))}),s.k0s(),s.j41(11,"span"),s.EFF(12),s.k0s()()()()}if(2&A){const _=s.XpG().$implicit,I=s.XpG();s.R7$(3),s.SpI(" ",_.nombre," "),s.R7$(5),s.JRh(_.commentsVideo.length),s.R7$(2),s.AVh("liked",_.likedByVideo.includes(I.currentUser.uid)),s.R7$(2),s.JRh(_.likesCountVideo)}}function Id(A,f){if(1&A){const _=s.RV6();s.j41(0,"div",30)(1,"div",23)(2,"p",24),s.EFF(3),s.k0s()(),s.j41(4,"div",25)(5,"div",26)(6,"ion-icon",27),s.bIt("click",function(){s.eBV(_);const w=s.XpG().$implicit,O=s.XpG();return s.Njj(O.abrirCom(w))}),s.k0s(),s.j41(7,"span"),s.EFF(8),s.k0s()(),s.j41(9,"div",28)(10,"ion-icon",29),s.bIt("click",function(){s.eBV(_);const w=s.XpG().$implicit,O=s.XpG();return s.Njj(O.likeVideo(w))}),s.k0s(),s.j41(11,"span"),s.EFF(12),s.k0s()()()()}if(2&A){const _=s.XpG().$implicit,I=s.XpG();s.R7$(3),s.SpI(" ",_.nombre," "),s.R7$(5),s.JRh(_.commentsVideo.length),s.R7$(2),s.AVh("liked",_.likedByVideo.includes(I.currentUser.uid)),s.R7$(2),s.JRh(_.likesCountVideo)}}function Qd(A,f){if(1&A){const _=s.RV6();s.j41(0,"div",11)(1,"div",12),s.bIt("click",function(){const w=s.eBV(_).$implicit,O=s.XpG();return s.Njj(O.playVideo(w))}),s.nrm(2,"img",13),s.j41(3,"div",14),s.nrm(4,"ion-icon",15),s.k0s()(),s.j41(5,"div",16),s.DNE(6,Xd,4,1,"div",17),s.k0s(),s.DNE(7,Zh,13,5,"div",18)(8,Id,13,5,"div",19),s.k0s()}if(2&A){const _=f.$implicit;s.R7$(2),s.FS9("alt",_.nombre),s.Y8G("src",_.th||"https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba",s.B4B),s.R7$(4),s.Y8G("ngIf",_.playing),s.R7$(),s.Y8G("ngIf",!_.playing),s.R7$(),s.Y8G("ngIf",_.playing)}}function mc(A,f){if(1&A){const _=s.RV6();s.j41(0,"div",43)(1,"div",44)(2,"img",45),s.bIt("click",function(){const w=s.eBV(_).$implicit,O=s.XpG(2);return s.Njj(O.ir(w.idUser))}),s.k0s(),s.j41(3,"span"),s.EFF(4),s.k0s()(),s.j41(5,"div",46)(6,"p",47),s.EFF(7),s.k0s(),s.j41(8,"div",48)(9,"div",49)(10,"ion-icon",50),s.bIt("click",function(){const w=s.eBV(_).$implicit,O=s.XpG(2);return s.Njj(O.likeComment(w))}),s.k0s(),s.j41(11,"span"),s.EFF(12),s.k0s()(),s.j41(13,"div",51)(14,"div")(15,"span",52),s.bIt("click",function(){const w=s.eBV(_),O=w.$implicit,oe=w.index,Pe=s.XpG(2);return s.Njj(Pe.opciones(oe,O))}),s.EFF(16,"\u22ee"),s.k0s()()()()()()}if(2&A){const _=f.$implicit,I=s.XpG(2);s.R7$(2),s.Y8G("src",_.imagen||"https://forma-architecture.com/wp-content/uploads/2021/04/Foto-de-perfil-vacia-thegem-person.jpg",s.B4B),s.R7$(2),s.JRh(_.usuario),s.R7$(3),s.SpI(" ",_.comentario," "),s.R7$(3),s.AVh("liked",_.likedByComment&&_.likedByComment.includes(I.currentUser.uid)),s.R7$(2),s.JRh(_.likesCountComment)}}function Hl(A,f){if(1&A){const _=s.RV6();s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s.EFF(3,"Comentarios"),s.k0s(),s.j41(4,"ion-buttons",31)(5,"ion-button",32),s.bIt("click",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.closeModal())}),s.EFF(6,"Cerrar"),s.k0s()()()(),s.j41(7,"ion-content")(8,"div",33)(9,"span",34),s.bIt("click",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.close())}),s.k0s(),s.j41(10,"div",35)(11,"div",36),s.DNE(12,mc,17,6,"div",37),s.k0s()(),s.j41(13,"div",38)(14,"form",39,2),s.bIt("submit",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.addComment(w.comentario))}),s.j41(16,"label",40),s.EFF(17,"Agregar comentario:"),s.k0s(),s.nrm(18,"br"),s.j41(19,"textarea",41),s.mxI("ngModelChange",function(w){s.eBV(_);const O=s.XpG();return s.DH7(O.comentario,w)||(O.comentario=w),s.Njj(w)}),s.k0s(),s.nrm(20,"br"),s.j41(21,"button",42),s.EFF(22," Comentar "),s.k0s()()()()()}if(2&A){const _=s.sdS(15),I=s.XpG();s.R7$(12),s.Y8G("ngForOf",I.dataVideoId.commentsVideo),s.R7$(7),s.R50("ngModel",I.comentario),s.R7$(2),s.Y8G("disabled",!_.valid)}}let pa=(()=>{var A;class f{constructor(I,w,O,oe,Pe,rt){this.location=I,this.afAuth=w,this._videosService=O,this.router=oe,this.actionSheetCtrl=Pe,this.alertCtrl=rt,this.videos=[],this.esInvitado=!1,this.modal=!1,this.modalcom=!1,this.modalDelete=!1,this.modalEditar=!1,this.comentario="",this.esteComentario="",this.dataVideoId=[],this.ocultarx=!0,this.adm=!1,this.filteredVideos=[],this.searchTerm="",this.option=!1,this.presentingElement=null,this.alertButtons=["OK"],this.alertInputs=[{type:"textarea"}]}ngOnInit(){this.getVideos(),this.afAuth.authState.subscribe(I=>{this.currentUser=I;const w=null==I?void 0:I.uid;"rm01jawdLvYSObMPDc8BTBasbJp2"==w&&(this.esInvitado=!0),"QxwJYfG0c2MwfjnJR70AdmmKOIz2"==w&&(this.adm=!0)})}goBack(){this.location.back()}getVideos(){this._videosService.getactvid().subscribe(I=>{this.videos=[],I.forEach(w=>{const O=w.payload.doc.data();this.videos.push({id:w.payload.doc.id,...O,likesCountVideo:O.likesCountVideo||0,likedByVideo:O.likedByVideo||[],userVideoLikes:O.userVideoLikes||[],commentsVideo:O.commentsVideo||[],playing:!1})}),this.filteredVideos=this.videos})}playVideo(I){var w;this.filteredVideos.forEach(O=>O.playing=!1),I.playing=!0,null===(w=this.videoPlayer)||void 0===w||w.nativeElement.play()}videoEnded(I){const w=this.filteredVideos.find(O=>O.id===I);w&&(w.playing=!1)}likeVideo(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;if(O&&!w.esInvitado){const oe=O.uid,Pe=O.displayName,rt=O.email,Dt=I.likedByVideo.indexOf(oe);-1!==Dt?(I.likedByVideo.splice(Dt,1),I.userVideoLikes.splice(Dt,1),I.likesCountVideo--):(I.likedByVideo.push(oe),I.likesCountVideo++,I.userVideoLikes.push({usuario:Pe,correo:rt}));const Jt=I.id,gn={likesCountVideo:I.likesCountVideo,likedByVideo:I.likedByVideo,userVideoLikes:I.userVideoLikes};yield w._videosService.updateActVideo(Jt,gn)}else w.modal=!0})()}openModal(){var I;null===(I=this.modal2)||void 0===I||I.present()}closeModal(){var I;null===(I=this.modal2)||void 0===I||I.dismiss()}abrirCom(I){var w=this;return(0,Un.A)(function*(){w.dataVideoId=I;var oe;(yield w.afAuth.currentUser)&&!w.esInvitado?null===(oe=w.modal2)||void 0===oe||oe.present():w.modal=!0})()}closeDelete(){this.modalDelete=!1,this.modalEditar=!1,this.ocultarx=!0}close(){this.modal=!1,this.modalcom=!1}ir(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;w.router.navigate((null==O?void 0:O.uid)===I?["/perfil"]:["/usuario/",I])})()}likeComment(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;if(O&&!w.esInvitado){if(!I)return void console.error("El comentario no est\xe1 definido");I.likedByComment||(I.likedByComment=[]);const oe=O.uid,Pe=I.likedByComment.indexOf(oe);-1!==Pe?(I.likedByComment.splice(Pe,1),I.likesCountComment=Math.max(0,I.likesCountComment-1)):(I.likedByComment.push(oe),I.likesCountComment=(I.likesCountComment||0)+1);const rt=w.dataVideoId.id;if(-1!==w.dataVideoId.commentsVideo.findIndex(Jt=>Jt===I)){const Jt={commentsVideo:w.dataVideoId.commentsVideo};yield w._videosService.updateActVideo(rt,Jt),console.log(Jt)}}else w.modal=!0})()}abrirEditar(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;((null==O?void 0:O.email)===I.correo||"administrador.sistema@gmail.com"==(null==O?void 0:O.email)||"jeestrada377@gmail.com"==(null==O?void 0:O.email))&&(w.modalEditar=!0,w.ocultarx=!1),w.comentarioDel=I,w.esteComentario=I.comentario})()}deleteModal(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;((null==O?void 0:O.email)===I.correo||"administrador.sistema@gmail.com"==(null==O?void 0:O.email)||"jeestrada377@gmail.com"==(null==O?void 0:O.email))&&(w.modalDelete=!0,w.ocultarx=!1),w.comentarioDel=I})()}addComment(I){var w=this;return(0,Un.A)(function*(){const O=yield w.afAuth.currentUser;if(O){const oe=w.dataVideoId,Pe=w.dataVideoId.id;oe.commentsVideo.push({usuario:O.displayName,correo:O.email,comentario:I,imagen:O.photoURL,idUser:O.uid});const Kn={commentsVideo:oe.commentsVideo};yield w._videosService.updateActVideo(Pe,Kn),w.comentario=""}})()}borrarComentario(){const I=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==I?(this.dataVideoId.commentsVideo.splice(I,1),this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.option=!1,this.modalDelete=!1,this.ocultarx=!0,console.log("Comentario eliminado correctamente")}).catch(oe=>{console.error("Error al eliminar el comentario:",oe)})):console.error("\xcdndice de comentario no v\xe1lido")}editarComentario(){const I=this.esteComentario,w=this.dataVideoId.commentsVideo.indexOf(this.comentarioDel);-1!==w?(this.dataVideoId.commentsVideo[w].comentario=I,this._videosService.updateActVideo(this.dataVideoId.id,{commentsVideo:this.dataVideoId.commentsVideo}).then(()=>{this.modalEditar=!1,this.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(Pe=>{console.error("Error al editar el comentario:",Pe)})):console.error("\xcdndice de comentario no v\xe1lido")}salir(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}filterVideos(){this.filteredVideos=this.videos.filter(I=>I.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()))}opciones(I,w){var O=this;return(0,Un.A)(function*(){O.comentarioDel=w,O.esteComentario=w.comentario;const oe=yield O.afAuth.currentUser;if((null==oe?void 0:oe.email)===w.correo||"administrador.sistema@gmail.com"==(null==oe?void 0:oe.email)||"jeestrada377@gmail.com"==(null==oe?void 0:oe.email)){const Pe=yield O.actionSheetCtrl.create({header:"Acciones",buttons:[{text:"Editar comentario",data:{action:"editar"}},{text:"Eliminar",role:"destructive",data:{action:"delete"}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]});yield Pe.present();const{data:rt}=yield Pe.onDidDismiss();if(rt&&"delete"===rt.action){const Dt=O.dataVideoId.commentsVideo.indexOf(O.comentarioDel);-1!==Dt?(O.dataVideoId.commentsVideo.splice(Dt,1),O._videosService.updateActVideo(O.dataVideoId.id,{commentsVideo:O.dataVideoId.commentsVideo}).then(()=>{O.modalDelete=!1,O.ocultarx=!0,O.option=!1,console.log("Comentario eliminado correctamente")}).catch(Kn=>{console.error("Error al eliminar el comentario:",Kn)})):console.error("\xcdndice de comentario no v\xe1lido")}else"editar"==rt.action&&O.presentAlert()}})()}presentAlert(){var I=this;return(0,Un.A)(function*(){yield(yield I.alertCtrl.create({header:"Editar Comentario",inputs:[{name:"comentario",type:"textarea",placeholder:"Escribe tu comentario",value:I.esteComentario}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:O=>{const oe=O.comentario,Pe=I.dataVideoId.commentsVideo.indexOf(I.comentarioDel);-1!==Pe?(I.dataVideoId.commentsVideo[Pe].comentario=oe,I._videosService.updateActVideo(I.dataVideoId.id,{commentsVideo:I.dataVideoId.commentsVideo}).then(()=>{I.modalEditar=!1,I.ocultarx=!0,console.log("Comentario editado correctamente")}).catch(Jt=>{console.error("Error al editar el comentario:",Jt)})):console.error("\xcdndice de comentario no v\xe1lido")}}]})).present()})()}}return(A=f).\u0275fac=function(I){return new(I||A)(s.rXU(qi.aZ),s.rXU(co.DS),s.rXU(Co),s.rXU(k.Ix),s.rXU(_e.GD),s.rXU(_e.hG))},A.\u0275cmp=s.VBU({type:A,selectors:[["app-activate-video"]],viewQuery:function(I,w){if(1&I&&(s.GBs(lo,5),s.GBs(Yh,5)),2&I){let O;s.mGM(O=s.lsd())&&(w.modal2=O.first),s.mGM(O=s.lsd())&&(w.videoPlayer=O.first)}},decls:10,vars:3,consts:[["modal",""],["videoPlayer",""],["commentForm","ngForm"],[1,"contenedor"],[1,"box"],[2,"margin-top","15px","display","flex","justify-content","flex-end"],["type","text","placeholder","Buscar videos...",2,"width","50%","padding","8px","border-radius","5px",3,"ngModelChange","keyup","ngModel"],[1,"video-container"],[2,"row-gap","4rem","display","flex","flex-direction","column"],["style","height: 20rem","class","gallery-video",4,"ngFor","ngForOf"],["trigger","open-modal",3,"presentingElement"],[1,"gallery-video",2,"height","20rem"],[1,"thumbnail-container",2,"height","95%",3,"click"],[1,"thumbnail",2,"height","95%",3,"src","alt"],[1,"play-button-overlay"],["name","play-circle-outline"],[1,"video-player",2,"position","relative","bottom","96%"],[4,"ngIf"],["class","section",4,"ngIf"],["style","position: relative; z-index: 999; bottom: 100%","class","section",4,"ngIf"],["controls",""],["type","video/mp4",3,"src"],[1,"section"],[1,"title"],[2,"margin","0"],[1,"bocadillos"],[1,"comment"],["name","chatbubble-ellipses-outline",2,"cursor","pointer",3,"click"],[1,"likes"],["name","heart-outline",2,"cursor","pointer",3,"click"],[1,"section",2,"position","relative","z-index","999","bottom","100%"],["slot","end"],[3,"click"],[1,"modal-com",2,"text-align","justify"],[1,"fas","fa-times","lax2",3,"click"],[1,"comments-container"],[1,"comments-list"],["style","border-bottom: 1px solid #a1a197; margin-top: 13px",4,"ngFor","ngForOf"],[1,"comment-input"],[3,"submit"],["for","comentario"],["id","comentario","name","comentario","rows","4","cols","50","required","",3,"ngModelChange","ngModel"],["type","submit",2,"padding","4px","border-radius","7px",3,"disabled"],[2,"border-bottom","1px solid #a1a197","margin-top","13px"],[2,"display","flex","flex-direction","column"],["alt","Foto de perfil","width","50","height","50",2,"cursor","pointer","border-radius","50%",3,"click","src"],[2,"display","flex","align-items","center","justify-content","space-between","border","1px solid #80808054","border-radius","9px","padding","3px"],[2,"padding","16px","width","86%"],[2,"display","flex","gap","1rem"],[2,"display","flex","align-items","center"],["name","heart-outline",3,"click"],[2,"gap","1rem","display","flex","align-items","center"],[2,"font-size","26px",3,"click"]],template:function(I,w){if(1&I){const O=s.RV6();s.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"input",6),s.mxI("ngModelChange",function(Pe){return s.eBV(O),s.DH7(w.searchTerm,Pe)||(w.searchTerm=Pe),s.Njj(Pe)}),s.bIt("keyup",function(){return s.eBV(O),s.Njj(w.filterVideos())}),s.k0s()(),s.j41(4,"div",7)(5,"div",8),s.DNE(6,Qd,9,5,"div",9),s.k0s()()()(),s.j41(7,"ion-modal",10,0),s.DNE(9,Hl,23,3,"ng-template"),s.k0s()}2&I&&(s.R7$(3),s.R50("ngModel",w.searchTerm),s.R7$(3),s.Y8G("ngForOf",w.filteredVideos),s.R7$(),s.Y8G("presentingElement",w.presentingElement))},dependencies:[qi.Sq,qi.bT,_e.Jm,_e.QW,_e.W9,_e.eU,_e.iq,_e.BC,_e.ai,_e.Sb,de.qT,de.me,de.BC,de.cb,de.YS,de.vS,de.cV],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#000;display:flex;overflow:hidden;justify-content:center;margin:0;padding:0}.bocadillos[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%}.video-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.box[_ngcontent-%COMP%]{color:#fff;padding:20px;width:100%}.section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.con-input[_ngcontent-%COMP%]{position:relative;padding:32px 0 49px}.input-file-container[_ngcontent-%COMP%]{position:absolute;right:0;overflow:hidden;display:inline-block}#file-input[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0;font-size:20px;cursor:pointer;opacity:0}.file-label[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:inline-block}.video-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding:25px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);column-gap:30px;row-gap:30px}.gallery-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.35rem;margin-bottom:17px;box-shadow:0 1px 5px #00000036}.activar[_ngcontent-%COMP%]{display:none}.activar[_ngcontent-%COMP%]:not(.active){display:none}.activar.active[_ngcontent-%COMP%]{display:flex}.thumbnail-container[_ngcontent-%COMP%]{position:relative;cursor:pointer}.thumbnail[_ngcontent-%COMP%]{width:100%;height:auto}.play-button-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3rem;color:#fff;opacity:.8}@media screen and (max-width: 900px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width: 580px){.video[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),f})();const Vu=A=>({"tab-selected":A});let Lu=(()=>{var A;class f{constructor(I){this.location=I,this.mn=!0,this.im=!1,this.vd=!1}ngOnInit(){}goBack(){this.location.back()}main(){this.mn=!0,this.im=!1,this.vd=!1}images(){this.mn=!1,this.im=!0,this.vd=!1}videos(){this.mn=!1,this.im=!1,this.vd=!0}}return(A=f).\u0275fac=function(I){return new(I||A)(s.rXU(qi.aZ))},A.\u0275cmp=s.VBU({type:A,selectors:[["app-activate"]],decls:38,vars:12,consts:[[2,"padding-left","1rem","display","flex","align-items","center"],["name","arrow-back-outline",2,"font-size","22px",3,"click"],[3,"hidden"],[1,"contenedor"],[2,"display","flex","flex-direction","column","align-items","center","row-gap","4rem"],[2,"text-align","center"],[1,"move"],[1,"move2"],[2,"display","contents"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Factivate-logo.jpeg?alt=media&token=28baeec7-81b9-42a8-845d-3e226031f3ba","alt","",1,"img-fondo"],["href","https://www.facebook.com/profile.php?id=100061274895674",2,"user-select","none","cursor","pointer","position","absolute","bottom","6%","text-decoration","none"],[1,"fab","fa-facebook-square"],["slot","bottom"],[3,"click","ngClass"],["name","heart-half-outline"],["name","musical-notes-outline"],["name","videocam-outline"]],template:function(I,w){1&I&&(s.j41(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-icon",1),s.bIt("click",function(){return w.goBack()}),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Activate"),s.k0s()()()(),s.j41(6,"ion-content")(7,"div")(8,"div",2)(9,"div",3)(10,"div",4)(11,"div",5)(12,"h2",6),s.EFF(13,"Bienvenidos a Activate"),s.k0s(),s.j41(14,"span",7),s.EFF(15,"Sesi\xf3n de Actividad F\xedsica Musicalizada"),s.k0s()(),s.j41(16,"div",8),s.nrm(17,"img",9),s.k0s(),s.j41(18,"a",10),s.nrm(19,"i",11),s.EFF(20," Unete a nuestro grupo de Facebook. "),s.k0s()()()(),s.j41(21,"div",2),s.nrm(22,"app-activate-musica"),s.k0s(),s.j41(23,"div",2),s.nrm(24,"app-activate-video"),s.k0s()()(),s.j41(25,"ion-tab-bar",12)(26,"ion-tab-button",13),s.bIt("click",function(){return w.main()}),s.nrm(27,"ion-icon",14),s.j41(28,"ion-label"),s.EFF(29,"Principal"),s.k0s()(),s.j41(30,"ion-tab-button",13),s.bIt("click",function(){return w.images()}),s.nrm(31,"ion-icon",15),s.j41(32,"ion-label"),s.EFF(33,"Imagenes"),s.k0s()(),s.j41(34,"ion-tab-button",13),s.bIt("click",function(){return w.videos()}),s.nrm(35,"ion-icon",16),s.j41(36,"ion-label"),s.EFF(37,"Videos"),s.k0s()()()),2&I&&(s.R7$(8),s.Y8G("hidden",!w.mn),s.R7$(13),s.Y8G("hidden",!w.im),s.R7$(2),s.Y8G("hidden",!w.vd),s.R7$(3),s.Y8G("ngClass",s.eq3(6,Vu,w.mn)),s.R7$(4),s.Y8G("ngClass",s.eq3(8,Vu,w.im)),s.R7$(4),s.Y8G("ngClass",s.eq3(10,Vu,w.vd)))},dependencies:[qi.YU,_e.W9,_e.eU,_e.iq,_e.he,_e.Jq,_e.qW,_e.BC,_e.ai,ts,pa],styles:[".tab-selected[_ngcontent-%COMP%]{color:var(--ion-color-primary)!important}"]}),f})(),wl=(()=>{var A;class f{constructor(I){this.toastr=I}errorFirebase(I){switch(I){case"auth/user-not-found":case"auth/wrong-password":this.toastr.error("Usuario/Contrase\xf1a invalida","Error");break;case"auth/invalid-email":this.toastr.error("No hay correo valido o llena todos los campos","Error");break;case"auth/invalid-login-credentials":this.toastr.error("El correo o contrase\xf1a no son correctos","Error");break;case"auth/missing-password":this.toastr.error("Digita la contrase\xf1a","Error");break;case"auth/email-already-in-use":this.toastr.error("Usuario ya registrado","Error");break;case"auth/weak-password":this.toastr.error("Contrase\xf1a Debil","Error");break;case"auth/internal-error":this.toastr.error("Correo no valido","Error")}}}return(A=f).\u0275fac=function(I){return new(I||A)(s.KVO(fn.tw))},A.\u0275prov=s.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),f})();function zl(A,f){1&A&&(s.j41(0,"span",18),s.EFF(1,"La contrase\xf1a debe contener mas de 6 caracteres"),s.k0s())}function mu(A,f){if(1&A){const _=s.RV6();s.j41(0,"div",3)(1,"form",4),s.bIt("ngSubmit",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.login())}),s.j41(2,"div",5),s.nrm(3,"img",6),s.j41(4,"ion-title"),s.EFF(5,"Iniciar sesi\xf3n"),s.k0s()(),s.j41(6,"div",7)(7,"div")(8,"ion-label"),s.EFF(9,"Correo electronico"),s.k0s(),s.nrm(10,"ion-input",8),s.k0s(),s.j41(11,"div")(12,"ion-label"),s.EFF(13,"Contrase\xf1a"),s.k0s(),s.j41(14,"ion-input",9),s.nrm(15,"ion-input-password-toggle",10),s.k0s(),s.DNE(16,zl,2,0,"span",11),s.k0s()(),s.j41(17,"div",12)(18,"a",13),s.EFF(19,"\xbfOlvidaste tu contrase\xf1a?"),s.k0s(),s.j41(20,"a",14),s.EFF(21,"Registrarse"),s.k0s()(),s.j41(22,"div",15)(23,"ion-button",16),s.EFF(24,"Iniciar sesi\xf3n"),s.k0s(),s.j41(25,"div")(26,"a",17),s.bIt("click",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.loginAsGuest())}),s.EFF(27,"Iniciar sesi\xf3n como invitado"),s.k0s()()()()()}if(2&A){let _;const I=s.XpG();s.R7$(),s.Y8G("formGroup",I.loginUsuario),s.R7$(15),s.Y8G("ngIf",(null==(_=I.loginUsuario.get("password"))?null:_.hasError("required"))&&(null==(_=I.loginUsuario.get("password"))?null:_.touched))}}function _c(A,f){1&A&&(s.j41(0,"div",19),s.nrm(1,"img",20)(2,"ion-spinner",21),s.j41(3,"span"),s.EFF(4,"Iniciando sesion..."),s.k0s()())}function Jh(A,f){1&A&&(s.j41(0,"span",20),s.EFF(1,"La contrase\xf1a debe contener mas de 6 caracteres"),s.k0s())}function Bu(A,f){1&A&&(s.j41(0,"span",20),s.EFF(1,"Las contrase\xf1as no coinciden"),s.k0s())}function _u(A,f){if(1&A){const _=s.RV6();s.j41(0,"div",3)(1,"form",4),s.bIt("ngSubmit",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.registrar())}),s.j41(2,"div",5),s.nrm(3,"img",6),s.j41(4,"ion-title"),s.EFF(5,"Registrarse"),s.k0s()(),s.j41(6,"div",7)(7,"div")(8,"ion-label"),s.EFF(9,"Nombre de usuario"),s.k0s(),s.nrm(10,"ion-input",8),s.k0s(),s.j41(11,"div")(12,"ion-label"),s.EFF(13,"Correo electronico"),s.k0s(),s.nrm(14,"ion-input",9),s.k0s(),s.j41(15,"div")(16,"ion-label"),s.EFF(17,"Contrase\xf1a"),s.k0s(),s.j41(18,"ion-input",10),s.nrm(19,"ion-input-password-toggle",11),s.k0s(),s.DNE(20,Jh,2,0,"span",12),s.k0s(),s.j41(21,"div")(22,"ion-label"),s.EFF(23,"Repetir contrase\xf1a"),s.k0s(),s.j41(24,"ion-input",13),s.nrm(25,"ion-input-password-toggle",11),s.k0s(),s.DNE(26,Bu,2,0,"span",12),s.k0s()(),s.j41(27,"div",14)(28,"a",15),s.EFF(29,"\xbfOlvidaste tu contrase\xf1a?"),s.k0s(),s.j41(30,"a",16),s.EFF(31,"Registrarse"),s.k0s()(),s.j41(32,"div",17)(33,"ion-button",18),s.bIt("click",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.goBack())}),s.EFF(34,"Volver"),s.k0s(),s.j41(35,"ion-button",19),s.EFF(36,"Registrarse"),s.k0s()()()()}if(2&A){let _,I;const w=s.XpG();s.R7$(),s.Y8G("formGroup",w.registrarUsuario),s.R7$(19),s.Y8G("ngIf",(null==(_=w.registrarUsuario.get("password"))?null:_.hasError("required"))&&(null==(_=w.registrarUsuario.get("password"))?null:_.touched)),s.R7$(6),s.Y8G("ngIf",w.registrarUsuario.hasError("mismatch")&&(null==(I=w.registrarUsuario.get("repetirPassword"))?null:I.touched)),s.R7$(9),s.Y8G("disabled",w.registrarUsuario.invalid)}}function Ed(A,f){1&A&&(s.j41(0,"div",21),s.nrm(1,"img",22)(2,"ion-spinner",23),s.j41(3,"span"),s.EFF(4,"Iniciando sesion..."),s.k0s()())}function Wc(A,f){if(1&A){const _=s.RV6();s.j41(0,"div",3)(1,"form",4),s.bIt("ngSubmit",function(){s.eBV(_);const w=s.XpG();return s.Njj(w.recuperar())}),s.j41(2,"div",5),s.nrm(3,"img",6),s.j41(4,"ion-title"),s.EFF(5,"Recuperar cuenta"),s.k0s()(),s.j41(6,"div",7)(7,"div")(8,"ion-label"),s.EFF(9,"Correo electronico"),s.k0s(),s.nrm(10,"ion-input",8),s.k0s()(),s.j41(11,"div",9)(12,"ion-button",10),s.EFF(13,"Volver"),s.k0s(),s.j41(14,"ion-button",11),s.EFF(15,"Aceptar"),s.k0s()()()()}if(2&A){const _=s.XpG();s.R7$(),s.Y8G("formGroup",_.recuperarUsuario),s.R7$(13),s.Y8G("disabled",_.recuperarUsuario.invalid)}}function Yd(A,f){1&A&&(s.j41(0,"div",12),s.nrm(1,"img",13)(2,"ion-spinner",14),s.j41(3,"span"),s.EFF(4,"Iniciando sesion..."),s.k0s()())}const mp=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{var A;class f{constructor(I,w,O,oe){this.fb=I,this.firebaseError=w,this.afAuth=O,this.router=oe,this.loading=!1,this.verificar=!1,this.loginUsuario=this.fb.group({email:["",[de.k0.required,de.k0.email]],password:["",de.k0.required]})}ngOnInit(){}login(){const I=this.loginUsuario.value.email,w=this.loginUsuario.value.password;this.loading=!0,this.afAuth.signInWithEmailAndPassword(I,w).then(O=>{this.router.navigate(["/tabs/tab1"]),this.loading=!1}).catch(O=>{this.loading=!1,this.verificar=!0,this.firebaseError.errorFirebase(O.code),this.message=this.firebaseError.errorFirebase(O.code),setTimeout(()=>{this.message=""},2e3)})}loginAsGuest(){this.loading=!0,this.afAuth.signInWithEmailAndPassword("soyinvitado@gmail.com","123456").then(()=>{this.loading=!1,this.router.navigate(["/tabs/tab2"])}).catch(O=>{this.loading=!1,console.error("Error al iniciar sesi\xf3n con invitado:",O)})}}return(A=f).\u0275fac=function(I){return new(I||A)(s.rXU(de.ok),s.rXU(wl),s.rXU(co.DS),s.rXU(k.Ix))},A.\u0275cmp=s.VBU({type:A,selectors:[["app-login"]],decls:3,vars:2,consts:[[1,"container-main-login"],["class","container-login",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"ngSubmit","formGroup"],[1,"title-login"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login"],[1,"input-login"],["type","email","name","email","fill","solid","placeholder","correo electronico","labelPlacement","floating","errorText","El correo electronico no es valido","email","","formControlName","email"],["labelPlacement","floating","type","password","id","password","fill","solid","name","password","placeholder","Contrase\xf1a","formControlName","password","password",""],["slot","end"],["style","\n              left: 1rem;\n              position: relative;\n              font-size: smaller;\n              color: #e94a55;\n            ","class","text-danger errorLabel",4,"ngIf"],[1,"direccion"],["routerLink","/recuperar",1,"enlace"],["routerLink","/registrar",1,"enlace"],[1,"btn-login"],["color","tertiary","type","submit",1,"submit-button"],[1,"register-link",3,"click"],[1,"text-danger","errorLabel",2,"left","1rem","position","relative","font-size","smaller","color","#e94a55"],[1,"loading-container"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","90%"],["color","tertiary"]],template:function(I,w){1&I&&(s.j41(0,"div",0),s.DNE(1,mu,28,2,"div",1)(2,_c,5,0,"div",2),s.k0s()),2&I&&(s.R7$(),s.Y8G("ngIf",!w.loading),s.R7$(),s.Y8G("ngIf",w.loading))},dependencies:[qi.bT,_e.Jm,_e.$w,_e.Wv,_e.he,_e.w2,_e.BC,_e.Gw,_e.oY,k.Wk,de.qT,de.BC,de.cb,de.Dg,de.j4,de.JD]}),f})()},{path:"registrar",component:(()=>{var A;class f{constructor(I,w,O,oe,Pe,rt){this.fb=I,this.afAuth=w,this.router=O,this.firebaseError=oe,this.toastr=Pe,this.location=rt,this.loading=!1,this.passwordMatchValidator=Dt=>{const Jt=Dt.get("password"),gn=Dt.get("repetirPassword");return Jt&&gn&&Jt.value!==gn.value?{mismatch:!0}:null},this.registrarUsuario=this.fb.group({username:["",de.k0.required],email:["",[de.k0.required,de.k0.email]],password:["",[de.k0.required,de.k0.minLength(6)]],repetirPassword:["",de.k0.required]},{validator:this.passwordMatchValidator})}ngOnInit(){}registrar(){if(this.registrarUsuario.invalid)return;const{username:I,email:w,password:O}=this.registrarUsuario.value;this.loading=!0,this.afAuth.createUserWithEmailAndPassword(w,O).then(oe=>{var Pe;return null===(Pe=oe.user)||void 0===Pe?void 0:Pe.updateProfile({displayName:I})}).then(()=>{this.router.navigate(["/login"]),this.toastr.success("El usuario fue registrado con exito!!","Usuario Registrado")}).catch(oe=>{this.loading=!1,console.log(oe),this.firebaseError.errorFirebase(oe.code)})}goBack(){this.location.back()}}return(A=f).\u0275fac=function(I){return new(I||A)(s.rXU(de.ok),s.rXU(co.DS),s.rXU(k.Ix),s.rXU(wl),s.rXU(fn.tw),s.rXU(qi.aZ))},A.\u0275cmp=s.VBU({type:A,selectors:[["app-registrar"]],decls:3,vars:2,consts:[[1,"container-main-login"],["class","container-login",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"ngSubmit","formGroup"],[1,"title-login",2,"row-gap","0px"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","40%"],[1,"input-login",2,"row-gap","1rem"],["type","text","name","username","fill","solid","placeholder","Nombre de usuario","labelPlacement","floating","errorText","El usuario es Requerido","input","","formControlName","username"],["type","email","name","email","fill","solid","placeholder","correo electronico","labelPlacement","floating","errorText","El correo electronico no es valido","email","","formControlName","email"],["labelPlacement","floating","type","password","id","password","fill","solid","name","password","placeholder","Contrase\xf1a","formControlName","password","password",""],["slot","end"],["style","\n              left: 1rem;\n              position: relative;\n              font-size: smaller;\n              color: #e94a55;\n            ","class","text-danger errorLabel",4,"ngIf"],["labelPlacement","floating","type","password","id","password","fill","solid","name","password","placeholder","Contrase\xf1a","formControlName","repetirPassword","password",""],[1,"direccion"],["routerLink","/recuperar",1,"enlace"],["routerLink","/registrar",1,"enlace"],[1,"btn-login",2,"row-gap","1rem","margin-top","3rem","display","flex","flex-direction","row","align-items","center","justify-content","space-around"],["color","medium","type","button",3,"click"],["color","tertiary","type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel",2,"left","1rem","position","relative","font-size","smaller","color","#e94a55"],[1,"loading-container"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","90%"],["color","tertiary"]],template:function(I,w){1&I&&(s.j41(0,"div",0),s.DNE(1,_u,37,4,"div",1)(2,Ed,5,0,"div",2),s.k0s()),2&I&&(s.R7$(),s.Y8G("ngIf",!w.loading),s.R7$(),s.Y8G("ngIf",w.loading))},dependencies:[qi.bT,_e.Jm,_e.$w,_e.Wv,_e.he,_e.w2,_e.BC,_e.Gw,_e.oY,k.Wk,de.qT,de.BC,de.cb,de.Dg,de.j4,de.JD]}),f})()},{path:"recuperar",component:(()=>{var A;class f{constructor(I,w,O,oe){this.fb=I,this.afAuth=w,this.router=O,this.toastr=oe,this.loading=!1,this.recuperarUsuario=this.fb.group({email:["",[de.k0.required,de.k0.email]]})}ngOnInit(){}recuperar(){const I=this.recuperarUsuario.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(I).then(()=>{this.router.navigate(["/login"]),this.toastr.info("Revisa tu correo para restablecer tu contrase\xf1a","Peticion Aceptada")}).catch(w=>{this.loading=!1,this.firebaseError(w.code)})}firebaseError(I){switch(I){case"auth/user-not-found":this.toastr.error("Este correo no es valido","Error");break;case"auth/missing-email":this.toastr.error("Inserta un correo","Error")}}}return(A=f).\u0275fac=function(I){return new(I||A)(s.rXU(de.ok),s.rXU(co.DS),s.rXU(k.Ix),s.rXU(fn.tw))},A.\u0275cmp=s.VBU({type:A,selectors:[["app-recuperar"]],decls:3,vars:2,consts:[[1,"container-main-login"],["class","container-login",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"ngSubmit","formGroup"],[1,"title-login"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login"],[1,"input-login"],["type","email","name","email","fill","solid","placeholder","correo electronico","labelPlacement","floating","errorText","El correo electronico no es valido","email","","formControlName","email"],[1,"btn-login",2,"row-gap","1rem","margin-top","3rem","display","flex","flex-direction","row","align-items","center","justify-content","space-around"],["routerLink","/login","color","medium","type","button"],["color","tertiary","type","submit",1,"submit-button",3,"disabled"],[1,"loading-container"],["src","https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602","alt","",1,"img-login",2,"width","90%"],["color","tertiary"]],template:function(I,w){1&I&&(s.j41(0,"div",0),s.DNE(1,Wc,16,2,"div",1)(2,Yd,5,0,"div",2),s.k0s()),2&I&&(s.R7$(),s.Y8G("ngIf",!w.loading),s.R7$(),s.Y8G("ngIf",w.loading))},dependencies:[qi.bT,_e.Jm,_e.$w,_e.he,_e.w2,_e.BC,_e.Gw,_e.N7,k.Wk,de.qT,de.BC,de.cb,de.Dg,de.j4,de.JD]}),f})()},{path:"activate",component:Lu},{path:"imagenes-activate",component:ts},{path:"videos-activate",component:pa},{path:"",loadChildren:()=>L.e(5695).then(L.bind(L,5695)).then(A=>A.TabsPageModule)}];let tf=(()=>{var A;class f{}return(A=f).\u0275fac=function(I){return new(I||A)},A.\u0275mod=s.$C({type:A}),A.\u0275inj=s.G2t({imports:[k.iI.forRoot(mp,{preloadingStrategy:k.Kp}),k.iI]}),f})(),Ad=(()=>{var A;class f{constructor(){}}return(A=f).\u0275fac=function(I){return new(I||A)},A.\u0275cmp=s.VBU({type:A,selectors:[["app-root"]],decls:2,vars:0,template:function(I,w){1&I&&(s.j41(0,"ion-app"),s.nrm(1,"ion-router-outlet"),s.k0s())},dependencies:[_e.U1,_e.Rg]}),f})();const Pa_firebase={apiKey:"AIzaSyC-xnNzaTCFveAr77Iqf1CQ-wRct6kCBkQ",authDomain:"fitpal-horario.firebaseapp.com",projectId:"fitpal-horario",storageBucket:"fitpal-horario.appspot.com",messagingSenderId:"240368209776",appId:"1:240368209776:web:7b2960966943d391e049b5"};var ga=L(2214);class Ga{constructor(f){return f}}class $u{constructor(){return(0,ga.Dk)()}}const p=new s.nKC("angularfire2._apps"),v={provide:Ga,useFactory:function T(A){return A&&1===A.length?A[0]:new Ga((0,ga.Sx)())},deps:[[new s.Xx1,p]]},M={provide:$u,deps:[[new s.Xx1,p]]};function Y(A){return(f,_)=>{const I=_.get(s.Agw);(0,ga.KO)("angularfire",Io.xv.full,"core"),(0,ga.KO)("angularfire",Io.xv.full,"app"),(0,ga.KO)("angular",s.xvI.full,I.toString());const w=f.runOutsideAngular(()=>A(_));return new Ga(w)}}function wt(A,...f){return(0,s.EmA)([v,M,{provide:p,useFactory:Y(A),multi:!0,deps:[s.SKi,s.zZn,Io.u0,...f]}])}L(2920),L(8041);class Hu{constructor(){return(0,Io.CA)("auth")}}class bs{constructor(f){return f}}const Jc="storage",Ts=new s.nKC("angularfire2.storage-instances");function oh(A){return(f,_)=>{const I=f.runOutsideAngular(()=>A(_));return new bs(I)}}const hf={provide:class ih{constructor(){return(0,Io.CA)(Jc)}},deps:[[new s.Xx1,Ts]]},ff={provide:bs,useFactory:function Cc(A,f){const _=(0,Io.lR)(Jc,A,f);return _&&new bs(_)},deps:[[new s.Xx1,Ts],Ga]};function Rp(A,...f){return(0,ga.KO)("angularfire",Io.xv.full,"gcs"),(0,s.EmA)([ff,hf,{provide:Ts,useFactory:oh(A),multi:!0,deps:[s.SKi,s.zZn,Io.u0,$u,[new s.Xx1,Hu],[new s.Xx1,Io.Jv],...f]}])}const Pp=(0,Io.S3)(dc,!0);let yf=(()=>{var A;class f{}return(A=f).\u0275fac=function(I){return new(I||A)},A.\u0275mod=s.$C({type:A,bootstrap:[Ad]}),A.\u0275inj=s.G2t({providers:[{provide:k.b,useClass:W.jM},wt(()=>(0,ga.Wp)(Pa_firebase)),Rp(()=>Pp())],imports:[d.Bb,_e.bv.forRoot(),tf,de.YN,de.X1,fl,co.X8,Eo.bf.initializeApp(Pa_firebase),fn._B.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0})]}),f})();(0,s.SmG)(),d.sG().bootstrapModule(yf).catch(A=>console.log(A))},4412:(xn,St,L)=>{"use strict";L.d(St,{t:()=>s});var d=L(1413);class s extends d.B{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const ae=super._subscribe(de);return!ae.closed&&de.next(this._value),ae}getValue(){const{hasError:de,thrownError:ae,_value:Qe}=this;if(de)throw ae;return this._throwIfClosed(),Qe}next(de){super.next(this._value=de)}}},1985:(xn,St,L)=>{"use strict";L.d(St,{c:()=>et});var d=L(7707),s=L(8359),k=L(3494),de=L(1203),ae=L(1026),Qe=L(8071),me=L(9786);let et=(()=>{class it{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const ct=new it;return ct.source=this,ct.operator=nt,ct}subscribe(nt,ct,Ct){const _t=function De(it){return it&&it instanceof d.vU||function Le(it){return it&&(0,Qe.T)(it.next)&&(0,Qe.T)(it.error)&&(0,Qe.T)(it.complete)}(it)&&(0,s.Uv)(it)}(nt)?nt:new d.Ms(nt,ct,Ct);return(0,me.Y)(()=>{const{operator:mt,source:Nt}=this;_t.add(mt?mt.call(_t,Nt):Nt?this._subscribe(_t):this._trySubscribe(_t))}),_t}_trySubscribe(nt){try{return this._subscribe(nt)}catch(ct){nt.error(ct)}}forEach(nt,ct){return new(ct=at(ct))((Ct,_t)=>{const mt=new d.Ms({next:Nt=>{try{nt(Nt)}catch(It){_t(It),mt.unsubscribe()}},error:_t,complete:Ct});this.subscribe(mt)})}_subscribe(nt){var ct;return null===(ct=this.source)||void 0===ct?void 0:ct.subscribe(nt)}[k.s](){return this}pipe(...nt){return(0,de.m)(nt)(this)}toPromise(nt){return new(nt=at(nt))((ct,Ct)=>{let _t;this.subscribe(mt=>_t=mt,mt=>Ct(mt),()=>ct(_t))})}}return it.create=ot=>new it(ot),it})();function at(it){var ot;return null!==(ot=null!=it?it:ae.$.Promise)&&void 0!==ot?ot:Promise}},1413:(xn,St,L)=>{"use strict";L.d(St,{B:()=>me});var d=L(1985),s=L(8359);const de=(0,L(1853).L)(at=>function(){at(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=L(7908),Qe=L(9786);let me=(()=>{class at extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(De){const it=new et(this,this);return it.operator=De,it}_throwIfClosed(){if(this.closed)throw new de}next(De){(0,Qe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const it of this.currentObservers)it.next(De)}})}error(De){(0,Qe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=De;const{observers:it}=this;for(;it.length;)it.shift().error(De)}})}complete(){(0,Qe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:De}=this;for(;De.length;)De.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var De;return(null===(De=this.observers)||void 0===De?void 0:De.length)>0}_trySubscribe(De){return this._throwIfClosed(),super._trySubscribe(De)}_subscribe(De){return this._throwIfClosed(),this._checkFinalizedStatuses(De),this._innerSubscribe(De)}_innerSubscribe(De){const{hasError:it,isStopped:ot,observers:nt}=this;return it||ot?s.Kn:(this.currentObservers=null,nt.push(De),new s.yU(()=>{this.currentObservers=null,(0,ae.o)(nt,De)}))}_checkFinalizedStatuses(De){const{hasError:it,thrownError:ot,isStopped:nt}=this;it?De.error(ot):nt&&De.complete()}asObservable(){const De=new d.c;return De.source=this,De}}return at.create=(Le,De)=>new et(Le,De),at})();class et extends me{constructor(Le,De){super(),this.destination=Le,this.source=De}next(Le){var De,it;null===(it=null===(De=this.destination)||void 0===De?void 0:De.next)||void 0===it||it.call(De,Le)}error(Le){var De,it;null===(it=null===(De=this.destination)||void 0===De?void 0:De.error)||void 0===it||it.call(De,Le)}complete(){var Le,De;null===(De=null===(Le=this.destination)||void 0===Le?void 0:Le.complete)||void 0===De||De.call(Le)}_subscribe(Le){var De,it;return null!==(it=null===(De=this.source)||void 0===De?void 0:De.subscribe(Le))&&void 0!==it?it:s.Kn}}},7707:(xn,St,L)=>{"use strict";L.d(St,{Ms:()=>Ct,vU:()=>it});var d=L(8071),s=L(8359),k=L(1026),de=L(5334),ae=L(5343);const Qe=at("C",void 0,void 0);function at(Me,Fe,tt){return{kind:Me,value:Fe,error:tt}}var Le=L(9270),De=L(9786);class it extends s.yU{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,s.Uv)(Fe)&&Fe.add(this)):this.destination=It}static create(Fe,tt,Ye){return new Ct(Fe,tt,Ye)}next(Fe){this.isStopped?Nt(function et(Me){return at("N",Me,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?Nt(function me(Me){return at("E",void 0,Me)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?Nt(Qe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function nt(Me,Fe){return ot.call(Me,Fe)}class ct{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:tt}=this;if(tt.next)try{tt.next(Fe)}catch(Ye){_t(Ye)}}error(Fe){const{partialObserver:tt}=this;if(tt.error)try{tt.error(Fe)}catch(Ye){_t(Ye)}else _t(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(tt){_t(tt)}}}class Ct extends it{constructor(Fe,tt,Ye){let ut;if(super(),(0,d.T)(Fe)||!Fe)ut={next:null!=Fe?Fe:void 0,error:null!=tt?tt:void 0,complete:null!=Ye?Ye:void 0};else{let Ht;this&&k.$.useDeprecatedNextContext?(Ht=Object.create(Fe),Ht.unsubscribe=()=>this.unsubscribe(),ut={next:Fe.next&&nt(Fe.next,Ht),error:Fe.error&&nt(Fe.error,Ht),complete:Fe.complete&&nt(Fe.complete,Ht)}):ut=Fe}this.destination=new ct(ut)}}function _t(Me){k.$.useDeprecatedSynchronousErrorHandling?(0,De.l)(Me):(0,de.m)(Me)}function Nt(Me,Fe){const{onStoppedNotification:tt}=k.$;tt&&Le.f.setTimeout(()=>tt(Me,Fe))}const It={closed:!0,next:ae.l,error:function mt(Me){throw Me},complete:ae.l}},8359:(xn,St,L)=>{"use strict";L.d(St,{Kn:()=>Qe,yU:()=>ae,Uv:()=>me});var d=L(8071);const k=(0,L(1853).L)(at=>function(De){at(this),this.message=De?`${De.length} errors occurred during unsubscription:\n${De.map((it,ot)=>`${ot+1}) ${it.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=De});var de=L(7908);class ae{constructor(Le){this.initialTeardown=Le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Le;if(!this.closed){this.closed=!0;const{_parentage:De}=this;if(De)if(this._parentage=null,Array.isArray(De))for(const nt of De)nt.remove(this);else De.remove(this);const{initialTeardown:it}=this;if((0,d.T)(it))try{it()}catch(nt){Le=nt instanceof k?nt.errors:[nt]}const{_finalizers:ot}=this;if(ot){this._finalizers=null;for(const nt of ot)try{et(nt)}catch(ct){Le=null!=Le?Le:[],ct instanceof k?Le=[...Le,...ct.errors]:Le.push(ct)}}if(Le)throw new k(Le)}}add(Le){var De;if(Le&&Le!==this)if(this.closed)et(Le);else{if(Le instanceof ae){if(Le.closed||Le._hasParent(this))return;Le._addParent(this)}(this._finalizers=null!==(De=this._finalizers)&&void 0!==De?De:[]).push(Le)}}_hasParent(Le){const{_parentage:De}=this;return De===Le||Array.isArray(De)&&De.includes(Le)}_addParent(Le){const{_parentage:De}=this;this._parentage=Array.isArray(De)?(De.push(Le),De):De?[De,Le]:Le}_removeParent(Le){const{_parentage:De}=this;De===Le?this._parentage=null:Array.isArray(De)&&(0,de.o)(De,Le)}remove(Le){const{_finalizers:De}=this;De&&(0,de.o)(De,Le),Le instanceof ae&&Le._removeParent(this)}}ae.EMPTY=(()=>{const at=new ae;return at.closed=!0,at})();const Qe=ae.EMPTY;function me(at){return at instanceof ae||at&&"closed"in at&&(0,d.T)(at.remove)&&(0,d.T)(at.add)&&(0,d.T)(at.unsubscribe)}function et(at){(0,d.T)(at)?at():at.unsubscribe()}},1026:(xn,St,L)=>{"use strict";L.d(St,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(xn,St,L)=>{"use strict";L.d(St,{z:()=>Le});var d=L(1985),s=L(3073),k=L(8455),de=L(3669),ae=L(6450),Qe=L(3794),me=L(8496),et=L(4360),at=L(5225);function Le(...ot){const nt=(0,Qe.lI)(ot),ct=(0,Qe.ms)(ot),{args:Ct,keys:_t}=(0,s.D)(ot);if(0===Ct.length)return(0,k.H)([],nt);const mt=new d.c(function De(ot,nt,ct=de.D){return Ct=>{it(nt,()=>{const{length:_t}=ot,mt=new Array(_t);let Nt=_t,It=_t;for(let Me=0;Me<_t;Me++)it(nt,()=>{const Fe=(0,k.H)(ot[Me],nt);let tt=!1;Fe.subscribe((0,et._)(Ct,Ye=>{mt[Me]=Ye,tt||(tt=!0,It--),It||Ct.next(ct(mt.slice()))},()=>{--Nt||Ct.complete()}))},Ct)},Ct)}}(Ct,nt,_t?Nt=>(0,me.e)(_t,Nt):de.D));return ct?mt.pipe((0,ae.I)(ct)):mt}function it(ot,nt,ct){ot?(0,at.N)(ct,ot,nt):nt()}},8793:(xn,St,L)=>{"use strict";L.d(St,{x:()=>ae});var d=L(6365),k=L(3794),de=L(8455);function ae(...Qe){return function s(){return(0,d.U)(1)}()((0,de.H)(Qe,(0,k.lI)(Qe)))}},983:(xn,St,L)=>{"use strict";L.d(St,{w:()=>s});const s=new(L(1985).c)(ae=>ae.complete())},8455:(xn,St,L)=>{"use strict";L.d(St,{H:()=>Fe});var d=L(8750),s=L(941),k=L(6745),Qe=L(1985),et=L(4761),at=L(8071),Le=L(5225);function it(tt,Ye){if(!tt)throw new Error("Iterable cannot be null");return new Qe.c(ut=>{(0,Le.N)(ut,Ye,()=>{const Ht=tt[Symbol.asyncIterator]();(0,Le.N)(ut,Ye,()=>{Ht.next().then(he=>{he.done?ut.complete():ut.next(he.value)})},0,!0)})})}var ot=L(5055),nt=L(9858),ct=L(7441),Ct=L(5397),_t=L(7953),mt=L(591),Nt=L(5196);function Fe(tt,Ye){return Ye?function Me(tt,Ye){if(null!=tt){if((0,ot.l)(tt))return function de(tt,Ye){return(0,d.Tg)(tt).pipe((0,k._)(Ye),(0,s.Q)(Ye))}(tt,Ye);if((0,ct.X)(tt))return function me(tt,Ye){return new Qe.c(ut=>{let Ht=0;return Ye.schedule(function(){Ht===tt.length?ut.complete():(ut.next(tt[Ht++]),ut.closed||this.schedule())})})}(tt,Ye);if((0,nt.y)(tt))return function ae(tt,Ye){return(0,d.Tg)(tt).pipe((0,k._)(Ye),(0,s.Q)(Ye))}(tt,Ye);if((0,_t.T)(tt))return it(tt,Ye);if((0,Ct.x)(tt))return function De(tt,Ye){return new Qe.c(ut=>{let Ht;return(0,Le.N)(ut,Ye,()=>{Ht=tt[et.l](),(0,Le.N)(ut,Ye,()=>{let he,He;try{({value:he,done:He}=Ht.next())}catch(Tt){return void ut.error(Tt)}He?ut.complete():ut.next(he)},0,!0)}),()=>(0,at.T)(null==Ht?void 0:Ht.return)&&Ht.return()})}(tt,Ye);if((0,Nt.U)(tt))return function It(tt,Ye){return it((0,Nt.C)(tt),Ye)}(tt,Ye)}throw(0,mt.L)(tt)}(tt,Ye):(0,d.Tg)(tt)}},3726:(xn,St,L)=>{"use strict";L.d(St,{R:()=>Le});var d=L(8750),s=L(1985),k=L(1397),de=L(7441),ae=L(8071),Qe=L(6450);const me=["addListener","removeListener"],et=["addEventListener","removeEventListener"],at=["on","off"];function Le(ct,Ct,_t,mt){if((0,ae.T)(_t)&&(mt=_t,_t=void 0),mt)return Le(ct,Ct,_t).pipe((0,Qe.I)(mt));const[Nt,It]=function nt(ct){return(0,ae.T)(ct.addEventListener)&&(0,ae.T)(ct.removeEventListener)}(ct)?et.map(Me=>Fe=>ct[Me](Ct,Fe,_t)):function it(ct){return(0,ae.T)(ct.addListener)&&(0,ae.T)(ct.removeListener)}(ct)?me.map(De(ct,Ct)):function ot(ct){return(0,ae.T)(ct.on)&&(0,ae.T)(ct.off)}(ct)?at.map(De(ct,Ct)):[];if(!Nt&&(0,de.X)(ct))return(0,k.Z)(Me=>Le(Me,Ct,_t))((0,d.Tg)(ct));if(!Nt)throw new TypeError("Invalid event target");return new s.c(Me=>{const Fe=(...tt)=>Me.next(1<tt.length?tt:tt[0]);return Nt(Fe),()=>It(Fe)})}function De(ct,Ct){return _t=>mt=>ct[_t](Ct,mt)}},8750:(xn,St,L)=>{"use strict";L.d(St,{Tg:()=>ot});var d=L(1635),s=L(7441),k=L(9858),de=L(1985),ae=L(5055),Qe=L(7953),me=L(591),et=L(5397),at=L(5196),Le=L(8071),De=L(5334),it=L(3494);function ot(Me){if(Me instanceof de.c)return Me;if(null!=Me){if((0,ae.l)(Me))return function nt(Me){return new de.c(Fe=>{const tt=Me[it.s]();if((0,Le.T)(tt.subscribe))return tt.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,s.X)(Me))return function ct(Me){return new de.c(Fe=>{for(let tt=0;tt<Me.length&&!Fe.closed;tt++)Fe.next(Me[tt]);Fe.complete()})}(Me);if((0,k.y)(Me))return function Ct(Me){return new de.c(Fe=>{Me.then(tt=>{Fe.closed||(Fe.next(tt),Fe.complete())},tt=>Fe.error(tt)).then(null,De.m)})}(Me);if((0,Qe.T)(Me))return mt(Me);if((0,et.x)(Me))return function _t(Me){return new de.c(Fe=>{for(const tt of Me)if(Fe.next(tt),Fe.closed)return;Fe.complete()})}(Me);if((0,at.U)(Me))return function Nt(Me){return mt((0,at.C)(Me))}(Me)}throw(0,me.L)(Me)}function mt(Me){return new de.c(Fe=>{(function It(Me,Fe){var tt,Ye,ut,Ht;return(0,d.sH)(this,void 0,void 0,function*(){try{for(tt=(0,d.xN)(Me);!(Ye=yield tt.next()).done;)if(Fe.next(Ye.value),Fe.closed)return}catch(he){ut={error:he}}finally{try{Ye&&!Ye.done&&(Ht=tt.return)&&(yield Ht.call(tt))}finally{if(ut)throw ut.error}}Fe.complete()})})(Me,Fe).catch(tt=>Fe.error(tt))})}},7673:(xn,St,L)=>{"use strict";L.d(St,{of:()=>k});var d=L(3794),s=L(8455);function k(...de){const ae=(0,d.lI)(de);return(0,s.H)(de,ae)}},4360:(xn,St,L)=>{"use strict";L.d(St,{_:()=>s});var d=L(7707);function s(de,ae,Qe,me,et){return new k(de,ae,Qe,me,et)}class k extends d.vU{constructor(ae,Qe,me,et,at,Le){super(ae),this.onFinalize=at,this.shouldUnsubscribe=Le,this._next=Qe?function(De){try{Qe(De)}catch(it){ae.error(it)}}:super._next,this._error=et?function(De){try{et(De)}catch(it){ae.error(it)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(De){ae.error(De)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Qe}=this;super.unsubscribe(),!Qe&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},9901:(xn,St,L)=>{"use strict";L.d(St,{U:()=>k});var d=L(9974),s=L(4360);function k(de){return(0,d.N)((ae,Qe)=>{let me=!1;ae.subscribe((0,s._)(Qe,et=>{me=!0,Qe.next(et)},()=>{me||Qe.next(de),Qe.complete()}))})}},3294:(xn,St,L)=>{"use strict";L.d(St,{F:()=>de});var d=L(3669),s=L(9974),k=L(4360);function de(Qe,me=d.D){return Qe=null!=Qe?Qe:ae,(0,s.N)((et,at)=>{let Le,De=!0;et.subscribe((0,k._)(at,it=>{const ot=me(it);(De||!Qe(Le,ot))&&(De=!1,Le=ot,at.next(it))}))})}function ae(Qe,me){return Qe===me}},5964:(xn,St,L)=>{"use strict";L.d(St,{p:()=>k});var d=L(9974),s=L(4360);function k(de,ae){return(0,d.N)((Qe,me)=>{let et=0;Qe.subscribe((0,s._)(me,at=>de.call(ae,at,et++)&&me.next(at)))})}},980:(xn,St,L)=>{"use strict";L.d(St,{j:()=>s});var d=L(9974);function s(k){return(0,d.N)((de,ae)=>{try{de.subscribe(ae)}finally{ae.add(k)}})}},1594:(xn,St,L)=>{"use strict";L.d(St,{$:()=>me});var d=L(9350),s=L(5964),k=L(6697),de=L(9901),ae=L(3774),Qe=L(3669);function me(et,at){const Le=arguments.length>=2;return De=>De.pipe(et?(0,s.p)((it,ot)=>et(it,ot,De)):Qe.D,(0,k.s)(1),Le?(0,de.U)(at):(0,ae.v)(()=>new d.G))}},6354:(xn,St,L)=>{"use strict";L.d(St,{T:()=>k});var d=L(9974),s=L(4360);function k(de,ae){return(0,d.N)((Qe,me)=>{let et=0;Qe.subscribe((0,s._)(me,at=>{me.next(de.call(ae,at,et++))}))})}},6365:(xn,St,L)=>{"use strict";L.d(St,{U:()=>k});var d=L(1397),s=L(3669);function k(de=1/0){return(0,d.Z)(s.D,de)}},1397:(xn,St,L)=>{"use strict";L.d(St,{Z:()=>et});var d=L(6354),s=L(8750),k=L(9974),de=L(5225),ae=L(4360),me=L(8071);function et(at,Le,De=1/0){return(0,me.T)(Le)?et((it,ot)=>(0,d.T)((nt,ct)=>Le(it,nt,ot,ct))((0,s.Tg)(at(it,ot))),De):("number"==typeof Le&&(De=Le),(0,k.N)((it,ot)=>function Qe(at,Le,De,it,ot,nt,ct,Ct){const _t=[];let mt=0,Nt=0,It=!1;const Me=()=>{It&&!_t.length&&!mt&&Le.complete()},Fe=Ye=>mt<it?tt(Ye):_t.push(Ye),tt=Ye=>{nt&&Le.next(Ye),mt++;let ut=!1;(0,s.Tg)(De(Ye,Nt++)).subscribe((0,ae._)(Le,Ht=>{null==ot||ot(Ht),nt?Fe(Ht):Le.next(Ht)},()=>{ut=!0},void 0,()=>{if(ut)try{for(mt--;_t.length&&mt<it;){const Ht=_t.shift();ct?(0,de.N)(Le,ct,()=>tt(Ht)):tt(Ht)}Me()}catch(Ht){Le.error(Ht)}}))};return at.subscribe((0,ae._)(Le,Fe,()=>{It=!0,Me()})),()=>{null==Ct||Ct()}}(it,ot,at,De)))}},941:(xn,St,L)=>{"use strict";L.d(St,{Q:()=>de});var d=L(5225),s=L(9974),k=L(4360);function de(ae,Qe=0){return(0,s.N)((me,et)=>{me.subscribe((0,k._)(et,at=>(0,d.N)(et,ae,()=>et.next(at),Qe),()=>(0,d.N)(et,ae,()=>et.complete(),Qe),at=>(0,d.N)(et,ae,()=>et.error(at),Qe)))})}},2816:(xn,St,L)=>{"use strict";L.d(St,{S:()=>de});var d=L(9974),s=L(4360);function de(ae,Qe){return(0,d.N)(function k(ae,Qe,me,et,at){return(Le,De)=>{let it=me,ot=Qe,nt=0;Le.subscribe((0,s._)(De,ct=>{const Ct=nt++;ot=it?ae(ot,ct,Ct):(it=!0,ct),et&&De.next(ot)},at&&(()=>{it&&De.next(ot),De.complete()})))}}(ae,Qe,arguments.length>=2,!0))}},9172:(xn,St,L)=>{"use strict";L.d(St,{Z:()=>de});var d=L(8793),s=L(3794),k=L(9974);function de(...ae){const Qe=(0,s.lI)(ae);return(0,k.N)((me,et)=>{(Qe?(0,d.x)(ae,me,Qe):(0,d.x)(ae,me)).subscribe(et)})}},6745:(xn,St,L)=>{"use strict";L.d(St,{_:()=>s});var d=L(9974);function s(k,de=0){return(0,d.N)((ae,Qe)=>{Qe.add(k.schedule(()=>ae.subscribe(Qe),de))})}},5558:(xn,St,L)=>{"use strict";L.d(St,{n:()=>de});var d=L(8750),s=L(9974),k=L(4360);function de(ae,Qe){return(0,s.N)((me,et)=>{let at=null,Le=0,De=!1;const it=()=>De&&!at&&et.complete();me.subscribe((0,k._)(et,ot=>{null==at||at.unsubscribe();let nt=0;const ct=Le++;(0,d.Tg)(ae(ot,ct)).subscribe(at=(0,k._)(et,Ct=>et.next(Qe?Qe(ot,Ct,ct,nt++):Ct),()=>{at=null,it()}))},()=>{De=!0,it()}))})}},6697:(xn,St,L)=>{"use strict";L.d(St,{s:()=>de});var d=L(983),s=L(9974),k=L(4360);function de(ae){return ae<=0?()=>d.w:(0,s.N)((Qe,me)=>{let et=0;Qe.subscribe((0,k._)(me,at=>{++et<=ae&&(me.next(at),ae<=et&&me.complete())}))})}},8141:(xn,St,L)=>{"use strict";L.d(St,{M:()=>ae});var d=L(8071),s=L(9974),k=L(4360),de=L(3669);function ae(Qe,me,et){const at=(0,d.T)(Qe)||me||et?{next:Qe,error:me,complete:et}:Qe;return at?(0,s.N)((Le,De)=>{var it;null===(it=at.subscribe)||void 0===it||it.call(at);let ot=!0;Le.subscribe((0,k._)(De,nt=>{var ct;null===(ct=at.next)||void 0===ct||ct.call(at,nt),De.next(nt)},()=>{var nt;ot=!1,null===(nt=at.complete)||void 0===nt||nt.call(at),De.complete()},nt=>{var ct;ot=!1,null===(ct=at.error)||void 0===ct||ct.call(at,nt),De.error(nt)},()=>{var nt,ct;ot&&(null===(nt=at.unsubscribe)||void 0===nt||nt.call(at)),null===(ct=at.finalize)||void 0===ct||ct.call(at)}))}):de.D}},3774:(xn,St,L)=>{"use strict";L.d(St,{v:()=>de});var d=L(9350),s=L(9974),k=L(4360);function de(Qe=ae){return(0,s.N)((me,et)=>{let at=!1;me.subscribe((0,k._)(et,Le=>{at=!0,et.next(Le)},()=>at?et.complete():et.error(Qe())))})}function ae(){return new d.G}},6780:(xn,St,L)=>{"use strict";L.d(St,{R:()=>ae});var d=L(8359);class s extends d.yU{constructor(me,et){super()}schedule(me,et=0){return this}}const k={setInterval(Qe,me,...et){const{delegate:at}=k;return null!=at&&at.setInterval?at.setInterval(Qe,me,...et):setInterval(Qe,me,...et)},clearInterval(Qe){const{delegate:me}=k;return((null==me?void 0:me.clearInterval)||clearInterval)(Qe)},delegate:void 0};var de=L(7908);class ae extends s{constructor(me,et){super(me,et),this.scheduler=me,this.work=et,this.pending=!1}schedule(me,et=0){var at;if(this.closed)return this;this.state=me;const Le=this.id,De=this.scheduler;return null!=Le&&(this.id=this.recycleAsyncId(De,Le,et)),this.pending=!0,this.delay=et,this.id=null!==(at=this.id)&&void 0!==at?at:this.requestAsyncId(De,this.id,et),this}requestAsyncId(me,et,at=0){return k.setInterval(me.flush.bind(me,this),at)}recycleAsyncId(me,et,at=0){if(null!=at&&this.delay===at&&!1===this.pending)return et;null!=et&&k.clearInterval(et)}execute(me,et){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const at=this._execute(me,et);if(at)return at;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,et){let Le,at=!1;try{this.work(me)}catch(De){at=!0,Le=De||new Error("Scheduled action threw falsy error")}if(at)return this.unsubscribe(),Le}unsubscribe(){if(!this.closed){const{id:me,scheduler:et}=this,{actions:at}=et;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.o)(at,this),null!=me&&(this.id=this.recycleAsyncId(et,me,null)),this.delay=null,super.unsubscribe()}}}},9687:(xn,St,L)=>{"use strict";L.d(St,{q:()=>k});var d=L(6129);class s{constructor(ae,Qe=s.now){this.schedulerActionCtor=ae,this.now=Qe}schedule(ae,Qe=0,me){return new this.schedulerActionCtor(this,ae).schedule(me,Qe)}}s.now=d.U.now;class k extends s{constructor(ae,Qe=s.now){super(ae,Qe),this.actions=[],this._active=!1}flush(ae){const{actions:Qe}=this;if(this._active)return void Qe.push(ae);let me;this._active=!0;do{if(me=ae.execute(ae.state,ae.delay))break}while(ae=Qe.shift());if(this._active=!1,me){for(;ae=Qe.shift();)ae.unsubscribe();throw me}}}},3236:(xn,St,L)=>{"use strict";L.d(St,{E:()=>k});var d=L(6780);const k=new(L(9687).q)(d.R)},6129:(xn,St,L)=>{"use strict";L.d(St,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(xn,St,L)=>{"use strict";L.d(St,{f:()=>d});const d={setTimeout(s,k,...de){const{delegate:ae}=d;return null!=ae&&ae.setTimeout?ae.setTimeout(s,k,...de):setTimeout(s,k,...de)},clearTimeout(s){const{delegate:k}=d;return((null==k?void 0:k.clearTimeout)||clearTimeout)(s)},delegate:void 0}},4761:(xn,St,L)=>{"use strict";L.d(St,{l:()=>s});const s=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(xn,St,L)=>{"use strict";L.d(St,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(xn,St,L)=>{"use strict";L.d(St,{G:()=>s});const s=(0,L(1853).L)(k=>function(){k(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(xn,St,L)=>{"use strict";L.d(St,{R0:()=>Qe,ms:()=>de,lI:()=>ae});var d=L(8071);function k(me){return me[me.length-1]}function de(me){return(0,d.T)(k(me))?me.pop():void 0}function ae(me){return function s(me){return me&&(0,d.T)(me.schedule)}(k(me))?me.pop():void 0}function Qe(me,et){return"number"==typeof k(me)?me.pop():et}},3073:(xn,St,L)=>{"use strict";L.d(St,{D:()=>ae});const{isArray:d}=Array,{getPrototypeOf:s,prototype:k,keys:de}=Object;function ae(me){if(1===me.length){const et=me[0];if(d(et))return{args:et,keys:null};if(function Qe(me){return me&&"object"==typeof me&&s(me)===k}(et)){const at=de(et);return{args:at.map(Le=>et[Le]),keys:at}}}return{args:me,keys:null}}},7908:(xn,St,L)=>{"use strict";function d(s,k){if(s){const de=s.indexOf(k);0<=de&&s.splice(de,1)}}L.d(St,{o:()=>d})},1853:(xn,St,L)=>{"use strict";function d(s){const de=s(ae=>{Error.call(ae),ae.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}L.d(St,{L:()=>d})},8496:(xn,St,L)=>{"use strict";function d(s,k){return s.reduce((de,ae,Qe)=>(de[ae]=k[Qe],de),{})}L.d(St,{e:()=>d})},9786:(xn,St,L)=>{"use strict";L.d(St,{Y:()=>k,l:()=>de});var d=L(1026);let s=null;function k(ae){if(d.$.useDeprecatedSynchronousErrorHandling){const Qe=!s;if(Qe&&(s={errorThrown:!1,error:null}),ae(),Qe){const{errorThrown:me,error:et}=s;if(s=null,me)throw et}}else ae()}function de(ae){d.$.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=ae)}},5225:(xn,St,L)=>{"use strict";function d(s,k,de,ae=0,Qe=!1){const me=k.schedule(function(){de(),Qe?s.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(s.add(me),!Qe)return me}L.d(St,{N:()=>d})},3669:(xn,St,L)=>{"use strict";function d(s){return s}L.d(St,{D:()=>d})},7441:(xn,St,L)=>{"use strict";L.d(St,{X:()=>d});const d=s=>s&&"number"==typeof s.length&&"function"!=typeof s},7953:(xn,St,L)=>{"use strict";L.d(St,{T:()=>s});var d=L(8071);function s(k){return Symbol.asyncIterator&&(0,d.T)(null==k?void 0:k[Symbol.asyncIterator])}},8071:(xn,St,L)=>{"use strict";function d(s){return"function"==typeof s}L.d(St,{T:()=>d})},5055:(xn,St,L)=>{"use strict";L.d(St,{l:()=>k});var d=L(3494),s=L(8071);function k(de){return(0,s.T)(de[d.s])}},5397:(xn,St,L)=>{"use strict";L.d(St,{x:()=>k});var d=L(4761),s=L(8071);function k(de){return(0,s.T)(null==de?void 0:de[d.l])}},9858:(xn,St,L)=>{"use strict";L.d(St,{y:()=>s});var d=L(8071);function s(k){return(0,d.T)(null==k?void 0:k.then)}},5196:(xn,St,L)=>{"use strict";L.d(St,{C:()=>k,U:()=>de});var d=L(1635),s=L(8071);function k(ae){return(0,d.AQ)(this,arguments,function*(){const me=ae.getReader();try{for(;;){const{value:et,done:at}=yield(0,d.N3)(me.read());if(at)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(et)}}finally{me.releaseLock()}})}function de(ae){return(0,s.T)(null==ae?void 0:ae.getReader)}},9974:(xn,St,L)=>{"use strict";L.d(St,{N:()=>k,S:()=>s});var d=L(8071);function s(de){return(0,d.T)(null==de?void 0:de.lift)}function k(de){return ae=>{if(s(ae))return ae.lift(function(Qe){try{return de(Qe,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(xn,St,L)=>{"use strict";L.d(St,{I:()=>de});var d=L(6354);const{isArray:s}=Array;function de(ae){return(0,d.T)(Qe=>function k(ae,Qe){return s(Qe)?ae(...Qe):ae(Qe)}(ae,Qe))}},5343:(xn,St,L)=>{"use strict";function d(){}L.d(St,{l:()=>d})},1203:(xn,St,L)=>{"use strict";L.d(St,{F:()=>s,m:()=>k});var d=L(3669);function s(...de){return k(de)}function k(de){return 0===de.length?d.D:1===de.length?de[0]:function(Qe){return de.reduce((me,et)=>et(me),Qe)}}},5334:(xn,St,L)=>{"use strict";L.d(St,{m:()=>k});var d=L(1026),s=L(9270);function k(de){s.f.setTimeout(()=>{const{onUnhandledError:ae}=d.$;if(!ae)throw de;ae(de)})}},591:(xn,St,L)=>{"use strict";function d(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(St,{L:()=>d})},8996:(xn,St,L)=>{var d={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function s(k){if(!L.o(d,k))return Promise.resolve().then(()=>{var Qe=new Error("Cannot find module '"+k+"'");throw Qe.code="MODULE_NOT_FOUND",Qe});var de=d[k],ae=de[0];return Promise.all(de.slice(1).map(L.e)).then(()=>L(ae))}s.keys=()=>Object.keys(d),s.id=8996,xn.exports=s},9969:(xn,St,L)=>{"use strict";L.d(St,{FX:()=>Ht,If:()=>d,K2:()=>Qe,hZ:()=>k,i0:()=>de,iF:()=>me,kY:()=>Le,kp:()=>s,sf:()=>Ye,ui:()=>ut,wk:()=>et});var d=function(he){return he[he.State=0]="State",he[he.Transition=1]="Transition",he[he.Sequence=2]="Sequence",he[he.Group=3]="Group",he[he.Animate=4]="Animate",he[he.Keyframes=5]="Keyframes",he[he.Style=6]="Style",he[he.Trigger=7]="Trigger",he[he.Reference=8]="Reference",he[he.AnimateChild=9]="AnimateChild",he[he.AnimateRef=10]="AnimateRef",he[he.Query=11]="Query",he[he.Stagger=12]="Stagger",he}(d||{});const s="*";function k(he,He){return{type:d.Trigger,name:he,definitions:He,options:{}}}function de(he,He=null){return{type:d.Animate,styles:He,timings:he}}function Qe(he,He=null){return{type:d.Sequence,steps:he,options:He}}function me(he){return{type:d.Style,styles:he,offset:null}}function et(he,He,Tt){return{type:d.State,name:he,styles:He,options:Tt}}function Le(he,He,Tt=null){return{type:d.Transition,expr:he,animation:He,options:Tt}}class Ye{constructor(He=0,Tt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=He+Tt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(He=>He()),this._onDoneFns=[])}onStart(He){this._originalOnStartFns.push(He),this._onStartFns.push(He)}onDone(He){this._originalOnDoneFns.push(He),this._onDoneFns.push(He)}onDestroy(He){this._onDestroyFns.push(He)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(He=>He()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(He=>He()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(He){this._position=this.totalTime?He*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(He){const Tt="start"==He?this._onStartFns:this._onDoneFns;Tt.forEach(dn=>dn()),Tt.length=0}}class ut{constructor(He){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=He;let Tt=0,dn=0,An=0;const nn=this.players.length;0==nn?queueMicrotask(()=>this._onFinish()):this.players.forEach(Rn=>{Rn.onDone(()=>{++Tt==nn&&this._onFinish()}),Rn.onDestroy(()=>{++dn==nn&&this._onDestroy()}),Rn.onStart(()=>{++An==nn&&this._onStart()})}),this.totalTime=this.players.reduce((Rn,Mt)=>Math.max(Rn,Mt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(He=>He()),this._onDoneFns=[])}init(){this.players.forEach(He=>He.init())}onStart(He){this._onStartFns.push(He)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(He=>He()),this._onStartFns=[])}onDone(He){this._onDoneFns.push(He)}onDestroy(He){this._onDestroyFns.push(He)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(He=>He.play())}pause(){this.players.forEach(He=>He.pause())}restart(){this.players.forEach(He=>He.restart())}finish(){this._onFinish(),this.players.forEach(He=>He.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(He=>He.destroy()),this._onDestroyFns.forEach(He=>He()),this._onDestroyFns=[])}reset(){this.players.forEach(He=>He.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(He){const Tt=He*this.totalTime;this.players.forEach(dn=>{const An=dn.totalTime?Math.min(1,Tt/dn.totalTime):1;dn.setPosition(An)})}getPosition(){const He=this.players.reduce((Tt,dn)=>null===Tt||dn.totalTime>Tt.totalTime?dn:Tt,null);return null!=He?He.getPosition():0}beforeDestroy(){this.players.forEach(He=>{He.beforeDestroy&&He.beforeDestroy()})}triggerCallback(He){const Tt="start"==He?this._onStartFns:this._onDoneFns;Tt.forEach(dn=>dn()),Tt.length=0}}const Ht="!"},177:(xn,St,L)=>{"use strict";L.d(St,{AJ:()=>Zt,MD:()=>Et,N0:()=>io,QT:()=>k,Sm:()=>Ct,Sq:()=>Vi,T3:()=>zr,VF:()=>ae,Vy:()=>jn,Xr:()=>Ki,YU:()=>Ut,ZD:()=>de,_b:()=>re,aZ:()=>mt,bT:()=>gr,fw:()=>_t,hb:()=>nt,hj:()=>at,qQ:()=>me});var d=L(4438);let s=null;function k(){return s}function de(S){var G;null!==(G=s)&&void 0!==G||(s=S)}class ae{}const me=new d.nKC("");let et=(()=>{var S;class G{historyGo(U){throw new Error("")}}return(S=G).\u0275fac=function(U){return new(U||S)},S.\u0275prov=d.jDH({token:S,factory:()=>(0,d.WQX)(Le),providedIn:"platform"}),G})();const at=new d.nKC("");let Le=(()=>{var S;class G extends et{constructor(){super(),this._doc=(0,d.WQX)(me),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(U){const Ee=k().getGlobalEventTarget(this._doc,"window");return Ee.addEventListener("popstate",U,!1),()=>Ee.removeEventListener("popstate",U)}onHashChange(U){const Ee=k().getGlobalEventTarget(this._doc,"window");return Ee.addEventListener("hashchange",U,!1),()=>Ee.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,Ee,qe){this._history.pushState(U,Ee,qe)}replaceState(U,Ee,qe){this._history.replaceState(U,Ee,qe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return(S=G).\u0275fac=function(U){return new(U||S)},S.\u0275prov=d.jDH({token:S,factory:()=>new S,providedIn:"platform"}),G})();function De(S,G){if(0==S.length)return G;if(0==G.length)return S;let Be=0;return S.endsWith("/")&&Be++,G.startsWith("/")&&Be++,2==Be?S+G.substring(1):1==Be?S+G:S+"/"+G}function it(S){const G=S.match(/#|\?|$/),Be=G&&G.index||S.length;return S.slice(0,Be-("/"===S[Be-1]?1:0))+S.slice(Be)}function ot(S){return S&&"?"!==S[0]?"?"+S:S}let nt=(()=>{var S;class G{historyGo(U){throw new Error("")}}return(S=G).\u0275fac=function(U){return new(U||S)},S.\u0275prov=d.jDH({token:S,factory:()=>(0,d.WQX)(Ct),providedIn:"root"}),G})();const ct=new d.nKC("");let Ct=(()=>{var S;class G extends nt{constructor(U,Ee){var qe,tn,Tn;super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=null!==(qe=null!==(tn=null!=Ee?Ee:this._platformLocation.getBaseHrefFromDOM())&&void 0!==tn?tn:null===(Tn=(0,d.WQX)(me).location)||void 0===Tn?void 0:Tn.origin)&&void 0!==qe?qe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return De(this._baseHref,U)}path(U=!1){const Ee=this._platformLocation.pathname+ot(this._platformLocation.search),qe=this._platformLocation.hash;return qe&&U?`${Ee}${qe}`:Ee}pushState(U,Ee,qe,tn){const Tn=this.prepareExternalUrl(qe+ot(tn));this._platformLocation.pushState(U,Ee,Tn)}replaceState(U,Ee,qe,tn){const Tn=this.prepareExternalUrl(qe+ot(tn));this._platformLocation.replaceState(U,Ee,Tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var Ee,qe;null===(Ee=(qe=this._platformLocation).historyGo)||void 0===Ee||Ee.call(qe,U)}}return(S=G).\u0275fac=function(U){return new(U||S)(d.KVO(et),d.KVO(ct,8))},S.\u0275prov=d.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),G})(),_t=(()=>{var S;class G extends nt{constructor(U,Ee){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=Ee&&(this._baseHref=Ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){var Ee;const qe=null!==(Ee=this._platformLocation.hash)&&void 0!==Ee?Ee:"#";return qe.length>0?qe.substring(1):qe}prepareExternalUrl(U){const Ee=De(this._baseHref,U);return Ee.length>0?"#"+Ee:Ee}pushState(U,Ee,qe,tn){let Tn=this.prepareExternalUrl(qe+ot(tn));0==Tn.length&&(Tn=this._platformLocation.pathname),this._platformLocation.pushState(U,Ee,Tn)}replaceState(U,Ee,qe,tn){let Tn=this.prepareExternalUrl(qe+ot(tn));0==Tn.length&&(Tn=this._platformLocation.pathname),this._platformLocation.replaceState(U,Ee,Tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var Ee,qe;null===(Ee=(qe=this._platformLocation).historyGo)||void 0===Ee||Ee.call(qe,U)}}return(S=G).\u0275fac=function(U){return new(U||S)(d.KVO(et),d.KVO(ct,8))},S.\u0275prov=d.jDH({token:S,factory:S.\u0275fac}),G})(),mt=(()=>{var S;class G{constructor(U){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const Ee=this._locationStrategy.getBaseHref();this._basePath=function Fe(S){if(new RegExp("^(https?:)?//").test(S)){const[,Be]=S.split(/\/\/[^\/]+/);return Be}return S}(it(Me(Ee))),this._locationStrategy.onPopState(qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:qe.state,type:qe.type})})}ngOnDestroy(){var U;null===(U=this._urlChangeSubscription)||void 0===U||U.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,Ee=""){return this.path()==this.normalize(U+ot(Ee))}normalize(U){return G.stripTrailingSlash(function It(S,G){if(!S||!G.startsWith(S))return G;const Be=G.substring(S.length);return""===Be||["/",";","?","#"].includes(Be[0])?Be:G}(this._basePath,Me(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,Ee="",qe=null){this._locationStrategy.pushState(qe,"",U,Ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+ot(Ee)),qe)}replaceState(U,Ee="",qe=null){this._locationStrategy.replaceState(qe,"",U,Ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+ot(Ee)),qe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){var Ee,qe;null===(Ee=(qe=this._locationStrategy).historyGo)||void 0===Ee||Ee.call(qe,U)}onUrlChange(U){var Ee;return this._urlChangeListeners.push(U),null!==(Ee=this._urlChangeSubscription)&&void 0!==Ee||(this._urlChangeSubscription=this.subscribe(qe=>{this._notifyUrlChangeListeners(qe.url,qe.state)})),()=>{const qe=this._urlChangeListeners.indexOf(U);var tn;this._urlChangeListeners.splice(qe,1),0===this._urlChangeListeners.length&&(null===(tn=this._urlChangeSubscription)||void 0===tn||tn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",Ee){this._urlChangeListeners.forEach(qe=>qe(U,Ee))}subscribe(U,Ee,qe){return this._subject.subscribe({next:U,error:Ee,complete:qe})}}return(S=G).normalizeQueryParams=ot,S.joinWithSlash=De,S.stripTrailingSlash=it,S.\u0275fac=function(U){return new(U||S)(d.KVO(nt))},S.\u0275prov=d.jDH({token:S,factory:()=>function Nt(){return new mt((0,d.KVO)(nt))}(),providedIn:"root"}),G})();function Me(S){return S.replace(/\/index.html$/,"")}function re(S,G){G=encodeURIComponent(G);for(const Be of S.split(";")){const U=Be.indexOf("="),[Ee,qe]=-1==U?[Be,""]:[Be.slice(0,U),Be.slice(U+1)];if(Ee.trim()===G)return decodeURIComponent(qe)}return null}const Ue=/\s+/,Lt=[];let Ut=(()=>{var S;class G{constructor(U,Ee){this._ngEl=U,this._renderer=Ee,this.initialClasses=Lt,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(Ue):Lt}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(Ue):U}ngDoCheck(){for(const Ee of this.initialClasses)this._updateState(Ee,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const Ee of U)this._updateState(Ee,!0);else if(null!=U)for(const Ee of Object.keys(U))this._updateState(Ee,!!U[Ee]);this._applyStateDiff()}_updateState(U,Ee){const qe=this.stateMap.get(U);void 0!==qe?(qe.enabled!==Ee&&(qe.changed=!0,qe.enabled=Ee),qe.touched=!0):this.stateMap.set(U,{enabled:Ee,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const Ee=U[0],qe=U[1];qe.changed?(this._toggleClass(Ee,qe.enabled),qe.changed=!1):qe.touched||(qe.enabled&&this._toggleClass(Ee,!1),this.stateMap.delete(Ee)),qe.touched=!1}}_toggleClass(U,Ee){(U=U.trim()).length>0&&U.split(Ue).forEach(qe=>{Ee?this._renderer.addClass(this._ngEl.nativeElement,qe):this._renderer.removeClass(this._ngEl.nativeElement,qe)})}}return(S=G).\u0275fac=function(U){return new(U||S)(d.rXU(d.aKT),d.rXU(d.sFG))},S.\u0275dir=d.FsC({type:S,selectors:[["","ngClass",""]],inputs:{klass:[d.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),G})();class nr{constructor(G,Be,U,Ee){this.$implicit=G,this.ngForOf=Be,this.index=U,this.count=Ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vi=(()=>{var S;class G{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,Ee,qe){this._viewContainer=U,this._template=Ee,this._differs=qe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const Ee=this._viewContainer;U.forEachOperation((qe,tn,Tn)=>{if(null==qe.previousIndex)Ee.createEmbeddedView(this._template,new nr(qe.item,this._ngForOf,-1,-1),null===Tn?void 0:Tn);else if(null==Tn)Ee.remove(null===tn?void 0:tn);else if(null!==tn){const Nr=Ee.get(tn);Ee.move(Nr,Tn),Ji(Nr,qe)}});for(let qe=0,tn=Ee.length;qe<tn;qe++){const Nr=Ee.get(qe).context;Nr.index=qe,Nr.count=tn,Nr.ngForOf=this._ngForOf}U.forEachIdentityChange(qe=>{Ji(Ee.get(qe.currentIndex),qe)})}static ngTemplateContextGuard(U,Ee){return!0}}return(S=G).\u0275fac=function(U){return new(U||S)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))},S.\u0275dir=d.FsC({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),G})();function Ji(S,G){S.context.$implicit=G.item}let gr=(()=>{var S;class G{constructor(U,Ee){this._viewContainer=U,this._context=new ki,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ee}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){uo("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){uo("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,Ee){return!0}}return(S=G).\u0275fac=function(U){return new(U||S)(d.rXU(d.c1b),d.rXU(d.C4Q))},S.\u0275dir=d.FsC({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),G})();class ki{constructor(){this.$implicit=null,this.ngIf=null}}function uo(S,G){if(G&&!G.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,d.Tbb)(G)}'.`)}let zr=(()=>{var S;class G{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(this._shouldRecreateView(U)){var Ee;const qe=this._viewContainerRef;if(this._viewRef&&qe.remove(qe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const tn=this._createContextForwardProxy();this._viewRef=qe.createEmbeddedView(this.ngTemplateOutlet,tn,{injector:null!==(Ee=this.ngTemplateOutletInjector)&&void 0!==Ee?Ee:void 0})}}_shouldRecreateView(U){return!!U.ngTemplateOutlet||!!U.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(U,Ee,qe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Ee,qe),get:(U,Ee,qe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Ee,qe)}})}}return(S=G).\u0275fac=function(U){return new(U||S)(d.rXU(d.c1b))},S.\u0275dir=d.FsC({type:S,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]}),G})(),Et=(()=>{var S;class G{}return(S=G).\u0275fac=function(U){return new(U||S)},S.\u0275mod=d.$C({type:S}),S.\u0275inj=d.G2t({}),G})();const Zt="browser",un="server";function jn(S){return S===un}let Ki=(()=>{var S;class G{}return(S=G).\u0275prov=(0,d.jDH)({token:S,providedIn:"root",factory:()=>function On(S){return S===Zt}((0,d.WQX)(d.Agw))?new Sr((0,d.WQX)(me),window):new Ai}),G})();class Sr{constructor(G,Be){this.document=G,this.window=Be,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(G){this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){const Be=function Zr(S,G){const Be=S.getElementById(G)||S.getElementsByName(G)[0];if(Be)return Be;if("function"==typeof S.createTreeWalker&&S.body&&"function"==typeof S.body.attachShadow){const U=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let Ee=U.currentNode;for(;Ee;){const qe=Ee.shadowRoot;if(qe){const tn=qe.getElementById(G)||qe.querySelector(`[name="${G}"]`);if(tn)return tn}Ee=U.nextNode()}}return null}(this.document,G);Be&&(this.scrollToElement(Be),Be.focus())}setHistoryScrollRestoration(G){this.window.history.scrollRestoration=G}scrollToElement(G){const Be=G.getBoundingClientRect(),U=Be.left+this.window.pageXOffset,Ee=Be.top+this.window.pageYOffset,qe=this.offset();this.window.scrollTo(U-qe[0],Ee-qe[1])}}class Ai{setOffset(G){}getScrollPosition(){return[0,0]}scrollToPosition(G){}scrollToAnchor(G){}setHistoryScrollRestoration(G){}}class io{}},4438:(xn,St,L)=>{"use strict";L.d(St,{bc$:()=>Di,iLQ:()=>bE,sZ2:()=>Kn,hnV:()=>Jb,Hbi:()=>YM,o8S:()=>Gh,BIS:()=>to,gRc:()=>hT,Ql9:()=>AM,OM3:()=>wh,Ocv:()=>MM,Z63:()=>Fa,aKT:()=>nh,uvJ:()=>ps,zcH:()=>Gu,bkB:()=>Eu,$GK:()=>Jn,nKC:()=>Ut,zZn:()=>xa,_q3:()=>xE,MKu:()=>NE,xe9:()=>Xy,Co$:()=>sA,Vns:()=>ap,SKi:()=>ys,Xx1:()=>On,Agw:()=>ur,PLl:()=>Hn,sFG:()=>Jm,_9s:()=>Zm,czy:()=>Jp,WPN:()=>Sd,kdw:()=>Zn,C4Q:()=>ye,NYb:()=>gM,giA:()=>Yb,xvI:()=>HR,RxE:()=>zb,c1b:()=>Zu,gXe:()=>xr,mal:()=>i_,L39:()=>wP,a0P:()=>OP,Ol2:()=>DI,w6W:()=>ew,oH4:()=>lT,SmG:()=>FM,Rfq:()=>_n,WQX:()=>ke,naY:()=>kM,QuC:()=>Eo,EmA:()=>pl,fpN:()=>QM,HJs:()=>kP,N4e:()=>gs,O8t:()=>SP,An2:()=>Bs,H3F:()=>Gb,H8p:()=>vl,KH2:()=>Kg,TgB:()=>Sg,wOt:()=>ze,WHO:()=>Xb,e01:()=>Qb,lNU:()=>tr,h9k:()=>dv,$MX:()=>wf,ZF7:()=>uh,Kcf:()=>m0,e5t:()=>rv,UyX:()=>nv,cWb:()=>tv,osQ:()=>gm,H5H:()=>eE,Zy3:()=>xe,mq5:()=>aC,JZv:()=>In,LfX:()=>Wt,plB:()=>Pc,jNT:()=>AE,zjR:()=>Zb,TL$:()=>Jt,Tbb:()=>pr,rcV:()=>Dc,Vt3:()=>jh,Mj6:()=>ri,GFd:()=>oA,OA$:()=>Qo,Jv_:()=>Ib,aNF:()=>Eb,R7$:()=>kv,BMQ:()=>LI,HbH:()=>KA,AVh:()=>GI,wni:()=>XC,VBU:()=>Io,FsC:()=>Pl,jDH:()=>Hr,G2t:()=>Gi,$C:()=>Ja,EJ8:()=>Es,rXU:()=>mh,nrm:()=>YI,eu8:()=>ZI,bVm:()=>Uy,qex:()=>Ly,k0s:()=>Vy,j41:()=>Fy,RV6:()=>oC,xGo:()=>yc,KVO:()=>K,kS0:()=>nf,QTQ:()=>O0,bIt:()=>rE,lsd:()=>ZC,XpG:()=>LC,SdG:()=>BC,NAR:()=>UC,Y8G:()=>jI,FS9:()=>oE,eq3:()=>Cb,mGM:()=>YC,sdS:()=>JC,Njj:()=>jc,eBV:()=>so,npT:()=>hv,B4B:()=>Rd,n$t:()=>Sf,xc7:()=>zI,zvX:()=>JI,DNE:()=>Rg,EFF:()=>ub,JRh:()=>aE,SpI:()=>zy,Lme:()=>lE,DH7:()=>vb,mxI:()=>cE,R50:()=>uE,GBs:()=>QC}),L(467);let k=null,ae=1;const Qe=Symbol("SIGNAL");function me(e){const n=k;return k=e,n}function nt(e){if((!Ye(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ae)){if(!e.producerMustRecompute(e)&&!It(e))return e.dirty=!1,void(e.lastCleanEpoch=ae);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ae}}function It(e){ut(e);for(let n=0;n<e.producerNode.length;n++){const i=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==i.version||(nt(i),o!==i.version))return!0}return!1}function tt(e,n){if(function Ht(e){var n,i;null!==(n=e.liveConsumerNode)&&void 0!==n||(e.liveConsumerNode=[]),null!==(i=e.liveConsumerIndexOfThis)&&void 0!==i||(e.liveConsumerIndexOfThis=[])}(e),ut(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)tt(e.producerNode[o],e.producerIndexOfThis[o]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],l=e.liveConsumerNode[n];ut(l),l.producerIndexOfThis[o]=n}}function Ye(e){var n,i;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(i=e.liveConsumerNode)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0}function ut(e){var n,i,o;null!==(n=e.producerNode)&&void 0!==n||(e.producerNode=[]),null!==(i=e.producerIndexOfThis)&&void 0!==i||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}let Rn=null;var mn=L(1413),Nn=L(8359),$n=L(4412),en=L(6354);const tr="https://g.co/ng/security#xss";class ze extends Error{constructor(n,i){super(xe(n,i)),this.code=n}}function xe(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function Fn(e){return{toString:e}.toString()}const dr="__parameters__";function rr(e,n,i){return Fn(()=>{const o=function oi(e){return function(...i){if(e){const o=e(...i);for(const l in o)this[l]=o[l]}}}(n);function l(...h){if(this instanceof l)return o.apply(this,h),this;const m=new l(...h);return C.annotation=m,C;function C(D,z,J){const pe=D.hasOwnProperty(dr)?D[dr]:Object.defineProperty(D,dr,{value:[]})[dr];for(;pe.length<=J;)pe.push(null);return(pe[J]=pe[J]||[]).push(m),D}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const In=globalThis;function Bn(e){for(let n in e)if(e[n]===Bn)return n;throw Error("Could not find renamed property on target object.")}function Ln(e,n){for(const i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=n[i])}function pr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(pr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function zn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const _r=Bn({__forward_ref__:Bn});function _n(e){return e.__forward_ref__=_n,e.toString=function(){return pr(this())},e}function ft(e){return ht(e)?e():e}function ht(e){return"function"==typeof e&&e.hasOwnProperty(_r)&&e.__forward_ref__===_n}function Hr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Gi(e){return{providers:e.providers||[],imports:e.imports||[]}}function no(e){return ie(e,le)||ie(e,Ue)}function Wt(e){return null!==no(e)}function ie(e,n){return e.hasOwnProperty(n)?e[n]:null}function Ge(e){return e&&(e.hasOwnProperty(re)||e.hasOwnProperty(Lt))?e[re]:null}const le=Bn({\u0275prov:Bn}),re=Bn({\u0275inj:Bn}),Ue=Bn({ngInjectableDef:Bn}),Lt=Bn({ngInjectorDef:Bn});class Ut{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Hr({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ai(e){return e&&!!e.\u0275providers}const Li=Bn({\u0275cmp:Bn}),Oo=Bn({\u0275dir:Bn}),jo=Bn({\u0275pipe:Bn}),Ho=Bn({\u0275mod:Bn}),zo=Bn({\u0275fac:Bn}),wo=Bn({__NG_ELEMENT_ID__:Bn}),ro=Bn({__NG_ENV_ID__:Bn});function Dr(e){return"string"==typeof e?e:null==e?"":String(e)}function is(e,n){throw new ze(-201,!1)}var Jn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Jn||{});let li;function Go(){return li}function Ir(e){const n=li;return li=e,n}function Ws(e,n,i){const o=no(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&Jn.Optional?null:void 0!==n?n:void is()}const Ri={},ci="__NG_DI_FLAG__",Bi="ngTempTokenPath",Q=/\n/gm,V="__source";let Ce;function br(e){const n=Ce;return Ce=e,n}function Br(e,n=Jn.Default){if(void 0===Ce)throw new ze(-203,!1);return null===Ce?Ws(e,void 0,n):Ce.get(e,n&Jn.Optional?null:void 0,n)}function K(e,n=Jn.Default){return(Go()||Br)(ft(e),n)}function ke(e,n=Jn.Default){return K(e,Je(n))}function Je(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xt(e){const n=[];for(let i=0;i<e.length;i++){const o=ft(e[i]);if(Array.isArray(o)){if(0===o.length)throw new ze(900,!1);let l,h=Jn.Default;for(let m=0;m<o.length;m++){const C=o[m],D=Zt(C);"number"==typeof D?-1===D?l=C.token:h|=D:l=C}n.push(K(l,h))}else n.push(K(o))}return n}function Et(e,n){return e[ci]=n,e.prototype[ci]=n,e}function Zt(e){return e[ci]}const On=Et(rr("Optional"),8),Zn=Et(rr("SkipSelf"),4);function Wr(e,n){return e.hasOwnProperty(zo)?e[zo]:null}function Zr(e,n){e.forEach(i=>Array.isArray(i)?Zr(i,n):n(i))}function Ai(e,n,i){n>=e.length?e.push(i):e.splice(n,0,i)}function io(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function So(e,n,i){let o=Ro(e,n);return o>=0?e[1|o]=i:(o=~o,function Ml(e,n,i,o){let l=e.length;if(l==n)e.push(i,o);else if(1===l)e.push(o,e[0]),e[0]=i;else{for(l--,e.push(e[l-1],e[l]);l>n;)e[l]=e[l-2],l--;e[n]=i,e[n+1]=o}}(e,o,n,i)),o}function Xs(e,n){const i=Ro(e,n);if(i>=0)return e[1|i]}function Ro(e,n){return function yo(e,n,i){let o=0,l=e.length>>i;for(;l!==o;){const h=o+(l-o>>1),m=e[h<<i];if(n===m)return h<<i;m>n?l=h:o=h+1}return~(l<<i)}(e,n,1)}const Jr={},$r=[],Fa=new Ut(""),Ca=new Ut("",-1),la=new Ut("");class Is{get(n,i=Ri){if(i===Ri){const o=new Error(`NullInjectorError: No provider for ${pr(n)}!`);throw o.name="NullInjectorError",o}return i}}var ua=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ua||{}),xr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(xr||{}),ri=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ri||{});function hs(e,n,i){let o=e.length;for(;;){const l=e.indexOf(n,i);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const h=n.length;if(l+h===o||e.charCodeAt(l+h)<=32)return l}i=l+1}}function qi(e,n,i){let o=0;for(;o<i.length;){const l=i[o];if("number"==typeof l){if(0!==l)break;o++;const h=i[o++],m=i[o++],C=i[o++];e.setAttribute(n,m,C,h)}else{const h=l,m=i[++o];hl(h)?e.setProperty(n,h,m):e.setAttribute(n,h,m),o++}}return o}function ko(e){return 3===e||4===e||6===e}function hl(e){return 64===e.charCodeAt(0)}function Ss(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?i=l:0===i||Rs(e,i,l,null,-1===i||2===i?n[++o]:null)}}return e}function Rs(e,n,i,o,l){let h=0,m=e.length;if(-1===n)m=-1;else for(;h<e.length;){const C=e[h++];if("number"==typeof C){if(C===n){m=-1;break}if(C>n){m=h-1;break}}}for(;h<e.length;){const C=e[h];if("number"==typeof C)break;if(C===i){if(null===o)return void(null!==l&&(e[h+1]=l));if(o===e[h+1])return void(e[h+2]=l)}h++,null!==o&&h++,null!==l&&h++}-1!==m&&(e.splice(m,0,n),h=m+1),e.splice(h++,0,i),null!==o&&e.splice(h++,0,o),null!==l&&e.splice(h++,0,l)}const ca="ng-template";function Za(e,n,i,o){let l=0;if(o){for(;l<n.length&&"string"==typeof n[l];l+=2)if("class"===n[l]&&-1!==hs(n[l+1].toLowerCase(),i,0))return!0}else if(fl(e))return!1;if(l=n.indexOf(1,l),l>-1){let h;for(;++l<n.length&&"string"==typeof(h=n[l]);)if(h.toLowerCase()===i)return!0}return!1}function fl(e){return 4===e.type&&e.value!==ca}function q(e,n,i){return n===(4!==e.type||i?e.value:ca)}function $(e,n,i){let o=4;const l=e.attrs,h=null!==l?function Un(e){for(let n=0;n<e.length;n++)if(ko(e[n]))return n;return e.length}(l):0;let m=!1;for(let C=0;C<n.length;C++){const D=n[C];if("number"!=typeof D){if(!m)if(4&o){if(o=2|1&o,""!==D&&!q(e,D,i)||""===D&&1===n.length){if(Te(o))return!1;m=!0}}else if(8&o){if(null===l||!Za(e,l,D,i)){if(Te(o))return!1;m=!0}}else{const z=n[++C],J=W(D,l,fl(e),i);if(-1===J){if(Te(o))return!1;m=!0;continue}if(""!==z){let pe;if(pe=J>h?"":l[J+1].toLowerCase(),2&o&&z!==pe){if(Te(o))return!1;m=!0}}}}else{if(!m&&!Te(o)&&!Te(D))return!1;if(m&&Te(D))continue;m=!1,o=D|1&o}}return Te(o)||m}function Te(e){return!(1&e)}function W(e,n,i,o){if(null===n)return-1;let l=0;if(o||!i){let h=!1;for(;l<n.length;){const m=n[l];if(m===e)return l;if(3===m||6===m)h=!0;else{if(1===m||2===m){let C=n[++l];for(;"string"==typeof C;)C=n[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=h?1:2}return-1}return function Cr(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const o=e[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,e)}function _e(e,n,i=!1){for(let o=0;o<n.length;o++)if($(e,n[o],i))return!0;return!1}function co(e,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function Fo(e,n){return e?":not("+n.trim()+")":n}function Wo(e){let n=e[0],i=1,o=2,l="",h=!1;for(;i<e.length;){let m=e[i];if("string"==typeof m)if(2&o){const C=e[++i];l+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&o?l+="."+m:4&o&&(l+=" "+m);else""!==l&&!Te(m)&&(n+=Fo(h,l),l=""),o=m,h=h||!Te(o);i++}return""!==l&&(n+=Fo(h,l)),n}function Io(e){return Fn(()=>{var n;const i=Ms(e),o={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ua.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||xr.Emulated,styles:e.styles||$r,_:null,schemas:e.schemas||null,tView:null,id:""};Ao(o);const l=e.dependencies;return o.directiveDefs=ha(l,!1),o.pipeDefs=ha(l,!0),o.id=function La(e){let n=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const l of i)n=Math.imul(31,n)+l.charCodeAt(0)|0;return n+=2147483648,"c"+n}(o),o})}function Mu(e){return Fr(e)||fi(e)}function fs(e){return null!==e}function Ja(e){return Fn(()=>({type:e.type,bootstrap:e.bootstrap||$r,declarations:e.declarations||$r,imports:e.imports||$r,exports:e.exports||$r,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Qs(e,n){if(null==e)return Jr;const i={};for(const l in e)if(e.hasOwnProperty(l)){const h=e[l];let m,C,D=ri.None;var o;Array.isArray(h)?(D=h[0],m=h[1],C=null!==(o=h[2])&&void 0!==o?o:m):(m=h,C=h),n?(i[m]=D!==ri.None?[l,D]:l,n[m]=C):i[m]=l}return i}function Pl(e){return Fn(()=>{const n=Ms(e);return Ao(n),n})}function Es(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Fr(e){return e[Li]||null}function fi(e){return e[Oo]||null}function oo(e){return e[jo]||null}function Eo(e){const n=Fr(e)||fi(e)||oo(e);return null!==n&&n.standalone}function ho(e,n){const i=e[Ho]||null;if(!i&&!0===n)throw new Error(`Type ${pr(e)} does not have '\u0275mod' property.`);return i}function Ms(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Jr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||$r,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qs(e.inputs,n),outputs:Qs(e.outputs),debugInfo:null}}function Ao(e){var n;null===(n=e.features)||void 0===n||n.forEach(i=>i(e))}function ha(e,n){if(!e)return null;const i=n?oo:Mu;return()=>("function"==typeof e?e():e).map(o=>i(o)).filter(fs)}function pl(e){return{\u0275providers:e}}function gl(...e){return{\u0275providers:ml(0,e),\u0275fromNgModule:!0}}function ml(e,...n){const i=[],o=new Set;let l;const h=m=>{i.push(m)};return Zr(n,m=>{const C=m;zi(C,h,[],o)&&(l||(l=[]),l.push(C))}),void 0!==l&&di(l,h),i}function di(e,n){for(let i=0;i<e.length;i++){const{ngModule:o,providers:l}=e[i];_l(l,h=>{n(h,o)})}}function zi(e,n,i,o){if(!(e=ft(e)))return!1;let l=null,h=Ge(e);const m=!h&&Fr(e);if(h||m){if(m&&!m.standalone)return!1;l=e}else{const D=e.ngModule;if(h=Ge(D),!h)return!1;l=D}const C=o.has(l);if(m){if(C)return!1;if(o.add(l),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const z of D)zi(z,n,i,o)}}else{if(!h)return!1;{if(null!=h.imports&&!C){let z;o.add(l);try{Zr(h.imports,J=>{zi(J,n,i,o)&&(z||(z=[]),z.push(J))})}finally{}void 0!==z&&di(z,n)}if(!C){const z=Wr(l)||(()=>new l);n({provide:l,useFactory:z,deps:$r},l),n({provide:la,useValue:l,multi:!0},l),n({provide:Fa,useValue:()=>K(l),multi:!0},l)}const D=h.providers;if(null!=D&&!C){const z=e;_l(D,J=>{n(J,z)})}}}return l!==e&&void 0!==e.providers}function _l(e,n){for(let i of e)ai(i)&&(i=i.\u0275providers),Array.isArray(i)?_l(i,n):n(i)}const el=Bn({provide:String,useValue:Bn});function tu(e){return null!==e&&"object"==typeof e&&el in e}function Ps(e){return"function"==typeof e}const vl=new Ut(""),Gr={},ru={};let Nl;function Ta(){return void 0===Nl&&(Nl=new Is),Nl}class ps{}class wa extends ps{get destroyed(){return this._destroyed}constructor(n,i,o,l){super(),this.parent=i,this.source=o,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ol(n,m=>this.processProvider(m)),this.records.set(Ca,as(void 0,this)),l.has("environment")&&this.records.set(ps,as(void 0,this));const h=this.records.get(vl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(la,$r,Jn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=me(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=br(this),o=Ir(void 0);try{return n()}finally{br(i),Ir(o)}}get(n,i=Ri,o=Jn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ro))return n[ro](this);o=Je(o);const h=br(this),m=Ir(void 0);try{if(!(o&Jn.SkipSelf)){let D=this.records.get(n);if(void 0===D){const z=function Da(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ut}(n)&&no(n);D=z&&this.injectableDefInScope(z)?as(yl(n),Gr):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(o&Jn.Self?Ta():this.parent).get(n,i=o&Jn.Optional&&i===Ri?null:i)}catch(C){if("NullInjectorError"===C.name){if((C[Bi]=C[Bi]||[]).unshift(pr(n)),h)throw C;return function un(e,n,i,o){const l=e[Bi];throw n[V]&&l.unshift(n[V]),e.message=function an(e,n,i,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=pr(n);if(Array.isArray(n))l=n.map(pr).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let C=n[m];h.push(m+":"+("string"==typeof C?JSON.stringify(C):pr(C)))}l=`{${h.join(", ")}}`}return`${i}${o?"("+o+")":""}[${l}]: ${e.replace(Q,"\n  ")}`}("\n"+e.message,l,i,o),e.ngTokenPath=l,e[Bi]=null,e}(C,n,"R3InjectorError",this.source)}throw C}finally{Ir(m),br(h)}}resolveInjectorInitializers(){const n=me(null),i=br(this),o=Ir(void 0);try{const h=this.get(Fa,$r,Jn.Self);for(const m of h)m()}finally{br(i),Ir(o),me(n)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(pr(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(n){let i=Ps(n=ft(n))?n:ft(n&&n.provide);const o=function iu(e){return tu(e)?as(void 0,e.useValue):as(tl(e),Gr)}(n);if(!Ps(n)&&!0===n.multi){let l=this.records.get(i);l||(l=as(void 0,Gr,!0),l.factory=()=>xt(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,o)}hydrate(n,i){const o=me(null);try{return i.value===Gr&&(i.value=ru,i.value=i.factory()),"object"==typeof i.value&&i.value&&function fo(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{me(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ft(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function yl(e){const n=no(e),i=null!==n?n.factory:Wr(e);if(null!==i)return i;if(e instanceof Ut)throw new ze(204,!1);if(e instanceof Function)return function Ua(e){if(e.length>0)throw new ze(204,!1);const i=function ee(e){return e&&(e[le]||e[Ue])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new ze(204,!1)}function tl(e,n,i){let o;if(Ps(e)){const l=ft(e);return Wr(l)||yl(l)}if(tu(e))o=()=>ft(e.useValue);else if(function xl(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...xt(e.deps||[]));else if(function Ys(e){return!(!e||!e.useExisting)}(e))o=()=>K(ft(e.useExisting));else{const l=ft(e&&(e.useClass||e.provide));if(!function Uo(e){return!!e.deps}(e))return Wr(l)||yl(l);o=()=>new l(...xt(e.deps))}return o}function as(e,n,i=!1){return{factory:e,value:n,multi:i?[]:void 0}}function Ol(e,n){for(const i of e)Array.isArray(i)?Ol(i,n):i&&ai(i)?Ol(i.\u0275providers,n):n(i)}function gs(e,n){e instanceof wa&&e.assertNotDestroyed();const o=br(e),l=Ir(void 0);try{return n()}finally{br(o),Ir(l)}}function ou(){return void 0!==Go()||null!=function At(){return Ce}()}const Mi=0,Sn=1,Xn=2,wi=3,Xi=4,Xr=5,go=6,Zs=7,jr=8,Rr=9,Js=10,Or=11,ea=12,kl=13,su=14,_i=15,qo=16,nl=17,Ns=18,Ba=19,Pu=20,Qi=21,$a=22,ta=23,kr=25,rc=1,Os=7,Il=9,_o=10;var ic=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ic||{});function Vo(e){return Array.isArray(e)&&"object"==typeof e[rc]}function Mo(e){return Array.isArray(e)&&!0===e[rc]}function na(e){return!!(4&e.flags)}function Xo(e){return e.componentOffset>-1}function Yi(e){return!(1&~e.flags)}function ls(e){return!!e.template}function Fl(e){return!!(512&e[Xn])}class $i{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function Qr(e,n,i,o){null!==n?n.applyValueToInputSignal(n,o):e[i]=o}function Qo(){return Sa}function Sa(e){return e.type.prototype.ngOnChanges&&(e.setInput=Vl),Fs}function Fs(){const e=ms(this),n=null==e?void 0:e.current;if(n){const i=e.previous;if(i===Jr)e.previous=n;else for(let o in n)i[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Vl(e,n,i,o,l){const h=this.declaredInputs[o],m=ms(e)||function xu(e,n){return e[Al]=n}(e,{previous:Jr,current:null}),C=m.current||(m.current={}),D=m.previous,z=D[h];C[h]=new $i(z&&z.currentValue,i,D===Jr),Qr(e,n,l,i)}Qo.ngInherit=!0;const Al="__ngSimpleChanges__";function ms(e){return e[Al]||null}const us=function(e,n,i){};let Ul=!1;function ji(e){for(;Array.isArray(e);)e=e[Mi];return e}function Ra(e,n){return ji(n[e])}function cs(e,n){return ji(n[e.index])}function Cl(e,n){return e.data[n]}function As(e,n){const i=n[e];return Vo(i)?i:i[Mi]}function Bc(e){return!(128&~e[Xn])}function ia(e,n){return null==n?null:e[n]}function du(e){e[nl]=0}function rl(e){1024&e[Xn]||(e[Xn]|=1024,Bc(e)&&uc(e))}function ac(e){var n;return!!(9216&e[Xn]||null!==(n=e[ta])&&void 0!==n&&n.dirty)}function lc(e){var n;if(null===(n=e[Js].changeDetectionScheduler)||void 0===n||n.notify(1),ac(e))uc(e);else if(64&e[Xn])if(function cu(){return Ul}())e[Xn]|=1024,uc(e);else{var i;null===(i=e[Js].changeDetectionScheduler)||void 0===i||i.notify()}}function uc(e){var n;null===(n=e[Js].changeDetectionScheduler)||void 0===n||n.notify();let i=bl(e);for(;null!==i&&!(8192&i[Xn])&&(i[Xn]|=8192,Bc(i));)i=bl(i)}function Bl(e,n){if(!(256&~e[Xn]))throw new ze(911,!1);null===e[Qi]&&(e[Qi]=[]),e[Qi].push(n)}function bl(e){const n=e[wi];return Mo(n)?n[wi]:n}const Lr={lFrame:vd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dc(){return Lr.bindingsEnabled}function ol(){return null!==Lr.skipHydrationRootTNode}function cn(){return Lr.lFrame.lView}function vi(){return Lr.lFrame.tView}function so(e){return Lr.lFrame.contextLView=e,e[jr]}function jc(e){return Lr.lFrame.contextLView=null,e}function Pi(){let e=hu();for(;null!==e&&64===e.type;)e=e.parent;return e}function hu(){return Lr.lFrame.currentTNode}function ds(e,n){const i=Lr.lFrame;i.currentTNode=e,i.isParent=n}function sl(){return Lr.lFrame.isParent}function Hc(){Lr.lFrame.isParent=!1}function za(){return Lr.lFrame.bindingIndex++}function al(e){const n=Lr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,i}function gp(e,n){const i=Lr.lFrame;i.bindingIndex=i.bindingRootIndex=e,pc(n)}function pc(e){Lr.lFrame.currentDirectiveIndex=e}function md(e){const n=Lr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function pu(){return Lr.lFrame.currentQueryIndex}function Gc(e){Lr.lFrame.currentQueryIndex=e}function Kd(e){const n=e[Sn];return 2===n.type?n.declTNode:1===n.type?e[Xr]:null}function jl(e,n,i){if(i&Jn.SkipSelf){let l=n,h=e;for(;!(l=l.parent,null!==l||i&Jn.Host||(l=Kd(h),null===l||(h=h[su],10&l.type))););if(null===l)return!1;n=l,e=h}const o=Lr.lFrame=_d();return o.currentTNode=n,o.lView=e,!0}function gu(e){const n=_d(),i=e[Sn];Lr.lFrame=n,n.currentTNode=i.firstChild,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function _d(){const e=Lr.lFrame,n=null===e?null:e.child;return null===n?vd(e):n}function vd(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function qd(){const e=Lr.lFrame;return Lr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const yd=qd;function gc(){const e=qd();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ts(){return Lr.lFrame.selectedIndex}function Co(e){Lr.lFrame.selectedIndex=e}function lo(){const e=Lr.lFrame;return Cl(e.tView,e.selectedIndex)}let mc=!0;function Hl(){return mc}function pa(e){mc=e}function Lu(e,n){for(let z=n.directiveStart,J=n.directiveEnd;z<J;z++){const Xe=e.data[z].type.prototype,{ngAfterContentInit:vt,ngAfterContentChecked:$t,ngAfterViewInit:sn,ngAfterViewChecked:Mn,ngOnDestroy:kn}=Xe;var i,o,l,h,m,C,D;vt&&(null!==(i=e.contentHooks)&&void 0!==i?i:e.contentHooks=[]).push(-z,vt),$t&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(z,$t),(null!==(l=e.contentCheckHooks)&&void 0!==l?l:e.contentCheckHooks=[]).push(z,$t)),sn&&(null!==(h=e.viewHooks)&&void 0!==h?h:e.viewHooks=[]).push(-z,sn),Mn&&((null!==(m=e.viewHooks)&&void 0!==m?m:e.viewHooks=[]).push(z,Mn),(null!==(C=e.viewCheckHooks)&&void 0!==C?C:e.viewCheckHooks=[]).push(z,Mn)),null!=kn&&(null!==(D=e.destroyHooks)&&void 0!==D?D:e.destroyHooks=[]).push(z,kn)}}function wl(e,n,i){_c(e,n,3,i)}function zl(e,n,i,o){(3&e[Xn])===i&&_c(e,n,i,o)}function mu(e,n){let i=e[Xn];(3&i)===n&&(i&=16383,i+=1,e[Xn]=i)}function _c(e,n,i,o){const h=null!=o?o:-1,m=n.length-1;let C=0;for(let D=void 0!==o?65535&e[nl]:0;D<m;D++)if("number"==typeof n[D+1]){if(C=n[D],null!=o&&C>=o)break}else n[D]<0&&(e[nl]+=65536),(C<h||-1==h)&&(Jh(e,i,n,D),e[nl]=(4294901760&e[nl])+D+2),D++}function Uu(e,n){us(4,e,n);const i=me(null);try{n.call(e)}finally{me(i),us(5,e,n)}}function Jh(e,n,i,o){const l=i[o]<0,h=i[o+1],C=e[l?-i[o]:i[o]];l?e[Xn]>>14<e[nl]>>16&&(3&e[Xn])===n&&(e[Xn]+=16384,Uu(C,h)):Uu(C,h)}const Bu=-1;class _u{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function Ad(e){return e!==Bu}function Pa(e){return 32767&e}function Ga(e,n){let i=function ga(e){return e>>16}(e),o=n;for(;i>0;)o=o[su],i--;return o}let $u=!0;function Kc(e){const n=$u;return $u=e,n}const p=255,v=5;let M=0;const Y={};function wt(e,n){const i=Cn(e,n);if(-1!==i)return i;const o=n[Sn];o.firstCreatePass&&(e.injectorIndex=n.length,Yt(o.data,e),Yt(n,null),Yt(o.blueprint,null));const l=er(e,n),h=e.injectorIndex;if(Ad(l)){const m=Pa(l),C=Ga(l,n),D=C[Sn].data;for(let z=0;z<8;z++)n[h+z]=C[m+z]|D[m+z]}return n[h+8]=l,h}function Yt(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Cn(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function er(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,o=null,l=n;for(;null!==l;){if(o=Jg(l),null===o)return Bu;if(i++,l=l[su],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return Bu}function mr(e,n,i){!function we(e,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(wo)&&(o=i[wo]),null==o&&(o=i[wo]=M++);const l=o&p;n.data[e+(l>>v)]|=1<<l}(e,n,i)}function Cs(e,n,i){if(i&Jn.Optional||void 0!==e)return e;is()}function ll(e,n,i,o){if(i&Jn.Optional&&void 0===o&&(o=null),!(i&(Jn.Self|Jn.Host))){const l=e[Rr],h=Ir(void 0);try{return l?l.get(n,o,i&Jn.Optional):Ws(n,o,i&Jn.Optional)}finally{Ir(h)}}return Cs(o,0,i)}function ju(e,n,i,o=Jn.Default,l){if(null!==e){if(2048&n[Xn]&&!(o&Jn.Self)){const m=function Zg(e,n,i,o,l){let h=e,m=n;for(;null!==h&&null!==m&&2048&m[Xn]&&!(512&m[Xn]);){const C=Cd(h,m,i,o|Jn.Self,Y);if(C!==Y)return C;let D=h.parent;if(!D){const z=m[Pu];if(z){const J=z.get(i,Y,o);if(J!==Y)return J}D=Jg(m),m=m[su]}h=D}return l}(e,n,i,o,Y);if(m!==Y)return m}const h=Cd(e,n,i,o,Y);if(h!==Y)return h}return ll(n,i,o,l)}function Cd(e,n,i,o,l){const h=function Hu(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(wo)?e[wo]:void 0;return"number"==typeof n?n>=0?n&p:zu:n}(i);if("function"==typeof h){if(!jl(n,e,o))return o&Jn.Host?Cs(l,0,o):ll(n,i,o,l);try{let m;if(m=h(o),null!=m||o&Jn.Optional)return m;is()}finally{yd()}}else if("number"==typeof h){let m=null,C=Cn(e,n),D=Bu,z=o&Jn.Host?n[_i][Xr]:null;for((-1===C||o&Jn.SkipSelf)&&(D=-1===C?er(e,n):n[C+8],D!==Bu&&vc(o,!1)?(m=n[Sn],C=Pa(D),n=Ga(D,n)):C=-1);-1!==C;){const J=n[Sn];if(Jd(h,C,J.data)){const pe=Zd(C,n,i,m,o,z);if(pe!==Y)return pe}D=n[C+8],D!==Bu&&vc(o,n[Sn].data[C+8]===z)&&Jd(h,C,n)?(m=J,C=Pa(D),n=Ga(D,n)):C=-1}}return l}function Zd(e,n,i,o,l,h){const m=n[Sn],C=m.data[e+8],J=yu(C,m,i,null==o?Xo(C)&&$u:o!=m&&!!(3&C.type),l&Jn.Host&&h===C);return null!==J?ma(n,m,J,C):Y}function yu(e,n,i,o,l){const h=e.providerIndexes,m=n.data,C=1048575&h,D=e.directiveStart,J=h>>20,Xe=l?C+J:e.directiveEnd;for(let vt=o?C:C+J;vt<Xe;vt++){const $t=m[vt];if(vt<D&&i===$t||vt>=D&&$t.type===i)return vt}if(l){const vt=m[D];if(vt&&ls(vt)&&vt.type===i)return D}return null}function ma(e,n,i,o){let l=e[i];const h=n.data;if(function Ed(e){return e instanceof _u}(l)){const m=l;m.resolving&&function zs(e,n){throw n&&n.join(" > "),new ze(-200,e)}(function zr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Dr(e)}(h[i]));const C=Kc(m.canSeeViewProviders);m.resolving=!0;const z=m.injectImpl?Ir(m.injectImpl):null;jl(e,o,Jn.Default);try{l=e[i]=m.factory(void 0,h,e,o),n.firstCreatePass&&i>=o.directiveStart&&function Vu(e,n,i){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:h}=n.type.prototype;if(o){var m,C;const pe=Sa(n);(null!==(m=i.preOrderHooks)&&void 0!==m?m:i.preOrderHooks=[]).push(e,pe),(null!==(C=i.preOrderCheckHooks)&&void 0!==C?C:i.preOrderCheckHooks=[]).push(e,pe)}var D,z,J;l&&(null!==(D=i.preOrderHooks)&&void 0!==D?D:i.preOrderHooks=[]).push(0-e,l),h&&((null!==(z=i.preOrderHooks)&&void 0!==z?z:i.preOrderHooks=[]).push(e,h),(null!==(J=i.preOrderCheckHooks)&&void 0!==J?J:i.preOrderCheckHooks=[]).push(e,h))}(i,h[i],n)}finally{null!==z&&Ir(z),Kc(C),m.resolving=!1,yd()}}return l}function Jd(e,n,i){return!!(i[n+(e>>v)]&1<<e)}function vc(e,n){return!(e&Jn.Self||e&Jn.Host&&n)}class Yo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return ju(this._tNode,this._lView,n,Je(o),i)}}function zu(){return new Yo(Pi(),cn())}function yc(e){return Fn(()=>{const n=e.prototype.constructor,i=n[zo]||eh(n),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const h=l[zo]||eh(l);if(h&&h!==i)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function eh(e){return ht(e)?()=>{const n=eh(ft(e));return n&&n()}:Wr(e)}function Jg(e){const n=e[Sn],i=n.type;return 2===i?n.declTNode:1===i?e[Xr]:null}function nf(e){return function yi(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const i=e.attrs;if(i){const o=i.length;let l=0;for(;l<o;){const h=i[l];if(ko(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<o&&"string"==typeof i[l];)l++;else{if(h===n)return i[l+1];l+=2}}}return null}(Pi(),e)}function Cp(e,n=null,i=null,o){const l=tm(e,n,i,o);return l.resolveInjectorInitializers(),l}function tm(e,n=null,i=null,o,l=new Set){const h=[i||$r,gl(e)];return o=o||("object"==typeof e?void 0:pr(e)),new wa(h,n||Ta(),o||null,l)}let xa=(()=>{var e;class n{static create(o,l){if(Array.isArray(o))return Cp({name:""},l,o,"");{var h;const m=null!==(h=o.name)&&void 0!==h?h:"";return Cp({name:m},o.parent,o.providers,m)}}}return(e=n).THROW_IF_NOT_FOUND=Ri,e.NULL=new Is,e.\u0275prov=Hr({token:e,providedIn:"any",factory:()=>K(Ca)}),e.__NG_ELEMENT_ID__=-1,n})();function th(e){return e.ngOriginalError}class Gu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&th(n);for(;i&&th(i);)i=th(i);return i||null}}const lf=new Ut("",{providedIn:"root",factory:()=>ke(Gu).handleError.bind(void 0)});let Wu=(()=>{var e;class n{}return(e=n).__NG_ELEMENT_ID__=nm,e.__NG_ENV_ID__=i=>i,n})();class bp extends Wu{constructor(n){super(),this._lView=n}onDestroy(n){return Bl(this._lView,n),()=>function cc(e,n){if(null===e[Qi])return;const i=e[Qi].indexOf(n);-1!==i&&e[Qi].splice(i,1)}(this._lView,n)}}function nm(){return new bp(cn())}function z_(){return Ec(Pi(),cn())}function Ec(e,n){return new nh(cs(e,n))}let nh=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=z_,n})();function uf(e){return e instanceof nh?e.nativeElement:e}function rh(e){return n=>{setTimeout(e,void 0,n)}}const Eu=class G_ extends mn.B{constructor(n=!1){var i;super(),this.destroyRef=void 0,this.__isAsync=n,ou()&&(this.destroyRef=null!==(i=ke(Wu,{optional:!0}))&&void 0!==i?i:void 0)}emit(n){const i=me(null);try{super.next(n)}finally{me(i)}}subscribe(n,i,o){let l=n,h=i||(()=>null),m=o;if(n&&"object"==typeof n){var C,D,z;const pe=n;l=null===(C=pe.next)||void 0===C?void 0:C.bind(pe),h=null===(D=pe.error)||void 0===D?void 0:D.bind(pe),m=null===(z=pe.complete)||void 0===z?void 0:z.bind(pe)}this.__isAsync&&(h=rh(h),l&&(l=rh(l)),m&&(m=rh(m)));const J=super.subscribe({next:l,error:h,complete:m});return n instanceof Nn.yU&&n.add(J),J}};function Tp(){return this._results[Symbol.iterator]()}class cf{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new Eu}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=cf.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Tp)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const o=function Sr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Ki(e,n,i){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],h=n[o];if(i&&(l=i(l),h=i(h)),h!==l)return!1}return!0}(this._results,o,i))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Gl(e){return!(128&~e.flags)}const Ac=new Map;let wd=0;const Sp="__ngContext__";function Ts(e,n){Vo(n)?(e[Sp]=n[Ba],function Dd(e){Ac.set(e[Ba],e)}(n)):e[Sp]=n}function dm(e){return pf(e[ea])}function Pp(e){return pf(e[Xi])}function pf(e){for(;null!==e&&!Mo(e);)e=e[Xi];return e}let Dt;function Jt(e){Dt=e}function gn(){if(void 0!==Dt)return Dt;if(typeof document<"u")return document;throw new ze(210,!1)}const Kn=new Ut("",{providedIn:"root",factory:()=>ir}),ir="ng",Hn=new Ut(""),ur=new Ut("",{providedIn:"platform",factory:()=>"unknown"}),Di=new Ut(""),to=new Ut("",{providedIn:"root",factory:()=>{var e;return(null===(e=gn().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let bo=()=>null;function ns(e,n,i=!1){return bo(e,n,i)}const $p=new Ut("",{providedIn:"root",factory:()=>!1});let lh,wc;function bu(e){var n;return(null===(n=function jp(){if(void 0===lh&&(lh=null,In.trustedTypes))try{lh=In.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return lh}())||void 0===n?void 0:n.createHTML(e))||e}function Tf(){if(void 0===wc&&(wc=null,In.trustedTypes))try{wc=In.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return wc}function Y_(e){var n;return(null===(n=Tf())||void 0===n?void 0:n.createHTML(e))||e}function J_(e){var n;return(null===(n=Tf())||void 0===n?void 0:n.createScriptURL(e))||e}class td{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tr})`}}class d0 extends td{getTypeName(){return"HTML"}}class ev extends td{getTypeName(){return"Style"}}class h0 extends td{getTypeName(){return"Script"}}class f0 extends td{getTypeName(){return"URL"}}class p0 extends td{getTypeName(){return"ResourceURL"}}function Dc(e){return e instanceof td?e.changingThisBreaksApplicationSecurity:e}function uh(e,n){const i=function g0(e){return e instanceof td&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${tr})`)}return i===n}function m0(e){return new d0(e)}function tv(e){return new ev(e)}function nv(e){return new h0(e)}function gm(e){return new f0(e)}function rv(e){return new p0(e)}class iv{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(bu(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Hp{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=bu(n),i}}const ov=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wf(e){return(e=String(e)).match(ov)?e:"unsafe:"+e}function Sl(e){const n={};for(const i of e.split(","))n[i]=!0;return n}function ch(...e){const n={};for(const i of e)for(const o in i)i.hasOwnProperty(o)&&(n[o]=!0);return n}const oa=Sl("area,br,col,hr,img,wbr"),Lo=Sl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tu=Sl("rp,rt"),zp=ch(oa,ch(Lo,Sl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ch(Tu,Sl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ch(Tu,Lo)),Df=Sl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),av=ch(Df,Sl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),v0=Sl("script,style,template");class To{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,o=!0,l=[];for(;i;)if(i.nodeType===Node.ELEMENT_NODE?o=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,o&&i.firstChild)l.push(i),i=Jo(i);else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let h=BE(i);if(h){i=h;break}i=l.pop()}return this.buf.join("")}startElement(n){const i=vm(n).toLowerCase();if(!zp.hasOwnProperty(i))return this.sanitizedSomething=!0,!v0.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const o=n.attributes;for(let l=0;l<o.length;l++){const h=o.item(l),m=h.name,C=m.toLowerCase();if(!av.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=h.value;Df[C]&&(D=wf(D)),this.buf.push(" ",m,'="',cv(D),'"')}return this.buf.push(">"),!0}endElement(n){const i=vm(n).toLowerCase();zp.hasOwnProperty(i)&&!oa.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(cv(n))}}function BE(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw lv(n);return n}function Jo(e){const n=e.firstChild;if(n&&function UE(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw lv(n);return n}function vm(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function lv(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const y0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uv=/([^\#-~ |!])/g;function cv(e){return e.replace(/&/g,"&amp;").replace(y0,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(uv,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gp;function dv(e,n){let i=null;try{Gp=Gp||function mm(e){const n=new Hp(e);return function xi(){try{return!!(new window.DOMParser).parseFromString(bu(""),"text/html")}catch{return!1}}()?new iv(n):n}(e);let o=n?String(n):"";i=Gp.getInertBodyElement(o);let l=5,h=o;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,o=h,h=i.innerHTML,i=Gp.getInertBodyElement(o)}while(o!==h);return bu((new To).sanitizeChildren(ym(i)||i))}finally{if(i){const o=ym(i)||i;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function ym(e){return"content"in e&&function $E(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Sd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Sd||{});function hv(e){const n=dh();return n?Y_(n.sanitize(Sd.HTML,e)||""):uh(e,"HTML")?Y_(Dc(e)):dv(gn(),Dr(e))}function Rd(e){const n=dh();return n?n.sanitize(Sd.URL,e)||"":uh(e,"URL")?Dc(e):wf(Dr(e))}function pv(e){const n=dh();if(n)return J_(n.sanitize(Sd.RESOURCE_URL,e)||"");if(uh(e,"ResourceURL"))return J_(Dc(e));throw new ze(904,!1)}function Sf(e,n,i){return function Md(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?pv:Rd}(n,i)(e)}function dh(){const e=cn();return e&&e[Js].sanitizer}const gv=/^>|^->|<!--|-->|--!>|<!-$/g,Wp=/(<|>)/g,I0="\u200b$1\u200b";function Ds(e){return e instanceof Function?e():e}var Jp=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Jp||{});let ph;function Cm(e,n){return ph(e,n)}function Rc(e,n,i,o,l){if(null!=o){let h,m=!1;Mo(o)?h=o:Vo(o)&&(m=!0,o=o[Mi]);const C=ji(o);0===e&&null!==i?null==l?Rv(n,i,C):cl(n,i,C,l||null,!0):1===e&&null!==i?cl(n,i,C,l||null,!0):2===e?function Qu(e,n,i){const o=ig(e,n);o&&function D0(e,n,i,o){e.removeChild(n,i,o)}(e,o,n,i)}(n,C,m):3===e&&n.destroyNode(C),null!=h&&function M0(e,n,i,o,l){const h=i[Os];h!==ji(i)&&Rc(n,e,o,h,l);for(let C=_o;C<i.length;C++){const D=i[C];lg(D[Sn],D,e,n,o,h)}}(n,e,h,i,l)}}function eg(e,n){return e.createComment(function nd(e){return e.replace(gv,n=>n.replace(Wp,I0))}(n))}function Nf(e,n,i){return e.createElement(n,i)}function Tm(e,n){var i;null===(i=n[Js].changeDetectionScheduler)||void 0===i||i.notify(1),lg(e,n,n[Or],2,null,null)}function w0(e,n){const i=e[Il],o=i.indexOf(n);i.splice(o,1)}function ng(e,n){if(e.length<=_o)return;const i=_o+n,o=e[i];if(o){const l=o[qo];null!==l&&l!==e&&w0(l,o),n>0&&(e[i-1][Xi]=o[Xi]);const h=io(e,_o+n);!function wv(e,n){Tm(e,n),n[Mi]=null,n[Xr]=null}(o[Sn],o);const m=h[Ns];null!==m&&m.detachView(h[Sn]),o[wi]=null,o[Xi]=null,o[Xn]&=-129}return o}function rg(e,n){if(!(256&n[Xn])){const i=n[Or];i.destroyNode&&lg(e,n,i,3,null,null),function wm(e){let n=e[ea];if(!n)return Sv(e[Sn],e);for(;n;){let i=null;if(Vo(n))i=n[ea];else{const o=n[_o];o&&(i=o)}if(!i){for(;n&&!n[Xi]&&n!==e;)Vo(n)&&Sv(n[Sn],n),n=n[wi];null===n&&(n=e),Vo(n)&&Sv(n[Sn],n),i=n&&n[Xi]}n=i}}(n)}}function Sv(e,n){if(256&n[Xn])return;const i=me(null);try{n[Xn]&=-129,n[Xn]|=256,n[ta]&&function Me(e){if(ut(e),Ye(e))for(let n=0;n<e.producerNode.length;n++)tt(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(n[ta]),function Nd(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let o=0;o<i.length;o+=2){const l=n[i[o]];if(!(l instanceof _u)){const h=i[o+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const C=l[h[m]],D=h[m+1];us(4,C,D);try{D.call(C)}finally{us(5,C,D)}}else{us(4,l,h);try{h.call(l)}finally{us(5,l,h)}}}}}(e,n),function KE(e,n){const i=e.cleanup,o=n[Zs];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const m=i[h+3];m>=0?o[m]():o[-m].unsubscribe(),h+=2}else i[h].call(o[i[h+1]]);null!==o&&(n[Zs]=null);const l=n[Qi];if(null!==l){n[Qi]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(e,n),1===n[Sn].type&&n[Or].destroy();const o=n[qo];if(null!==o&&Mo(n[wi])){o!==n[wi]&&w0(o,n);const l=n[Ns];null!==l&&l.detachView(e)}!function W_(e){Ac.delete(e[Ba])}(n)}finally{me(i)}}function wu(e,n,i){return function gh(e,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[Mi];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:h}=e.data[o.directiveStart+l];if(h===xr.None||h===xr.Emulated)return null}return cs(o,i)}}(e,n.parent,i)}function cl(e,n,i,o,l){e.insertBefore(n,i,o,l)}function Rv(e,n,i){e.appendChild(n,i)}function Dm(e,n,i,o,l){null!==o?cl(e,n,i,o,l):Rv(e,n,i)}function ig(e,n){return e.parentNode(n)}function Mv(e,n,i){return xv(e,n,i)}let og,xv=function Pv(e,n,i){return 40&e.type?cs(e,i):null};function sg(e,n,i,o){const l=wu(e,o,n),h=n[Or],C=Mv(o.parent||n[Xr],o,n);if(null!=l)if(Array.isArray(i))for(let D=0;D<i.length;D++)Dm(h,l,i[D],C,!1);else Dm(h,l,i,C,!1);void 0!==og&&og(h,o,n,i,l)}function Of(e,n){if(null!==n){const i=n.type;if(3&i)return cs(n,e);if(4&i)return Mm(-1,e[n.index]);if(8&i){const o=n.child;if(null!==o)return Of(e,o);{const l=e[n.index];return Mo(l)?Mm(-1,l):ji(l)}}if(32&i)return Cm(n,e)()||ji(e[n.index]);{const o=Rm(e,n);return null!==o?Array.isArray(o)?o[0]:Of(bl(e[_i]),o):Of(e,n.next)}}return null}function Rm(e,n){return null!==n?e[_i][Xr].projection[n.projection]:null}function Mm(e,n){const i=_o+e+1;if(i<n.length){const o=n[i],l=o[Sn].firstChild;if(null!==l)return Of(o,l)}return n[Os]}function Nv(e,n,i,o,l,h,m){for(;null!=i;){const C=o[i.index],D=i.type;if(m&&0===n&&(C&&Ts(ji(C),o),i.flags|=2),32&~i.flags)if(8&D)Nv(e,n,i.child,o,l,h,!1),Rc(n,e,l,C,h);else if(32&D){const z=Cm(i,o);let J;for(;J=z();)Rc(n,e,l,J,h);Rc(n,e,l,C,h)}else 16&D?Ov(e,n,o,i,l,h):Rc(n,e,l,C,h);i=m?i.projectionNext:i.next}}function lg(e,n,i,o,l,h){Nv(i,o,e.firstChild,n,l,h,!1)}function Ov(e,n,i,o,l,h){const m=i[_i],D=m[Xr].projection[o.projection];if(Array.isArray(D))for(let z=0;z<D.length;z++)Rc(n,e,l,D[z],h);else{let z=D;const J=m[wi];Gl(o)&&(z.flags|=128),Nv(e,n,z,J,l,h,!0)}}function x0(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}function N0(e,n,i){const{mergedAttrs:o,classes:l,styles:h}=i;null!==o&&qi(e,n,o),null!==l&&x0(e,n,l),null!==h&&function qE(e,n,i){e.setAttribute(n,"style",i)}(e,n,h)}const Ii={};function kv(e=1){Fv(vi(),cn(),ts()+e,!1)}function Fv(e,n,i,o){if(!o)if(3&~n[Xn]){const h=e.preOrderHooks;null!==h&&zl(n,h,0,i)}else{const h=e.preOrderCheckHooks;null!==h&&wl(n,h,i)}Co(i)}function mh(e,n=Jn.Default){const i=cn();return null===i?K(e,n):ju(Pi(),i,ft(e),n)}function O0(){throw new Error("invalid")}function Vv(e,n,i,o,l,h){const m=me(null);try{let C=null;l&ri.SignalBased&&(C=n[o][Qe]),null!==C&&void 0!==C.transformFn&&(h=C.transformFn(h)),l&ri.HasDecoratorInputTransform&&(h=e.inputTransforms[o].call(n,h)),null!==e.setInput?e.setInput(n,C,h,i,o):Qr(n,C,o,h)}finally{me(m)}}function Du(e,n,i,o,l,h,m,C,D,z,J){const pe=n.blueprint.slice();return pe[Mi]=l,pe[Xn]=204|o,(null!==z||e&&2048&e[Xn])&&(pe[Xn]|=2048),du(pe),pe[wi]=pe[su]=e,pe[jr]=i,pe[Js]=m||e&&e[Js],pe[Or]=C||e&&e[Or],pe[Rr]=D||e&&e[Rr]||null,pe[Xr]=h,pe[Ba]=function im(){return wd++}(),pe[go]=J,pe[Pu]=z,pe[_i]=2==n.type?e[_i]:pe,pe}function _h(e,n,i,o,l){let h=e.data[n];if(null===h)h=function Pm(e,n,i,o,l){const h=hu(),m=sl(),D=e.data[n]=function Hv(e,n,i,o,l,h){let m=n?n.injectorIndex:-1,C=0;return ol()&&(C|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,i,n,o,l);return null===e.firstChild&&(e.firstChild=D),null!==h&&(m?null==h.child&&null!==D.parent&&(h.child=D):null===h.next&&(h.next=D,D.prev=h)),D}(e,n,i,o,l),function Xh(){return Lr.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=o,h.attrs=l;const m=function $l(){const e=Lr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return ds(h,!0),h}function kf(e,n,i,o){if(0===i)return-1;const l=n.length;for(let h=0;h<i;h++)n.push(o),e.blueprint.push(o),e.data.push(null);return l}function Uv(e,n,i,o,l){const h=ts(),m=2&o;try{Co(-1),m&&n.length>kr&&Fv(e,n,kr,!1),us(m?2:0,l),i(o,l)}finally{Co(h),us(m?3:1,l)}}function xm(e,n,i){if(na(n)){const o=me(null);try{const h=n.directiveEnd;for(let m=n.directiveStart;m<h;m++){const C=e.data[m];C.contentQueries&&C.contentQueries(1,i[m],m)}}finally{me(o)}}}function Nm(e,n,i){dc()&&(function j0(e,n,i,o){const l=i.directiveStart,h=i.directiveEnd;Xo(i)&&function qa(e,n,i){const o=cs(n,e),l=k0(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const C=vh(e,Du(e,l,null,m,o,n,null,e[Js].rendererFactory.createRenderer(o,i),null,null,null));e[n.index]=C}(n,i,e.data[l+i.componentOffset]),e.firstCreatePass||wt(i,n),Ts(o,n);const m=i.initialInputs;for(let C=l;C<h;C++){const D=e.data[C],z=ma(n,e,C,i);Ts(z,n),null!==m&&Vf(0,C-l,z,D,0,m),ls(D)&&(As(i.index,n)[jr]=ma(n,e,C,i))}}(e,n,i,cs(i,n)),!(64&~i.flags)&&Gv(e,n,i))}function Om(e,n,i=cs){const o=n.localNames;if(null!==o){let l=n.index+1;for(let h=0;h<o.length;h+=2){const m=o[h+1],C=-1===m?i(n,e):e[m];e[l++]=C}}}function k0(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Bv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Bv(e,n,i,o,l,h,m,C,D,z,J){const pe=kr+o,Xe=pe+l,vt=function $v(e,n){const i=[];for(let o=0;o<n;o++)i.push(o<e?null:Ii);return i}(pe,Xe),$t="function"==typeof z?z():z;return vt[Sn]={type:e,blueprint:vt,template:i,queries:null,viewQuery:C,declTNode:n,data:vt.slice().fill(null,pe),bindingStartIndex:pe,expandoStartIndex:Xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:$t,incompleteFirstPass:!1,ssrId:J}}let V0=()=>null;function L0(e,n,i,o,l){for(let m in n){var h;if(!n.hasOwnProperty(m))continue;const C=n[m];if(void 0===C)continue;null!==(h=o)&&void 0!==h||(o={});let D,z=ri.None;Array.isArray(C)?(D=C[0],z=C[1]):D=C;let J=m;if(null!==l){if(!l.hasOwnProperty(m))continue;J=l[m]}0===e?U0(o,i,J,D,z):U0(o,i,J,D)}return o}function U0(e,n,i,o,l){let h;e.hasOwnProperty(i)?(h=e[i]).push(n,o):h=e[i]=[n,o],void 0!==l&&h.push(l)}function _a(e,n,i,o,l,h,m,C){const D=cs(n,i);let J,z=n.inputs;!C&&null!=z&&(J=z[o])?(Um(e,i,J,o,l),Xo(n)&&function B0(e,n){const i=As(n,e);16&i[Xn]||(i[Xn]|=64)}(i,n.index)):3&n.type&&(o=function km(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=m?m(l,n.value||"",o):l,h.setProperty(D,o,l))}function ug(e,n,i,o){if(dc()){const l=null===o?null:{"":-1},h=function cg(e,n){const i=e.directiveRegistry;let o=null,l=null;if(i)for(let m=0;m<i.length;m++){const C=i[m];if(_e(n,C.selectors,!1))if(o||(o=[]),ls(C))if(null!==C.findHostDirectiveDefs){const D=[];l=l||new Map,C.findHostDirectiveDefs(C,D,l),o.unshift(...D,C),Lm(e,n,D.length)}else o.unshift(C),Lm(e,n,0);else{var h;l=l||new Map,null===(h=C.findHostDirectiveDefs)||void 0===h||h.call(C,C,o,l),o.push(C)}}return null===o?null:[o,l]}(e,i);let m,C;null===h?m=C=null:[m,C]=h,null!==m&&Fm(e,n,i,m,l,C),l&&function Kv(e,n,i){if(n){const o=e.localNames=[];for(let l=0;l<n.length;l+=2){const h=i[n[l+1]];if(null==h)throw new ze(-301,!1);o.push(n[l],h)}}}(i,o,l)}i.mergedAttrs=Ss(i.mergedAttrs,i.attrs)}function Fm(e,n,i,o,l,h){for(let pe=0;pe<o.length;pe++)mr(wt(i,n),e,o[pe].type);!function kd(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n}(i,e.data.length,o.length);for(let pe=0;pe<o.length;pe++){const Xe=o[pe];Xe.providersResolver&&Xe.providersResolver(Xe)}let m=!1,C=!1,D=kf(e,n,o.length,null);for(let pe=0;pe<o.length;pe++){const Xe=o[pe];i.mergedAttrs=Ss(i.mergedAttrs,Xe.hostAttrs),Xl(e,i,n,D,Xe),qv(D,Xe,l),null!==Xe.contentQueries&&(i.flags|=4),(null!==Xe.hostBindings||null!==Xe.hostAttrs||0!==Xe.hostVars)&&(i.flags|=64);const vt=Xe.type.prototype;var z,J;!m&&(vt.ngOnChanges||vt.ngOnInit||vt.ngDoCheck)&&((null!==(z=e.preOrderHooks)&&void 0!==z?z:e.preOrderHooks=[]).push(i.index),m=!0),C||!vt.ngOnChanges&&!vt.ngDoCheck||((null!==(J=e.preOrderCheckHooks)&&void 0!==J?J:e.preOrderCheckHooks=[]).push(i.index),C=!0),D++}!function ZE(e,n,i){const l=n.directiveEnd,h=e.data,m=n.attrs,C=[];let D=null,z=null;for(let J=n.directiveStart;J<l;J++){const pe=h[J],Xe=i?i.get(pe):null,$t=Xe?Xe.outputs:null;D=L0(0,pe.inputs,J,D,Xe?Xe.inputs:null),z=L0(1,pe.outputs,J,z,$t);const sn=null===D||null===m||fl(n)?null:Lf(D,J,m);C.push(sn)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=C,n.inputs=D,n.outputs=z}(e,i,h)}function Gv(e,n,i){const o=i.directiveStart,l=i.directiveEnd,h=i.index,m=function gd(){return Lr.lFrame.currentDirectiveIndex}();try{Co(h);for(let C=o;C<l;C++){const D=e.data[C],z=n[C];pc(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Wv(D,z)}}finally{Co(-1),pc(m)}}function Wv(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Lm(e,n,i){var o;n.componentOffset=i,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(n.index)}function qv(e,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=e;ls(n)&&(i[""]=e)}}function Xl(e,n,i,o,l){e.data[o]=l;const h=l.factory||(l.factory=Wr(l.type)),m=new _u(h,ls(l),mh);e.blueprint[o]=m,i[o]=m,function Ff(e,n,i,o,l){const h=l.hostBindings;if(h){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const C=~n.index;(function Vm(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=C&&m.push(C),m.push(i,o,h)}}(e,n,o,kf(e,i,l.hostVars,Ii),l)}function Su(e,n,i,o,l,h){const m=cs(e,n);!function dg(e,n,i,o,l,h,m){if(null==h)e.removeAttribute(n,l,i);else{const C=null==m?Dr(h):m(h,o||"",l);e.setAttribute(n,l,C,i)}}(n[Or],m,h,e.value,i,o,l)}function Vf(e,n,i,o,l,h){const m=h[n];if(null!==m)for(let C=0;C<m.length;)Vv(o,i,m[C++],m[C++],m[C++],m[C++])}function Lf(e,n,i){let o=null,l=0;for(;l<i.length;){const h=i[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(e.hasOwnProperty(h)){null===o&&(o=[]);const m=e[h];for(let C=0;C<m.length;C+=3)if(m[C]===n){o.push(h,m[C+1],m[C+2],i[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function Na(e,n,i,o){return[e,!0,0,n,null,o,null,i,null,null]}function Xv(e,n){const i=e.contentQueries;if(null!==i){const o=me(null);try{for(let l=0;l<i.length;l+=2){const m=i[l+1];if(-1!==m){const C=e.data[m];Gc(i[l]),C.contentQueries(2,n[m],m)}}}finally{me(o)}}}function vh(e,n){return e[ea]?e[kl][Xi]=n:e[ea]=n,e[kl]=n,n}function rd(e,n,i){Gc(0);const o=me(null);try{n(e,i)}finally{me(o)}}function hg(e){return e[Zs]||(e[Zs]=[])}function id(e){return e.cleanup||(e.cleanup=[])}function Qv(e,n,i){return(null===e||ls(e))&&(i=function hd(e){for(;Array.isArray(e);){if("object"==typeof e[rc])return e;e=e[Mi]}return null}(i[n.index])),i[Or]}function fg(e,n){const i=e[Rr],o=i?i.get(Gu,null):null;o&&o.handleError(n)}function Um(e,n,i,o,l){for(let h=0;h<i.length;){const m=i[h++],C=i[h++],D=i[h++];Vv(e.data[m],n[m],o,C,D,l)}}function od(e,n,i){const o=Ra(n,e);!function Tv(e,n,i){e.setValue(n,i)}(e[Or],o,i)}function H0(e,n){const i=As(n,e),o=i[Sn];!function Yv(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(o,i);const l=i[Mi];null!==l&&null===i[go]&&(i[go]=ns(l,i[Rr])),Bm(o,i,i[jr])}function Bm(e,n,i){gu(n);try{var o;const l=e.viewQuery;null!==l&&rd(1,l,i);const h=e.template;null!==h&&Uv(e,n,h,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=n[Ns])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&Xv(e,n),e.staticViewQueries&&rd(2,e.viewQuery,i);const m=e.components;null!==m&&function $m(e,n){for(let i=0;i<n.length;i++)H0(e,n[i])}(n,m)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{n[Xn]&=-5,gc()}}function Fd(e,n){return!n||null===n.firstChild||Gl(e)}function Bf(e,n,i,o=!0){const l=n[Sn];if(function tg(e,n,i,o){const l=_o+o,h=i.length;o>0&&(i[l-1][Xi]=n),o<h-_o?(n[Xi]=i[l],Ai(i,_o+o,n)):(i.push(n),n[Xi]=null),n[wi]=i;const m=n[qo];null!==m&&i!==m&&function T0(e,n){const i=e[Il];n[_i]!==n[wi][wi][_i]&&(e[Xn]|=ic.HasTransplantedViews),null===i?e[Il]=[n]:i.push(n)}(m,n);const C=n[Ns];null!==C&&C.insertView(e),lc(n),n[Xn]|=128}(l,n,e,i),o){const m=Mm(i,e),C=n[Or],D=ig(C,e[Os]);null!==D&&function Dv(e,n,i,o,l,h){o[Mi]=l,o[Xr]=n,lg(e,o,i,1,l,h)}(l,e[Xr],C,n,D,m)}const h=n[go];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function jf(e,n,i,o,l=!1){for(;null!==i;){const h=n[i.index];null!==h&&o.push(ji(h)),Mo(h)&&jm(h,o);const m=i.type;if(8&m)jf(e,n,i.child,o);else if(32&m){const C=Cm(i,n);let D;for(;D=C();)o.push(D)}else if(16&m){const C=Rm(n,i);if(Array.isArray(C))o.push(...C);else{const D=bl(n[_i]);jf(D[Sn],D,C,o,!0)}}i=l?i.projectionNext:i.next}return o}function jm(e,n){for(let i=_o;i<e.length;i++){const o=e[i],l=o[Sn].firstChild;null!==l&&jf(o[Sn],o,l,n)}e[Os]!==e[Mi]&&n.push(e[Os])}let Hm=[];const K0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{uc(e.lView)},consumerOnSignalRead(){this.lView[ta]=this}},Zv=100;function Hf(e,n=!0,i=0){const o=e[Js],l=o.rendererFactory;var m;null===(m=l.begin)||void 0===m||m.call(l);try{!function q0(e,n){E(e,n);let i=0;for(;ac(e);){if(i===Zv)throw new ze(103,!1);i++,E(e,1)}}(e,i)}catch(z){throw n&&fg(e,z),z}finally{var C,D;null===(C=l.end)||void 0===C||C.call(l),null===(D=o.inlineEffectRunner)||void 0===D||D.flush()}}function u(e,n,i,o){var l;const h=n[Xn];if(!(256&~h))return;null===(l=n[Js].inlineEffectRunner)||void 0===l||l.flush(),gu(n);let C=null,D=null;(function t(e){return 2!==e.type})(e)&&(D=function z0(e){var n;return null!==(n=e[ta])&&void 0!==n?n:function G0(e){var n;const i=null!==(n=Hm.pop())&&void 0!==n?n:Object.create(K0);return i.lView=e,i}(e)}(n),C=function mt(e){return e&&(e.nextProducerIndex=0),me(e)}(D));try{du(n),function fc(e){return Lr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&Uv(e,n,i,2,o);const z=!(3&~h);if(z){const Xe=e.preOrderCheckHooks;null!==Xe&&wl(n,Xe,null)}else{const Xe=e.preOrderHooks;null!==Xe&&zl(n,Xe,0,null),mu(n,0)}if(function a(e){for(let n=dm(e);null!==n;n=Pp(n)){if(!(n[Xn]&ic.HasTransplantedViews))continue;const i=n[Il];for(let o=0;o<i.length;o++){rl(i[o])}}}(n),r(n,0),null!==e.contentQueries&&Xv(e,n),z){const Xe=e.contentCheckHooks;null!==Xe&&wl(n,Xe)}else{const Xe=e.contentHooks;null!==Xe&&zl(n,Xe,1),mu(n,1)}!function Lv(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let o=0;o<i.length;o++){const l=i[o];if(l<0)Co(~l);else{const h=l,m=i[++o],C=i[++o];gp(m,h),C(2,n[h])}}}finally{Co(-1)}}(e,n);const J=e.components;null!==J&&x(n,J,0);const pe=e.viewQuery;if(null!==pe&&rd(2,pe,o),z){const Xe=e.viewCheckHooks;null!==Xe&&wl(n,Xe)}else{const Xe=e.viewHooks;null!==Xe&&zl(n,Xe,2),mu(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[$a]){for(const Xe of n[$a])Xe();n[$a]=null}n[Xn]&=-73}catch(z){throw uc(n),z}finally{null!==D&&(function Nt(e,n){if(me(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ye(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)tt(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(D,C),function W0(e){e.lView[ta]!==e&&(e.lView=null,Hm.push(e))}(D)),gc()}}function r(e,n){for(let i=dm(e);null!==i;i=Pp(i))for(let o=_o;o<i.length;o++)g(i[o],n)}function c(e,n,i){g(As(n,e),i)}function g(e,n){Bc(e)&&E(e,n)}function E(e,n){const o=e[Sn],l=e[Xn],h=e[ta];let m=!!(0===n&&16&l);if(m||(m=!!(64&l&&0===n)),m||(m=!!(1024&l)),m||(m=!(null==h||!h.dirty||!It(h))),h&&(h.dirty=!1),e[Xn]&=-9217,m)u(o,e,o.template,e[jr]);else if(8192&l){r(e,1);const C=o.components;null!==C&&x(e,C,1)}}function x(e,n,i){for(let o=0;o<n.length;o++)c(e,n[o],i)}function B(e){var n;for(null===(n=e[Js].changeDetectionScheduler)||void 0===n||n.notify();e;){e[Xn]|=64;const i=bl(e);if(Fl(e)&&!i)return e;e=i}return null}class X{get rootNodes(){const n=this._lView,i=n[Sn];return jf(i,n,i.firstChild,[])}constructor(n,i,o=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jr]}set context(n){this._lView[jr]=n}get destroyed(){return!(256&~this._lView[Xn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[wi];if(Mo(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(ng(n,o),io(i,o))}this._attachedToViewContainer=!1}rg(this._lView[Sn],this._lView)}onDestroy(n){Bl(this._lView,n)}markForCheck(){B(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xn]&=-129}reattach(){lc(this._lView),this._lView[Xn]|=128}detectChanges(){this._lView[Xn]|=1024,Hf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Tm(this._lView[Sn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=n,lc(this._lView)}}let ye=(()=>{class n{}return n.__NG_ELEMENT_ID__=qt,n})();const je=ye,yt=class extends je{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const l=function Ih(e,n,i,o){const l=me(null);try{var h,m,C;const D=n.tView,pe=Du(e,D,i,4096&e[Xn]?4096:16,null,n,null,null,null!==(h=null==o?void 0:o.injector)&&void 0!==h?h:null,null!==(m=null==o?void 0:o.embeddedViewInjector)&&void 0!==m?m:null,null!==(C=null==o?void 0:o.dehydratedView)&&void 0!==C?C:null);pe[qo]=e[n.index];const vt=e[Ns];return null!==vt&&(pe[Ns]=vt.createEmbeddedView(D)),Bm(D,pe,i),pe}finally{me(l)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:o});return new X(l)}};function qt(){return vn(Pi(),cn())}function vn(e,n){return 4&e.type?new yt(n,e,Ec(e,n)):null}class Bs{}class Xa{}class qf{}class Xf{resolveComponentFactory(n){throw function oy(e){const n=Error(`No component factory found for ${pr(e)}.`);return n.ngComponent=e,n}(n)}}let wh=(()=>{class n{}return n.NULL=new Xf,n})();class Zm{}let Jm=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function J0(){const e=cn(),i=As(Pi().index,e);return(Vo(i)?i:e)[Or]}(),n})(),eI=(()=>{var e;class n{}return(e=n).\u0275prov=Hr({token:e,providedIn:"root",factory:()=>null}),n})();const Qf={},e_=new Set;function dl(e){var n,i;e_.has(e)||(e_.add(e),null===(n=performance)||void 0===n||null===(i=n.mark)||void 0===i||i.call(n,"mark_feature_usage",{detail:{feature:e}}))}function gg(...e){}class ys{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Eu(!1),this.onMicrotaskEmpty=new Eu(!1),this.onStable=new Eu(!1),this.onError=new Eu(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!o&&i,l.shouldCoalesceRunChangeDetection=o,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function t_(){const e="function"==typeof In.requestAnimationFrame;let n=In[e?"requestAnimationFrame":"setTimeout"],i=In[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function sy(e){const n=()=>{!function Yf(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(In,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,va(e),e.isCheckStableRunning=!0,_g(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),va(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,l,h,m,C)=>{if(function nI(e){var n;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(n=e[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(C))return i.invokeTask(l,h,m,C);try{return n_(e),i.invokeTask(l,h,m,C)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||e.shouldCoalesceRunChangeDetection)&&n(),Sh(e)}},onInvoke:(i,o,l,h,m,C,D)=>{try{return n_(e),i.invoke(l,h,m,C,D)}finally{e.shouldCoalesceRunChangeDetection&&n(),Sh(e)}},onHasTask:(i,o,l,h)=>{i.hasTask(l,h),o===l&&("microTask"==h.change?(e._hasPendingMicrotasks=h.microTask,va(e),_g(e)):"macroTask"==h.change&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,o,l,h)=>(i.handleError(l,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ys.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(ys.isInAngularZone())throw new ze(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,l){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+l,n,mg,gg,gg);try{return h.runTask(m,i,o)}finally{h.cancelTask(m)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const mg={};function _g(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function va(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function n_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Sh(e){e._nesting--,_g(e)}class Rh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Eu,this.onMicrotaskEmpty=new Eu,this.onStable=new Eu,this.onError=new Eu}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,l){return n.apply(i,o)}}var Yl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Yl||{});const ay={destroy(){}};function i_(e,n){var i,o,l;!n&&function xs(e){if(!ou())throw new ze(-203,!1)}();const h=null!==(i=null==n?void 0:n.injector)&&void 0!==i?i:ke(xa);if(!function Ka(e){return"browser"===(null!=e?e:ke(xa)).get(ur)}(h))return ay;dl("NgAfterNextRender");const m=h.get(Zl),C=null!==(o=m.handler)&&void 0!==o?o:m.handler=new Zf,D=null!==(l=null==n?void 0:n.phase)&&void 0!==l?l:Yl.MixedReadWrite,z=()=>{C.unregister(pe),J()},J=h.get(Wu).onDestroy(z),pe=gs(h,()=>new yg(D,()=>{z(),e()}));return C.register(pe),{destroy:z}}class yg{constructor(n,i){var o;this.phase=n,this.callbackFn=i,this.zone=ke(ys),this.errorHandler=ke(Gu,{optional:!0}),null===(o=ke(Bs,{optional:!0}))||void 0===o||o.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(i)}}}class Zf{constructor(){this.executingCallbacks=!1,this.buckets={[Yl.EarlyRead]:new Set,[Yl.Write]:new Set,[Yl.MixedReadWrite]:new Set,[Yl.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const i of n)i.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Zl=(()=>{var e;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var o;this.executeInternalCallbacks(),null===(o=this.handler)||void 0===o||o.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const l of o)l()}ngOnDestroy(){var o;null===(o=this.handler)||void 0===o||o.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=n).\u0275prov=Hr({token:e,providedIn:"root",factory:()=>new e}),n})();function Pc(e){return!!ho(e)}function Oh(e,n,i){let o=i?e.styles:null,l=i?e.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const C=n[m];"number"==typeof C?h=C:1==h?l=zn(l,C):2==h&&(o=zn(o,C+": "+n[++m]+";"))}i?e.styles=o:e.stylesWithoutHost=o,i?e.classes=l:e.classesWithoutHost=l}class uy extends wh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Fr(n);return new Ld(i,this.ngModule)}}function s_(e){const n=[];for(const i in e){if(!e.hasOwnProperty(i))continue;const o=e[i];void 0!==o&&n.push({propName:Array.isArray(o)?o[0]:o,templateName:i})}return n}class Jf{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=Je(o);const l=this.injector.get(n,Qf,o);return l!==Qf||i===Qf?l:this.parentInjector.get(n,i,o)}}class Ld extends qf{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=s_(n.inputs);if(null!==i)for(const l of o)i.hasOwnProperty(l.propName)&&(l.transform=i[l.propName]);return o}get outputs(){return s_(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function da(e){return e.map(Wo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,l){const h=me(null);try{var C;let D=(l=l||this.ngModule)instanceof ps?l:null===(C=l)||void 0===C?void 0:C.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const z=D?new Jf(n,D):n,J=z.get(Zm,null);if(null===J)throw new ze(407,!1);const pe=z.get(eI,null),$t={rendererFactory:J,sanitizer:pe,inlineEffectRunner:null,afterRenderEventManager:z.get(Zl,null),changeDetectionScheduler:z.get(Bs,null)},sn=J.createRenderer(null,this.componentDef),Mn=this.componentDef.selectors[0][0]||"div",kn=o?function F0(e,n,i,o){const h=o.get($p,!1)||i===xr.ShadowDom,m=e.selectRootElement(n,h);return function XE(e){V0(e)}(m),m}(sn,o,this.componentDef.encapsulation,z):Nf(sn,Mn,function cy(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Mn));let pn=512;this.componentDef.signals?pn|=4096:this.componentDef.onPush||(pn|=16);let ei=null;null!==kn&&(ei=ns(kn,z,!0));const bi=Bv(0,null,null,1,0,null,null,null,null,null,null),Zi=Du(null,bi,null,pn,null,null,$t,sn,z,null,ei);let Ya,nc;gu(Zi);try{const Lc=this.componentDef;let fp,FE=null;Lc.findHostDirectiveDefs?(fp=[],FE=new Map,Lc.findHostDirectiveDefs(Lc,fp,FE),fp.push(Lc)):fp=[Lc];const FP=function dy(e,n){const i=e[Sn],o=kr;return e[o]=n,_h(i,o,2,"#host",null)}(Zi,kn),VP=function hy(e,n,i,o,l,h,m){const C=l[Sn];!function oI(e,n,i,o){for(const l of e)n.mergedAttrs=Ss(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(Oh(n,n.mergedAttrs,!0),null!==i&&N0(o,i,n))}(o,e,n,m);let D=null;null!==n&&(D=ns(n,l[Rr]));const z=h.rendererFactory.createRenderer(n,i);let J=16;i.signals?J=4096:i.onPush&&(J=64);const pe=Du(l,k0(i),null,J,l[e.index],e,h,z,null,null,D);return C.firstCreatePass&&Lm(C,e,o.length-1),vh(l,pe),l[e.index]=pe}(FP,kn,Lc,fp,Zi,$t,sn);nc=Cl(bi,kr),kn&&function fy(e,n,i,o){if(o)qi(e,i,["ng-version","17.3.10"]);else{const{attrs:l,classes:h}=function ba(e){const n=[],i=[];let o=1,l=2;for(;o<e.length;){let h=e[o];if("string"==typeof h)2===l?""!==h&&n.push(h,e[++o]):8===l&&i.push(h);else{if(!Te(l))break;l=h}o++}return{attrs:n,classes:i}}(n.selectors[0]);l&&qi(e,i,l),h&&h.length>0&&x0(e,i,h.join(" "))}}(sn,Lc,kn,o),void 0!==i&&function py(e,n,i){const o=e.projection=[];for(let l=0;l<n.length;l++){const h=i[l];o.push(null!=h?Array.from(h):null)}}(nc,this.ngContentSelectors,i),Ya=function sI(e,n,i,o,l,h){const m=Pi(),C=l[Sn],D=cs(m,l);Fm(C,l,m,i,null,o);for(let J=0;J<i.length;J++)Ts(ma(l,C,m.directiveStart+J,m),l);Gv(C,l,m),D&&Ts(D,l);const z=ma(l,C,m.directiveStart+m.componentOffset,m);if(e[jr]=l[jr]=z,null!==h)for(const J of h)J(z,n);return xm(C,m,l),z}(VP,Lc,fp,FE,Zi,[aI]),Bm(bi,Zi,null)}finally{gc()}return new a_(this.componentType,Ya,Ec(nc,Zi),Zi,nc)}finally{me(h)}}}class a_ extends Xa{constructor(n,i,o,l,h){super(),this.location=o,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new X(l,void 0,!1),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;Um(m[Sn],m,l,n,i),this.previousInputValues.set(n,i),B(As(this._tNode.index,m))}}get injector(){return new Yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function aI(){const e=Pi();Lu(cn()[Sn],e)}let Zu=(()=>{class n{}return n.__NG_ELEMENT_ID__=Nc,n})();function Nc(){return tp(Pi(),cn())}const Ag=Zu,ep=class extends Ag{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Ec(this._hostTNode,this._hostLView)}get injector(){return new Yo(this._hostTNode,this._hostLView)}get parentInjector(){const n=er(this._hostTNode,this._hostLView);if(Ad(n)){const i=Ga(n,this._hostLView),o=Pa(n);return new Yo(i[Sn].data[o+8],i)}return new Yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=l_(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-_o}createEmbeddedView(n,i,o){let l,h;"number"==typeof o?l=o:null!=o&&(l=o.index,h=o.injector);const C=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(C,l,Fd(this._hostTNode,null)),C}createComponent(n,i,o,l,h){var m,D;const z=n&&!function tn(e){return"function"==typeof e}(n);let J;if(z)J=i;else{const kn=i||{};J=kn.index,o=kn.injector,l=kn.projectableNodes,h=kn.environmentInjector||kn.ngModuleRef}const pe=z?n:new Ld(Fr(n)),Xe=o||this.parentInjector;if(!h&&null==pe.ngModule){const pn=(z?Xe:this.parentInjector).get(ps,null);pn&&(h=pn)}const vt=Fr(null!==(m=pe.componentType)&&void 0!==m?m:{}),$t=(null==vt?void 0:vt.id,null),sn=null!==(D=null==$t?void 0:$t.firstChild)&&void 0!==D?D:null,Mn=pe.create(Xe,l,sn,h);return this.insertImpl(Mn.hostView,J,Fd(this._hostTNode,$t)),Mn}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,o){const l=n._lView;if(function Kh(e){return Mo(e[wi])}(l)){const C=this.indexOf(n);if(-1!==C)this.detach(C);else{const D=l[wi],z=new ep(D,D[Xr],D[wi]);z.detach(z.indexOf(n))}}const h=this._adjustIndex(i),m=this._lContainer;return Bf(m,l,h,o),n.attachToViewContainerRef(),Ai(xo(m),h,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=l_(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=ng(this._lContainer,i);o&&(io(xo(this._lContainer),i),rg(o[Sn],o))}detach(n){const i=this._adjustIndex(n,-1),o=ng(this._lContainer,i);return o&&null!=io(xo(this._lContainer),i)?new X(o):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function l_(e){return e[8]}function xo(e){return e[8]||(e[8]=[])}function tp(e,n){let i;const o=n[e.index];return Mo(o)?i=o:(i=Na(o,n,null,e),n[e.index]=i,vh(n,i)),kh(i,n,e,o),new ep(i,e,n)}let kh=function gy(e,n,i,o){if(e[Os])return;let l;l=8&i.type?ji(o):function np(e,n){const i=e[Or],o=i.createComment(""),l=cs(n,e);return cl(i,ig(i,l),o,function S0(e,n){return e.nextSibling(n)}(i,l),!1),o}(n,i),e[Os]=l},u_=()=>!1;class Ud{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ud(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ju{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let h=0;h<o;h++){const m=i.getByIndex(h);l.push(this.queries[m.indexInDeclarationView].clone())}return new Ju(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==op(n,i).matches&&this.queries[i].setDirty()}}class d_{constructor(n,i,o=null){this.flags=i,this.read=o,this.predicate="string"==typeof n?function ip(e){return e.split(",").map(n=>n.trim())}(n):n}}class Cg{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const l=null!==i?i.length:0,h=this.getByIndex(o).embeddedTView(n,l);h&&(h.indexInDeclarationView=o,null!==i?i.push(h):i=[h])}return null!==i?new Cg(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class bg{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new bg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const h=o[l];this.matchTNodeWithReadOption(n,i,Fh(i,h)),this.matchTNodeWithReadOption(n,i,yu(i,n,h,!1,!1))}else o===ye?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,yu(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===nh||l===Zu||l===ye&&4&i.type)this.addMatch(i.index,-2);else{const h=yu(i,n,l,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function Fh(e,n){const i=e.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function hI(e,n,i,o){return-1===i?function dI(e,n){return 11&e.type?Ec(e,n):4&e.type?vn(e,n):null}(n,e):-2===i?function fI(e,n,i){return i===nh?Ec(n,e):i===ye?vn(n,e):i===Zu?tp(n,e):void 0}(e,n,o):ma(e,e[Sn],i,n)}function Oc(e,n,i,o){const l=n[Ns].queries[o];if(null===l.matches){const h=e.data,m=i.matches,C=[];for(let D=0;null!==m&&D<m.length;D+=2){const z=m[D];C.push(z<0?null:hI(n,h[z],m[D+1],i.metadata.read))}l.matches=C}return l.matches}function h_(e,n,i,o){const l=e.queries.getByIndex(i),h=l.matches;if(null!==h){const m=Oc(e,n,l,i);for(let C=0;C<h.length;C+=2){const D=h[C];if(D>0)o.push(m[C/2]);else{const z=h[C+1],J=n[-D];for(let pe=_o;pe<J.length;pe++){const Xe=J[pe];Xe[qo]===Xe[wi]&&h_(Xe[Sn],Xe,z,o)}if(null!==J[Il]){const pe=J[Il];for(let Xe=0;Xe<pe.length;Xe++){const vt=pe[Xe];h_(vt[Sn],vt,z,o)}}}}}return o}function Vh(e,n,i){var o;const l=new cf(!(4&~i));return function jv(e,n,i,o){const l=hg(n);l.push(i),e.firstCreatePass&&id(e).push(o,l.length-1)}(e,n,l,l.destroy),(null!==(o=n[Ns])&&void 0!==o?o:n[Ns]=new Ju).queries.push(new Ud(l))-1}function Lh(e,n,i){null===e.queries&&(e.queries=new Cg),e.queries.track(new bg(n,i))}function op(e,n){return e.queries.getByIndex(n)}function rs(e,n){const i=e[Sn],o=op(i,n);return o.crossesNgTemplate?h_(i,e,n,[]):Oc(i,e,o,n)}function sp(e){return function _y(e){return"function"==typeof e&&void 0!==e[Qe]}(e)&&"function"==typeof e.set}function jh(e){let n=function Jl(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const o=[e];for(;n;){let l;if(ls(e))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ze(903,!1);l=n.\u0275dir}if(l){if(i){o.push(l);const m=e;m.inputs=Ty(e.inputs),m.inputTransforms=Ty(e.inputTransforms),m.declaredInputs=Ty(e.declaredInputs),m.outputs=Ty(e.outputs);const C=l.hostBindings;C&&qT(e,C);const D=l.viewQuery,z=l.contentQueries;if(D&&WT(e,D),z&&KT(e,z),E_(e,l),Ln(e.outputs,l.outputs),ls(l)&&l.data.animation){const J=e.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let m=0;m<h.length;m++){const C=h[m];C&&C.ngInherit&&C(e),C===jh&&(i=!1)}}n=Object.getPrototypeOf(n)}!function GT(e){let n=0,i=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=n+=l.hostVars,l.hostAttrs=Ss(l.hostAttrs,i=Ss(i,l.hostAttrs))}}(o)}function E_(e,n){for(const o in n.inputs){if(!n.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const l=n.inputs[o];if(void 0!==l&&(e.inputs[o]=l,e.declaredInputs[o]=n.declaredInputs[o],null!==n.inputTransforms)){var i;const h=Array.isArray(l)?l[0]:l;if(!n.inputTransforms.hasOwnProperty(h))continue;null!==(i=e.inputTransforms)&&void 0!==i||(e.inputTransforms={}),e.inputTransforms[h]=n.inputTransforms[h]}}}function Ty(e){return e===Jr?{}:e===$r?[]:e}function WT(e,n){const i=e.viewQuery;e.viewQuery=i?(o,l)=>{n(o,l),i(o,l)}:n}function KT(e,n){const i=e.contentQueries;e.contentQueries=i?(o,l,h)=>{n(o,l,h),i(o,l,h)}:n}function qT(e,n){const i=e.hostBindings;e.hostBindings=i?(o,l)=>{n(o,l),i(o,l)}:n}function oA(e){const n=e.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const l=n[o];Array.isArray(l)&&l[3]&&(i[o]=l[3])}e.inputTransforms=i}class ap{}class sA{}function ew(e,n){return new TI(e,null!=n?n:null,[])}class TI extends ap{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uy(this);const l=ho(n);this._bootstrapComponents=Ds(l.bootstrap),this._r3Injector=tm(n,i,[{provide:ap,useValue:this},{provide:wh,useValue:this.componentFactoryResolver},...o],pr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class wI extends sA{constructor(n){super(),this.moduleType=n}create(n){return new TI(this.moduleType,n,[])}}class aA extends ap{constructor(n){super(),this.componentFactoryResolver=new uy(this),this.instance=null;const i=new wa([...n.providers,{provide:ap,useValue:this},{provide:wh,useValue:this.componentFactoryResolver}],n.parent||Ta(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function DI(e,n,i=null){return new aA({providers:e,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let Sg=(()=>{var e;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $n.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Hr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function Dy(e){return!!SI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function SI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function $s(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function Rg(e,n,i,o,l,h,m,C){const D=cn(),z=vi(),J=e+kr,pe=z.firstCreatePass?function aw(e,n,i,o,l,h,m,C,D){const z=n.consts,J=_h(n,e,4,m||null,ia(z,C));ug(n,i,J,ia(z,D)),Lu(n,J);const pe=J.tView=Bv(2,J,o,l,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,z,null);return null!==n.queries&&(n.queries.template(n,J),pe.queries=n.queries.embeddedTView(J)),J}(J,z,D,n,i,o,l,h,m):z.data[J];ds(pe,!1);const Xe=lA(z,D,pe,e);Hl()&&sg(z,D,Xe,pe),Ts(Xe,D);const vt=Na(Xe,D,Xe,pe);return D[J]=vt,vh(D,vt),function c_(e,n,i){return u_(e,n,i)}(vt,pe,D),Yi(pe)&&Nm(z,D,pe),null!=m&&Om(D,pe,C),Rg}let lA=function uA(e,n,i,o){return pa(!0),n[Or].createComment("")};function LI(e,n,i,o){const l=cn();return $s(l,za(),n)&&(vi(),Su(lo(),l,e,n,i,o)),LI}function Vg(e,n,i,o){return $s(e,za(),i)?n+Dr(i)+o:Ii}function Lg(e,n,i,o,l,h){const C=function lp(e,n,i,o){const l=$s(e,n,i);return $s(e,n+1,o)||l}(e,function vs(){return Lr.lFrame.bindingIndex}(),i,l);return al(2),C?n+Dr(i)+o+Dr(l)+h:Ii}function Oy(e,n){return e<<17|n<<2}function zh(e){return e>>17&32767}function UI(e){return 2|e}function cp(e){return(131068&e)>>2}function BI(e,n){return-131069&e|n<<2}function $I(e){return 1|e}function BA(e,n,i,o){const l=e[i+1],h=null===n;let m=o?zh(l):cp(l),C=!1;for(;0!==m&&(!1===C||h);){const z=e[m+1];Kw(e[m],n)&&(C=!0,e[m+1]=o?$I(z):UI(z)),m=o?zh(z):cp(z)}C&&(e[i+1]=o?UI(l):$I(l))}function Kw(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ro(e,n)>=0}const Ea={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $A(e){return e.substring(Ea.key,Ea.keyEnd)}function jA(e,n){const i=Ea.textEnd;return i===n?-1:(n=Ea.keyEnd=function Yw(e,n,i){for(;n<i&&e.charCodeAt(n)>32;)n++;return n}(e,Ea.key=n,i),Gg(e,n,i))}function Gg(e,n,i){for(;n<i&&e.charCodeAt(n)<=32;)n++;return n}function jI(e,n,i){const o=cn();return $s(o,za(),n)&&_a(vi(),lo(),o,e,n,o[Or],i,!1),jI}function HI(e,n,i,o,l){const m=l?"class":"style";Um(e,i,n.inputs[m],m,o)}function zI(e,n,i){return Fc(e,n,i,!1),zI}function GI(e,n){return Fc(e,n,null,!0),GI}function KA(e){!function Vc(e,n,i,o){const l=vi(),h=al(2);l.firstUpdatePass&&XA(l,null,h,o);const m=cn();if(i!==Ii&&$s(m,h,i)){const C=l.data[ts()];if(JA(C,o)&&!qA(l,h)){let D=o?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(i=zn(D,i||"")),HI(l,C,m,i,o)}else!function aD(e,n,i,o,l,h,m,C){l===Ii&&(l=$r);let D=0,z=0,J=0<l.length?l[0]:null,pe=0<h.length?h[0]:null;for(;null!==J||null!==pe;){const Xe=D<l.length?l[D+1]:void 0,vt=z<h.length?h[z+1]:void 0;let sn,$t=null;J===pe?(D+=2,z+=2,Xe!==vt&&($t=pe,sn=vt)):null===pe||null!==J&&J<pe?(D+=2,$t=J):(z+=2,$t=pe,sn=vt),null!==$t&&YA(e,n,i,o,$t,sn,m,C),J=D<l.length?l[D]:null,pe=z<h.length?h[z]:null}}(l,C,m,m[Or],m[h+1],m[h+1]=function oD(e,n,i){if(null==i||""===i)return $r;const o=[],l=Dc(i);if(Array.isArray(l))for(let h=0;h<l.length;h++)e(o,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&e(o,h,l[h]);else"string"==typeof l&&n(o,l);return o}(e,n,i),o,h)}}(sD,cd,e,!0)}function cd(e,n){for(let i=function Xw(e){return function zA(e){Ea.key=0,Ea.keyEnd=0,Ea.value=0,Ea.valueEnd=0,Ea.textEnd=e.length}(e),jA(e,Gg(e,0,Ea.textEnd))}(n);i>=0;i=jA(n,i))So(e,$A(n),!0)}function Fc(e,n,i,o){const l=cn(),h=vi(),m=al(2);h.firstUpdatePass&&XA(h,e,m,o),n!==Ii&&$s(l,m,n)&&YA(h,h.data[ts()],l,l[Or],e,l[m+1]=function lD(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=pr(Dc(e)))),e}(n,i),o,m)}function qA(e,n){return n>=e.expandoStartIndex}function XA(e,n,i,o){const l=e.data;if(null===l[i+1]){const h=l[ts()],m=qA(e,i);JA(h,o)&&null===n&&!m&&(n=!1),n=function tD(e,n,i,o){const l=md(e);let h=o?n.residualClasses:n.residualStyles;if(null===l)0===(o?n.classBindings:n.styleBindings)&&(i=D_(i=WI(null,e,n,i,o),n.attrs,o),h=null);else{const m=n.directiveStylingLast;if(-1===m||e[m]!==l)if(i=WI(l,e,n,i,o),null===h){let D=function nD(e,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==cp(o))return e[zh(o)]}(e,n,o);void 0!==D&&Array.isArray(D)&&(D=WI(null,e,n,D[1],o),D=D_(D,n.attrs,o),function rD(e,n,i,o){e[zh(i?n.classBindings:n.styleBindings)]=o}(e,n,o,D))}else h=function iD(e,n,i){let o;const l=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<l;h++)o=D_(o,e[h].hostAttrs,i);return D_(o,n.attrs,i)}(e,n,o)}return void 0!==h&&(o?n.residualClasses=h:n.residualStyles=h),i}(l,h,n,o),function Gw(e,n,i,o,l,h){let m=h?n.classBindings:n.styleBindings,C=zh(m),D=cp(m);e[o]=i;let J,z=!1;if(Array.isArray(i)?(J=i[1],(null===J||Ro(i,J)>0)&&(z=!0)):J=i,l)if(0!==D){const Xe=zh(e[C+1]);e[o+1]=Oy(Xe,C),0!==Xe&&(e[Xe+1]=BI(e[Xe+1],o)),e[C+1]=function Hw(e,n){return 131071&e|n<<17}(e[C+1],o)}else e[o+1]=Oy(C,0),0!==C&&(e[C+1]=BI(e[C+1],o)),C=o;else e[o+1]=Oy(D,0),0===C?C=o:e[D+1]=BI(e[D+1],o),D=o;z&&(e[o+1]=UI(e[o+1])),BA(e,J,o,!0),BA(e,J,o,!1),function Ww(e,n,i,o,l){const h=l?e.residualClasses:e.residualStyles;null!=h&&"string"==typeof n&&Ro(h,n)>=0&&(i[o+1]=$I(i[o+1]))}(n,J,e,o,h),m=Oy(C,D),h?n.classBindings=m:n.styleBindings=m}(l,h,n,i,m,o)}}function WI(e,n,i,o,l){let h=null;const m=i.directiveEnd;let C=i.directiveStylingLast;for(-1===C?C=i.directiveStart:C++;C<m&&(h=n[C],o=D_(o,h.hostAttrs,l),h!==e);)C++;return null!==e&&(i.directiveStylingLast=C),o}function D_(e,n,i){const o=i?1:2;let l=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?l=m:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),So(e,m,!!i||n[++h]))}return void 0===e?null:e}function sD(e,n,i){const o=String(n);""!==o&&!o.includes(" ")&&So(e,o,i)}function YA(e,n,i,o,l,h,m,C){if(!(3&n.type))return;const D=e.data,z=D[C+1],J=function zw(e){return!(1&~e)}(z)?ZA(D,n,i,l,cp(z),m):void 0;ky(J)||(ky(h)||function jw(e){return!(2&~e)}(z)&&(h=ZA(D,null,i,l,C,m)),function P0(e,n,i,o,l){if(n)l?e.addClass(i,o):e.removeClass(i,o);else{let h=-1===o.indexOf("-")?void 0:Jp.DashCase;null==l?e.removeStyle(i,o,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Jp.Important),e.setStyle(i,o,l,h))}}(o,m,Ra(ts(),i),l,h))}function ZA(e,n,i,o,l,h){const m=null===n;let C;for(;l>0;){const D=e[l],z=Array.isArray(D),J=z?D[1]:D,pe=null===J;let Xe=i[l+1];Xe===Ii&&(Xe=pe?$r:void 0);let vt=pe?Xs(Xe,o):J===o?Xe:void 0;if(z&&!ky(vt)&&(vt=Xs(D,o)),ky(vt)&&(C=vt,m))return C;const $t=e[l+1];l=m?zh($t):cp($t)}if(null!==n){let D=h?n.residualClasses:n.residualStyles;null!=D&&(C=Xs(D,o))}return C}function ky(e){return void 0!==e}function JA(e,n){return!!(e.flags&(n?8:16))}function Fy(e,n,i,o){const l=cn(),h=vi(),m=kr+e,C=l[Or],D=h.firstCreatePass?function PD(e,n,i,o,l,h){const m=n.consts,D=_h(n,e,2,o,ia(m,l));return ug(n,i,D,ia(m,h)),null!==D.attrs&&Oh(D,D.attrs,!1),null!==D.mergedAttrs&&Oh(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(m,h,l,n,i,o):h.data[m],z=rC(h,l,D,C,n,e);l[m]=z;const J=Yi(D);return ds(D,!0),N0(C,z,D),!function C_(e){return!(32&~e.flags)}(D)&&Hl()&&sg(h,l,z,D),0===function Gd(){return Lr.lFrame.elementDepthCount}()&&Ts(z,l),function ku(){Lr.lFrame.elementDepthCount++}(),J&&(Nm(h,l,D),xm(h,D,l)),null!==o&&Om(l,D),Fy}function Vy(){let e=Pi();sl()?Hc():(e=e.parent,ds(e,!1));const n=e;(function pp(e){return Lr.skipHydrationRootTNode===e})(n)&&function Ha(){Lr.skipHydrationRootTNode=null}(),function Wd(){Lr.lFrame.elementDepthCount--}();const i=vi();return i.firstCreatePass&&(Lu(i,e),na(e)&&i.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Yd(e){return!!(8&e.flags)}(n)&&HI(i,n,cn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ef(e){return!!(16&e.flags)}(n)&&HI(i,n,cn(),n.stylesWithoutHost,!1),Vy}function YI(e,n,i,o){return Fy(e,n,i,o),Vy(),YI}let rC=(e,n,i,o,l,h)=>(pa(!0),Nf(o,l,function Qd(){return Lr.lFrame.currentNamespace}()));function Ly(e,n,i){const o=cn(),l=vi(),h=e+kr,m=l.firstCreatePass?function OD(e,n,i,o,l){const h=n.consts,m=ia(h,o),C=_h(n,e,8,"ng-container",m);return null!==m&&Oh(C,m,!0),ug(n,i,C,ia(h,l)),null!==n.queries&&n.queries.elementStart(n,C),C}(h,l,o,n,i):l.data[h];ds(m,!0);const C=iC(l,o,m,e);return o[h]=C,Hl()&&sg(l,o,C,m),Ts(C,o),Yi(m)&&(Nm(l,o,m),xm(l,m,o)),null!=i&&Om(o,m),Ly}function Uy(){let e=Pi();const n=vi();return sl()?Hc():(e=e.parent,ds(e,!1)),n.firstCreatePass&&(Lu(n,e),na(e)&&n.queries.elementEnd(e)),Uy}function ZI(e,n,i){return Ly(e,n,i),Uy(),ZI}let iC=(e,n,i,o)=>(pa(!0),eg(n[Or],""));function oC(){return cn()}function JI(e,n,i){const o=cn();if($s(o,za(),n)){const h=vi(),m=lo();_a(h,m,o,e,n,Qv(md(h.data),m,o),i,!0)}return JI}const dp=void 0;var LD=["en",[["a","p"],["AM","PM"],dp],[["AM","PM"],dp,dp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dp,"{1} 'at' {0}",dp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VD(e){const i=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Wg={};function eE(e){const n=function UD(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=lC(n);if(i)return i;const o=n.split("-")[0];if(i=lC(o),i)return i;if("en"===o)return LD;throw new ze(701,!1)}function aC(e){return eE(e)[Kg.PluralCase]}function lC(e){return e in Wg||(Wg[e]=In.ng&&In.ng.common&&In.ng.common.locales&&In.ng.common.locales[e]),Wg[e]}var Kg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Kg||{});const qg="en-US";let uC=qg;function rE(e,n,i,o){const l=cn(),h=vi(),m=Pi();return iE(h,l,l[Or],m,e,n,o),rE}function iE(e,n,i,o,l,h,m){const C=Yi(o),z=e.firstCreatePass&&id(e),J=n[jr],pe=hg(n);let Xe=!0;if(3&o.type||m){const sn=cs(o,n),Mn=m?m(sn):sn,kn=pe.length,pn=m?bi=>m(ji(bi[o.index])):o.index;let ei=null;if(!m&&C&&(ei=function kS(e,n,i,o){const l=e.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const m=l[h];if(m===i&&l[h+1]===o){const C=n[Zs],D=l[h+2];return C.length>D?C[D]:null}"string"==typeof m&&(h+=2)}return null}(e,n,l,o.index)),null!==ei)(ei.__ngLastListenerFn__||ei).__ngNextListenerFn__=h,ei.__ngLastListenerFn__=h,Xe=!1;else{h=VC(o,n,J,h,!1);const bi=i.listen(Mn,l,h);pe.push(h,bi),z&&z.push(l,pn,kn,kn+1)}}else h=VC(o,n,J,h,!1);const vt=o.outputs;let $t;if(Xe&&null!==vt&&($t=vt[l])){const sn=$t.length;if(sn)for(let Mn=0;Mn<sn;Mn+=2){const Zi=n[$t[Mn]][$t[Mn+1]].subscribe(h),Ya=pe.length;pe.push(h,Zi),z&&z.push(l,o.index,Ya,-(Ya+1))}}}function FC(e,n,i,o){const l=me(null);try{return us(6,n,i),!1!==i(o)}catch(h){return fg(e,h),!1}finally{us(7,n,i),me(l)}}function VC(e,n,i,o,l){return function h(m){if(m===Function)return o;B(e.componentOffset>-1?As(e.index,n):n);let D=FC(n,i,o,m),z=h.__ngNextListenerFn__;for(;z;)D=FC(n,i,z,m)&&D,z=z.__ngNextListenerFn__;return l&&!1===D&&m.preventDefault(),D}}function LC(e=1){return function Qh(e){return(Lr.lFrame.contextLView=function il(e,n){for(;e>0;)n=n[su],e--;return n}(e,Lr.lFrame.contextLView))[jr]}(e)}function FS(e,n){let i=null;const o=function fn(e){const n=e.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(e);for(let l=0;l<n.length;l++){const h=n[l];if("*"!==h){if(null===o?_e(e,h,!0):co(o,h))return l}else i=l}return i}function UC(e){const n=cn()[_i][Xr];if(!n.projection){const o=n.projection=function os(e,n){const i=[];for(let o=0;o<e;o++)i.push(n);return i}(e?e.length:1,null),l=o.slice();let h=n.child;for(;null!==h;){const m=e?FS(h,e):0;null!==m&&(l[m]?l[m].projectionNext=h:o[m]=h,l[m]=h),h=h.next}}}function BC(e,n=0,i){const o=cn(),l=vi(),h=_h(l,kr+e,16,null,i||null);null===h.projection&&(h.projection=n),Hc(),(!o[go]||ol())&&32&~h.flags&&function R0(e,n,i){Ov(n[Or],0,n,i,wu(e,i,n),Mv(i.parent||n[Xr],i,n))}(l,o,h)}function oE(e,n,i){return sE(e,"",n,"",i),oE}function sE(e,n,i,o,l){const h=cn(),m=Vg(h,n,i,o);return m!==Ii&&_a(vi(),lo(),h,e,m,h[Or],l,!1),sE}function XC(e,n,i,o){!function p_(e,n,i,o){const l=vi();if(l.firstCreatePass){const h=Pi();Lh(l,new d_(n,i,o),h.index),function my(e,n){const i=e.contentQueries||(e.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,n)}(l,e),!(2&~i)&&(l.staticContentQueries=!0)}return Vh(l,cn(),i)}(e,n,i,o)}function QC(e,n,i){!function rp(e,n,i){const o=vi();return o.firstCreatePass&&(Lh(o,new d_(e,n,i),-1),!(2&~n)&&(o.staticViewQueries=!0)),Vh(o,cn(),n)}(e,n,i)}function YC(e){const n=cn(),i=vi(),o=pu();Gc(o+1);const l=op(i,o);if(e.dirty&&function fd(e){return!(4&~e[Xn])}(n)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const h=rs(n,o);e.reset(h,uf),e.notifyOnChanges()}return!0}return!1}function ZC(){return function f_(e,n){return e[Ns].queries[n].queryList}(cn(),pu())}function JC(e){return function Ma(e,n){return e[n]}(function fu(){return Lr.lFrame.contextLView}(),kr+e)}function ub(e,n=""){const i=cn(),o=vi(),l=e+kr,h=o.firstCreatePass?_h(o,l,1,n,null):o.data[l],m=cb(o,i,h,n,e);i[l]=m,Hl()&&sg(o,i,m,h),ds(h,!1)}let cb=(e,n,i,o,l)=>(pa(!0),function bm(e,n){return e.createText(n)}(n[Or],o));function aE(e){return zy("",e,""),aE}function zy(e,n,i){const o=cn(),l=Vg(o,e,n,i);return l!==Ii&&od(o,ts(),l),zy}function lE(e,n,i,o,l){const h=cn(),m=Lg(h,e,n,i,o,l);return m!==Ii&&od(h,ts(),m),lE}function uE(e,n,i){sp(n)&&(n=n());const o=cn();return $s(o,za(),n)&&_a(vi(),lo(),o,e,n,o[Or],i,!1),uE}function vb(e,n){const i=sp(e);return i&&e.set(n),i}function cE(e,n){const i=cn(),o=vi(),l=Pi();return iE(o,i,i[Or],l,e,n),cE}function dE(e,n,i,o,l){if(e=ft(e),Array.isArray(e))for(let h=0;h<e.length;h++)dE(e[h],n,i,o,l);else{const h=vi(),m=cn(),C=Pi();let D=Ps(e)?e:ft(e.provide);const z=tl(e),J=1048575&C.providerIndexes,pe=C.directiveStart,Xe=C.providerIndexes>>20;if(Ps(e)||!e.multi){const vt=new _u(z,l,mh),$t=fE(D,n,l?J:J+Xe,pe);-1===$t?(mr(wt(C,m),h,D),hE(h,e,n.length),n.push(D),C.directiveStart++,C.directiveEnd++,l&&(C.providerIndexes+=1048576),i.push(vt),m.push(vt)):(i[$t]=vt,m[$t]=vt)}else{const vt=fE(D,n,J+Xe,pe),$t=fE(D,n,J,J+Xe),Mn=$t>=0&&i[$t];if(l&&!Mn||!l&&!(vt>=0&&i[vt])){mr(wt(C,m),h,D);const kn=function tR(e,n,i,o,l){const h=new _u(e,i,mh);return h.multi=[],h.index=n,h.componentProviders=0,yb(h,l,o&&!i),h}(l?eR:JS,i.length,l,o,z);!l&&Mn&&(i[$t].providerFactory=kn),hE(h,e,n.length,0),n.push(D),C.directiveStart++,C.directiveEnd++,l&&(C.providerIndexes+=1048576),i.push(kn),m.push(kn)}else hE(h,e,vt>-1?vt:$t,yb(i[l?$t:vt],z,!l&&o));!l&&o&&Mn&&i[$t].componentProviders++}}}function hE(e,n,i,o){const l=Ps(n),h=function nu(e){return!!e.useClass}(n);if(l||h){const D=(h?ft(n.useClass):n).prototype.ngOnDestroy;if(D){const z=e.destroyHooks||(e.destroyHooks=[]);if(!l&&n.multi){const J=z.indexOf(i);-1===J?z.push(i,[o,D]):z[J+1].push(o,D)}else z.push(i,D)}}}function yb(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function fE(e,n,i,o){for(let l=i;l<o;l++)if(n[l]===e)return l;return-1}function JS(e,n,i,o){return pE(this.multi,[])}function eR(e,n,i,o){const l=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=ma(i,i[Sn],this.providerFactory.index,o);h=C.slice(0,m),pE(l,h);for(let D=m;D<C.length;D++)h.push(C[D])}else h=[],pE(l,h);return h}function pE(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function Ib(e,n=[]){return i=>{i.providersResolver=(o,l)=>function ZS(e,n,i){const o=vi();if(o.firstCreatePass){const l=ls(e);dE(i,o.data,o.blueprint,l,!0),dE(n,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,n)}}let nR=(()=>{var e;class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=ml(0,o.type),h=l.length>0?DI([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,h)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=n).\u0275prov=Hr({token:e,providedIn:"environment",factory:()=>new e(K(ps))}),n})();function Eb(e){dl("NgStandalone"),e.getStandaloneInjector=n=>n.get(nR).getOrCreateStandaloneInjector(e)}function Cb(e,n,i,o){return function bb(e,n,i,o,l,h){const m=n+i;return $s(e,m,l)?function ld(e,n,i){return e[n]=i}(e,m+1,h?o.call(h,l):o(l)):function O_(e,n){const i=e[n];return i===Ii?void 0:i}(e,m+1)}(cn(),function es(){const e=Lr.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),e,n,i,o)}class zb{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const HR=new zb("17.3.10");let Gb=(()=>{var e;class n{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Hr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();const Xb=new Ut(""),Qb=new Ut("");let EE,gM=(()=>{var e;class n{constructor(o,l,h){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,EE||(function mM(e){EE=e}(h),h.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ys.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,h){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==m),o()},l)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:h})}whenStable(o,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,h){return[]}}return(e=n).\u0275fac=function(o){return new(o||e)(K(ys),K(Yb),K(Qb))},e.\u0275prov=Hr({token:e,factory:e.\u0275fac}),n})(),Yb=(()=>{var e;class n{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){var h,m;return null!==(h=null===(m=EE)||void 0===m?void 0:m.findTestabilityInTree(this,o,l))&&void 0!==h?h:null}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Hr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();function AE(e){return!!e&&"function"==typeof e.then}function Zb(e){return!!e&&"function"==typeof e.subscribe}const Jb=new Ut("");let CE=(()=>{var e;class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h}),this.appInits=null!==(o=ke(Jb,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const h of this.appInits){const m=h();if(AE(m))o.push(m);else if(Zb(m)){const C=new Promise((D,z)=>{m.subscribe({complete:D,error:z})});o.push(C)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(h=>{this.reject(h)}),0===o.length&&l(),this.initialized=!0}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Hr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const bE=new Ut("");function nT(e,n){return Array.isArray(n)?n.reduce(nT,e):{...e,...n}}let Gh=(()=>{var e;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ke(lf),this.afterRenderEffectManager=ke(Zl),this.externalTestViews=new Set,this.beforeRender=new mn.B,this.afterTick=new mn.B,this.componentTypes=[],this.components=[],this.isStable=ke(Sg).hasPendingTasks.pipe((0,en.T)(o=>!o)),this._injector=ke(ps)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const h=o instanceof qf;if(!this._injector.get(CE).done)throw!h&&Eo(o),new ze(405,!1);let C;C=h?o:this._injector.get(wh).resolveComponentFactory(o),this.componentTypes.push(C.componentType);const D=function _M(e){return e.isBoundToModule}(C)?void 0:this._injector.get(ap),J=C.create(xa.NULL,[],l||C.selector,D),pe=J.location.nativeElement,Xe=J.injector.get(Xb,null);return null==Xe||Xe.registerApplication(pe),J.onDestroy(()=>{this.detachView(J.hostView),qy(this.components,J),null==Xe||Xe.unregisterApplication(pe)}),this._loadComponent(J),J}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new ze(101,!1);const l=me(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(h){this.internalErrorHandler(h)}finally{this.afterTick.next(),this._runningTick=!1,me(l)}}detectChangesInAttachedViews(o){let l=0;const h=this.afterRenderEffectManager;for(;;){if(l===Zv)throw new ze(103,!1);if(o){const m=0===l;this.beforeRender.next(m);for(let{_lView:C,notifyErrorHandler:D}of this._views)yM(C,m,D)}if(l++,h.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:m})=>TE(m))&&(h.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:m})=>TE(m))))break}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;qy(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(bE,[]);[...this._bootstrapListeners,...l].forEach(h=>h(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>qy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ze(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Hr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function qy(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function yM(e,n,i){!n&&!TE(e)||function IM(e,n,i){let o;i?(o=0,e[Xn]|=1024):o=64&e[Xn]?0:1,Hf(e,n,o)}(e,i,n)}function TE(e){return ac(e)}class EM{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let AM=(()=>{var e;class n{compileModuleSync(o){return new wI(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),m=Ds(ho(o).declarations).reduce((C,D)=>{const z=Fr(D);return z&&C.push(new Ld(z)),C},[]);return new EM(l,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Hr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),TM=(()=>{var e;class n{constructor(){this.zone=ke(ys),this.applicationRef=ke(Gh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Hr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function wM(){const e=ke(ys),n=ke(Gu);return i=>e.runOutsideAngular(()=>n.handleError(i))}let SM=(()=>{var e;class n{constructor(){this.subscription=new Nn.yU,this.initialized=!1,this.zone=ke(ys),this.pendingTasks=ke(Sg)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ys.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var l;ys.assertInAngularZone(),null!==(l=o)&&void 0!==l||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Hr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const Xy=new Ut("",{providedIn:"root",factory:()=>ke(Xy,Jn.Optional|Jn.SkipSelf)||function RM(){return typeof $localize<"u"&&$localize.locale||qg}()}),MM=new Ut("",{providedIn:"root",factory:()=>"USD"}),wE=new Ut("");let sT=(()=>{var e;class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const h=function rI(e="zone.js",n){return"noop"===e?new Rh:"zone.js"===e?new ys(n):e}(null==l?void 0:l.ngZone,function oT(e){var n,i;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==e?void 0:e.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(i=null==e?void 0:e.runCoalescing)&&void 0!==i&&i}}({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}));return h.run(()=>{const m=function tw(e,n,i){return new TI(e,n,i)}(o.moduleType,this.injector,function iT(e){return[{provide:ys,useFactory:e},{provide:Fa,multi:!0,useFactory:()=>{const n=ke(TM,{optional:!0});return()=>n.initialize()}},{provide:Fa,multi:!0,useFactory:()=>{const n=ke(SM);return()=>{n.initialize()}}},{provide:lf,useFactory:wM}]}(()=>h)),C=m.injector.get(Gu,null);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:z=>{C.handleError(z)}});m.onDestroy(()=>{qy(this._modules,m),D.unsubscribe()})}),function tT(e,n,i){try{const o=i();return AE(o)?o.catch(l=>{throw n.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(C,h,()=>{const D=m.injector.get(CE);return D.runInitializers(),D.donePromise.then(()=>(function cC(e){"string"==typeof e&&(uC=e.toLowerCase().replace(/_/g,"-"))}(m.injector.get(Xy,qg)||qg),this._moduleDoBootstrap(m),m))})})}bootstrapModule(o,l=[]){const h=nT({},l);return function bM(e,n,i){const o=new wI(i);return Promise.resolve(o)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(o){const l=o.injector.get(Gh);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!o.instance.ngDoBootstrap)throw new ze(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(wE,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=n).\u0275fac=function(o){return new(o||e)(K(xa))},e.\u0275prov=Hr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})(),Wh=null;const aT=new Ut("");function lT(e,n,i=[]){const o=`Platform: ${n}`,l=new Ut(o);return(h=[])=>{let m=DE();if(!m||m.injector.get(aT,!1)){const C=[...i,...h,{provide:l,useValue:!0}];e?e(C):function xM(e){if(Wh&&!Wh.get(aT,!1))throw new ze(400,!1);(function eT(){!function Ve(e){Rn=e}(()=>{throw new ze(600,!1)})})(),Wh=e;const n=e.get(sT);(function cT(e){const n=e.get(Hn,null);null==n||n.forEach(i=>i())})(e)}(function uT(e=[],n){return xa.create({name:n,providers:[{provide:vl,useValue:"platform"},{provide:wE,useValue:new Set([()=>Wh=null])},...e]})}(C,o))}return function NM(e){const n=DE();if(!n)throw new ze(401,!1);return n}()}}function DE(){var e,n;return null!==(e=null===(n=Wh)||void 0===n?void 0:n.get(sT))&&void 0!==e?e:null}function kM(){return!1}function FM(){}let hT=(()=>{class n{}return n.__NG_ELEMENT_ID__=VM,n})();function VM(e){return function LM(e,n,i){if(Xo(e)&&!i){const o=As(e.index,n);return new X(o,o)}return 47&e.type?new X(n[_i],n):null}(Pi(),cn(),!(16&~e))}class mT{constructor(){}supports(n){return Dy(n)}create(n){return new HM(n)}}const jM=(e,n)=>n;class HM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||jM}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,l=0,h=null;for(;i||o;){const m=!o||i&&i.currentIndex<vT(o,l,h)?i:o,C=vT(m,l,h),D=m.currentIndex;if(m===o)l--,o=o._nextRemoved;else if(i=i._next,null==m.previousIndex)l++;else{h||(h=[]);const z=C-l,J=D-l;if(z!=J){for(let Xe=0;Xe<z;Xe++){const vt=Xe<h.length?h[Xe]:h[Xe]=0,$t=vt+Xe;J<=$t&&$t<z&&(h[Xe]=vt+1)}h[m.previousIndex]=J-z}}C!==D&&n(m,C,D)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Dy(n))throw new ze(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,h,m,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let C=0;C<this.length;C++)h=n[C],m=this._trackByFn(C,h),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,h,m,C)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,m,C),o=!0),i=i._next}else l=0,function ow(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,C=>{m=this._trackByFn(l,C),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,C,m,l)),Object.is(i.item,C)||this._addIdentityChange(i,C)):(i=this._mismatch(i,C,m,l),o=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,l){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,l)):n=this._addAfter(new zM(i,o),h,l),n}_verifyReinsertion(n,i,o,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?n=this._reinsertAfter(h,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,h=n._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new _T),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _T),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class zM{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class _T{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new GM,this.map.set(i,o)),o.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vT(e,n,i){const o=e.previousIndex;if(null===o)return o;let l=0;return i&&o<i.length&&(l=i[o]),o+n+l}class yT{constructor(){}supports(n){return n instanceof Map||SI(n)}create(){return new WM}}class WM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||SI(n)))throw new ze(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(l,o);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const h=l._prev,m=l._next;return h&&(h._next=m),m&&(m._prev=h),l._next=null,l._prev=null,l}const o=new KM(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class KM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IT(){return new xE([new mT])}let xE=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,l){if(null!=l){const h=l.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||IT()),deps:[[n,new Zn,new On]]}}find(o){const l=this.factories.find(h=>h.supports(o));if(null!=l)return l;throw new ze(901,!1)}}return(e=n).\u0275prov=Hr({token:e,providedIn:"root",factory:IT}),n})();function ET(){return new NE([new yT])}let NE=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,l){if(l){const h=l.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||ET()),deps:[[n,new Zn,new On]]}}find(o){const l=this.factories.find(h=>h.supports(o));if(l)return l;throw new ze(901,!1)}}return(e=n).\u0275prov=Hr({token:e,providedIn:"root",factory:ET}),n})();const QM=lT(null,"core",[]);let YM=(()=>{var e;class n{constructor(o){}}return(e=n).\u0275fac=function(o){return new(o||e)(K(Gh))},e.\u0275mod=Ja({type:e}),e.\u0275inj=Gi({}),n})();function wP(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function SP(e){const n=me(null);try{return e()}finally{me(n)}}function OP(e,n){const i=Fr(e),o=n.elementInjector||Ta();return new Ld(i).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function kP(e){const n=Fr(e);if(!n)return null;const i=new Ld(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1182:(xn,St,L)=>{"use strict";L.d(St,{DS:()=>Oe,X8:()=>$e,$z:()=>te,UB:()=>ge,yy:()=>Mt,ZP:()=>Ve,AU:()=>ne,CP:()=>Rn,gF:()=>Ke});var d=L(9842),k=(L(2438),L(177)),de=L(4438),ae=L(5407),Qe=L(9253),me=L(1413),et=L(7673),at=L(1985),Le=L(8455),De=L(6365),it=L(8750),ot=L(983),nt=L(3794),Ct=L(941),_t=L(5558),mt=L(6354),Nt=L(6129);class It extends me.B{constructor(Ze=1/0,dt=1/0,Ot=Nt.U){super(),this._bufferSize=Ze,this._windowTime=dt,this._timestampProvider=Ot,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=dt===1/0,this._bufferSize=Math.max(1,Ze),this._windowTime=Math.max(1,dt)}next(Ze){const{isStopped:dt,_buffer:Ot,_infiniteTimeWindow:jt,_timestampProvider:Pt,_windowTime:mn}=this;dt||(Ot.push(Ze),!jt&&Ot.push(Pt.now()+mn)),this._trimBuffer(),super.next(Ze)}_subscribe(Ze){this._throwIfClosed(),this._trimBuffer();const dt=this._innerSubscribe(Ze),{_infiniteTimeWindow:Ot,_buffer:jt}=this,Pt=jt.slice();for(let mn=0;mn<Pt.length&&!Ze.closed;mn+=Ot?1:2)Ze.next(Pt[mn]);return this._checkFinalizedStatuses(Ze),dt}_trimBuffer(){const{_bufferSize:Ze,_timestampProvider:dt,_buffer:Ot,_infiniteTimeWindow:jt}=this,Pt=(jt?1:2)*Ze;if(Ze<1/0&&Pt<Ot.length&&Ot.splice(0,Ot.length-Pt),!jt){const mn=dt.now();let Nn=0;for(let $n=1;$n<Ot.length&&Ot[$n]<=mn;$n+=2)Nn=$n;Nn&&Ot.splice(0,Nn+1)}}}var Me=L(7707),Fe=L(9974);function Ye(Re,Ze,...dt){if(!0===Ze)return void Re();if(!1===Ze)return;const Ot=new Me.Ms({next:()=>{Ot.unsubscribe(),Re()}});return(0,it.Tg)(Ze(...dt)).subscribe(Ot)}function ut(Re,Ze,dt){let Ot,jt=!1;return Re&&"object"==typeof Re?({bufferSize:Ot=1/0,windowTime:Ze=1/0,refCount:jt=!1,scheduler:dt}=Re):Ot=null!=Re?Re:1/0,function tt(Re={}){const{connector:Ze=(()=>new me.B),resetOnError:dt=!0,resetOnComplete:Ot=!0,resetOnRefCountZero:jt=!0}=Re;return Pt=>{let mn,Nn,$n,en=0,rn=!1,tr=!1;const ze=()=>{null==Nn||Nn.unsubscribe(),Nn=void 0},xe=()=>{ze(),mn=$n=void 0,rn=tr=!1},We=()=>{const hn=mn;xe(),null==hn||hn.unsubscribe()};return(0,Fe.N)((hn,sr)=>{en++,!tr&&!rn&&ze();const yr=$n=null!=$n?$n:Ze();sr.add(()=>{en--,0===en&&!tr&&!rn&&(Nn=Ye(We,jt))}),yr.subscribe(sr),!mn&&en>0&&(mn=new Me.Ms({next:ar=>yr.next(ar),error:ar=>{tr=!0,ze(),Nn=Ye(xe,dt,ar),yr.error(ar)},complete:()=>{rn=!0,ze(),Nn=Ye(xe,Ot),yr.complete()}}),(0,it.Tg)(hn).subscribe(mn))})(Pt)}}({connector:()=>new It(Ot,Ze,dt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:jt})}var Ht=L(1594),he=L(8071);function He(Re,Ze){return(0,he.T)(Ze)?(0,_t.n)(()=>Re,Ze):(0,_t.n)(()=>Re)}var Tt=L(6745),dn=L(5964),An=L(7935);const Rn=new de.nKC("angularfire2.auth.use-emulator"),Mt=new de.nKC("angularfire2.auth.settings"),Ve=new de.nKC("angularfire2.auth.tenant-id"),te=new de.nKC("angularfire2.auth.langugage-code"),ne=new de.nKC("angularfire2.auth.use-device-language"),ge=new de.nKC("angularfire.auth.persistence"),Ke=(Re,Ze,dt,Ot,jt,Pt,mn,Nn)=>(0,Qe.BM)(`${Re.name}.auth`,"AngularFireAuth",Re.name,()=>{const $n=Ze.runOutsideAngular(()=>Re.auth());if(dt&&$n.useEmulator(...dt),Ot&&($n.tenantId=Ot),$n.languageCode=jt,Pt&&$n.useDeviceLanguage(),mn)for(const[en,rn]of Object.entries(mn))$n.settings[en]=rn;return Nn&&$n.setPersistence(Nn),$n},[dt,Ot,jt,Pt,mn,Nn]);let Oe=(()=>{var Re;class Ze{constructor(Ot,jt,Pt,mn,Nn,$n,en,rn,tr,ze,xe,We){(0,d.A)(this,"authState",void 0),(0,d.A)(this,"idToken",void 0),(0,d.A)(this,"user",void 0),(0,d.A)(this,"idTokenResult",void 0),(0,d.A)(this,"credential",void 0);const hn=new me.B,sr=(0,et.of)(void 0).pipe((0,Ct.Q)(Nn.outsideAngular),(0,_t.n)(()=>mn.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2438)))),(0,mt.T)(()=>(0,Qe.iB)(Ot,mn,jt)),(0,mt.T)(yr=>Ke(yr,mn,$n,rn,tr,ze,en,xe)),ut({bufferSize:1,refCount:!1}));if((0,k.Vy)(Pt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,et.of)(null);else{sr.pipe((0,Ht.$)()).subscribe();const yr=sr.pipe((0,_t.n)(yn=>yn.getRedirectResult().then(dr=>dr,()=>null)),ae.U0,ut({bufferSize:1,refCount:!1})),ar=sr.pipe((0,_t.n)(yn=>new at.c(dr=>({unsubscribe:mn.runOutsideAngular(()=>yn.onAuthStateChanged(hr=>dr.next(hr),hr=>dr.error(hr),()=>dr.complete()))})))),Fn=sr.pipe((0,_t.n)(yn=>new at.c(dr=>({unsubscribe:mn.runOutsideAngular(()=>yn.onIdTokenChanged(hr=>dr.next(hr),hr=>dr.error(hr),()=>dr.complete()))}))));this.authState=yr.pipe(He(ar),(0,Tt._)(Nn.outsideAngular),(0,Ct.Q)(Nn.insideAngular)),this.user=yr.pipe(He(Fn),(0,Tt._)(Nn.outsideAngular),(0,Ct.Q)(Nn.insideAngular)),this.idToken=this.user.pipe((0,_t.n)(yn=>yn?(0,Le.H)(yn.getIdToken()):(0,et.of)(null))),this.idTokenResult=this.user.pipe((0,_t.n)(yn=>yn?(0,Le.H)(yn.getIdTokenResult()):(0,et.of)(null))),this.credential=function ct(...Re){const Ze=(0,nt.lI)(Re),dt=(0,nt.R0)(Re,1/0),Ot=Re;return Ot.length?1===Ot.length?(0,it.Tg)(Ot[0]):(0,De.U)(dt)((0,Le.H)(Ot,Ze)):ot.w}(yr,hn,this.authState.pipe((0,dn.p)(yn=>!yn))).pipe((0,mt.T)(yn=>null!=yn&&yn.user?yn:null),(0,Tt._)(Nn.outsideAngular),(0,Ct.Q)(Nn.insideAngular))}return(0,Qe.Gt)(this,sr,mn,{spy:{apply:(yr,ar,Fn)=>{(yr.startsWith("signIn")||yr.startsWith("createUser"))&&Fn.then(yn=>hn.next(yn))}}})}}return Re=Ze,(0,d.A)(Ze,"\u0275fac",function(Ot){return new(Ot||Re)(de.KVO(Qe.rx),de.KVO(Qe.uP,8),de.KVO(de.Agw),de.KVO(de.SKi),de.KVO(ae.u0),de.KVO(Rn,8),de.KVO(Mt,8),de.KVO(Ve,8),de.KVO(te,8),de.KVO(ne,8),de.KVO(ge,8),de.KVO(ae.Jv,8))}),(0,d.A)(Ze,"\u0275prov",de.jDH({token:Re,factory:Re.\u0275fac,providedIn:"any"})),Ze})(),$e=(()=>{var Re;class Ze{constructor(){An.A.registerVersion("angularfire",ae.xv.full,"auth-compat")}}return Re=Ze,(0,d.A)(Ze,"\u0275fac",function(Ot){return new(Ot||Re)}),(0,d.A)(Ze,"\u0275mod",de.$C({type:Re})),(0,d.A)(Ze,"\u0275inj",de.G2t({providers:[Oe]})),Ze})()},8079:(xn,St,L)=>{"use strict";L.d(St,{Qe:()=>q0});var d=L(9842),s=L(177),k=L(4438),de=L(5407),ae=L(9253),Qe=L(1182),me=L(3236),et=L(1985),at=L(8455),Le=L(7673),De=L(9172),it=L(9974),ot=L(4360);function nt(){return(0,it.N)((u,t)=>{let r,a=!1;u.subscribe((0,ot._)(t,c=>{const g=r;r=c,a&&t.next([g,c]),a=!0}))})}var He,Tt,ct=L(6354),Ct=L(2816),_t=L(3294),mt=L(5964),It=(L(2438),L(3345)),Me=L(467),Fe=L(7852),tt=L(1362),Ye=L(8041),ut=L(1076),Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={};(function(){var u;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(Ft,lt,Rt){Rt||(Rt=0);var Bt=Array(16);if("string"==typeof lt)for(var zt=0;16>zt;++zt)Bt[zt]=lt.charCodeAt(Rt++)|lt.charCodeAt(Rt++)<<8|lt.charCodeAt(Rt++)<<16|lt.charCodeAt(Rt++)<<24;else for(zt=0;16>zt;++zt)Bt[zt]=lt[Rt++]|lt[Rt++]<<8|lt[Rt++]<<16|lt[Rt++]<<24;var Xt=Ft.g[3],bt=(lt=Ft.g[0])+(Xt^(Rt=Ft.g[1])&((zt=Ft.g[2])^Xt))+Bt[0]+3614090360&4294967295;bt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=(Rt=(zt=(Xt=(lt=Rt+(bt<<7&4294967295|bt>>>25))+((bt=Xt+(zt^lt&(Rt^zt))+Bt[1]+3905402710&4294967295)<<12&4294967295|bt>>>20))+((bt=zt+(Rt^Xt&(lt^Rt))+Bt[2]+606105819&4294967295)<<17&4294967295|bt>>>15))+((bt=Rt+(lt^zt&(Xt^lt))+Bt[3]+3250441966&4294967295)<<22&4294967295|bt>>>10))+((bt=lt+(Xt^Rt&(zt^Xt))+Bt[4]+4118548399&4294967295)<<7&4294967295|bt>>>25))+((bt=Xt+(zt^lt&(Rt^zt))+Bt[5]+1200080426&4294967295)<<12&4294967295|bt>>>20))+((bt=zt+(Rt^Xt&(lt^Rt))+Bt[6]+2821735955&4294967295)<<17&4294967295|bt>>>15))+((bt=Rt+(lt^zt&(Xt^lt))+Bt[7]+4249261313&4294967295)<<22&4294967295|bt>>>10))+((bt=lt+(Xt^Rt&(zt^Xt))+Bt[8]+1770035416&4294967295)<<7&4294967295|bt>>>25))+((bt=Xt+(zt^lt&(Rt^zt))+Bt[9]+2336552879&4294967295)<<12&4294967295|bt>>>20))+((bt=zt+(Rt^Xt&(lt^Rt))+Bt[10]+4294925233&4294967295)<<17&4294967295|bt>>>15))+((bt=Rt+(lt^zt&(Xt^lt))+Bt[11]+2304563134&4294967295)<<22&4294967295|bt>>>10))+((bt=lt+(Xt^Rt&(zt^Xt))+Bt[12]+1804603682&4294967295)<<7&4294967295|bt>>>25))+((bt=Xt+(zt^lt&(Rt^zt))+Bt[13]+4254626195&4294967295)<<12&4294967295|bt>>>20))+((bt=zt+(Rt^Xt&(lt^Rt))+Bt[14]+2792965006&4294967295)<<17&4294967295|bt>>>15))+((bt=Rt+(lt^zt&(Xt^lt))+Bt[15]+1236535329&4294967295)<<22&4294967295|bt>>>10))+((bt=lt+(zt^Xt&(Rt^zt))+Bt[1]+4129170786&4294967295)<<5&4294967295|bt>>>27))+((bt=Xt+(Rt^zt&(lt^Rt))+Bt[6]+3225465664&4294967295)<<9&4294967295|bt>>>23))+((bt=zt+(lt^Rt&(Xt^lt))+Bt[11]+643717713&4294967295)<<14&4294967295|bt>>>18))+((bt=Rt+(Xt^lt&(zt^Xt))+Bt[0]+3921069994&4294967295)<<20&4294967295|bt>>>12))+((bt=lt+(zt^Xt&(Rt^zt))+Bt[5]+3593408605&4294967295)<<5&4294967295|bt>>>27))+((bt=Xt+(Rt^zt&(lt^Rt))+Bt[10]+38016083&4294967295)<<9&4294967295|bt>>>23))+((bt=zt+(lt^Rt&(Xt^lt))+Bt[15]+3634488961&4294967295)<<14&4294967295|bt>>>18))+((bt=Rt+(Xt^lt&(zt^Xt))+Bt[4]+3889429448&4294967295)<<20&4294967295|bt>>>12))+((bt=lt+(zt^Xt&(Rt^zt))+Bt[9]+568446438&4294967295)<<5&4294967295|bt>>>27))+((bt=Xt+(Rt^zt&(lt^Rt))+Bt[14]+3275163606&4294967295)<<9&4294967295|bt>>>23))+((bt=zt+(lt^Rt&(Xt^lt))+Bt[3]+4107603335&4294967295)<<14&4294967295|bt>>>18))+((bt=Rt+(Xt^lt&(zt^Xt))+Bt[8]+1163531501&4294967295)<<20&4294967295|bt>>>12))+((bt=lt+(zt^Xt&(Rt^zt))+Bt[13]+2850285829&4294967295)<<5&4294967295|bt>>>27))+((bt=Xt+(Rt^zt&(lt^Rt))+Bt[2]+4243563512&4294967295)<<9&4294967295|bt>>>23))+((bt=zt+(lt^Rt&(Xt^lt))+Bt[7]+1735328473&4294967295)<<14&4294967295|bt>>>18))+((bt=Rt+(Xt^lt&(zt^Xt))+Bt[12]+2368359562&4294967295)<<20&4294967295|bt>>>12))+((bt=lt+(Rt^zt^Xt)+Bt[5]+4294588738&4294967295)<<4&4294967295|bt>>>28))+((bt=Xt+(lt^Rt^zt)+Bt[8]+2272392833&4294967295)<<11&4294967295|bt>>>21))+((bt=zt+(Xt^lt^Rt)+Bt[11]+1839030562&4294967295)<<16&4294967295|bt>>>16))+((bt=Rt+(zt^Xt^lt)+Bt[14]+4259657740&4294967295)<<23&4294967295|bt>>>9))+((bt=lt+(Rt^zt^Xt)+Bt[1]+2763975236&4294967295)<<4&4294967295|bt>>>28))+((bt=Xt+(lt^Rt^zt)+Bt[4]+1272893353&4294967295)<<11&4294967295|bt>>>21))+((bt=zt+(Xt^lt^Rt)+Bt[7]+4139469664&4294967295)<<16&4294967295|bt>>>16))+((bt=Rt+(zt^Xt^lt)+Bt[10]+3200236656&4294967295)<<23&4294967295|bt>>>9))+((bt=lt+(Rt^zt^Xt)+Bt[13]+681279174&4294967295)<<4&4294967295|bt>>>28))+((bt=Xt+(lt^Rt^zt)+Bt[0]+3936430074&4294967295)<<11&4294967295|bt>>>21))+((bt=zt+(Xt^lt^Rt)+Bt[3]+3572445317&4294967295)<<16&4294967295|bt>>>16))+((bt=Rt+(zt^Xt^lt)+Bt[6]+76029189&4294967295)<<23&4294967295|bt>>>9))+((bt=lt+(Rt^zt^Xt)+Bt[9]+3654602809&4294967295)<<4&4294967295|bt>>>28))+((bt=Xt+(lt^Rt^zt)+Bt[12]+3873151461&4294967295)<<11&4294967295|bt>>>21))+((bt=zt+(Xt^lt^Rt)+Bt[15]+530742520&4294967295)<<16&4294967295|bt>>>16))+((bt=Rt+(zt^Xt^lt)+Bt[2]+3299628645&4294967295)<<23&4294967295|bt>>>9))+((bt=lt+(zt^(Rt|~Xt))+Bt[0]+4096336452&4294967295)<<6&4294967295|bt>>>26))+((bt=Xt+(Rt^(lt|~zt))+Bt[7]+1126891415&4294967295)<<10&4294967295|bt>>>22))+((bt=zt+(lt^(Xt|~Rt))+Bt[14]+2878612391&4294967295)<<15&4294967295|bt>>>17))+((bt=Rt+(Xt^(zt|~lt))+Bt[5]+4237533241&4294967295)<<21&4294967295|bt>>>11))+((bt=lt+(zt^(Rt|~Xt))+Bt[12]+1700485571&4294967295)<<6&4294967295|bt>>>26))+((bt=Xt+(Rt^(lt|~zt))+Bt[3]+2399980690&4294967295)<<10&4294967295|bt>>>22))+((bt=zt+(lt^(Xt|~Rt))+Bt[10]+4293915773&4294967295)<<15&4294967295|bt>>>17))+((bt=Rt+(Xt^(zt|~lt))+Bt[1]+2240044497&4294967295)<<21&4294967295|bt>>>11))+((bt=lt+(zt^(Rt|~Xt))+Bt[8]+1873313359&4294967295)<<6&4294967295|bt>>>26))+((bt=Xt+(Rt^(lt|~zt))+Bt[15]+4264355552&4294967295)<<10&4294967295|bt>>>22))+((bt=zt+(lt^(Xt|~Rt))+Bt[6]+2734768916&4294967295)<<15&4294967295|bt>>>17))+((bt=Rt+(Xt^(zt|~lt))+Bt[13]+1309151649&4294967295)<<21&4294967295|bt>>>11))+((Xt=(lt=Rt+((bt=lt+(zt^(Rt|~Xt))+Bt[4]+4149444226&4294967295)<<6&4294967295|bt>>>26))+((bt=Xt+(Rt^(lt|~zt))+Bt[11]+3174756917&4294967295)<<10&4294967295|bt>>>22))^((zt=Xt+((bt=zt+(lt^(Xt|~Rt))+Bt[2]+718787259&4294967295)<<15&4294967295|bt>>>17))|~lt))+Bt[9]+3951481745&4294967295,Ft.g[0]=Ft.g[0]+lt&4294967295,Ft.g[1]=Ft.g[1]+(zt+(bt<<21&4294967295|bt>>>11))&4294967295,Ft.g[2]=Ft.g[2]+zt&4294967295,Ft.g[3]=Ft.g[3]+Xt&4294967295}function E(Ft,lt){this.h=lt;for(var Rt=[],Bt=!0,zt=Ft.length-1;0<=zt;zt--){var Xt=0|Ft[zt];Bt&&Xt==lt||(Rt[zt]=Xt,Bt=!1)}this.g=Rt}(function t(Ft,lt){function Rt(){}Rt.prototype=lt.prototype,Ft.D=lt.prototype,Ft.prototype=new Rt,Ft.prototype.constructor=Ft,Ft.C=function(Bt,zt,Xt){for(var bt=Array(arguments.length-2),Ql=2;Ql<arguments.length;Ql++)bt[Ql-2]=arguments[Ql];return lt.prototype[zt].apply(Bt,bt)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(Ft,lt){void 0===lt&&(lt=Ft.length);for(var Rt=lt-this.blockSize,Bt=this.B,zt=this.h,Xt=0;Xt<lt;){if(0==zt)for(;Xt<=Rt;)c(this,Ft,Xt),Xt+=this.blockSize;if("string"==typeof Ft){for(;Xt<lt;)if(Bt[zt++]=Ft.charCodeAt(Xt++),zt==this.blockSize){c(this,Bt),zt=0;break}}else for(;Xt<lt;)if(Bt[zt++]=Ft[Xt++],zt==this.blockSize){c(this,Bt),zt=0;break}}this.h=zt,this.o+=lt},a.prototype.v=function(){var Ft=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ft[0]=128;for(var lt=1;lt<Ft.length-8;++lt)Ft[lt]=0;var Rt=8*this.o;for(lt=Ft.length-8;lt<Ft.length;++lt)Ft[lt]=255&Rt,Rt/=256;for(this.u(Ft),Ft=Array(16),lt=Rt=0;4>lt;++lt)for(var Bt=0;32>Bt;Bt+=8)Ft[Rt++]=this.g[lt]>>>Bt&255;return Ft};var x={};function B(Ft){return-128<=Ft&&128>Ft?function g(Ft,lt){var Rt=x;return Object.prototype.hasOwnProperty.call(Rt,Ft)?Rt[Ft]:Rt[Ft]=lt(Ft)}(Ft,function(lt){return new E([0|lt],0>lt?-1:0)}):new E([0|Ft],0>Ft?-1:0)}function X(Ft){if(isNaN(Ft)||!isFinite(Ft))return je;if(0>Ft)return Pn(X(-Ft));for(var lt=[],Rt=1,Bt=0;Ft>=Rt;Bt++)lt[Bt]=Ft/Rt|0,Rt*=4294967296;return new E(lt,0)}var je=B(0),yt=B(1),qt=B(16777216);function vn(Ft){if(0!=Ft.h)return!1;for(var lt=0;lt<Ft.g.length;lt++)if(0!=Ft.g[lt])return!1;return!0}function Vn(Ft){return-1==Ft.h}function Pn(Ft){for(var lt=Ft.g.length,Rt=[],Bt=0;Bt<lt;Bt++)Rt[Bt]=~Ft.g[Bt];return new E(Rt,~Ft.h).add(yt)}function vr(Ft,lt){return Ft.add(Pn(lt))}function Pr(Ft,lt){for(;(65535&Ft[lt])!=Ft[lt];)Ft[lt+1]+=Ft[lt]>>>16,Ft[lt]&=65535,lt++}function Er(Ft,lt){this.g=Ft,this.h=lt}function Yr(Ft,lt){if(vn(lt))throw Error("division by zero");if(vn(Ft))return new Er(je,je);if(Vn(Ft))return lt=Yr(Pn(Ft),lt),new Er(Pn(lt.g),Pn(lt.h));if(Vn(lt))return lt=Yr(Ft,Pn(lt)),new Er(Pn(lt.g),lt.h);if(30<Ft.g.length){if(Vn(Ft)||Vn(lt))throw Error("slowDivide_ only works with positive integers.");for(var Rt=yt,Bt=lt;0>=Bt.l(Ft);)Rt=Hi(Rt),Bt=Hi(Bt);var zt=ii(Rt,1),Xt=ii(Bt,1);for(Bt=ii(Bt,2),Rt=ii(Rt,2);!vn(Bt);){var bt=Xt.add(Bt);0>=bt.l(Ft)&&(zt=zt.add(Rt),Xt=bt),Bt=ii(Bt,1),Rt=ii(Rt,1)}return lt=vr(Ft,zt.j(lt)),new Er(zt,lt)}for(zt=je;0<=Ft.l(lt);){for(Rt=Math.max(1,Math.floor(Ft.m()/lt.m())),Bt=48>=(Bt=Math.ceil(Math.log(Rt)/Math.LN2))?1:Math.pow(2,Bt-48),bt=(Xt=X(Rt)).j(lt);Vn(bt)||0<bt.l(Ft);)bt=(Xt=X(Rt-=Bt)).j(lt);vn(Xt)&&(Xt=yt),zt=zt.add(Xt),Ft=vr(Ft,bt)}return new Er(zt,Ft)}function Hi(Ft){for(var lt=Ft.g.length+1,Rt=[],Bt=0;Bt<lt;Bt++)Rt[Bt]=Ft.i(Bt)<<1|Ft.i(Bt-1)>>>31;return new E(Rt,Ft.h)}function ii(Ft,lt){var Rt=lt>>5;lt%=32;for(var Bt=Ft.g.length-Rt,zt=[],Xt=0;Xt<Bt;Xt++)zt[Xt]=0<lt?Ft.i(Xt+Rt)>>>lt|Ft.i(Xt+Rt+1)<<32-lt:Ft.i(Xt+Rt);return new E(zt,Ft.h)}(u=E.prototype).m=function(){if(Vn(this))return-Pn(this).m();for(var Ft=0,lt=1,Rt=0;Rt<this.g.length;Rt++){var Bt=this.i(Rt);Ft+=(0<=Bt?Bt:4294967296+Bt)*lt,lt*=4294967296}return Ft},u.toString=function(Ft){if(2>(Ft=Ft||10)||36<Ft)throw Error("radix out of range: "+Ft);if(vn(this))return"0";if(Vn(this))return"-"+Pn(this).toString(Ft);for(var lt=X(Math.pow(Ft,6)),Rt=this,Bt="";;){var zt=Yr(Rt,lt).g,Xt=((0<(Rt=vr(Rt,zt.j(lt))).g.length?Rt.g[0]:Rt.h)>>>0).toString(Ft);if(vn(Rt=zt))return Xt+Bt;for(;6>Xt.length;)Xt="0"+Xt;Bt=Xt+Bt}},u.i=function(Ft){return 0>Ft?0:Ft<this.g.length?this.g[Ft]:this.h},u.l=function(Ft){return Vn(Ft=vr(this,Ft))?-1:vn(Ft)?0:1},u.abs=function(){return Vn(this)?Pn(this):this},u.add=function(Ft){for(var lt=Math.max(this.g.length,Ft.g.length),Rt=[],Bt=0,zt=0;zt<=lt;zt++){var Xt=Bt+(65535&this.i(zt))+(65535&Ft.i(zt)),bt=(Xt>>>16)+(this.i(zt)>>>16)+(Ft.i(zt)>>>16);Bt=bt>>>16,Rt[zt]=(bt&=65535)<<16|(Xt&=65535)}return new E(Rt,-2147483648&Rt[Rt.length-1]?-1:0)},u.j=function(Ft){if(vn(this)||vn(Ft))return je;if(Vn(this))return Vn(Ft)?Pn(this).j(Pn(Ft)):Pn(Pn(this).j(Ft));if(Vn(Ft))return Pn(this.j(Pn(Ft)));if(0>this.l(qt)&&0>Ft.l(qt))return X(this.m()*Ft.m());for(var lt=this.g.length+Ft.g.length,Rt=[],Bt=0;Bt<2*lt;Bt++)Rt[Bt]=0;for(Bt=0;Bt<this.g.length;Bt++)for(var zt=0;zt<Ft.g.length;zt++){var Xt=this.i(Bt)>>>16,bt=65535&this.i(Bt),Ql=Ft.i(zt)>>>16,Eh=65535&Ft.i(zt);Rt[2*Bt+2*zt]+=bt*Eh,Pr(Rt,2*Bt+2*zt),Rt[2*Bt+2*zt+1]+=Xt*Eh,Pr(Rt,2*Bt+2*zt+1),Rt[2*Bt+2*zt+1]+=bt*Ql,Pr(Rt,2*Bt+2*zt+1),Rt[2*Bt+2*zt+2]+=Xt*Ql,Pr(Rt,2*Bt+2*zt+2)}for(Bt=0;Bt<lt;Bt++)Rt[Bt]=Rt[2*Bt+1]<<16|Rt[2*Bt];for(Bt=lt;Bt<2*lt;Bt++)Rt[Bt]=0;return new E(Rt,0)},u.A=function(Ft){return Yr(this,Ft).h},u.and=function(Ft){for(var lt=Math.max(this.g.length,Ft.g.length),Rt=[],Bt=0;Bt<lt;Bt++)Rt[Bt]=this.i(Bt)&Ft.i(Bt);return new E(Rt,this.h&Ft.h)},u.or=function(Ft){for(var lt=Math.max(this.g.length,Ft.g.length),Rt=[],Bt=0;Bt<lt;Bt++)Rt[Bt]=this.i(Bt)|Ft.i(Bt);return new E(Rt,this.h|Ft.h)},u.xor=function(Ft){for(var lt=Math.max(this.g.length,Ft.g.length),Rt=[],Bt=0;Bt<lt;Bt++)Rt[Bt]=this.i(Bt)^Ft.i(Bt);return new E(Rt,this.h^Ft.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Tt=he.Md5=a,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=X,E.fromString=function ye(Ft,lt){if(0==Ft.length)throw Error("number format error: empty string");if(2>(lt=lt||10)||36<lt)throw Error("radix out of range: "+lt);if("-"==Ft.charAt(0))return Pn(ye(Ft.substring(1),lt));if(0<=Ft.indexOf("-"))throw Error('number format error: interior "-" character');for(var Rt=X(Math.pow(lt,8)),Bt=je,zt=0;zt<Ft.length;zt+=8){var Xt=Math.min(8,Ft.length-zt),bt=parseInt(Ft.substring(zt,zt+Xt),lt);8>Xt?(Xt=X(Math.pow(lt,Xt)),Bt=Bt.j(Xt).add(X(bt))):Bt=(Bt=Bt.j(Rt)).add(X(bt))}return Bt},He=he.Integer=E}).apply(typeof Ht<"u"?Ht:typeof self<"u"?self:typeof window<"u"?window:{});var nn,Rn,Mt,Ve,te,ne,ge,Ke,Oe,dn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},An={};(function(){var u,t="function"==typeof Object.defineProperties?Object.defineProperty:function(y,H,Z){return y==Array.prototype||y==Object.prototype||(y[H]=Z.value),y},a=function r(y){y=["object"==typeof globalThis&&globalThis,y,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof dn&&dn];for(var H=0;H<y.length;++H){var Z=y[H];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}(this);!function c(y,H){if(H)e:{var Z=a;y=y.split(".");for(var Ne=0;Ne<y.length-1;Ne++){var Kt=y[Ne];if(!(Kt in Z))break e;Z=Z[Kt]}(H=H(Ne=Z[y=y[y.length-1]]))!=Ne&&null!=H&&t(Z,y,{configurable:!0,writable:!0,value:H})}}("Array.prototype.values",function(y){return y||function(){return function g(y,H){y instanceof String&&(y+="");var Z=0,Ne=!1,Kt={next:function(){if(!Ne&&Z<y.length){var on=Z++;return{value:H(on,y[on]),done:!1}}return Ne=!0,{done:!0,value:void 0}}};return Kt[Symbol.iterator]=function(){return Kt},Kt}(this,function(H,Z){return Z})}});var E=E||{},x=this||self;function B(y){var H=typeof y;return"array"==(H="object"!=H?H:y?Array.isArray(y)?"array":H:"null")||"object"==H&&"number"==typeof y.length}function X(y){var H=typeof y;return"object"==H&&null!=y||"function"==H}function ye(y,H,Z){return y.call.apply(y.bind,arguments)}function je(y,H,Z){if(!y)throw Error();if(2<arguments.length){var Ne=Array.prototype.slice.call(arguments,2);return function(){var Kt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Kt,Ne),y.apply(H,Kt)}}return function(){return y.apply(H,arguments)}}function yt(y,H,Z){return(yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ye:je).apply(null,arguments)}function qt(y,H){var Z=Array.prototype.slice.call(arguments,1);return function(){var Ne=Z.slice();return Ne.push.apply(Ne,arguments),y.apply(this,Ne)}}function vn(y,H){function Z(){}Z.prototype=H.prototype,y.aa=H.prototype,y.prototype=new Z,y.prototype.constructor=y,y.Qb=function(Ne,Kt,on){for(var qn=Array(arguments.length-2),No=2;No<arguments.length;No++)qn[No-2]=arguments[No];return H.prototype[Kt].apply(Ne,qn)}}function Vn(y){const H=y.length;if(0<H){const Z=Array(H);for(let Ne=0;Ne<H;Ne++)Z[Ne]=y[Ne];return Z}return[]}function Pn(y,H){for(let Z=1;Z<arguments.length;Z++){const Ne=arguments[Z];if(B(Ne)){const Kt=y.length||0,on=Ne.length||0;y.length=Kt+on;for(let qn=0;qn<on;qn++)y[Kt+qn]=Ne[qn]}else y.push(Ne)}}function Pr(y){return/^[\s\xa0]*$/.test(y)}function Er(){var y=x.navigator;return y&&(y=y.userAgent)?y:""}function Yr(y){return Yr[" "](y),y}Yr[" "]=function(){};var Hi=!(-1==Er().indexOf("Gecko")||-1!=Er().toLowerCase().indexOf("webkit")&&-1==Er().indexOf("Edge")||-1!=Er().indexOf("Trident")||-1!=Er().indexOf("MSIE")||-1!=Er().indexOf("Edge"));function ii(y,H,Z){for(const Ne in y)H.call(Z,y[Ne],Ne,y)}function lt(y){const H={};for(const Z in y)H[Z]=y[Z];return H}const Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bt(y,H){let Z,Ne;for(let Kt=1;Kt<arguments.length;Kt++){for(Z in Ne=arguments[Kt],Ne)y[Z]=Ne[Z];for(let on=0;on<Rt.length;on++)Z=Rt[on],Object.prototype.hasOwnProperty.call(Ne,Z)&&(y[Z]=Ne[Z])}}function zt(y){var H=1;y=y.split(":");const Z=[];for(;0<H&&y.length;)Z.push(y.shift()),H--;return y.length&&Z.push(y.join(":")),Z}function Xt(y){x.setTimeout(()=>{throw y},0)}function bt(){var y=Vd;let H=null;return y.g&&(H=y.g,y.g=y.g.next,y.g||(y.h=null),H.next=null),H}var Eh=new class vr{constructor(H,Z){this.i=H,this.j=Z,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}(()=>new zf,y=>y.reset());class zf{constructor(){this.next=this.g=this.h=null}set(H,Z){this.h=H,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let Ah,Gf=!1,Vd=new class Ql{constructor(){this.h=this.g=null}add(H,Z){const Ne=Eh.get();Ne.set(H,Z),this.h?this.h.next=Ne:this.g=Ne,this.h=Ne}},zm=()=>{const y=x.Promise.resolve(void 0);Ah=()=>{y.then(X0)}};var X0=()=>{for(var y;y=bt();){try{y.h.call(y.g)}catch(Z){Xt(Z)}var H=Eh;H.j(y),100>H.h&&(H.h++,y.next=H.g,H.g=y)}Gf=!1};function Mc(){this.s=this.s,this.C=this.C}function Oa(y,H){this.type=y,this.g=this.target=H,this.defaultPrevented=!1}Mc.prototype.s=!1,Mc.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Oa.prototype.h=function(){this.defaultPrevented=!0};var pg=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var y=!1,H=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const Z=()=>{};x.addEventListener("test",Z,H),x.removeEventListener("test",Z,H)}catch{}return y}();function Wf(y,H){if(Oa.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var Z=this.type=y.type,Ne=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=H,H=y.relatedTarget){if(Hi){e:{try{Yr(H.nodeName);var Kt=!0;break e}catch{}Kt=!1}Kt||(H=null)}}else"mouseover"==Z?H=y.fromElement:"mouseout"==Z&&(H=y.toElement);this.relatedTarget=H,Ne?(this.clientX=void 0!==Ne.clientX?Ne.clientX:Ne.pageX,this.clientY=void 0!==Ne.clientY?Ne.clientY:Ne.pageY,this.screenX=Ne.screenX||0,this.screenY=Ne.screenY||0):(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType="string"==typeof y.pointerType?y.pointerType:Q0[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Wf.aa.h.call(this)}}vn(Wf,Oa);var Q0={2:"touch",3:"pen",4:"mouse"};Wf.prototype.h=function(){Wf.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Kf="closure_listenable_"+(1e6*Math.random()|0),Y0=0;function Z0(y,H,Z,Ne,Kt){this.listener=y,this.proxy=null,this.src=H,this.type=Z,this.capture=!!Ne,this.ha=Kt,this.key=++Y0,this.da=this.fa=!1}function Ch(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function sd(y){this.src=y,this.g={},this.h=0}function Gm(y,H){var Z=H.type;if(Z in y.g){var on,Ne=y.g[Z],Kt=Array.prototype.indexOf.call(Ne,H,void 0);(on=0<=Kt)&&Array.prototype.splice.call(Ne,Kt,1),on&&(Ch(H),0==y.g[Z].length&&(delete y.g[Z],y.h--))}}function bh(y,H,Z,Ne){for(var Kt=0;Kt<y.length;++Kt){var on=y[Kt];if(!on.da&&on.listener==H&&on.capture==!!Z&&on.ha==Ne)return Kt}return-1}sd.prototype.add=function(y,H,Z,Ne,Kt){var on=y.toString();(y=this.g[on])||(y=this.g[on]=[],this.h++);var qn=bh(y,H,Ne,Kt);return-1<qn?(H=y[qn],Z||(H.fa=!1)):((H=new Z0(H,this.src,on,!!Ne,Kt)).fa=Z,y.push(H)),H};var Th="closure_lm_"+(1e6*Math.random()|0),Jv={};function ey(y,H,Z,Ne,Kt){if(Ne&&Ne.once)return ny(y,H,Z,Ne,Kt);if(Array.isArray(H)){for(var on=0;on<H.length;on++)ey(y,H[on],Z,Ne,Kt);return null}return Z=ad(Z),y&&y[Kf]?y.K(H,Z,X(Ne)?!!Ne.capture:!!Ne,Kt):ty(y,H,Z,!1,Ne,Kt)}function ty(y,H,Z,Ne,Kt,on){if(!H)throw Error("Invalid event type");var qn=X(Kt)?!!Kt.capture:!!Kt,No=Xm(y);if(No||(y[Th]=No=new sd(y)),(Z=No.add(H,Z,Ne,qn,on)).proxy)return Z;if(Ne=function Wm(){const H=iy;return function y(Z){return H.call(y.src,y.listener,Z)}}(),Z.proxy=Ne,Ne.src=y,Ne.listener=Z,y.addEventListener)pg||(Kt=qn),void 0===Kt&&(Kt=!1),y.addEventListener(H.toString(),Ne,Kt);else if(y.attachEvent)y.attachEvent(ry(H.toString()),Ne);else{if(!y.addListener||!y.removeListener)throw Error("addEventListener and attachEvent are unavailable.");y.addListener(Ne)}return Z}function ny(y,H,Z,Ne,Kt){if(Array.isArray(H)){for(var on=0;on<H.length;on++)ny(y,H[on],Z,Ne,Kt);return null}return Z=ad(Z),y&&y[Kf]?y.L(H,Z,X(Ne)?!!Ne.capture:!!Ne,Kt):ty(y,H,Z,!0,Ne,Kt)}function Km(y,H,Z,Ne,Kt){if(Array.isArray(H))for(var on=0;on<H.length;on++)Km(y,H[on],Z,Ne,Kt);else Ne=X(Ne)?!!Ne.capture:!!Ne,Z=ad(Z),y&&y[Kf]?(y=y.i,(H=String(H).toString())in y.g&&-1<(Z=bh(on=y.g[H],Z,Ne,Kt))&&(Ch(on[Z]),Array.prototype.splice.call(on,Z,1),0==on.length&&(delete y.g[H],y.h--))):y&&(y=Xm(y))&&(H=y.g[H.toString()],y=-1,H&&(y=bh(H,Z,Ne,Kt)),(Z=-1<y?H[y]:null)&&qm(Z))}function qm(y){if("number"!=typeof y&&y&&!y.da){var H=y.src;if(H&&H[Kf])Gm(H.i,y);else{var Z=y.type,Ne=y.proxy;H.removeEventListener?H.removeEventListener(Z,Ne,y.capture):H.detachEvent?H.detachEvent(ry(Z),Ne):H.addListener&&H.removeListener&&H.removeListener(Ne),(Z=Xm(H))?(Gm(Z,y),0==Z.h&&(Z.src=null,H[Th]=null)):Ch(y)}}}function ry(y){return y in Jv?Jv[y]:Jv[y]="on"+y}function iy(y,H){if(y.da)y=!0;else{H=new Wf(H,this);var Z=y.listener,Ne=y.ha||y.src;y.fa&&qm(y),y=Z.call(Ne,H)}return y}function Xm(y){return(y=y[Th])instanceof sd?y:null}var Qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function ad(y){return"function"==typeof y?y:(y[Qm]||(y[Qm]=function(H){return y.handleEvent(H)}),y[Qm])}function Bs(){Mc.call(this),this.i=new sd(this),this.M=this,this.F=null}function Xa(y,H){var Z,Ne=y.F;if(Ne)for(Z=[];Ne;Ne=Ne.F)Z.push(Ne);if(y=y.M,Ne=H.type||H,"string"==typeof H)H=new Oa(H,y);else if(H instanceof Oa)H.target=H.target||y;else{var Kt=H;Bt(H=new Oa(Ne,y),Kt)}if(Kt=!0,Z)for(var on=Z.length-1;0<=on;on--){var qn=H.g=Z[on];Kt=qf(qn,Ne,!0,H)&&Kt}if(Kt=qf(qn=H.g=y,Ne,!0,H)&&Kt,Kt=qf(qn,Ne,!1,H)&&Kt,Z)for(on=0;on<Z.length;on++)Kt=qf(qn=H.g=Z[on],Ne,!1,H)&&Kt}function qf(y,H,Z,Ne){if(!(H=y.i.g[String(H)]))return!0;H=H.concat();for(var Kt=!0,on=0;on<H.length;++on){var qn=H[on];if(qn&&!qn.da&&qn.capture==Z){var No=qn.listener,sa=qn.ha||qn.src;qn.fa&&Gm(y.i,qn),Kt=!1!==No.call(sa,Ne)&&Kt}}return Kt&&!Ne.defaultPrevented}function oy(y,H,Z){if("function"==typeof y)Z&&(y=yt(y,Z));else{if(!y||"function"!=typeof y.handleEvent)throw Error("Invalid listener argument");y=yt(y.handleEvent,y)}return 2147483647<Number(H)?-1:x.setTimeout(y,H||0)}function Ym(y){y.g=oy(()=>{y.g=null,y.i&&(y.i=!1,Ym(y))},y.l);const H=y.h;y.h=null,y.m.apply(null,H)}vn(Bs,Mc),Bs.prototype[Kf]=!0,Bs.prototype.removeEventListener=function(y,H,Z,Ne){Km(this,y,H,Z,Ne)},Bs.prototype.N=function(){if(Bs.aa.N.call(this),this.i){var H,y=this.i;for(H in y.g){for(var Z=y.g[H],Ne=0;Ne<Z.length;Ne++)Ch(Z[Ne]);delete y.g[H],y.h--}}this.F=null},Bs.prototype.K=function(y,H,Z,Ne){return this.i.add(String(y),H,!1,Z,Ne)},Bs.prototype.L=function(y,H,Z,Ne){return this.i.add(String(y),H,!0,Z,Ne)};class JE extends Mc{constructor(H,Z){super(),this.m=H,this.l=Z,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:Ym(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xf(y){Mc.call(this),this.h=y,this.g={}}vn(Xf,Mc);var wh=[];function Zm(y){ii(y.g,function(H,Z){this.g.hasOwnProperty(Z)&&qm(H)},y),y.g={}}Xf.prototype.N=function(){Xf.aa.N.call(this),Zm(this)},Xf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jm=x.JSON.stringify,J0=x.JSON.parse,eI=class{stringify(y){return x.JSON.stringify(y,void 0)}parse(y){return x.JSON.parse(y,void 0)}};function Qf(){}function e_(){}Qf.prototype.h=null;var dl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gg(){Oa.call(this,"d")}function t_(){Oa.call(this,"c")}vn(gg,Oa),vn(t_,Oa);var Dh={},ys=null;function mg(){return ys=ys||new Bs}function _g(y){Oa.call(this,Dh.La,y)}function Yf(y){const H=mg();Xa(H,new _g(H))}function sy(y,H){Oa.call(this,Dh.STAT_EVENT,y),this.stat=H}function va(y){const H=mg();Xa(H,new sy(H,y))}function n_(y,H){Oa.call(this,Dh.Ma,y),this.size=H}function Sh(y,H){if("function"!=typeof y)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){y()},H)}function Rh(){this.g=!0}function Yl(y,H,Z,Ne){y.info(function(){return"XMLHTTP TEXT ("+H+"): "+function r_(y,H){if(!y.g)return H;if(!H)return null;try{var Z=JSON.parse(H);if(Z)for(y=0;y<Z.length;y++)if(Array.isArray(Z[y])){var Ne=Z[y];if(!(2>Ne.length)){var Kt=Ne[1];if(Array.isArray(Kt)&&!(1>Kt.length)){var on=Kt[0];if("noop"!=on&&"stop"!=on&&"close"!=on)for(var qn=1;qn<Kt.length;qn++)Kt[qn]=""}}}return Jm(Z)}catch{return H}}(y,Z)+(Ne?" "+Ne:"")})}Dh.La="serverreachability",vn(_g,Oa),Dh.STAT_EVENT="statevent",vn(sy,Oa),Dh.Ma="timingevent",vn(n_,Oa),Rh.prototype.xa=function(){this.g=!1},Rh.prototype.info=function(){};var yg,vg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},i_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Zf(){}function Zl(y,H,Z,Ne){this.j=y,this.i=H,this.l=Z,this.R=Ne||1,this.U=new Xf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ig}function Ig(){this.i=null,this.g="",this.h=!1}vn(Zf,Qf),Zf.prototype.g=function(){return new XMLHttpRequest},Zf.prototype.i=function(){return{}},yg=new Zf;var Pc={},Mh={};function Eg(y,H,Z){y.L=1,y.v=tp(Nc(H)),y.m=Z,y.P=!0,Ph(y,null)}function Ph(y,H){y.F=Date.now(),xh(y),y.A=Nc(y.v);var Z=y.A,Ne=y.R;Array.isArray(Ne)||(Ne=[String(Ne)]),bg(Z.i,"t",Ne),y.C=0,Z=y.j.J,y.h=new Ig,y.g=CI(y.j,Z?H:null,!y.m),0<y.O&&(y.M=new JE(yt(y.Y,y,y.g),y.O)),H=y.U,Z=y.g,Ne=y.ca;var Kt="readystatechange";Array.isArray(Kt)||(Kt&&(wh[0]=Kt.toString()),Kt=wh);for(var on=0;on<Kt.length;on++){var qn=ey(Z,Kt[on],Ne||H.handleEvent,!1,H.h||H);if(!qn)break;H.g[qn.key]=qn}H=y.H?lt(y.H):{},y.m?(y.u||(y.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,H)):(y.u="GET",y.g.ea(y.A,y.u,null,H)),Yf(),function nI(y,H,Z,Ne,Kt,on){y.info(function(){if(y.g)if(on)for(var qn="",No=on.split("&"),sa=0;sa<No.length;sa++){var ao=No[sa].split("=");if(1<ao.length){var Ia=ao[0];ao=ao[1];var Qa=Ia.split("_");qn=2<=Qa.length&&"type"==Qa[1]?qn+(Ia+"=")+ao+"&":qn+(Ia+"=redacted&")}}else qn=null;else qn=on;return"XMLHTTP REQ ("+Ne+") [attempt "+Kt+"]: "+H+"\n"+Z+"\n"+qn})}(y.i,y.u,y.A,y.l,y.R,y.m)}function ly(y){return!!y.g&&"GET"==y.u&&2!=y.L&&y.j.Ca}function iI(y,H){var Z=y.C,Ne=H.indexOf("\n",Z);return-1==Ne?Mh:(Z=Number(H.substring(Z,Ne)),isNaN(Z)?Pc:(Ne+=1)+Z>H.length?Mh:(H=H.slice(Ne,Ne+Z),y.C=Ne+Z,H))}function xh(y){y.S=Date.now()+y.I,o_(y,y.I)}function o_(y,H){if(null!=y.B)throw Error("WatchDog timer not null");y.B=Sh(yt(y.ba,y),H)}function Yu(y){y.B&&(x.clearTimeout(y.B),y.B=null)}function xc(y){0==y.j.G||y.J||yI(y.j,y)}function Nh(y){Yu(y);var H=y.M;H&&"function"==typeof H.ma&&H.ma(),y.M=null,Zm(y.U),y.g&&(H=y.g,y.g=null,H.abort(),H.ma())}function Oh(y,H){try{var Z=y.j;if(0!=Z.G&&(Z.g==y||Ld(Z.h,y)))if(!y.K&&Ld(Z.h,y)&&3==Z.G){try{var Ne=Z.Da.g.parse(H)}catch{Ne=null}if(Array.isArray(Ne)&&3==Ne.length){var Kt=Ne;if(0==Kt[0]){e:if(!Z.u){if(Z.g){if(!(Z.g.F+3e3<y.F))break e;I_(Z),__(Z)}Dg(Z),va(18)}}else Z.za=Kt[1],0<Z.za-Z.T&&37500>Kt[2]&&Z.F&&0==Z.v&&!Z.C&&(Z.C=Sh(yt(Z.Za,Z),6e3));if(1>=Jf(Z.h)&&Z.ca){try{Z.ca()}catch{}Z.ca=void 0}}else Bh(Z,11)}else if((y.K||Z.g==y)&&I_(Z),!Pr(H))for(Kt=Z.Da.g.parse(H),H=0;H<Kt.length;H++){let ao=Kt[H];if(Z.T=ao[0],ao=ao[1],2==Z.G)if("c"==ao[0]){Z.K=ao[1],Z.ia=ao[2];const Ia=ao[3];null!=Ia&&(Z.la=Ia,Z.j.info("VER="+Z.la));const Qa=ao[4];null!=Qa&&(Z.Aa=Qa,Z.j.info("SVER="+Z.Aa));const $h=ao[5];null!=$h&&"number"==typeof $h&&0<$h&&(Z.L=Ne=1.5*$h,Z.j.info("backChannelRequestTimeoutMs_="+Ne)),Ne=Z;const Jl=y.g;if(Jl){const jh=Jl.g?Jl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jh){var on=Ne.h;on.g||-1==jh.indexOf("spdy")&&-1==jh.indexOf("quic")&&-1==jh.indexOf("h2")||(on.j=on.l,on.g=new Set,on.h&&(a_(on,on.h),on.h=null))}if(Ne.D){const E_=Jl.g?Jl.g.getResponseHeader("X-HTTP-Session-Id"):null;E_&&(Ne.ya=E_,xo(Ne.I,Ne.D,E_))}}Z.G=3,Z.l&&Z.l.ua(),Z.ba&&(Z.R=Date.now()-y.F,Z.j.info("Handshake RTT: "+Z.R+"ms"));var qn=y;if((Ne=Z).qa=AI(Ne,Ne.J?Ne.ia:null,Ne.W),qn.K){dy(Ne.h,qn);var No=qn,sa=Ne.L;sa&&(No.I=sa),No.B&&(Yu(No),xh(No)),Ne.g=qn}else y_(Ne);0<Z.i.length&&v_(Z)}else"stop"!=ao[0]&&"close"!=ao[0]||Bh(Z,7);else 3==Z.G&&("stop"==ao[0]||"close"==ao[0]?"stop"==ao[0]?Bh(Z,7):Ey(Z):"noop"!=ao[0]&&Z.l&&Z.l.ta(ao),Z.v=0)}Yf()}catch{}}Zl.prototype.ca=function(y){y=y.target;const H=this.M;H&&3==ec(y)?H.j():this.Y(y)},Zl.prototype.Y=function(y){try{if(y==this.g)e:{const Qa=ec(this.g);var H=this.g.Ba();if(this.g.Z(),!(3>Qa)&&(3!=Qa||this.g&&(this.h.h||this.g.oa()||m_(this.g)))){this.J||4!=Qa||7==H||Yf(),Yu(this);var Z=this.g.Z();this.X=Z;t:if(ly(this)){var Ne=m_(this.g);y="";var Kt=Ne.length,on=4==ec(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Nh(this),xc(this);var qn="";break t}this.h.i=new x.TextDecoder}for(H=0;H<Kt;H++)this.h.h=!0,y+=this.h.i.decode(Ne[H],{stream:!(on&&H==Kt-1)});Ne.length=0,this.h.g+=y,this.C=0,qn=this.h.g}else qn=this.g.oa();if(this.o=200==Z,function rI(y,H,Z,Ne,Kt,on,qn){y.info(function(){return"XMLHTTP RESP ("+Ne+") [ attempt "+Kt+"]: "+H+"\n"+Z+"\n"+on+" "+qn})}(this.i,this.u,this.A,this.l,this.R,Qa,Z),this.o){if(this.T&&!this.K){t:{if(this.g){var No,sa=this.g;if((No=sa.g?sa.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pr(No)){var ao=No;break t}}ao=null}if(!(Z=ao)){this.o=!1,this.s=3,va(12),Nh(this),xc(this);break e}Yl(this.i,this.l,Z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oh(this,Z)}if(this.P){let Jl;for(Z=!0;!this.J&&this.C<qn.length;){if(Jl=iI(this,qn),Jl==Mh){4==Qa&&(this.s=4,va(14),Z=!1),Yl(this.i,this.l,null,"[Incomplete Response]");break}if(Jl==Pc){this.s=4,va(15),Yl(this.i,this.l,qn,"[Invalid Chunk]"),Z=!1;break}Yl(this.i,this.l,Jl,null),Oh(this,Jl)}if(ly(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Qa||0!=qn.length||this.h.h||(this.s=1,va(16),Z=!1),this.o=this.o&&Z,Z){if(0<qn.length&&!this.W){this.W=!0;var Ia=this.j;Ia.g==this&&Ia.ba&&!Ia.M&&(Ia.j.info("Great, no buffering proxy detected. Bytes received: "+qn.length),Ay(Ia),Ia.M=!0,va(11))}}else Yl(this.i,this.l,qn,"[Invalid Chunked Response]"),Nh(this),xc(this)}else Yl(this.i,this.l,qn,null),Oh(this,qn);4==Qa&&Nh(this),this.o&&!this.J&&(4==Qa?yI(this.j,this):(this.o=!1,xh(this)))}else(function yy(y){const H={};y=(y.g&&2<=ec(y)&&y.g.getAllResponseHeaders()||"").split("\r\n");for(let Ne=0;Ne<y.length;Ne++){if(Pr(y[Ne]))continue;var Z=zt(y[Ne]);const Kt=Z[0];if("string"!=typeof(Z=Z[1]))continue;Z=Z.trim();const on=H[Kt]||[];H[Kt]=on,on.push(Z)}!function Ft(y,H){for(const Z in y)H.call(void 0,y[Z],Z,y)}(H,function(Ne){return Ne.join(", ")})})(this.g),400==Z&&0<qn.indexOf("Unknown SID")?(this.s=3,va(12)):(this.s=0,va(13)),Nh(this),xc(this)}}}catch{}},Zl.prototype.cancel=function(){this.J=!0,Nh(this)},Zl.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(function ay(y,H){y.info(function(){return"TIMEOUT: "+H})}(this.i,this.A),2!=this.L&&(Yf(),va(17)),Nh(this),this.s=2,xc(this)):o_(this,this.S-y)};var uy=class{constructor(y,H){this.g=y,this.map=H}};function s_(y){this.l=y||10,y=x.PerformanceNavigationTiming?0<(y=x.performance.getEntriesByType("navigation")).length&&("hq"==y[0].nextHopProtocol||"h2"==y[0].nextHopProtocol):!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cy(y){return!!y.h||!!y.g&&y.g.size>=y.j}function Jf(y){return y.h?1:y.g?y.g.size:0}function Ld(y,H){return y.h?y.h==H:!!y.g&&y.g.has(H)}function a_(y,H){y.g?y.g.add(H):y.h=H}function dy(y,H){y.h&&y.h==H?y.h=null:y.g&&y.g.has(H)&&y.g.delete(H)}function hy(y){if(null!=y.h)return y.i.concat(y.h.D);if(null!=y.g&&0!==y.g.size){let H=y.i;for(const Z of y.g.values())H=H.concat(Z.D);return H}return Vn(y.i)}function fy(y,H){if(y.forEach&&"function"==typeof y.forEach)y.forEach(H,void 0);else if(B(y)||"string"==typeof y)Array.prototype.forEach.call(y,H,void 0);else for(var Z=function sI(y){if(y.na&&"function"==typeof y.na)return y.na();if(!y.V||"function"!=typeof y.V){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(B(y)||"string"==typeof y){var H=[];y=y.length;for(var Z=0;Z<y;Z++)H.push(Z);return H}H=[],Z=0;for(const Ne in y)H[Z++]=Ne;return H}}}(y),Ne=function oI(y){if(y.V&&"function"==typeof y.V)return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if("string"==typeof y)return y.split("");if(B(y)){for(var H=[],Z=y.length,Ne=0;Ne<Z;Ne++)H.push(y[Ne]);return H}for(Ne in H=[],Z=0,y)H[Z++]=y[Ne];return H}(y),Kt=Ne.length,on=0;on<Kt;on++)H.call(void 0,Ne[on],Z&&Z[on],y)}s_.prototype.cancel=function(){if(this.i=hy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const y of this.g.values())y.cancel();this.g.clear()}};var py=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zu(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Zu){this.h=y.h,Ag(this,y.j),this.o=y.o,this.g=y.g,ep(this,y.s),this.l=y.l;var H=y.i,Z=new Ud;Z.i=H.i,H.g&&(Z.g=new Map(H.g),Z.h=H.h),l_(this,Z),this.m=y.m}else y&&(H=String(y).match(py))?(this.h=!1,Ag(this,H[1]||"",!0),this.o=np(H[2]||""),this.g=np(H[3]||"",!0),ep(this,H[4]),this.l=np(H[5]||"",!0),l_(this,H[6]||"",!0),this.m=np(H[7]||"")):(this.h=!1,this.i=new Ud(null,this.h))}function Nc(y){return new Zu(y)}function Ag(y,H,Z){y.j=Z?np(H,!0):H,y.j&&(y.j=y.j.replace(/:$/,""))}function ep(y,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);y.s=H}else y.s=null}function l_(y,H,Z){H instanceof Ud?(y.i=H,function dI(y,H){H&&!y.j&&(Ju(y),y.i=null,y.g.forEach(function(Z,Ne){var Kt=Ne.toLowerCase();Ne!=Kt&&(d_(this,Ne),bg(this,Kt,Z))},y)),y.j=H}(y.i,y.h)):(Z||(H=kh(H,uI)),y.i=new Ud(H,y.h))}function xo(y,H,Z){y.i.set(H,Z)}function tp(y){return xo(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function np(y,H){return y?H?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function kh(y,H,Z){return"string"==typeof y?(y=encodeURI(y).replace(H,u_),Z&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function u_(y){return"%"+((y=y.charCodeAt(0))>>4&15).toString(16)+(15&y).toString(16)}Zu.prototype.toString=function(){var y=[],H=this.j;H&&y.push(kh(H,c_,!0),":");var Z=this.g;return(Z||"file"==H)&&(y.push("//"),(H=this.o)&&y.push(kh(H,c_,!0),"@"),y.push(encodeURIComponent(String(Z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Z=this.s)&&y.push(":",String(Z))),(Z=this.l)&&(this.g&&"/"!=Z.charAt(0)&&y.push("/"),y.push(kh(Z,"/"==Z.charAt(0)?lI:gy,!0))),(Z=this.i.toString())&&y.push("?",Z),(Z=this.m)&&y.push("#",kh(Z,cI)),y.join("")};var c_=/[#\/\?@]/g,gy=/[#\?:]/g,lI=/[#\?]/g,uI=/[#\?@]/g,cI=/#/g;function Ud(y,H){this.h=this.g=null,this.i=y||null,this.j=!!H}function Ju(y){y.g||(y.g=new Map,y.h=0,y.i&&function aI(y,H){if(y){y=y.split("&");for(var Z=0;Z<y.length;Z++){var Ne=y[Z].indexOf("="),Kt=null;if(0<=Ne){var on=y[Z].substring(0,Ne);Kt=y[Z].substring(Ne+1)}else on=y[Z];H(on,Kt?decodeURIComponent(Kt.replace(/\+/g," ")):"")}}}(y.i,function(H,Z){y.add(decodeURIComponent(H.replace(/\+/g," ")),Z)}))}function d_(y,H){Ju(y),H=Fh(y,H),y.g.has(H)&&(y.i=null,y.h-=y.g.get(H).length,y.g.delete(H))}function Cg(y,H){return Ju(y),H=Fh(y,H),y.g.has(H)}function bg(y,H,Z){d_(y,H),0<Z.length&&(y.i=null,y.g.set(Fh(y,H),Vn(Z)),y.h+=Z.length)}function Fh(y,H){return H=String(H),y.j&&(H=H.toLowerCase()),H}function Oc(y,H,Z,Ne,Kt){try{Kt&&(Kt.onload=null,Kt.onerror=null,Kt.onabort=null,Kt.ontimeout=null),Ne(Z)}catch{}}function h_(){this.g=new eI}function f_(y,H,Z){const Ne=Z||"";try{fy(y,function(Kt,on){let qn=Kt;X(Kt)&&(qn=Jm(Kt)),H.push(Ne+on+"="+encodeURIComponent(qn))})}catch(Kt){throw H.push(Ne+"type="+encodeURIComponent("_badmap")),Kt}}function Vh(y){this.l=y.Ub||null,this.j=y.eb||!1}function rp(y,H){Bs.call(this),this.D=y,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function p_(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}function ip(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Lh(y)}function Lh(y){y.onreadystatechange&&y.onreadystatechange.call(y)}function my(y){let H="";return ii(y,function(Z,Ne){H+=Ne,H+=":",H+=Z,H+="\r\n"}),H}function op(y,H,Z){e:{for(Ne in Z){var Ne=!1;break e}Ne=!0}Ne||(Z=my(Z),"string"==typeof y?null!=Z&&encodeURIComponent(String(Z)):xo(y,H,Z))}function rs(y){Bs.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=Ud.prototype).add=function(y,H){Ju(this),this.i=null,y=Fh(this,y);var Z=this.g.get(y);return Z||this.g.set(y,Z=[]),Z.push(H),this.h+=1,this},u.forEach=function(y,H){Ju(this),this.g.forEach(function(Z,Ne){Z.forEach(function(Kt){y.call(H,Kt,Ne,this)},this)},this)},u.na=function(){Ju(this);const y=Array.from(this.g.values()),H=Array.from(this.g.keys()),Z=[];for(let Ne=0;Ne<H.length;Ne++){const Kt=y[Ne];for(let on=0;on<Kt.length;on++)Z.push(H[Ne])}return Z},u.V=function(y){Ju(this);let H=[];if("string"==typeof y)Cg(this,y)&&(H=H.concat(this.g.get(Fh(this,y))));else{y=Array.from(this.g.values());for(let Z=0;Z<y.length;Z++)H=H.concat(y[Z])}return H},u.set=function(y,H){return Ju(this),this.i=null,Cg(this,y=Fh(this,y))&&(this.h-=this.g.get(y).length),this.g.set(y,[H]),this.h+=1,this},u.get=function(y,H){return y&&0<(y=this.V(y)).length?String(y[0]):H},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],H=Array.from(this.g.keys());for(var Z=0;Z<H.length;Z++){var Ne=H[Z];const on=encodeURIComponent(String(Ne)),qn=this.V(Ne);for(Ne=0;Ne<qn.length;Ne++){var Kt=on;""!==qn[Ne]&&(Kt+="="+encodeURIComponent(String(qn[Ne]))),y.push(Kt)}}return this.i=y.join("&")},vn(Vh,Qf),Vh.prototype.g=function(){return new rp(this.l,this.j)},Vh.prototype.i=function(y){return function(){return y}}({}),vn(rp,Bs),(u=rp.prototype).open=function(y,H){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=H,this.readyState=1,Lh(this)},u.send=function(y){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(H.body=y),(this.D||x).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ip(this)),this.readyState=0},u.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Lh(this)),this.g&&(this.readyState=3,Lh(this),this.g)))if("arraybuffer"===this.responseType)y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;p_(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var H=y.value?y.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!y.done}))&&(this.response=this.responseText+=H)}y.done?ip(this):Lh(this),3==this.readyState&&p_(this)}},u.Ra=function(y){this.g&&(this.response=this.responseText=y,ip(this))},u.Qa=function(y){this.g&&(this.response=y,ip(this))},u.ga=function(){this.g&&ip(this)},u.setRequestHeader=function(y,H){this.u.append(y,H)},u.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],H=this.h.entries();for(var Z=H.next();!Z.done;)y.push((Z=Z.value)[0]+": "+Z[1]),Z=H.next();return y.join("\r\n")},Object.defineProperty(rp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(y){this.m=y?"include":"same-origin"}}),vn(rs,Bs);var _y=/^https?$/i,eA=["POST","PUT"];function pI(y,H){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=H,y.m=5,vy(y),sp(y)}function vy(y){y.A||(y.A=!0,Xa(y,"complete"),Xa(y,"error"))}function g_(y){if(y.h&&typeof E<"u"&&(!y.v[1]||4!=ec(y)||2!=y.Z()))if(y.u&&4==ec(y))oy(y.Ea,0,y);else if(Xa(y,"readystatechange"),4==ec(y)){y.h=!1;try{const qn=y.Z();e:switch(qn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var Z;if(!(Z=H)){var Ne;if(Ne=0===qn){var Kt=String(y.D).match(py)[1]||null;!Kt&&x.self&&x.self.location&&(Kt=x.self.location.protocol.slice(0,-1)),Ne=!_y.test(Kt?Kt.toLowerCase():"")}Z=Ne}if(Z)Xa(y,"complete"),Xa(y,"success");else{y.m=6;try{var on=2<ec(y)?y.g.statusText:""}catch{on=""}y.l=on+" ["+y.Z()+"]",vy(y)}}finally{sp(y)}}}function sp(y,H){if(y.g){Tg(y);const Z=y.g,Ne=y.v[0]?()=>{}:null;y.g=null,y.v=null,H||Xa(y,"ready");try{Z.onreadystatechange=Ne}catch{}}}function Tg(y){y.I&&(x.clearTimeout(y.I),y.I=null)}function ec(y){return y.g?y.g.readyState:0}function m_(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Uh(y,H,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[y]||H}function Iy(y){this.Aa=0,this.i=[],this.j=new Rh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uh("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uh("baseRetryDelayMs",5e3,y),this.cb=Uh("retryDelaySeedMs",1e4,y),this.Wa=Uh("forwardChannelMaxRetries",2,y),this.wa=Uh("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new s_(y&&y.concurrentRequestLimit),this.Da=new h_,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ey(y){if(gI(y),3==y.G){var H=y.U++,Z=Nc(y.I);if(xo(Z,"SID",y.K),xo(Z,"RID",H),xo(Z,"TYPE","terminate"),wg(y,Z),(H=new Zl(y,y.j,H)).L=2,H.v=tp(Nc(Z)),Z=!1,x.navigator&&x.navigator.sendBeacon)try{Z=x.navigator.sendBeacon(H.v.toString(),"")}catch{}!Z&&x.Image&&((new Image).src=H.v,Z=!0),Z||(H.g=CI(H.j,null),H.g.ea(H.v)),H.F=Date.now(),xh(H)}EI(y)}function __(y){y.g&&(Ay(y),y.g.cancel(),y.g=null)}function gI(y){__(y),y.u&&(x.clearTimeout(y.u),y.u=null),I_(y),y.h.cancel(),y.s&&("number"==typeof y.s&&x.clearTimeout(y.s),y.s=null)}function v_(y){if(!cy(y.h)&&!y.s){y.s=!0;var H=y.Ga;Ah||zm(),Gf||(Ah(),Gf=!0),Vd.add(H,y),y.B=0}}function mI(y,H){var Z;Z=H?H.l:y.U++;const Ne=Nc(y.I);xo(Ne,"SID",y.K),xo(Ne,"RID",Z),xo(Ne,"AID",y.T),wg(y,Ne),y.m&&y.o&&op(Ne,y.m,y.o),Z=new Zl(y,y.j,Z,y.B+1),null===y.m&&(Z.H=y.o),H&&(y.i=H.D.concat(y.i)),H=_I(y,Z,1e3),Z.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),a_(y.h,Z),Eg(Z,Ne,H)}function wg(y,H){y.H&&ii(y.H,function(Z,Ne){xo(H,Ne,Z)}),y.l&&fy({},function(Z,Ne){xo(H,Ne,Z)})}function _I(y,H,Z){Z=Math.min(y.i.length,Z);var Ne=y.l?yt(y.l.Na,y.l,y):null;e:{var Kt=y.i;let on=-1;for(;;){const qn=["count="+Z];-1==on?0<Z?(on=Kt[0].g,qn.push("ofs="+on)):on=0:qn.push("ofs="+on);let No=!0;for(let sa=0;sa<Z;sa++){let ao=Kt[sa].g;const Ia=Kt[sa].map;if(ao-=on,0>ao)on=Math.max(0,Kt[sa].g-100),No=!1;else try{f_(Ia,qn,"req"+ao+"_")}catch{Ne&&Ne(Ia)}}if(No){Ne=qn.join("&");break e}}}return y=y.i.splice(0,Z),H.D=y,Ne}function y_(y){if(!y.g&&!y.u){y.Y=1;var H=y.Fa;Ah||zm(),Gf||(Ah(),Gf=!0),Vd.add(H,y),y.v=0}}function Dg(y){return!(y.g||y.u||3<=y.v||(y.Y++,y.u=Sh(yt(y.Fa,y),II(y,y.v)),y.v++,0))}function Ay(y){null!=y.A&&(x.clearTimeout(y.A),y.A=null)}function vI(y){y.g=new Zl(y,y.j,"rpc",y.Y),null===y.m&&(y.g.H=y.o),y.g.O=0;var H=Nc(y.qa);xo(H,"RID","rpc"),xo(H,"SID",y.K),xo(H,"AID",y.T),xo(H,"CI",y.F?"0":"1"),!y.F&&y.ja&&xo(H,"TO",y.ja),xo(H,"TYPE","xmlhttp"),wg(y,H),y.m&&y.o&&op(H,y.m,y.o),y.L&&(y.g.I=y.L);var Z=y.g;y=y.ia,Z.L=1,Z.v=tp(Nc(H)),Z.m=null,Z.P=!0,Ph(Z,y)}function I_(y){null!=y.C&&(x.clearTimeout(y.C),y.C=null)}function yI(y,H){var Z=null;if(y.g==H){I_(y),Ay(y),y.g=null;var Ne=2}else{if(!Ld(y.h,H))return;Z=H.D,dy(y.h,H),Ne=1}if(0!=y.G)if(H.o)if(1==Ne){Z=H.m?H.m.length:0,H=Date.now()-H.F;var Kt=y.B;Xa(Ne=mg(),new n_(Ne,Z)),v_(y)}else y_(y);else if(3==(Kt=H.s)||0==Kt&&0<H.X||!(1==Ne&&function tA(y,H){return!(Jf(y.h)>=y.h.j-(y.s?1:0)||(y.s?(y.i=H.D.concat(y.i),0):1==y.G||2==y.G||y.B>=(y.Va?0:y.Wa)||(y.s=Sh(yt(y.Ga,y,H),II(y,y.B)),y.B++,0)))}(y,H)||2==Ne&&Dg(y)))switch(Z&&0<Z.length&&(H=y.h,H.i=H.i.concat(Z)),Kt){case 1:Bh(y,5);break;case 4:Bh(y,10);break;case 3:Bh(y,6);break;default:Bh(y,2)}}function II(y,H){let Z=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(Z*=2),Z*H}function Bh(y,H){if(y.j.info("Error code "+H),2==H){var Z=yt(y.fb,y),Ne=y.Xa;const Kt=!Ne;Ne=new Zu(Ne||"//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Ag(Ne,"https"),tp(Ne),Kt?function hI(y,H){const Z=new Rh;if(x.Image){const Ne=new Image;Ne.onload=qt(Oc,Z,"TestLoadImage: loaded",!0,H,Ne),Ne.onerror=qt(Oc,Z,"TestLoadImage: error",!1,H,Ne),Ne.onabort=qt(Oc,Z,"TestLoadImage: abort",!1,H,Ne),Ne.ontimeout=qt(Oc,Z,"TestLoadImage: timeout",!1,H,Ne),x.setTimeout(function(){Ne.ontimeout&&Ne.ontimeout()},1e4),Ne.src=y}else H(!1)}(Ne.toString(),Z):function fI(y,H){new Rh;const Ne=new AbortController,Kt=setTimeout(()=>{Ne.abort(),Oc(0,0,!1,H)},1e4);fetch(y,{signal:Ne.signal}).then(on=>{clearTimeout(Kt),Oc(0,0,!!on.ok,H)}).catch(()=>{clearTimeout(Kt),Oc(0,0,!1,H)})}(Ne.toString(),Z)}else va(2);y.G=0,y.l&&y.l.sa(H),EI(y),gI(y)}function EI(y){if(y.G=0,y.ka=[],y.l){const H=hy(y.h);(0!=H.length||0!=y.i.length)&&(Pn(y.ka,H),Pn(y.ka,y.i),y.h.i.length=0,Vn(y.i),y.i.length=0),y.l.ra()}}function AI(y,H,Z){var Ne=Z instanceof Zu?Nc(Z):new Zu(Z);if(""!=Ne.g)H&&(Ne.g=H+"."+Ne.g),ep(Ne,Ne.s);else{var Kt=x.location;Ne=Kt.protocol,H=H?H+"."+Kt.hostname:Kt.hostname,Kt=+Kt.port;var on=new Zu(null);Ne&&Ag(on,Ne),H&&(on.g=H),Kt&&ep(on,Kt),Z&&(on.l=Z),Ne=on}return H=y.ya,(Z=y.D)&&H&&xo(Ne,Z,H),xo(Ne,"VER",y.la),wg(y,Ne),Ne}function CI(y,H,Z){if(H&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return(H=new rs(y.Ca&&!y.pa?new Vh({eb:Z}):y.pa)).Ha(y.J),H}function Cy(){}function kc(){}function ya(y,H){Bs.call(this),this.g=new Iy(H),this.l=y,this.h=H&&H.messageUrlParams||null,y=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(y?y["X-WebChannel-Content-Type"]=H.messageContentType:y={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&(y?y["X-WebChannel-Client-Profile"]=H.va:y={"X-WebChannel-Client-Profile":H.va}),this.g.S=y,(y=H&&H.Sb)&&!Pr(y)&&(this.g.m=y),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!Pr(H)&&(this.g.D=H,null!==(y=this.h)&&H in y&&H in(y=this.h)&&delete y[H]),this.j=new Bd(this)}function by(y){gg.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var H=y.__sm__;if(H){e:{for(const Z in H){y=Z;break e}y=void 0}(this.i=y)&&(y=this.i,H=null!==H&&y in H?H[y]:void 0),this.data=H}else this.data=y}function bI(){t_.call(this),this.status=1}function Bd(y){this.g=y}(u=rs.prototype).Ha=function(y){this.J=y},u.ea=function(y,H,Z,Ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);H=H?H.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yg.g(),this.v=function tI(y){return y.h||(y.h=y.i())}(this.o?this.o:yg),this.g.onreadystatechange=yt(this.Ea,this);try{this.B=!0,this.g.open(H,String(y),!0),this.B=!1}catch(on){return void pI(this,on)}if(y=Z||"",Z=new Map(this.headers),Ne)if(Object.getPrototypeOf(Ne)===Object.prototype)for(var Kt in Ne)Z.set(Kt,Ne[Kt]);else{if("function"!=typeof Ne.keys||"function"!=typeof Ne.get)throw Error("Unknown input type for opt_headers: "+String(Ne));for(const on of Ne.keys())Z.set(on,Ne.get(on))}Ne=Array.from(Z.keys()).find(on=>"content-type"==on.toLowerCase()),Kt=x.FormData&&y instanceof x.FormData,!(0<=Array.prototype.indexOf.call(eA,H,void 0))||Ne||Kt||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[on,qn]of Z)this.g.setRequestHeader(on,qn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tg(this),this.u=!0,this.g.send(y),this.u=!1}catch(on){pI(this,on)}},u.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,Xa(this,"complete"),Xa(this,"abort"),sp(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sp(this,!0)),rs.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?g_(this):this.bb())},u.bb=function(){g_(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<ec(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(y){if(this.g){var H=this.g.responseText;return y&&0==H.indexOf(y)&&(H=H.substring(y.length)),J0(H)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=Iy.prototype).la=8,u.G=1,u.connect=function(y,H,Z,Ne){va(0),this.W=y,this.H=H||{},Z&&void 0!==Ne&&(this.H.OSID=Z,this.H.OAID=Ne),this.F=this.X,this.I=AI(this,null,this.W),v_(this)},u.Ga=function(y){if(this.s)if(this.s=null,1==this.G){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const Kt=new Zl(this,this.j,y);let on=this.o;if(this.S&&(on?(on=lt(on),Bt(on,this.S)):on=this.S),null!==this.m||this.O||(Kt.H=on,on=null),this.P)e:{for(var H=0,Z=0;Z<this.i.length;Z++){var Ne=this.i[Z];if(void 0===(Ne="__data__"in Ne.map&&"string"==typeof(Ne=Ne.map.__data__)?Ne.length:void 0))break;if(4096<(H+=Ne)){H=Z;break e}if(4096===H||Z===this.i.length-1){H=Z+1;break e}}H=1e3}else H=1e3;H=_I(this,Kt,H),xo(Z=Nc(this.I),"RID",y),xo(Z,"CVER",22),this.D&&xo(Z,"X-HTTP-Session-Id",this.D),wg(this,Z),on&&(this.O?H="headers="+encodeURIComponent(String(my(on)))+"&"+H:this.m&&op(Z,this.m,on)),a_(this.h,Kt),this.Ua&&xo(Z,"TYPE","init"),this.P?(xo(Z,"$req",H),xo(Z,"SID","null"),Kt.T=!0,Eg(Kt,Z,null)):Eg(Kt,Z,H),this.G=2}}else 3==this.G&&(y?mI(this,y):0==this.i.length||cy(this.h)||mI(this))},u.Fa=function(){if(this.u=null,vI(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Sh(yt(this.ab,this),y)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,va(10),__(this),vI(this))},u.Za=function(){null!=this.C&&(this.C=null,__(this),Dg(this),va(19))},u.fb=function(y){y?(this.j.info("Successfully pinged google.com"),va(2)):(this.j.info("Failed to ping google.com"),va(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=Cy.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},kc.prototype.g=function(y,H){return new ya(y,H)},vn(ya,Bs),ya.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ya.prototype.close=function(){Ey(this.g)},ya.prototype.o=function(y){var H=this.g;if("string"==typeof y){var Z={};Z.__data__=y,y=Z}else this.u&&((Z={}).__data__=Jm(y),y=Z);H.i.push(new uy(H.Ya++,y)),3==H.G&&v_(H)},ya.prototype.N=function(){this.g.l=null,delete this.j,Ey(this.g),delete this.g,ya.aa.N.call(this)},vn(by,gg),vn(bI,t_),vn(Bd,Cy),Bd.prototype.ua=function(){Xa(this.g,"a")},Bd.prototype.ta=function(y){Xa(this.g,new by(y))},Bd.prototype.sa=function(y){Xa(this.g,new bI)},Bd.prototype.ra=function(){Xa(this.g,"b")},kc.prototype.createWebChannel=kc.prototype.g,ya.prototype.send=ya.prototype.o,ya.prototype.open=ya.prototype.m,ya.prototype.close=ya.prototype.close,Oe=An.createWebChannelTransport=function(){return new kc},Ke=An.getStatEventTarget=function(){return mg()},ge=An.Event=Dh,ne=An.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vg.NO_ERROR=0,vg.TIMEOUT=8,vg.HTTP_ERROR=6,te=An.ErrorCode=vg,i_.COMPLETE="complete",Ve=An.EventType=i_,e_.EventType=dl,dl.OPEN="a",dl.CLOSE="b",dl.ERROR="c",dl.MESSAGE="d",Bs.prototype.listen=Bs.prototype.K,Mt=An.WebChannel=e_,Rn=An.FetchXmlHttpFactory=Vh,rs.prototype.listenOnce=rs.prototype.L,rs.prototype.getLastError=rs.prototype.Ka,rs.prototype.getLastErrorCode=rs.prototype.Ba,rs.prototype.getStatus=rs.prototype.Z,rs.prototype.getResponseJson=rs.prototype.Oa,rs.prototype.getResponseText=rs.prototype.oa,rs.prototype.send=rs.prototype.ea,rs.prototype.setWithCredentials=rs.prototype.Ha,nn=An.XhrIo=rs}).apply(typeof dn<"u"?dn:typeof self<"u"?self:typeof window<"u"?window:{});const $e="@firebase/firestore";class Re{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Re.UNAUTHENTICATED=new Re(null),Re.GOOGLE_CREDENTIALS=new Re("google-credentials-uid"),Re.FIRST_PARTY=new Re("first-party-uid"),Re.MOCK_USER=new Re("mock-user");let Ze="10.12.1";const dt=new Ye.Vy("@firebase/firestore");function Ot(){return dt.logLevel}function Pt(u,...t){if(dt.logLevel<=Ye.$b.DEBUG){const r=t.map($n);dt.debug(`Firestore (${Ze}): ${u}`,...r)}}function mn(u,...t){if(dt.logLevel<=Ye.$b.ERROR){const r=t.map($n);dt.error(`Firestore (${Ze}): ${u}`,...r)}}function Nn(u,...t){if(dt.logLevel<=Ye.$b.WARN){const r=t.map($n);dt.warn(`Firestore (${Ze}): ${u}`,...r)}}function $n(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function en(u="Unexpected state"){const t=`FIRESTORE (${Ze}) INTERNAL ASSERTION FAILED: `+u;throw mn(t),new Error(t)}function rn(u,t){u||en()}function ze(u,t){return u}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends ut.g{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hn{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}class sr{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Re.UNAUTHENTICATED))}shutdown(){}}class ar{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Fn{constructor(t){this.t=t,this.currentUser=Re.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){var a=this;let c=this.i;const g=X=>this.i!==c?(c=this.i,r(X)):Promise.resolve();let E=new hn;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new hn,t.enqueueRetryable(()=>g(this.currentUser))};const x=()=>{const X=E;t.enqueueRetryable((0,Me.A)(function*(){yield X.promise,yield g(a.currentUser)}))},B=X=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(X=>B(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?B(X):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new hn)}},0),x()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==t?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(rn("string"==typeof a.accessToken),new sr(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return rn(null===t||"string"==typeof t),new Re(t)}}class yn{constructor(t,r,a){this.l=t,this.h=r,this.P=a,this.type="FirstParty",this.user=Re.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dr{constructor(t,r,a){this.l=t,this.h=r,this.P=a}getToken(){return Promise.resolve(new yn(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Re.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ar{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){const a=g=>{null!=g.error&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const E=g.token!==this.R;return this.R=g.token,Pt("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?r(g.token):Promise.resolve()};this.o=g=>{t.enqueueRetryable(()=>a(g))};const c=g=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.A.onInit(g=>c(g)),setTimeout(()=>{if(!this.appCheck){const g=this.A.getImmediate({optional:!0});g?c(g):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(rn("string"==typeof r.token),this.R=r.token,new hr(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rr(u){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(u);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let a=0;a<u;a++)r[a]=Math.floor(256*Math.random());return r}class qr{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const c=rr(40);for(let g=0;g<c.length;++g)a.length<20&&c[g]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[g]%62))}return a}}function In(u,t){return u<t?-1:u>t?1:0}function gi(u,t,r){return u.length===t.length&&u.every((a,c)=>r(a,t[c]))}function Qn(u){return u+"\0"}class Bn{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new We(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new We(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new We(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new We(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Bn.fromMillis(Date.now())}static fromDate(t){return Bn.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*r));return new Bn(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?In(this.nanoseconds,t.nanoseconds):In(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ln{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ln(t)}static min(){return new Ln(new Bn(0,0))}static max(){return new Ln(new Bn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pr{constructor(t,r,a){void 0===r?r=0:r>t.length&&en(),void 0===a?a=t.length-r:a>t.length-r&&en(),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return 0===pr.comparator(this,t)}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof pr?t.forEach(a=>{r.push(a)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let c=0;c<a;c++){const g=t.get(c),E=r.get(c);if(g<E)return-1;if(g>E)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class zn extends pr{construct(t,r,a){return new zn(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new We(xe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(c=>c.length>0))}return new zn(r)}static emptyPath(){return new zn([])}}const si=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends pr{construct(t,r,a){return new _r(t,r,a)}static isValidIdentifier(t){return si.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(t){const r=[];let a="",c=0;const g=()=>{if(0===a.length)throw new We(xe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let E=!1;for(;c<t.length;){const x=t[c];if("\\"===x){if(c+1===t.length)throw new We(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const B=t[c+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new We(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=B,c+=2}else"`"===x?(E=!E,c++):"."!==x||E?(a+=x,c++):(g(),c++)}if(g(),E)throw new We(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _r(r)}static emptyPath(){return new _r([])}}class _n{constructor(t){this.path=t}static fromPath(t){return new _n(zn.fromString(t))}static fromName(t){return new _n(zn.fromString(t).popFirst(5))}static empty(){return new _n(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===zn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,r){return zn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _n(new zn(t.slice()))}}class ft{constructor(t,r,a,c){this.indexId=t,this.collectionGroup=r,this.fields=a,this.indexState=c}}function ht(u){return u.fields.find(t=>2===t.kind)}function Vt(u){return u.fields.filter(t=>2!==t.kind)}ft.UNKNOWN_ID=-1;class ce{constructor(t,r){this.fieldPath=t,this.kind=r}}class se{constructor(t,r){this.sequenceNumber=t,this.offset=r}static empty(){return new se(0,gt.min())}}function Ie(u,t){const r=u.toTimestamp().seconds,a=u.toTimestamp().nanoseconds+1,c=Ln.fromTimestamp(1e9===a?new Bn(r+1,0):new Bn(r,a));return new gt(c,_n.empty(),t)}function ue(u){return new gt(u.readTime,u.key,-1)}class gt{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new gt(Ln.min(),_n.empty(),-1)}static max(){return new gt(Ln.max(),_n.empty(),-1)}}function Qt(u,t){let r=u.readTime.compareTo(t.readTime);return 0!==r?r:(r=_n.comparator(u.documentKey,t.documentKey),0!==r?r:In(u.largestBatchId,t.largestBatchId))}const Dn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function fr(u){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,Me.A)(function*(u){if(u.code!==xe.FAILED_PRECONDITION||u.message!==Dn)throw u;Pt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new st((a,c)=>{this.nextCallback=g=>{this.wrapSuccess(t,g).next(a,c)},this.catchCallback=g=>{this.wrapFailure(r,g).next(a,c)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof st?r:st.resolve(r)}catch(r){return st.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):st.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):st.reject(r)}static resolve(t){return new st((r,a)=>{r(t)})}static reject(t){return new st((r,a)=>{a(t)})}static waitFor(t){return new st((r,a)=>{let c=0,g=0,E=!1;t.forEach(x=>{++c,x.next(()=>{++g,E&&g===c&&r()},B=>a(B))}),E=!0,g===c&&r()})}static or(t){let r=st.resolve(!1);for(const a of t)r=r.next(c=>c?st.resolve(c):a());return r}static forEach(t,r){const a=[];return t.forEach((c,g)=>{a.push(r.call(this,c,g))}),this.waitFor(a)}static mapArray(t,r){return new st((a,c)=>{const g=t.length,E=new Array(g);let x=0;for(let B=0;B<g;B++){const X=B;r(t[X]).next(ye=>{E[X]=ye,++x,x===g&&a(E)},ye=>c(ye))}})}static doWhile(t,r){return new st((a,c)=>{const g=()=>{!0===t()?r().next(()=>{g()},c):a()};g()})}}class wn{constructor(t,r){this.action=t,this.transaction=r,this.aborted=!1,this.V=new hn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new vo(t,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const c=no(a.target.error);this.V.reject(new vo(t,c))}}static open(t,r,a,c){try{return new wn(r,t.transaction(c,a))}catch(g){throw new vo(r,g)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Pt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const r=this.transaction.objectStore(t);return new Hr(r)}}class Yn{constructor(t,r,a){this.name=t,this.version=r,this.p=a,12.2===Yn.S((0,ut.ZQ)())&&mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Pt("SimpleDb","Removing database:",t),Fi(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ut.zW)())return!1;if(Yn.C())return!0;const t=(0,ut.ZQ)(),r=Yn.S(t),a=0<r&&r<10,c=mi(t),g=0<c&&c<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||a||g)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.v)}static F(t,r){return t.store(r)}static S(t){const r=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(t){var r=this;return(0,Me.A)(function*(){return r.db||(Pt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,c)=>{const g=indexedDB.open(r.name,r.version);g.onsuccess=E=>{a(E.target.result)},g.onblocked=()=>{c(new vo(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=E=>{const x=E.target.error;c("VersionError"===x.name?new We(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new We(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new vo(t,x))},g.onupgradeneeded=E=>{Pt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',E.oldVersion),r.p.O(E.target.result,g.transaction,E.oldVersion,r.version).next(()=>{Pt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=r=>t(r))}runTransaction(t,r,a,c){var g=this;return(0,Me.A)(function*(){const E="readonly"===r;let x=0;for(;;){++x;try{g.db=yield g.M(t);const B=wn.open(g.db,t,E?"readonly":"readwrite",a),X=c(B).next(ye=>(B.g(),ye)).catch(ye=>(B.abort(ye),st.reject(ye))).toPromise();return X.catch(()=>{}),yield B.m,X}catch(B){const X=B,ye="FirebaseError"!==X.name&&x<3;if(Pt("SimpleDb","Transaction failed with error:",X.message,"Retrying:",ye),g.close(),!ye)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function mi(u){const t=u.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Ei{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return Fi(this.B.delete())}}class vo extends We{constructor(t,r){super(xe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ti(u){return"IndexedDbTransactionError"===u.name}class Hr{constructor(t){this.store=t}put(t,r){let a;return void 0!==r?(Pt("SimpleDb","PUT",this.store.name,t,r),a=this.store.put(r,t)):(Pt("SimpleDb","PUT",this.store.name,"<auto-key>",t),a=this.store.put(t)),Fi(a)}add(t){return Pt("SimpleDb","ADD",this.store.name,t,t),Fi(this.store.add(t))}get(t){return Fi(this.store.get(t)).next(r=>(void 0===r&&(r=null),Pt("SimpleDb","GET",this.store.name,t,r),r))}delete(t){return Pt("SimpleDb","DELETE",this.store.name,t),Fi(this.store.delete(t))}count(){return Pt("SimpleDb","COUNT",this.store.name),Fi(this.store.count())}U(t,r){const a=this.options(t,r),c=a.index?this.store.index(a.index):this.store;if("function"==typeof c.getAll){const g=c.getAll(a.range);return new st((E,x)=>{g.onerror=B=>{x(B.target.error)},g.onsuccess=B=>{E(B.target.result)}})}{const g=this.cursor(a),E=[];return this.W(g,(x,B)=>{E.push(B)}).next(()=>E)}}G(t,r){const a=this.store.getAll(t,null===r?void 0:r);return new st((c,g)=>{a.onerror=E=>{g(E.target.error)},a.onsuccess=E=>{c(E.target.result)}})}j(t,r){Pt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(t,r);a.H=!1;const c=this.cursor(a);return this.W(c,(g,E,x)=>x.delete())}J(t,r){let a;r?a=t:(a={},r=t);const c=this.cursor(a);return this.W(c,r)}Y(t){const r=this.cursor({});return new st((a,c)=>{r.onerror=g=>{const E=no(g.target.error);c(E)},r.onsuccess=g=>{const E=g.target.result;E?t(E.primaryKey,E.value).next(x=>{x?E.continue():a()}):a()}})}W(t,r){const a=[];return new st((c,g)=>{t.onerror=E=>{g(E.target.error)},t.onsuccess=E=>{const x=E.target.result;if(!x)return void c();const B=new Ei(x),X=r(x.primaryKey,x.value,B);if(X instanceof st){const ye=X.catch(je=>(B.done(),st.reject(je)));a.push(ye)}B.isDone?c():null===B.K?x.continue():x.continue(B.K)}}).next(()=>st.waitFor(a))}options(t,r){let a;return void 0!==t&&("string"==typeof t?a=t:r=t),{index:a,range:r}}cursor(t){let r="next";if(t.reverse&&(r="prev"),t.index){const a=this.store.index(t.index);return t.H?a.openKeyCursor(t.range,r):a.openCursor(t.range,r)}return this.store.openCursor(t.range,r)}}function Fi(u){return new st((t,r)=>{u.onsuccess=a=>{t(a.target.result)},u.onerror=a=>{const c=no(a.target.error);r(c)}})}let Gi=!1;function no(u){const t=Yn.S((0,ut.ZQ)());if(t>=12.2&&t<13){const r="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(r)>=0){const a=new We("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gi||(Gi=!0,setTimeout(()=>{throw a},0)),a}}return u}class Wt{constructor(t,r){this.asyncQueue=t,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var r=this;Pt("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Me.A)(function*(){r.task=null;try{Pt("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){Ti(a)?Pt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield fr(a)}yield r.X(6e4)}))}}class ie{constructor(t,r){this.localStore=t,this.persistence=r}ee(t=50){var r=this;return(0,Me.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,t))})()}te(t,r){const a=new Set;let c=r,g=!0;return st.doWhile(()=>!0===g&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(E=>{if(null!==E&&!a.has(E))return Pt("IndexBackfiller",`Processing collection: ${E}`),this.ne(t,E,c).next(x=>{c-=x,a.add(E)});g=!1})).next(()=>r-c)}ne(t,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,r).next(c=>this.localStore.localDocuments.getNextDocuments(t,r,c,a).next(g=>{const E=g.changes;return this.localStore.indexManager.updateIndexEntries(t,E).next(()=>this.re(c,g)).next(x=>(Pt("IndexBackfiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(t,r,x))).next(()=>E.size)}))}re(t,r){let a=t;return r.changes.forEach((c,g)=>{const E=ue(g);Qt(E,a)>0&&(a=E)}),new gt(a.readTime,a.documentKey,Math.max(r.batchId,t.largestBatchId))}}let ee=(()=>{class u{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=c=>this.ie(c),this.se=c=>a.writeSequenceNumber(c))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return u.oe=-1,u})();function Ge(u){return null==u}function le(u){return 0===u&&1/u==-1/0}function re(u){return"number"==typeof u&&Number.isInteger(u)&&!le(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function Ue(u){let t="";for(let r=0;r<u.length;r++)t.length>0&&(t=Ut(t)),t=Lt(u.get(r),t);return Ut(t)}function Lt(u,t){let r=t;const a=u.length;for(let c=0;c<a;c++){const g=u.charAt(c);switch(g){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=g}}return r}function Ut(u){return u+"\x01\x01"}function En(u){const t=u.length;if(rn(t>=2),2===t)return rn("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),zn.emptyPath();const r=t-2,a=[];let c="";for(let g=0;g<t;){const E=u.indexOf("\x01",g);switch((E<0||E>r)&&en(),u.charAt(E+1)){case"\x01":const x=u.substring(g,E);let B;0===c.length?B=x:(c+=x,B=c,c=""),a.push(B);break;case"\x10":c+=u.substring(g,E),c+="\0";break;case"\x11":c+=u.substring(g,E+1);break;default:en()}g=E+2}return new zn(a)}const or=["userId","batchId"];function nr(u,t){return[u,Ue(t)]}function Vi(u,t,r){return[u,Ue(t),r]}const Ji={},Wi=["prefixPath","collectionGroup","readTime","documentId"],gr=["prefixPath","collectionGroup","documentId"],ki=["collectionGroup","readTime","prefixPath","documentId"],uo=["canonicalId","targetId"],eo=["targetId","path"],ai=["path","targetId"],Li=["collectionId","parent"],Oo=["indexId","uid"],jo=["uid","sequenceNumber"],Ho=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zo=["indexId","uid","orderedDocumentKey"],wo=["userId","collectionPath","documentId"],ro=["userId","collectionPath","largestBatchId"],Dr=["userId","collectionGroup","largestBatchId"],zr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ka=[...zr,"documentOverlays"],Ui=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zs=Ui,aa=[...zs,"indexConfiguration","indexState","indexEntries"],Gs=aa;class is extends Wn{constructor(t,r){super(),this._e=t,this.currentSequenceNumber=r}}function Jn(u,t){const r=ze(u);return Yn.F(r._e,t)}function li(u){let t=0;for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&t++;return t}function Go(u,t){for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&t(r,u[r])}function Ws(u){for(const t in u)if(Object.prototype.hasOwnProperty.call(u,t))return!1;return!0}class ui{constructor(t,r){this.comparator=t,this.root=r||Ri.EMPTY}insert(t,r){return new ui(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(t){return new ui(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(t,a.key);if(0===c)return r+a.left.size;c<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,a)=>(t(r,a),!1))}toString(){const t=[];return this.inorderTraversal((r,a)=>(t.push(`${r}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ks(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ks(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ks(this.root,t,this.comparator,!0)}}class Ks{constructor(t,r,a,c){this.isReverse=c,this.nodeStack=[];let g=1;for(;!t.isEmpty();)if(g=r?a(t.key,r):1,r&&c&&(g*=-1),g<0)t=this.isReverse?t.left:t.right;else{if(0===g){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ri{constructor(t,r,a,c,g){this.key=t,this.value=r,this.color=null!=a?a:Ri.RED,this.left=null!=c?c:Ri.EMPTY,this.right=null!=g?g:Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,c,g){return new Ri(null!=t?t:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=g?g:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let c=this;const g=a(t,c.key);return c=g<0?c.copy(null,null,null,c.left.insert(t,r,a),null):0===g?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(t,r,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,c=this;if(r(t,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(t,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(t,c.key)){if(c.right.isEmpty())return Ri.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(t,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const t=this.left.check();if(t!==this.right.check())throw en();return t+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(t,r,a,c,g){return this}insert(t,r,a){return new Ri(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ci{constructor(t){this.comparator=t,this.data=new ui(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,a)=>(t(r),!1))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,t[1])>=0)return;r(c.key)}}forEachWhile(t,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Bi(this.data.getIterator())}getIteratorFrom(t){return new Bi(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(a=>{r=r.add(a)}),r}isEqual(t){if(!(t instanceof ci)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,g=a.getNext().key;if(0!==this.comparator(c,g))return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new ci(this.comparator);return r.data=t,r}}class Bi{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function N(u){return u.hasNext()?u.getNext():void 0}class Q{constructor(t){this.fields=t,t.sort(_r.comparator)}static empty(){return new Q([])}unionWith(t){let r=new ci(_r.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new Q(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return gi(this.fields,t.fields,(r,a)=>r.isEqual(a))}}class be extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ce{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(c){try{return atob(c)}catch(g){throw typeof DOMException<"u"&&g instanceof DOMException?new be("Invalid base64 string: "+g):g}}(t);return new Ce(r)}static fromUint8Array(t){const r=function(c){let g="";for(let E=0;E<c.length;++E)g+=String.fromCharCode(c[E]);return g}(t);return new Ce(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let c=0;c<r.length;c++)a[c]=r.charCodeAt(c);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return In(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ce.EMPTY_BYTE_STRING=new Ce("");const At=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(u){if(rn(!!u),"string"==typeof u){let t=0;const r=At.exec(u);if(rn(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),t=Number(c)}const a=new Date(u);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Br(u.seconds),nanos:Br(u.nanos)}}function Br(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function K(u){return"string"==typeof u?Ce.fromBase64String(u):Ce.fromUint8Array(u)}function ve(u){var t,r;return"server_timestamp"===(null===(r=((null===(t=null==u?void 0:u.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ke(u){const t=u.mapValue.fields.__previous_value__;return ve(t)?ke(t):t}function Je(u){const t=br(u.mapValue.fields.__local_write_time__.timestampValue);return new Bn(t.seconds,t.nanos)}class xt{constructor(t,r,a,c,g,E,x,B,X){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=c,this.ssl=g,this.forceLongPolling=E,this.autoDetectLongPolling=x,this.longPollingOptions=B,this.useFetchStreams=X}}class Et{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Et("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Et&&t.projectId===this.projectId&&t.database===this.database}}const Zt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},un={nullValue:"NULL_VALUE"};function an(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?ve(u)?4:Ml(u)?9007199254740991:10:en()}function ln(u,t){if(u===t)return!0;const r=an(u);if(r!==an(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===t.booleanValue;case 4:return Je(u).isEqual(Je(t));case 3:return function(c,g){if("string"==typeof c.timestampValue&&"string"==typeof g.timestampValue&&c.timestampValue.length===g.timestampValue.length)return c.timestampValue===g.timestampValue;const E=br(c.timestampValue),x=br(g.timestampValue);return E.seconds===x.seconds&&E.nanos===x.nanos}(u,t);case 5:return u.stringValue===t.stringValue;case 6:return g=t,K(u.bytesValue).isEqual(K(g.bytesValue));case 7:return u.referenceValue===t.referenceValue;case 8:return function(c,g){return Br(c.geoPointValue.latitude)===Br(g.geoPointValue.latitude)&&Br(c.geoPointValue.longitude)===Br(g.geoPointValue.longitude)}(u,t);case 2:return function(c,g){if("integerValue"in c&&"integerValue"in g)return Br(c.integerValue)===Br(g.integerValue);if("doubleValue"in c&&"doubleValue"in g){const E=Br(c.doubleValue),x=Br(g.doubleValue);return E===x?le(E)===le(x):isNaN(E)&&isNaN(x)}return!1}(u,t);case 9:return gi(u.arrayValue.values||[],t.arrayValue.values||[],ln);case 10:return function(c,g){const E=c.mapValue.fields||{},x=g.mapValue.fields||{};if(li(E)!==li(x))return!1;for(const B in E)if(E.hasOwnProperty(B)&&(void 0===x[B]||!ln(E[B],x[B])))return!1;return!0}(u,t);default:return en()}var g}function On(u,t){return void 0!==(u.values||[]).find(r=>ln(r,t))}function jn(u,t){if(u===t)return 0;const r=an(u),a=an(t);if(r!==a)return In(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return In(u.booleanValue,t.booleanValue);case 2:return function(g,E){const x=Br(g.integerValue||g.doubleValue),B=Br(E.integerValue||E.doubleValue);return x<B?-1:x>B?1:x===B?0:isNaN(x)?isNaN(B)?0:-1:1}(u,t);case 3:return Zn(u.timestampValue,t.timestampValue);case 4:return Zn(Je(u),Je(t));case 5:return In(u.stringValue,t.stringValue);case 6:return function(g,E){const x=K(g),B=K(E);return x.compareTo(B)}(u.bytesValue,t.bytesValue);case 7:return function(g,E){const x=g.split("/"),B=E.split("/");for(let X=0;X<x.length&&X<B.length;X++){const ye=In(x[X],B[X]);if(0!==ye)return ye}return In(x.length,B.length)}(u.referenceValue,t.referenceValue);case 8:return function(g,E){const x=In(Br(g.latitude),Br(E.latitude));return 0!==x?x:In(Br(g.longitude),Br(E.longitude))}(u.geoPointValue,t.geoPointValue);case 9:return function(g,E){const x=g.values||[],B=E.values||[];for(let X=0;X<x.length&&X<B.length;++X){const ye=jn(x[X],B[X]);if(ye)return ye}return In(x.length,B.length)}(u.arrayValue,t.arrayValue);case 10:return function(g,E){if(g===Zt.mapValue&&E===Zt.mapValue)return 0;if(g===Zt.mapValue)return 1;if(E===Zt.mapValue)return-1;const x=g.fields||{},B=Object.keys(x),X=E.fields||{},ye=Object.keys(X);B.sort(),ye.sort();for(let je=0;je<B.length&&je<ye.length;++je){const yt=In(B[je],ye[je]);if(0!==yt)return yt;const qt=jn(x[B[je]],X[ye[je]]);if(0!==qt)return qt}return In(B.length,ye.length)}(u.mapValue,t.mapValue);default:throw en()}}function Zn(u,t){if("string"==typeof u&&"string"==typeof t&&u.length===t.length)return In(u,t);const r=br(u),a=br(t),c=In(r.seconds,a.seconds);return 0!==c?c:In(r.nanos,a.nanos)}function lr(u){return Wr(u)}function Wr(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(r){const a=br(r);return`time(${a.seconds},${a.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?K(u.bytesValue).toBase64():"referenceValue"in u?_n.fromName(u.referenceValue).toString():"geoPointValue"in u?function(r){return`geo(${r.latitude},${r.longitude})`}(u.geoPointValue):"arrayValue"in u?function(r){let a="[",c=!0;for(const g of r.values||[])c?c=!1:a+=",",a+=Wr(g);return a+"]"}(u.arrayValue):"mapValue"in u?function(r){const a=Object.keys(r.fields||{}).sort();let c="{",g=!0;for(const E of a)g?g=!1:c+=",",c+=`${E}:${Wr(r.fields[E])}`;return c+"}"}(u.mapValue):en()}function Sr(u,t){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${t.path.canonicalString()}`}}function Zr(u){return!!u&&"integerValue"in u}function Ai(u){return!!u&&"arrayValue"in u}function io(u){return!!u&&"nullValue"in u}function os(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function ss(u){return!!u&&"mapValue"in u}function Do(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const t={mapValue:{fields:{}}};return Go(u.mapValue.fields,(r,a)=>t.mapValue.fields[r]=Do(a)),t}if(u.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(u.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Do(u.arrayValue.values[r]);return t}return Object.assign({},u)}function Ml(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}function qs(u){return"nullValue"in u?un:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?Sr(Et.empty(),_n.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?{mapValue:{}}:en()}function So(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?Sr(Et.empty(),_n.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?{mapValue:{}}:"mapValue"in u?Zt:en()}function Xs(u,t){const r=jn(u.value,t.value);return 0!==r?r:u.inclusive&&!t.inclusive?-1:!u.inclusive&&t.inclusive?1:0}function Ro(u,t){const r=jn(u.value,t.value);return 0!==r?r:u.inclusive&&!t.inclusive?1:!u.inclusive&&t.inclusive?-1:0}class Ni{constructor(t){this.value=t}static empty(){return new Ni({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!ss(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Do(r)}setAll(t){let r=_r.emptyPath(),a={},c=[];t.forEach((E,x)=>{if(!r.isImmediateParentOf(x)){const B=this.getFieldsMap(r);this.applyChanges(B,a,c),a={},c=[],r=x.popLast()}E?a[x.lastSegment()]=Do(E):c.push(x.lastSegment())});const g=this.getFieldsMap(r);this.applyChanges(g,a,c)}delete(t){const r=this.field(t.popLast());ss(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return ln(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let c=r.mapValue.fields[t.get(a)];ss(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=c),r=c}return r.mapValue.fields}applyChanges(t,r,a){Go(r,(c,g)=>t[c]=g);for(const c of a)delete t[c]}clone(){return new Ni(Do(this.value))}}function yo(u){const t=[];return Go(u.fields,(r,a)=>{const c=new _r([r]);if(ss(a)){const g=yo(a.mapValue).fields;if(0===g.length)t.push(c);else for(const E of g)t.push(c.child(E))}else t.push(c)}),new Q(t)}class Jr{constructor(t,r,a,c,g,E,x){this.key=t,this.documentType=r,this.version=a,this.readTime=c,this.createTime=g,this.data=E,this.documentState=x}static newInvalidDocument(t){return new Jr(t,0,Ln.min(),Ln.min(),Ln.min(),Ni.empty(),0)}static newFoundDocument(t,r,a,c){return new Jr(t,1,r,Ln.min(),a,c,0)}static newNoDocument(t,r){return new Jr(t,2,r,Ln.min(),Ln.min(),Ni.empty(),0)}static newUnknownDocument(t,r){return new Jr(t,3,r,Ln.min(),Ln.min(),Ni.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Ln.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ln.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Jr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $r{constructor(t,r){this.position=t,this.inclusive=r}}function Fa(u,t,r){let a=0;for(let c=0;c<u.position.length;c++){const g=t[c],E=u.position[c];if(a=g.field.isKeyField()?_n.comparator(_n.fromName(E.referenceValue),r.key):jn(E,r.data.field(g.field)),"desc"===g.dir&&(a*=-1),0!==a)break}return a}function Ca(u,t){if(null===u)return null===t;if(null===t||u.inclusive!==t.inclusive||u.position.length!==t.position.length)return!1;for(let r=0;r<u.position.length;r++)if(!ln(u.position[r],t.position[r]))return!1;return!0}class la{constructor(t,r="asc"){this.field=t,this.dir=r}}function Is(u,t){return u.dir===t.dir&&u.field.isEqual(t.field)}class ua{}class xr extends ua{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(t,r,a):new fl(t,r,a):"array-contains"===r?new W(t,a):"in"===r?new _e(t,a):"not-in"===r?new fn(t,a):"array-contains-any"===r?new Un(t,a):new xr(t,r,a)}static createKeyFieldInFilter(t,r,a){return"in"===r?new q(t,a):new $(t,a)}matches(t){const r=t.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(jn(r,this.value)):null!==r&&an(this.value)===an(r)&&this.matchesComparison(jn(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends ua{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new ri(t,r)}matches(t){return hs(this)?void 0===this.filters.find(r=>!r.matches(t)):void 0!==this.filters.find(r=>r.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hs(u){return"and"===u.op}function qi(u){return"or"===u.op}function ko(u){return hl(u)&&hs(u)}function hl(u){for(const t of u.filters)if(t instanceof ri)return!1;return!0}function Ss(u){if(u instanceof xr)return u.field.canonicalString()+u.op.toString()+lr(u.value);if(ko(u))return u.filters.map(t=>Ss(t)).join(",");{const t=u.filters.map(r=>Ss(r)).join(",");return`${u.op}(${t})`}}function Rs(u,t){return u instanceof xr?(a=u,(c=t)instanceof xr&&a.op===c.op&&a.field.isEqual(c.field)&&ln(a.value,c.value)):u instanceof ri?function(a,c){return c instanceof ri&&a.op===c.op&&a.filters.length===c.filters.length&&a.filters.reduce((g,E,x)=>g&&Rs(E,c.filters[x]),!0)}(u,t):void en();var a,c}function ca(u,t){const r=u.filters.concat(t);return ri.create(r,u.op)}function Za(u){return u instanceof xr?`${(r=u).field.canonicalString()} ${r.op} ${lr(r.value)}`:u instanceof ri?function(r){return r.op.toString()+" {"+r.getFilters().map(Za).join(" ,")+"}"}(u):"Filter";var r}class fl extends xr{constructor(t,r,a){super(t,r,a),this.key=_n.fromName(a.referenceValue)}matches(t){const r=_n.comparator(t.key,this.key);return this.matchesComparison(r)}}class q extends xr{constructor(t,r){super(t,"in",r),this.keys=Te(0,r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class $ extends xr{constructor(t,r){super(t,"not-in",r),this.keys=Te(0,r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function Te(u,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>_n.fromName(a.referenceValue))}class W extends xr{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Ai(r)&&On(r.arrayValue,this.value)}}class _e extends xr{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return null!==r&&On(this.value.arrayValue,r)}}class fn extends xr{constructor(t,r){super(t,"not-in",r)}matches(t){if(On(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return null!==r&&!On(this.value.arrayValue,r)}}class Un extends xr{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Ai(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>On(this.value.arrayValue,a))}}class Cr{constructor(t,r=null,a=[],c=[],g=null,E=null,x=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=c,this.limit=g,this.startAt=E,this.endAt=x,this.ue=null}}function co(u,t=null,r=[],a=[],c=null,g=null,E=null){return new Cr(u,t,r,a,c,g,E)}function Fo(u){const t=ze(u);if(null===t.ue){let r=t.path.canonicalString();null!==t.collectionGroup&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(a=>Ss(a)).join(","),r+="|ob:",r+=t.orderBy.map(a=>{return(g=a).field.canonicalString()+g.dir;var g}).join(","),Ge(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>lr(a)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>lr(a)).join(",")),t.ue=r}return t.ue}function Wo(u,t){if(u.limit!==t.limit||u.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<u.orderBy.length;r++)if(!Is(u.orderBy[r],t.orderBy[r]))return!1;if(u.filters.length!==t.filters.length)return!1;for(let r=0;r<u.filters.length;r++)if(!Rs(u.filters[r],t.filters[r]))return!1;return u.collectionGroup===t.collectionGroup&&!!u.path.isEqual(t.path)&&!!Ca(u.startAt,t.startAt)&&Ca(u.endAt,t.endAt)}function da(u){return _n.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function ba(u,t){return u.filters.filter(r=>r instanceof xr&&r.field.isEqual(t))}function Io(u,t,r){let a=un,c=!0;for(const g of ba(u,t)){let E=un,x=!0;switch(g.op){case"<":case"<=":E=qs(g.value);break;case"==":case"in":case">=":E=g.value;break;case">":E=g.value,x=!1;break;case"!=":case"not-in":E=un}Xs({value:a,inclusive:c},{value:E,inclusive:x})<0&&(a=E,c=x)}if(null!==r)for(let g=0;g<u.orderBy.length;++g)if(u.orderBy[g].field.isEqual(t)){const E=r.position[g];Xs({value:a,inclusive:c},{value:E,inclusive:r.inclusive})<0&&(a=E,c=r.inclusive);break}return{value:a,inclusive:c}}function Mu(u,t,r){let a=Zt,c=!0;for(const g of ba(u,t)){let E=Zt,x=!0;switch(g.op){case">=":case">":E=So(g.value),x=!1;break;case"==":case"in":case"<=":E=g.value;break;case"<":E=g.value,x=!1;break;case"!=":case"not-in":E=Zt}Ro({value:a,inclusive:c},{value:E,inclusive:x})>0&&(a=E,c=x)}if(null!==r)for(let g=0;g<u.orderBy.length;++g)if(u.orderBy[g].field.isEqual(t)){const E=r.position[g];Ro({value:a,inclusive:c},{value:E,inclusive:r.inclusive})>0&&(a=E,c=r.inclusive);break}return{value:a,inclusive:c}}class fs{constructor(t,r=null,a=[],c=[],g=null,E="F",x=null,B=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=c,this.limit=g,this.limitType=E,this.startAt=x,this.endAt=B,this.ce=null,this.le=null,this.he=null}}function Ja(u,t,r,a,c,g,E,x){return new fs(u,t,r,a,c,g,E,x)}function Qs(u){return new fs(u)}function Pl(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function Es(u){return null!==u.collectionGroup}function Fr(u){const t=ze(u);if(null===t.ce){t.ce=[];const r=new Set;for(const g of t.explicitOrderBy)t.ce.push(g),r.add(g.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(E){let x=new ci(_r.comparator);return E.filters.forEach(B=>{B.getFlattenedFilters().forEach(X=>{X.isInequality()&&(x=x.add(X.field))})}),x})(t).forEach(g=>{r.has(g.canonicalString())||g.isKeyField()||t.ce.push(new la(g,a))}),r.has(_r.keyField().canonicalString())||t.ce.push(new la(_r.keyField(),a))}return t.ce}function fi(u){const t=ze(u);return t.le||(t.le=function Eo(u,t){if("F"===u.limitType)return co(u.path,u.collectionGroup,t,u.filters,u.limit,u.startAt,u.endAt);{t=t.map(c=>new la(c.field,"desc"===c.dir?"asc":"desc"));const r=u.endAt?new $r(u.endAt.position,u.endAt.inclusive):null,a=u.startAt?new $r(u.startAt.position,u.startAt.inclusive):null;return co(u.path,u.collectionGroup,t,u.filters,u.limit,r,a)}}(t,Fr(u))),t.le}function ho(u,t){const r=u.filters.concat([t]);return new fs(u.path,u.collectionGroup,u.explicitOrderBy.slice(),r,u.limit,u.limitType,u.startAt,u.endAt)}function Ms(u,t,r){return new fs(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),t,r,u.startAt,u.endAt)}function Ao(u,t){return Wo(fi(u),fi(t))&&u.limitType===t.limitType}function ha(u){return`${Fo(fi(u))}|lt:${u.limitType}`}function Va(u){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(c=>Za(c)).join(", ")}]`),Ge(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(c=>{return`${(E=c).field.canonicalString()} (${E.dir})`;var E}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(c=>lr(c)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(c=>lr(c)).join(",")),`Target(${a})`}(fi(u))}; limitType=${u.limitType})`}function La(u,t){return t.isFoundDocument()&&function(a,c){const g=c.key.path;return null!==a.collectionGroup?c.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(g):_n.isDocumentKey(a.path)?a.path.isEqual(g):a.path.isImmediateParentOf(g)}(u,t)&&function(a,c){for(const g of Fr(a))if(!g.field.isKeyField()&&null===c.data.field(g.field))return!1;return!0}(u,t)&&function(a,c){for(const g of a.filters)if(!g.matches(c))return!1;return!0}(u,t)&&(c=t,!((a=u).startAt&&!function(E,x,B){const X=Fa(E,x,B);return E.inclusive?X<=0:X<0}(a.startAt,Fr(a),c)||a.endAt&&!function(E,x,B){const X=Fa(E,x,B);return E.inclusive?X>=0:X>0}(a.endAt,Fr(a),c)));var a,c}function pl(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function gl(u){return(t,r)=>{let a=!1;for(const c of Fr(u)){const g=ml(c,t,r);if(0!==g)return g;a=a||c.field.isKeyField()}return 0}}function ml(u,t,r){const a=u.field.isKeyField()?_n.comparator(t.key,r.key):function(g,E,x){const B=E.data.field(g),X=x.data.field(g);return null!==B&&null!==X?jn(B,X):en()}(u.field,t,r);switch(u.dir){case"asc":return a;case"desc":return-1*a;default:return en()}}class di{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(void 0!==a)for(const[c,g]of a)if(this.equalsFn(c,t))return g}has(t){return void 0!==this.get(t)}set(t,r){const a=this.mapKeyFn(t),c=this.inner[a];if(void 0===c)return this.inner[a]=[[t,r]],void this.innerSize++;for(let g=0;g<c.length;g++)if(this.equalsFn(c[g][0],t))return void(c[g]=[t,r]);c.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],t))return 1===a.length?delete this.inner[r]:a.splice(c,1),this.innerSize--,!0;return!1}forEach(t){Go(this.inner,(r,a)=>{for(const[c,g]of a)t(c,g)})}isEmpty(){return Ws(this.inner)}size(){return this.innerSize}}const zi=new ui(_n.comparator);function Ko(){return zi}const _l=new ui(_n.comparator);function el(...u){let t=_l;for(const r of u)t=t.insert(r.key,r);return t}function tu(u){let t=_l;return u.forEach((r,a)=>t=t.insert(r,a.overlayedDocument)),t}function Ys(){return Ps()}function xl(){return Ps()}function Ps(){return new di(u=>u.toString(),(u,t)=>u.isEqual(t))}const nu=new ui(_n.comparator),vl=new ci(_n.comparator);function Gr(...u){let t=vl;for(const r of u)t=t.add(r);return t}const ru=new ci(In);function Nl(){return ru}function Ta(u,t){if(u.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:le(t)?"-0":t}}function ps(u){return{integerValue:""+u}}function wa(u,t){return re(t)?ps(t):Ta(u,t)}class yl{constructor(){this._=void 0}}function Ua(u,t,r){return u instanceof as?function(c,g){const E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return g&&ve(g)&&(g=ke(g)),g&&(E.fields.__previous_value__=g),{mapValue:E}}(r,t):u instanceof Uo?fo(u,t):u instanceof Da?Ol(u,t):function(c,g){const E=tl(c,g),x=ou(E)+ou(c.Pe);return Zr(E)&&Zr(c.Pe)?ps(x):Ta(c.serializer,x)}(u,t)}function iu(u,t,r){return u instanceof Uo?fo(u,t):u instanceof Da?Ol(u,t):r}function tl(u,t){return u instanceof gs?Zr(a=t)||(g=a)&&"doubleValue"in g?t:{integerValue:0}:null;var a,g}class as extends yl{}class Uo extends yl{constructor(t){super(),this.elements=t}}function fo(u,t){const r=xs(t);for(const a of u.elements)r.some(c=>ln(c,a))||r.push(a);return{arrayValue:{values:r}}}class Da extends yl{constructor(t){super(),this.elements=t}}function Ol(u,t){let r=xs(t);for(const a of u.elements)r=r.filter(c=>!ln(c,a));return{arrayValue:{values:r}}}class gs extends yl{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function ou(u){return Br(u.integerValue||u.doubleValue)}function xs(u){return Ai(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class S{constructor(t,r){this.field=t,this.transform=r}}class Be{constructor(t,r){this.version=t,this.transformResults=r}}class U{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new U}static exists(t){return new U(void 0,t)}static updateTime(t){return new U(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ee(u,t){return void 0!==u.updateTime?t.isFoundDocument()&&t.version.isEqual(u.updateTime):void 0===u.exists||u.exists===t.isFoundDocument()}class qe{}function tn(u,t){if(!u.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return u.isNoDocument()?new Sn(u.key,U.none()):new Vr(u.key,u.data,U.none());{const r=u.data,a=Ni.empty();let c=new ci(_r.comparator);for(let g of t.fields)if(!c.has(g)){let E=r.field(g);null===E&&g.length>1&&(g=g.popLast(),E=r.field(g)),null===E?a.delete(g):a.set(g,E),c=c.add(g)}return new ni(u.key,a,new Q(c.toArray()),U.none())}}function Tn(u,t,r){u instanceof Vr?function(c,g,E){const x=c.value.clone(),B=po(c.fieldTransforms,g,E.transformResults);x.setAll(B),g.convertToFoundDocument(E.version,x).setHasCommittedMutations()}(u,t,r):u instanceof ni?function(c,g,E){if(!Ee(c.precondition,g))return void g.convertToUnknownDocument(E.version);const x=po(c.fieldTransforms,g,E.transformResults),B=g.data;B.setAll(Ci(c)),B.setAll(x),g.convertToFoundDocument(E.version,B).setHasCommittedMutations()}(u,t,r):t.convertToNoDocument(r.version).setHasCommittedMutations()}function Nr(u,t,r,a){return u instanceof Vr?function(g,E,x,B){if(!Ee(g.precondition,E))return x;const X=g.value.clone(),ye=Mi(g.fieldTransforms,B,E);return X.setAll(ye),E.convertToFoundDocument(E.version,X).setHasLocalMutations(),null}(u,t,r,a):u instanceof ni?function(g,E,x,B){if(!Ee(g.precondition,E))return x;const X=Mi(g.fieldTransforms,B,E),ye=E.data;return ye.setAll(Ci(g)),ye.setAll(X),E.convertToFoundDocument(E.version,ye).setHasLocalMutations(),null===x?null:x.unionWith(g.fieldMask.fields).unionWith(g.fieldTransforms.map(je=>je.field))}(u,t,r,a):(x=r,Ee(u.precondition,E=t)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):x);var E,x}function ti(u,t){let r=null;for(const a of u.fieldTransforms){const c=t.data.field(a.field),g=tl(a.transform,c||null);null!=g&&(null===r&&(r=Ni.empty()),r.set(a.field,g))}return r||null}function hi(u,t){return u.type===t.type&&!!u.key.isEqual(t.key)&&!!u.precondition.isEqual(t.precondition)&&(c=t.fieldTransforms,!!(void 0===(a=u.fieldTransforms)&&void 0===c||a&&c&&gi(a,c,(g,E)=>function G(u,t){return u.field.isEqual(t.field)&&(c=t.transform,(a=u.transform)instanceof Uo&&c instanceof Uo||a instanceof Da&&c instanceof Da?gi(a.elements,c.elements,ln):a instanceof gs&&c instanceof gs?ln(a.Pe,c.Pe):a instanceof as&&c instanceof as);var a,c}(g,E))))&&(0===u.type?u.value.isEqual(t.value):1!==u.type||u.data.isEqual(t.data)&&u.fieldMask.isEqual(t.fieldMask));var a,c}class Vr extends qe{constructor(t,r,a,c=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class ni extends qe{constructor(t,r,a,c,g=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=c,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function Ci(u){const t=new Map;return u.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=u.data.field(r);t.set(r,a)}}),t}function po(u,t,r){const a=new Map;rn(u.length===r.length);for(let c=0;c<r.length;c++){const g=u[c],E=g.transform,x=t.data.field(g.field);a.set(g.field,iu(E,x,r[c]))}return a}function Mi(u,t,r){const a=new Map;for(const c of u){const g=c.transform,E=r.data.field(c.field);a.set(c.field,Ua(g,E,t))}return a}class Sn extends qe{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xn extends qe{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wi{constructor(t,r,a,c){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const g=this.mutations[c];g.key.isEqual(t.key)&&Tn(g,t,a[c])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=Nr(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=Nr(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=xl();return this.mutations.forEach(c=>{const g=t.get(c.key),E=g.overlayedDocument;let x=this.applyToLocalView(E,g.mutatedFields);x=r.has(c.key)?null:x;const B=tn(E,x);null!==B&&a.set(c.key,B),E.isValidDocument()||E.convertToNoDocument(Ln.min())}),a}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Gr())}isEqual(t){return this.batchId===t.batchId&&gi(this.mutations,t.mutations,(r,a)=>hi(r,a))&&gi(this.baseMutations,t.baseMutations,(r,a)=>hi(r,a))}}class Xi{constructor(t,r,a,c){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=c}static from(t,r,a){rn(t.mutations.length===a.length);let c=function(){return nu}();const g=t.mutations;for(let E=0;E<g.length;E++)c=c.insert(g[E].key,a[E].version);return new Xi(t,r,a,c)}}class Xr{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zs{constructor(t,r){this.count=t,this.unchangedNames=r}}var jr,Rr;function Js(u){switch(u){default:return en();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function Or(u){if(void 0===u)return mn("GRPC error has no .code"),xe.UNKNOWN;switch(u){case jr.OK:return xe.OK;case jr.CANCELLED:return xe.CANCELLED;case jr.UNKNOWN:return xe.UNKNOWN;case jr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case jr.INTERNAL:return xe.INTERNAL;case jr.UNAVAILABLE:return xe.UNAVAILABLE;case jr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case jr.NOT_FOUND:return xe.NOT_FOUND;case jr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case jr.ABORTED:return xe.ABORTED;case jr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case jr.DATA_LOSS:return xe.DATA_LOSS;default:return en()}}(Rr=jr||(jr={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";function kl(){return new TextEncoder}const su=new He([4294967295,4294967295],0);function _i(u){const t=kl().encode(u),r=new Tt;return r.update(t),new Uint8Array(r.digest())}function qo(u){const t=new DataView(u.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),c=t.getUint32(8,!0),g=t.getUint32(12,!0);return[new He([r,a],0),new He([c,g],0)]}class nl{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Ns(`Invalid padding: ${r}`);if(a<0)throw new Ns(`Invalid hash count: ${a}`);if(t.length>0&&0===this.hashCount)throw new Ns(`Invalid hash count: ${a}`);if(0===t.length&&0!==r)throw new Ns(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=He.fromNumber(this.Ie)}Ee(t,r,a){let c=t.add(r.multiply(He.fromNumber(a)));return 1===c.compare(su)&&(c=new He([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const r=_i(t),[a,c]=qo(r);for(let g=0;g<this.hashCount;g++){const E=this.Ee(a,c,g);if(!this.de(E))return!1}return!0}static create(t,r,a){const c=t%8==0?0:8-t%8,g=new Uint8Array(Math.ceil(t/8)),E=new nl(g,c,r);return a.forEach(x=>E.insert(x)),E}insert(t){if(0===this.Ie)return;const r=_i(t),[a,c]=qo(r);for(let g=0;g<this.hashCount;g++){const E=this.Ee(a,c,g);this.Ae(E)}}Ae(t){const r=Math.floor(t/8);this.bitmap[r]|=1<<t%8}}class Ns extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ba{constructor(t,r,a,c,g){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const c=new Map;return c.set(t,Pu.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new Ba(Ln.min(),c,new ui(In),Ko(),Gr())}}class Pu{constructor(t,r,a,c,g){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new Pu(a,r,Gr(),Gr(),Gr())}}class Qi{constructor(t,r,a,c){this.Re=t,this.removedTargetIds=r,this.key=a,this.Ve=c}}class $a{constructor(t,r){this.targetId=t,this.me=r}}class ta{constructor(t,r,a=Ce.EMPTY_BYTE_STRING,c=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=c}}class kr{constructor(){this.fe=0,this.ge=Os(),this.pe=Ce.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Gr(),r=Gr(),a=Gr();return this.ge.forEach((c,g)=>{switch(g){case 0:t=t.add(c);break;case 2:r=r.add(c);break;case 1:a=a.add(c);break;default:en()}}),new Pu(this.pe,this.ye,t,r,a)}ve(){this.we=!1,this.ge=Os()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,rn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rc{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ko(),this.qe=ja(),this.Qe=new ui(In)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const a=this.Ge(r);switch(t.state){case 0:this.ze(r)&&a.De(t.resumeToken);break;case 1:a.Oe(),a.Se||a.ve(),a.De(t.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(t.resumeToken));break;default:en()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((a,c)=>{this.ze(c)&&r(c)})}He(t){const r=t.targetId,a=t.me.count,c=this.Je(r);if(c){const g=c.target;if(da(g))if(0===a){const E=new _n(g.path);this.Ue(r,E,Jr.newNoDocument(E,Ln.min()))}else rn(1===a);else{const E=this.Ye(r);if(E!==a){const x=this.Ze(t),B=x?this.Xe(x,t,E):1;0!==B&&(this.je(r),this.Qe=this.Qe.insert(r,2===B?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:c=0},hashCount:g=0}=r;let E,x;try{E=K(a).toUint8Array()}catch(B){if(B instanceof be)return Nn("Decoding the base64 bloom filter in existence filter failed ("+B.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw B}try{x=new nl(E,c,g)}catch(B){return Nn(B instanceof Ns?"BloomFilter error: ":"Applying bloom filter failed: ",B),null}return 0===x.Ie?null:x}Xe(t,r,a){return r.me.count===a-this.nt(t,r.targetId)?0:2}nt(t,r){const a=this.Le.getRemoteKeysForTarget(r);let c=0;return a.forEach(g=>{const E=this.Le.tt(),x=`projects/${E.projectId}/databases/${E.database}/documents/${g.path.canonicalString()}`;t.mightContain(x)||(this.Ue(r,g,null),c++)}),c}rt(t){const r=new Map;this.Be.forEach((g,E)=>{const x=this.Je(E);if(x){if(g.current&&da(x.target)){const B=new _n(x.target.path);null!==this.ke.get(B)||this.it(E,B)||this.Ue(E,B,Jr.newNoDocument(B,t))}g.be&&(r.set(E,g.Ce()),g.ve())}});let a=Gr();this.qe.forEach((g,E)=>{let x=!0;E.forEachWhile(B=>{const X=this.Je(B);return!X||"TargetPurposeLimboResolution"===X.purpose||(x=!1,!1)}),x&&(a=a.add(g))}),this.ke.forEach((g,E)=>E.setReadTime(t));const c=new Ba(t,r,this.Qe,this.ke,a);return this.ke=Ko(),this.qe=ja(),this.Qe=new ui(In),c}$e(t,r){if(!this.ze(t))return;const a=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,a){if(!this.ze(t))return;const c=this.Ge(t);this.it(t,r)?c.Fe(r,1):c.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new kr,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new ci(In),this.qe=this.qe.insert(t,r)),r}ze(t){const r=null!==this.Je(t);return r||Pt("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new kr),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function ja(){return new ui(_n.comparator)}function Os(){return new ui(_n.comparator)}const mo={asc:"ASCENDING",desc:"DESCENDING"},Il={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_o={and:"AND",or:"OR"};class ic{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Vo(u,t){return u.useProto3Json||Ge(t)?t:{value:t}}function Mo(u,t){return u.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function na(u,t){return u.useProto3Json?t.toBase64():t.toUint8Array()}function Xo(u,t){return Mo(u,t.toTimestamp())}function Yi(u){return rn(!!u),Ln.fromTimestamp(function(r){const a=br(r);return new Bn(a.seconds,a.nanos)}(u))}function ls(u,t){return Fl(u,t).canonicalString()}function Fl(u,t){const r=(c=u,new zn(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===t?r:r.child(t)}function fa(u){const t=zn.fromString(u);return rn(Sa(t)),t}function ra(u,t){return ls(u.databaseId,t.path)}function ks(u,t){const r=fa(t);if(r.get(1)!==u.databaseId.projectId)throw new We(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+u.databaseId.projectId);if(r.get(3)!==u.databaseId.database)throw new We(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+u.databaseId.database);return new _n($d(r))}function au(u,t){return ls(u.databaseId,t)}function lu(u){const t=fa(u);return 4===t.length?zn.emptyPath():$d(t)}function El(u){return new zn(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function $d(u){return rn(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Uc(u,t,r){return{name:ra(u,t),fields:r.value.mapValue.fields}}function dd(u,t,r){const a=ks(u,t.name),c=Yi(t.updateTime),g=t.createTime?Yi(t.createTime):Ln.min(),E=new Ni({mapValue:{fields:t.fields}}),x=Jr.newFoundDocument(a,c,g,E);return r&&x.setHasCommittedMutations(),r?x.setHasCommittedMutations():x}function uu(u,t){let r;if(t instanceof Vr)r={update:Uc(u,t.key,t.value)};else if(t instanceof Sn)r={delete:ra(u,t.key)};else if(t instanceof ni)r={update:Uc(u,t.key,t.data),updateMask:Qo(t.fieldMask)};else{if(!(t instanceof Xn))return en();r={verify:ra(u,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(a=>function(g,E){const x=E.transform;if(x instanceof as)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof Uo)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof Da)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof gs)return{fieldPath:E.field.canonicalString(),increment:x.Pe};throw en()}(0,a))),t.precondition.isNone||(r.currentDocument=void 0!==(g=t.precondition).updateTime?{updateTime:Xo(u,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:en()),r;var g}function b(u,t){const r=t.currentDocument?void 0!==(g=t.currentDocument).updateTime?U.updateTime(Yi(g.updateTime)):void 0!==g.exists?U.exists(g.exists):U.none():U.none(),a=t.updateTransforms?t.updateTransforms.map(c=>function(E,x){let B=null;"setToServerValue"in x?(rn("REQUEST_TIME"===x.setToServerValue),B=new as):"appendMissingElements"in x?B=new Uo(x.appendMissingElements.values||[]):"removeAllFromArray"in x?B=new Da(x.removeAllFromArray.values||[]):"increment"in x?B=new gs(E,x.increment):en();const X=_r.fromServerFormat(x.fieldPath);return new S(X,B)}(u,c)):[];var g;if(t.update){const c=ks(u,t.update.name),g=new Ni({mapValue:{fields:t.update.fields}});if(t.updateMask){const E=new Q((t.updateMask.fieldPaths||[]).map(ye=>_r.fromServerFormat(ye)));return new ni(c,g,E,r,a)}return new Vr(c,g,r,a)}if(t.delete){const c=ks(u,t.delete);return new Sn(c,r)}if(t.verify){const c=ks(u,t.verify);return new Xn(c,r)}return en()}function F(u,t){return{documents:[au(u,t.path)]}}function R(u,t){const r={structuredQuery:{}},a=t.path;let c;null!==t.collectionGroup?(c=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(c=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=au(u,c);const g=function(X){if(0!==X.length)return Qr(ri.create(X,"and"))}(t.filters);g&&(r.structuredQuery.where=g);const E=function(X){if(0!==X.length)return X.map(ye=>{return{field:Tr((yt=ye).field),direction:bn(yt.dir)};var yt})}(t.orderBy);E&&(r.structuredQuery.orderBy=E);const x=Vo(u,t.limit);return null!==x&&(r.structuredQuery.limit=x),t.startAt&&(r.structuredQuery.startAt={before:(X=t.startAt).inclusive,values:X.position}),t.endAt&&(r.structuredQuery.endAt=function(X){return{before:!X.inclusive,values:X.position}}(t.endAt)),{_t:r,parent:c};var X}function fe(u){let t=lu(u.parent);const r=u.structuredQuery,a=r.from?r.from.length:0;let c=null;if(a>0){rn(1===a);const ye=r.from[0];ye.allDescendants?c=ye.collectionId:t=t.child(ye.collectionId)}let g=[];r.where&&(g=function(je){const yt=kt(je);return yt instanceof ri&&ko(yt)?yt.getFilters():[yt]}(r.where));let E=[];r.orderBy&&(E=r.orderBy.map(yt=>{return new la($i((vn=yt).field),function(Pn){switch(Pn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(vn.direction));var vn}));let x=null;r.limit&&(x=function(je){let yt;return yt="object"==typeof je?je.value:je,Ge(yt)?null:yt}(r.limit));let B=null;var je;r.startAt&&(B=new $r((je=r.startAt).values||[],!!je.before));let X=null;return r.endAt&&(X=function(je){return new $r(je.values||[],!je.before)}(r.endAt)),Ja(t,c,E,g,x,"F",B,X)}function kt(u){return void 0!==u.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=$i(r.unaryFilter.field);return xr.create(a,"==",{doubleValue:NaN});case"IS_NULL":const c=$i(r.unaryFilter.field);return xr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const g=$i(r.unaryFilter.field);return xr.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=$i(r.unaryFilter.field);return xr.create(E,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(u):void 0!==u.fieldFilter?xr.create($i((r=u).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==u.compositeFilter?function(r){return ri.create(r.compositeFilter.filters.map(a=>kt(a)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return en()}}(r.compositeFilter.op))}(u):en();var r}function bn(u){return mo[u]}function Gt(u){return Il[u]}function Gn(u){return _o[u]}function Tr(u){return{fieldPath:u.canonicalString()}}function $i(u){return _r.fromServerFormat(u.fieldPath)}function Qr(u){return u instanceof xr?function(r){if("=="===r.op){if(os(r.value))return{unaryFilter:{field:Tr(r.field),op:"IS_NAN"}};if(io(r.value))return{unaryFilter:{field:Tr(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(os(r.value))return{unaryFilter:{field:Tr(r.field),op:"IS_NOT_NAN"}};if(io(r.value))return{unaryFilter:{field:Tr(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tr(r.field),op:Gt(r.op),value:r.value}}}(u):u instanceof ri?function(r){const a=r.getFilters().map(c=>Qr(c));return 1===a.length?a[0]:{compositeFilter:{op:Gn(r.op),filters:a}}}(u):en()}function Qo(u){const t=[];return u.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Sa(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class Fs{constructor(t,r,a,c,g=Ln.min(),E=Ln.min(),x=Ce.EMPTY_BYTE_STRING,B=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=x,this.expectedCount=B}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Vl{constructor(t){this.ct=t}}function ms(u,t){const r=t.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:xu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())a.document={name:ra(g=u.ct,(E=t).key),fields:E.data.value.mapValue.fields,updateTime:Mo(g,E.version.toTimestamp()),createTime:Mo(g,E.createTime.toTimestamp())};else if(t.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:_s(t.version)};else{if(!t.isUnknownDocument())return en();a.unknownDocument={path:r.path.toArray(),version:_s(t.version)}}var g,E;return a}function xu(u){const t=u.toTimestamp();return[t.seconds,t.nanoseconds]}function _s(u){const t=u.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ll(u){const t=new Bn(u.seconds,u.nanoseconds);return Ln.fromTimestamp(t)}function us(u,t){const r=(t.baseMutations||[]).map(g=>b(u.ct,g));for(let g=0;g<t.mutations.length-1;++g)g+1<t.mutations.length&&void 0!==t.mutations[g+1].transform&&(t.mutations[g].updateTransforms=t.mutations[g+1].transform.fieldTransforms,t.mutations.splice(g+1,1),++g);const a=t.mutations.map(g=>b(u.ct,g)),c=Bn.fromMillis(t.localWriteTimeMs);return new wi(t.batchId,c,r,a)}function Nu(u){const t=Ll(u.readTime),r=void 0!==u.lastLimboFreeSnapshotVersion?Ll(u.lastLimboFreeSnapshotVersion):Ln.min();let a;return a=void 0!==u.query.documents?(rn(1===(g=u.query).documents.length),fi(Qs(lu(g.documents[0])))):function(g){return fi(fe(g))}(u.query),new Fs(a,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,t,r,Ce.fromBase64String(u.resumeToken));var g}function oc(u,t){const r=_s(t.snapshotVersion),a=_s(t.lastLimboFreeSnapshotVersion);let c;c=da(t.target)?F(u.ct,t.target):R(u.ct,t.target)._t;const g=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fo(t.target),readTime:r,resumeToken:g,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:c}}function Ul(u){const t=fe({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?Ms(t,t.limit,"L"):t}function cu(u,t){return new Xr(t.largestBatchId,b(u.ct,t.overlayMutation))}function zd(u,t){const r=t.path.lastSegment();return[u,Ue(t.path.popLast()),r]}function ji(u,t,r,a){return{indexId:u,uid:t,sequenceNumber:r,readTime:_s(a.readTime),documentKey:Ue(a.documentKey.path),largestBatchId:a.largestBatchId}}class hd{getBundleMetadata(t,r){return Ra(t).get(r).next(a=>{if(a)return{id:(g=a).bundleId,createTime:Ll(g.createTime),version:g.version};var g})}saveBundleMetadata(t,r){return Ra(t).put({bundleId:(c=r).id,createTime:_s(Yi(c.createTime)),version:c.version});var c}getNamedQuery(t,r){return cs(t).get(r).next(a=>{if(a)return{name:(g=a).name,query:Ul(g.bundledQuery),readTime:Ll(g.readTime)};var g})}saveNamedQuery(t,r){return cs(t).put({name:(c=r).name,readTime:_s(Yi(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Ra(u){return Jn(u,"bundles")}function cs(u){return Jn(u,"namedQueries")}class sc{constructor(t,r){this.serializer=t,this.userId=r}static lt(t,r){return new sc(t,r.uid||"")}getOverlay(t,r){return Cl(t).get(zd(this.userId,r)).next(a=>a?cu(this.serializer,a):null)}getOverlays(t,r){const a=Ys();return st.forEach(r,c=>this.getOverlay(t,c).next(g=>{null!==g&&a.set(c,g)})).next(()=>a)}saveOverlays(t,r,a){const c=[];return a.forEach((g,E)=>{const x=new Xr(r,E);c.push(this.ht(t,x))}),st.waitFor(c)}removeOverlaysForBatchId(t,r,a){const c=new Set;r.forEach(E=>c.add(Ue(E.getCollectionPath())));const g=[];return c.forEach(E=>{const x=IDBKeyRange.bound([this.userId,E,a],[this.userId,E,a+1],!1,!0);g.push(Cl(t).j("collectionPathOverlayIndex",x))}),st.waitFor(g)}getOverlaysForCollection(t,r,a){const c=Ys(),g=Ue(r),E=IDBKeyRange.bound([this.userId,g,a],[this.userId,g,Number.POSITIVE_INFINITY],!0);return Cl(t).U("collectionPathOverlayIndex",E).next(x=>{for(const B of x){const X=cu(this.serializer,B);c.set(X.getKey(),X)}return c})}getOverlaysForCollectionGroup(t,r,a,c){const g=Ys();let E;const x=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Cl(t).J({index:"collectionGroupOverlayIndex",range:x},(B,X,ye)=>{const je=cu(this.serializer,X);g.size()<c||je.largestBatchId===E?(g.set(je.getKey(),je),E=je.largestBatchId):ye.done()}).next(()=>g)}ht(t,r){return Cl(t).put(function(c,g,E){const[x,B,X]=zd(g,E.mutation.key);return{userId:g,collectionPath:B,documentId:X,collectionGroup:E.mutation.key.getCollectionGroup(),largestBatchId:E.largestBatchId,overlayMutation:uu(c.ct,E.mutation)}}(this.serializer,this.userId,r))}}function Cl(u){return Jn(u,"documentOverlays")}class Ma{constructor(){}Pt(t,r){this.It(t,r),r.Tt()}It(t,r){if("nullValue"in t)this.Et(r,5);else if("booleanValue"in t)this.Et(r,10),r.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(r,15),r.dt(Br(t.integerValue));else if("doubleValue"in t){const a=Br(t.doubleValue);isNaN(a)?this.Et(r,13):(this.Et(r,15),le(a)?r.dt(0):r.dt(a))}else if("timestampValue"in t){let a=t.timestampValue;this.Et(r,20),"string"==typeof a&&(a=br(a)),r.At(`${a.seconds||""}`),r.dt(a.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,r),this.Vt(r);else if("bytesValue"in t)this.Et(r,30),r.ft(K(t.bytesValue)),this.Vt(r);else if("referenceValue"in t)this.gt(t.referenceValue,r);else if("geoPointValue"in t){const a=t.geoPointValue;this.Et(r,45),r.dt(a.latitude||0),r.dt(a.longitude||0)}else"mapValue"in t?Ml(t)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,r),this.Vt(r)):"arrayValue"in t?(this.wt(t.arrayValue,r),this.Vt(r)):en()}Rt(t,r){this.Et(r,25),this.St(t,r)}St(t,r){r.At(t)}yt(t,r){const a=t.fields||{};this.Et(r,55);for(const c of Object.keys(a))this.Rt(c,r),this.It(a[c],r)}wt(t,r){const a=t.values||[];this.Et(r,50);for(const c of a)this.It(c,r)}gt(t,r){this.Et(r,37),_n.fromName(t).path.forEach(a=>{this.Et(r,60),this.St(a,r)})}Et(t,r){t.dt(r)}Vt(t){t.dt(2)}}function As(u){if(0===u)return 8;let t=0;return!(u>>4)&&(t+=4,u<<=4),!(u>>6)&&(t+=2,u<<=2),!(u>>7)&&(t+=1),t}function fd(u){const t=64-function(a){let c=0;for(let g=0;g<8;++g){const E=As(255&a[g]);if(c+=E,8!==E)break}return c}(u);return Math.ceil(t/8)}Ma.bt=new Ma;class Bc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(t){const r=t[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ct(a.value),a=r.next();this.vt()}Ft(t){const r=t[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Mt(a.value),a=r.next();this.xt()}Ot(t){for(const r of t){const a=r.charCodeAt(0);if(a<128)this.Ct(a);else if(a<2048)this.Ct(960|a>>>6),this.Ct(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a);else{const c=r.codePointAt(0);this.Ct(240|c>>>18),this.Ct(128|63&c>>>12),this.Ct(128|63&c>>>6),this.Ct(128|63&c)}}this.vt()}Nt(t){for(const r of t){const a=r.charCodeAt(0);if(a<128)this.Mt(a);else if(a<2048)this.Mt(960|a>>>6),this.Mt(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a);else{const c=r.codePointAt(0);this.Mt(240|c>>>18),this.Mt(128|63&c>>>12),this.Mt(128|63&c>>>6),this.Mt(128|63&c)}}this.xt()}Lt(t){const r=this.Bt(t),a=fd(r);this.kt(1+a),this.buffer[this.position++]=255&a;for(let c=r.length-a;c<r.length;++c)this.buffer[this.position++]=255&r[c]}qt(t){const r=this.Bt(t),a=fd(r);this.kt(1+a),this.buffer[this.position++]=~(255&a);for(let c=r.length-a;c<r.length;++c)this.buffer[this.position++]=~(255&r[c])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(t){this.kt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Wt(){return this.buffer.slice(0,this.position)}Bt(t){const r=function(g){const E=new DataView(new ArrayBuffer(8));return E.setFloat64(0,g,!1),new Uint8Array(E.buffer)}(t),a=!!(128&r[0]);r[0]^=a?255:128;for(let c=1;c<r.length;++c)r[c]^=a?255:0;return r}Ct(t){const r=255&t;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(t){const r=255&t;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(t)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(t){this.kt(1),this.buffer[this.position++]=t}Ut(t){this.kt(1),this.buffer[this.position++]=~t}kt(t){const r=t+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const c=new Uint8Array(a);c.set(this.buffer),this.buffer=c}}class Kh{constructor(t){this.Gt=t}ft(t){this.Gt.Dt(t)}At(t){this.Gt.Ot(t)}dt(t){this.Gt.Lt(t)}Tt(){this.Gt.Qt()}}class ia{constructor(t){this.Gt=t}ft(t){this.Gt.Ft(t)}At(t){this.Gt.Nt(t)}dt(t){this.Gt.qt(t)}Tt(){this.Gt.$t()}}class du{constructor(){this.Gt=new Bc,this.zt=new Kh(this.Gt),this.jt=new ia(this.Gt)}seed(t){this.Gt.seed(t)}Ht(t){return 0===t?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class rl{constructor(t,r,a,c){this.indexId=t,this.documentKey=r,this.arrayValue=a,this.directionalValue=c}Jt(){const t=this.directionalValue.length,r=0===t||255===this.directionalValue[t-1]?t+1:t,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==t?a.set([0],this.directionalValue.length):++a[a.length-1],new rl(this.indexId,this.documentKey,this.arrayValue,a)}}function il(u,t){let r=u.indexId-t.indexId;return 0!==r?r:(r=ac(u.arrayValue,t.arrayValue),0!==r?r:(r=ac(u.directionalValue,t.directionalValue),0!==r?r:_n.comparator(u.documentKey,t.documentKey)))}function ac(u,t){for(let r=0;r<u.length&&r<t.length;++r){const a=u[r]-t[r];if(0!==a)return a}return u.length-t.length}class lc{constructor(t){this.Yt=new ci((r,a)=>_r.comparator(r.field,a.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];for(const r of t.filters){const a=r;a.isInequality()?this.Yt=this.Yt.add(a):this.Xt.push(a)}}get en(){return this.Yt.size>1}tn(t){if(rn(t.collectionGroup===this.collectionId),this.en)return!1;const r=ht(t);if(void 0!==r&&!this.nn(r))return!1;const a=Vt(t);let c=new Set,g=0,E=0;for(;g<a.length&&this.nn(a[g]);++g)c=c.add(a[g].fieldPath.canonicalString());if(g===a.length)return!0;if(this.Yt.size>0){const x=this.Yt.getIterator().getNext();if(!c.has(x.field.canonicalString())){const B=a[g];if(!this.rn(x,B)||!this.sn(this.Zt[E++],B))return!1}++g}for(;g<a.length;++g)if(E>=this.Zt.length||!this.sn(this.Zt[E++],a[g]))return!1;return!0}on(){if(this.en)return null;let t=new ci(_r.comparator);const r=[];for(const a of this.Xt)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new ce(a.field,2));else{if(t.has(a.field))continue;t=t.add(a.field),r.push(new ce(a.field,0))}for(const a of this.Zt)a.field.isKeyField()||t.has(a.field)||(t=t.add(a.field),r.push(new ce(a.field,"asc"===a.dir?0:1)));return new ft(ft.UNKNOWN_ID,this.collectionId,r,se.empty())}nn(t){for(const r of this.Xt)if(this.rn(r,t))return!0;return!1}rn(t,r){return!(void 0===t||!t.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,r){return!!t.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===t.dir||1===r.kind&&"desc"===t.dir)}}function uc(u){var t,r;if(rn(u instanceof xr||u instanceof ri),u instanceof xr){if(u instanceof _e){const c=(null===(r=null===(t=u.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(g=>xr.create(u.field,"==",g)))||[];return ri.create(c,"or")}return u}const a=u.filters.map(c=>uc(c));return ri.create(a,u.op)}function Bl(u){if(0===u.getFilters().length)return[];const t=Ou(uc(u));return rn(Lr(t)),cc(t)||bl(t)?[t]:t.getFilters()}function cc(u){return u instanceof xr}function bl(u){return u instanceof ri&&ko(u)}function Lr(u){return cc(u)||bl(u)||function(r){if(r instanceof ri&&qi(r)){for(const a of r.getFilters())if(!cc(a)&&!bl(a))return!1;return!0}return!1}(u)}function Ou(u){if(rn(u instanceof xr||u instanceof ri),u instanceof xr)return u;if(1===u.filters.length)return Ou(u.filters[0]);const t=u.filters.map(a=>Ou(a));let r=ri.create(t,u.op);return r=ku(r),Lr(r)?r:(rn(r instanceof ri),rn(hs(r)),rn(r.filters.length>1),r.filters.reduce((a,c)=>$c(a,c)))}function $c(u,t){let r;return rn(u instanceof xr||u instanceof ri),rn(t instanceof xr||t instanceof ri),r=u instanceof xr?t instanceof xr?ri.create([u,t],"and"):Gd(u,t):t instanceof xr?Gd(t,u):function(c,g){if(rn(c.filters.length>0&&g.filters.length>0),hs(c)&&hs(g))return ca(c,g.getFilters());const E=qi(c)?c:g,x=qi(c)?g:c,B=E.filters.map(X=>$c(X,x));return ri.create(B,"or")}(u,t),ku(r)}function Gd(u,t){if(hs(t))return ca(t,u.getFilters());{const r=t.filters.map(a=>$c(u,a));return ri.create(r,"or")}}function ku(u){if(rn(u instanceof xr||u instanceof ri),u instanceof xr)return u;const t=u.getFilters();if(1===t.length)return ku(t[0]);if(hl(u))return u;const r=t.map(c=>ku(c)),a=[];return r.forEach(c=>{c instanceof xr?a.push(c):c instanceof ri&&(c.op===u.op?a.push(...c.filters):a.push(c))}),1===a.length?a[0]:ri.create(a,u.op)}class Wd{constructor(){this._n=new dc}addToCollectionParentIndex(t,r){return this._n.add(r),st.resolve()}getCollectionParents(t,r){return st.resolve(this._n.getEntries(r))}addFieldIndex(t,r){return st.resolve()}deleteFieldIndex(t,r){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,r){return st.resolve()}getDocumentsMatchingTarget(t,r){return st.resolve(null)}getIndexType(t,r){return st.resolve(0)}getFieldIndexes(t,r){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,r){return st.resolve(gt.min())}getMinOffsetFromCollectionGroup(t,r){return st.resolve(gt.min())}updateCollectionGroup(t,r,a){return st.resolve()}updateIndexEntries(t,r){return st.resolve()}}class dc{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),c=this.index[r]||new ci(zn.comparator),g=!c.has(a);return this.index[r]=c.add(a),g}has(t){const r=t.lastSegment(),a=t.popLast(),c=this.index[r];return c&&c.has(a)}getEntries(t){return(this.index[t]||new ci(zn.comparator)).toArray()}}const ol=new Uint8Array(0);class pp{constructor(t,r){this.databaseId=r,this.an=new dc,this.un=new di(a=>Fo(a),(a,c)=>Wo(a,c)),this.uid=t.uid||""}addToCollectionParentIndex(t,r){if(!this.an.has(r)){const a=r.lastSegment(),c=r.popLast();t.addOnCommittedListener(()=>{this.an.add(r)});const g={collectionId:a,parent:Ue(c)};return pd(t).put(g)}return st.resolve()}getCollectionParents(t,r){const a=[],c=IDBKeyRange.bound([r,""],[Qn(r),""],!1,!0);return pd(t).U(c).next(g=>{for(const E of g){if(E.collectionId!==r)break;a.push(En(E.parent))}return a})}addFieldIndex(t,r){const a=hc(t),c={indexId:(x=r).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(B=>[B.fieldPath.canonicalString(),B.kind])};var x;delete c.indexId;const g=a.add(c);if(r.indexState){const E=Ha(t);return g.next(x=>{E.put(ji(x,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return g.next()}deleteFieldIndex(t,r){const a=hc(t),c=Ha(t),g=Fu(t);return a.delete(r.indexId).next(()=>c.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const r=hc(t),a=Fu(t),c=Ha(t);return r.j().next(()=>a.j()).next(()=>c.j())}createTargetIndexes(t,r){return st.forEach(this.cn(r),a=>this.getIndexType(t,a).next(c=>{if(0===c||1===c){const g=new lc(a).on();if(null!=g)return this.addFieldIndex(t,g)}}))}getDocumentsMatchingTarget(t,r){const a=Fu(t);let c=!0;const g=new Map;return st.forEach(this.cn(r),E=>this.ln(t,E).next(x=>{c&&(c=!!x),g.set(E,x)})).next(()=>{if(c){let E=Gr();const x=[];return st.forEach(g,(B,X)=>{var Er;Pt("IndexedDbIndexManager",`Using index ${Er=B,`id=${Er.indexId}|cg=${Er.collectionGroup}|f=${Er.fields.map(Yr=>`${Yr.fieldPath}:${Yr.kind}`).join(",")}`} to execute ${Fo(r)}`);const ye=function(Er,Yr){const Hi=ht(Yr);if(void 0===Hi)return null;for(const ii of ba(Er,Hi.fieldPath))switch(ii.op){case"array-contains-any":return ii.value.arrayValue.values||[];case"array-contains":return[ii.value]}return null}(X,B),je=function(Er,Yr){const Hi=new Map;for(const ii of Vt(Yr))for(const Ft of ba(Er,ii.fieldPath))switch(Ft.op){case"==":case"in":Hi.set(ii.fieldPath.canonicalString(),Ft.value);break;case"not-in":case"!=":return Hi.set(ii.fieldPath.canonicalString(),Ft.value),Array.from(Hi.values())}return null}(X,B),yt=function(Er,Yr){const Hi=[];let ii=!0;for(const Ft of Vt(Yr)){const lt=0===Ft.kind?Io(Er,Ft.fieldPath,Er.startAt):Mu(Er,Ft.fieldPath,Er.startAt);Hi.push(lt.value),ii&&(ii=lt.inclusive)}return new $r(Hi,ii)}(X,B),qt=function(Er,Yr){const Hi=[];let ii=!0;for(const Ft of Vt(Yr)){const lt=0===Ft.kind?Mu(Er,Ft.fieldPath,Er.endAt):Io(Er,Ft.fieldPath,Er.endAt);Hi.push(lt.value),ii&&(ii=lt.inclusive)}return new $r(Hi,ii)}(X,B),vn=this.hn(B,X,yt),Vn=this.hn(B,X,qt),Pn=this.Pn(B,X,je),vr=this.In(B.indexId,ye,vn,yt.inclusive,Vn,qt.inclusive,Pn);return st.forEach(vr,Pr=>a.G(Pr,r.limit).next(Er=>{Er.forEach(Yr=>{const Hi=_n.fromSegments(Yr.documentKey);E.has(Hi)||(E=E.add(Hi),x.push(Hi))})}))}).next(()=>x)}return st.resolve(null)})}cn(t){let r=this.un.get(t);return r||(r=0===t.filters.length?[t]:Bl(ri.create(t.filters,"and")).map(a=>co(t.path,t.collectionGroup,t.orderBy,a.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,r),r)}In(t,r,a,c,g,E,x){const B=(null!=r?r.length:1)*Math.max(a.length,g.length),X=B/(null!=r?r.length:1),ye=[];for(let je=0;je<B;++je){const yt=r?this.Tn(r[je/X]):ol,qt=this.En(t,yt,a[je%X],c),vn=this.dn(t,yt,g[je%X],E),Vn=x.map(Pn=>this.En(t,yt,Pn,!0));ye.push(...this.createRange(qt,vn,Vn))}return ye}En(t,r,a,c){const g=new rl(t,_n.empty(),r,a);return c?g:g.Jt()}dn(t,r,a,c){const g=new rl(t,_n.empty(),r,a);return c?g.Jt():g}ln(t,r){const a=new lc(r),c=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(t,c).next(g=>{let E=null;for(const x of g)a.tn(x)&&(!E||x.fields.length>E.fields.length)&&(E=x);return E})}getIndexType(t,r){let a=2;const c=this.cn(r);return st.forEach(c,g=>this.ln(t,g).next(E=>{E?0!==a&&E.fields.length<function(B){let X=new ci(_r.comparator),ye=!1;for(const je of B.filters)for(const yt of je.getFlattenedFilters())yt.field.isKeyField()||("array-contains"===yt.op||"array-contains-any"===yt.op?ye=!0:X=X.add(yt.field));for(const je of B.orderBy)je.field.isKeyField()||(X=X.add(je.field));return X.size+(ye?1:0)}(g)&&(a=1):a=0})).next(()=>null!==r.limit&&c.length>1&&2===a?1:a)}An(t,r){const a=new du;for(const c of Vt(t)){const g=r.data.field(c.fieldPath);if(null==g)return null;const E=a.Ht(c.kind);Ma.bt.Pt(g,E)}return a.Wt()}Tn(t){const r=new du;return Ma.bt.Pt(t,r.Ht(0)),r.Wt()}Rn(t,r){const a=new du;return Ma.bt.Pt(Sr(this.databaseId,r),a.Ht(function(g){const E=Vt(g);return 0===E.length?0:E[E.length-1].kind}(t))),a.Wt()}Pn(t,r,a){if(null===a)return[];let c=[];c.push(new du);let g=0;for(const E of Vt(t)){const x=a[g++];for(const B of c)if(this.Vn(r,E.fieldPath)&&Ai(x))c=this.mn(c,E,x);else{const X=B.Ht(E.kind);Ma.bt.Pt(x,X)}}return this.fn(c)}hn(t,r,a){return this.Pn(t,r,a.position)}fn(t){const r=[];for(let a=0;a<t.length;++a)r[a]=t[a].Wt();return r}mn(t,r,a){const c=[...t],g=[];for(const E of a.arrayValue.values||[])for(const x of c){const B=new du;B.seed(x.Wt()),Ma.bt.Pt(E,B.Ht(r.kind)),g.push(B)}return g}Vn(t,r){return!!t.filters.find(a=>a instanceof xr&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(t,r){const a=hc(t),c=Ha(t);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(g=>{const E=[];return st.forEach(g,x=>c.get([x.indexId,this.uid]).next(B=>{E.push(function(ye,je){const yt=je?new se(je.sequenceNumber,new gt(Ll(je.readTime),new _n(En(je.documentKey)),je.largestBatchId)):se.empty(),qt=ye.fields.map(([vn,Vn])=>new ce(_r.fromServerFormat(vn),Vn));return new ft(ye.indexId,ye.collectionGroup,qt,yt)}(x,B))})).next(()=>E)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(r=>0===r.length?null:(r.sort((a,c)=>{const g=a.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==g?g:In(a.collectionGroup,c.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(t,r,a){const c=hc(t),g=Ha(t);return this.gn(t).next(E=>c.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(x=>st.forEach(x,B=>g.put(ji(B.indexId,this.uid,E,a)))))}updateIndexEntries(t,r){const a=new Map;return st.forEach(r,(c,g)=>{const E=a.get(c.collectionGroup);return(E?st.resolve(E):this.getFieldIndexes(t,c.collectionGroup)).next(x=>(a.set(c.collectionGroup,x),st.forEach(x,B=>this.pn(t,c,B).next(X=>{const ye=this.yn(g,B);return X.isEqual(ye)?st.resolve():this.wn(t,g,B,X,ye)}))))})}Sn(t,r,a,c){return Fu(t).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.Rn(a,r.key),documentKey:r.key.path.toArray()})}bn(t,r,a,c){return Fu(t).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.Rn(a,r.key),r.key.path.toArray()])}pn(t,r,a){const c=Fu(t);let g=new ci(il);return c.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.Rn(a,r)])},(E,x)=>{g=g.add(new rl(a.indexId,r,x.arrayValue,x.directionalValue))}).next(()=>g)}yn(t,r){let a=new ci(il);const c=this.An(r,t);if(null==c)return a;const g=ht(r);if(null!=g){const E=t.data.field(g.fieldPath);if(Ai(E))for(const x of E.arrayValue.values||[])a=a.add(new rl(r.indexId,t.key,this.Tn(x),c))}else a=a.add(new rl(r.indexId,t.key,ol,c));return a}wn(t,r,a,c,g){Pt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const E=[];return function(B,X,ye,je,yt){const qt=B.getIterator(),vn=X.getIterator();let Vn=N(qt),Pn=N(vn);for(;Vn||Pn;){let vr=!1,Pr=!1;if(Vn&&Pn){const Er=ye(Vn,Pn);Er<0?Pr=!0:Er>0&&(vr=!0)}else null!=Vn?Pr=!0:vr=!0;vr?(je(Pn),Pn=N(vn)):Pr?(yt(Vn),Vn=N(qt)):(Vn=N(qt),Pn=N(vn))}}(c,g,il,x=>{E.push(this.Sn(t,r,a,x))},x=>{E.push(this.bn(t,r,a,x))}),st.waitFor(E)}gn(t){let r=1;return Ha(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,c,g)=>{g.done(),r=c.sequenceNumber+1}).next(()=>r)}createRange(t,r,a){a=a.sort((E,x)=>il(E,x)).filter((E,x,B)=>!x||0!==il(E,B[x-1]));const c=[];c.push(t);for(const E of a){const x=il(E,t),B=il(E,r);if(0===x)c[0]=t.Jt();else if(x>0&&B<0)c.push(E),c.push(E.Jt());else if(B>0)break}c.push(r);const g=[];for(let E=0;E<c.length;E+=2){if(this.Dn(c[E],c[E+1]))return[];g.push(IDBKeyRange.bound([c[E].indexId,this.uid,c[E].arrayValue,c[E].directionalValue,ol,[]],[c[E+1].indexId,this.uid,c[E+1].arrayValue,c[E+1].directionalValue,ol,[]]))}return g}Dn(t,r){return il(t,r)>0}getMinOffsetFromCollectionGroup(t,r){return this.getFieldIndexes(t,r).next(cn)}getMinOffset(t,r){return st.mapArray(this.cn(r),a=>this.ln(t,a).next(c=>c||en())).next(cn)}}function pd(u){return Jn(u,"collectionParents")}function Fu(u){return Jn(u,"indexEntries")}function hc(u){return Jn(u,"indexConfiguration")}function Ha(u){return Jn(u,"indexState")}function cn(u){rn(0!==u.length);let t=u[0].indexState.offset,r=t.largestBatchId;for(let a=1;a<u.length;a++){const c=u[a].indexState.offset;Qt(c,t)<0&&(t=c),r<c.largestBatchId&&(r=c.largestBatchId)}return new gt(t.readTime,t.documentKey,r)}const vi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class so{constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(t){return new so(t,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jc(u,t,r){const a=u.store("mutations"),c=u.store("documentMutations"),g=[],E=IDBKeyRange.only(r.batchId);let x=0;const B=a.J({range:E},(ye,je,yt)=>(x++,yt.delete()));g.push(B.next(()=>{rn(1===x)}));const X=[];for(const ye of r.mutations){const je=Vi(t,ye.key.path,r.batchId);g.push(c.delete(je)),X.push(ye.key)}return st.waitFor(g).next(()=>X)}function Pi(u){if(!u)return 0;let t;if(u.document)t=u.document;else if(u.unknownDocument)t=u.unknownDocument;else{if(!u.noDocument)throw en();t=u.noDocument}return JSON.stringify(t).length}so.DEFAULT_COLLECTION_PERCENTILE=10,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,so.DEFAULT=new so(41943040,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),so.DISABLED=new so(-1,0,0);class hu{constructor(t,r,a,c){this.userId=t,this.serializer=r,this.indexManager=a,this.referenceDelegate=c,this.Cn={}}static lt(t,r,a,c){rn(""!==t.uid);const g=t.isAuthenticated()?t.uid:"";return new hu(g,r,a,c)}checkEmpty(t){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ds(t).J({index:"userMutationsIndex",range:a},(c,g,E)=>{r=!1,E.done()}).next(()=>r)}addMutationBatch(t,r,a,c){const g=sl(t),E=ds(t);return E.add({}).next(x=>{rn("number"==typeof x);const B=new wi(x,r,a,c),X=function(qt,vn,Vn){const Pn=Vn.baseMutations.map(Pr=>uu(qt.ct,Pr)),vr=Vn.mutations.map(Pr=>uu(qt.ct,Pr));return{userId:vn,batchId:Vn.batchId,localWriteTimeMs:Vn.localWriteTime.toMillis(),baseMutations:Pn,mutations:vr}}(this.serializer,this.userId,B),ye=[];let je=new ci((yt,qt)=>In(yt.canonicalString(),qt.canonicalString()));for(const yt of c){const qt=Vi(this.userId,yt.key.path,x);je=je.add(yt.key.path.popLast()),ye.push(E.put(X)),ye.push(g.put(qt,Ji))}return je.forEach(yt=>{ye.push(this.indexManager.addToCollectionParentIndex(t,yt))}),t.addOnCommittedListener(()=>{this.Cn[x]=B.keys()}),st.waitFor(ye).next(()=>B)})}lookupMutationBatch(t,r){return ds(t).get(r).next(a=>a?(rn(a.userId===this.userId),us(this.serializer,a)):null)}vn(t,r){return this.Cn[r]?st.resolve(this.Cn[r]):this.lookupMutationBatch(t,r).next(a=>{if(a){const c=a.keys();return this.Cn[r]=c,c}return null})}getNextMutationBatchAfterBatchId(t,r){const a=r+1,c=IDBKeyRange.lowerBound([this.userId,a]);let g=null;return ds(t).J({index:"userMutationsIndex",range:c},(E,x,B)=>{x.userId===this.userId&&(rn(x.batchId>=a),g=us(this.serializer,x)),B.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(t){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return ds(t).J({index:"userMutationsIndex",range:r,reverse:!0},(c,g,E)=>{a=g.batchId,E.done()}).next(()=>a)}getAllMutationBatches(t){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ds(t).U("userMutationsIndex",r).next(a=>a.map(c=>us(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(t,r){const a=nr(this.userId,r.path),c=IDBKeyRange.lowerBound(a),g=[];return sl(t).J({range:c},(E,x,B)=>{const[X,ye,je]=E,yt=En(ye);if(X===this.userId&&r.path.isEqual(yt))return ds(t).get(je).next(qt=>{if(!qt)throw en();rn(qt.userId===this.userId),g.push(us(this.serializer,qt))});B.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new ci(In);const c=[];return r.forEach(g=>{const E=nr(this.userId,g.path),x=IDBKeyRange.lowerBound(E),B=sl(t).J({range:x},(X,ye,je)=>{const[yt,qt,vn]=X,Vn=En(qt);yt===this.userId&&g.path.isEqual(Vn)?a=a.add(vn):je.done()});c.push(B)}),st.waitFor(c).next(()=>this.Fn(t,a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,c=a.length+1,g=nr(this.userId,a),E=IDBKeyRange.lowerBound(g);let x=new ci(In);return sl(t).J({range:E},(B,X,ye)=>{const[je,yt,qt]=B,vn=En(yt);je===this.userId&&a.isPrefixOf(vn)?vn.length===c&&(x=x.add(qt)):ye.done()}).next(()=>this.Fn(t,x))}Fn(t,r){const a=[],c=[];return r.forEach(g=>{c.push(ds(t).get(g).next(E=>{if(null===E)throw en();rn(E.userId===this.userId),a.push(us(this.serializer,E))}))}),st.waitFor(c).next(()=>a)}removeMutationBatch(t,r){return jc(t._e,this.userId,r).next(a=>(t.addOnCommittedListener(()=>{this.Mn(r.batchId)}),st.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(t,c))))}Mn(t){delete this.Cn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(r=>{if(!r)return st.resolve();const a=IDBKeyRange.lowerBound(function(E){return[E]}(this.userId)),c=[];return sl(t).J({range:a},(g,E,x)=>{if(g[0]===this.userId){const B=En(g[1]);c.push(B)}else x.done()}).next(()=>{rn(0===c.length)})})}containsKey(t,r){return $l(t,this.userId,r)}xn(t){return Hc(t).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $l(u,t,r){const a=nr(t,r.path),c=a[1],g=IDBKeyRange.lowerBound(a);let E=!1;return sl(u).J({range:g,H:!0},(x,B,X)=>{const[ye,je,yt]=x;ye===t&&je===c&&(E=!0),X.done()}).next(()=>E)}function ds(u){return Jn(u,"mutations")}function sl(u){return Jn(u,"documentMutations")}function Hc(u){return Jn(u,"mutationQueues")}class fu{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new fu(0)}static Ln(){return new fu(-1)}}class qh{constructor(t,r){this.referenceDelegate=t,this.serializer=r}allocateTargetId(t){return this.Bn(t).next(r=>{const a=new fu(r.highestTargetId);return r.highestTargetId=a.next(),this.kn(t,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(r=>Ln.fromTimestamp(new Bn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(t,r,a){return this.Bn(t).next(c=>(c.highestListenSequenceNumber=r,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.kn(t,c)))}addTargetData(t,r){return this.qn(t,r).next(()=>this.Bn(t).next(a=>(a.targetCount+=1,this.Qn(r,a),this.kn(t,a))))}updateTargetData(t,r){return this.qn(t,r)}removeTargetData(t,r){return this.removeMatchingKeysForTargetId(t,r.targetId).next(()=>Tl(t).delete(r.targetId)).next(()=>this.Bn(t)).next(a=>(rn(a.targetCount>0),a.targetCount-=1,this.kn(t,a)))}removeTargets(t,r,a){let c=0;const g=[];return Tl(t).J((E,x)=>{const B=Nu(x);B.sequenceNumber<=r&&null===a.get(B.targetId)&&(c++,g.push(this.removeTargetData(t,B)))}).next(()=>st.waitFor(g)).next(()=>c)}forEachTarget(t,r){return Tl(t).J((a,c)=>{const g=Nu(c);r(g)})}Bn(t){return es(t).get("targetGlobalKey").next(r=>(rn(null!==r),r))}kn(t,r){return es(t).put("targetGlobalKey",r)}qn(t,r){return Tl(t).put(oc(this.serializer,r))}Qn(t,r){let a=!1;return t.targetId>r.highestTargetId&&(r.highestTargetId=t.targetId,a=!0),t.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t.sequenceNumber,a=!0),a}getTargetCount(t){return this.Bn(t).next(r=>r.targetCount)}getTargetData(t,r){const a=Fo(r),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let g=null;return Tl(t).J({range:c,index:"queryTargetsIndex"},(E,x,B)=>{const X=Nu(x);Wo(r,X.target)&&(g=X,B.done())}).next(()=>g)}addMatchingKeys(t,r,a){const c=[],g=vs(t);return r.forEach(E=>{const x=Ue(E.path);c.push(g.put({targetId:a,path:x})),c.push(this.referenceDelegate.addReference(t,a,E))}),st.waitFor(c)}removeMatchingKeys(t,r,a){const c=vs(t);return st.forEach(r,g=>{const E=Ue(g.path);return st.waitFor([c.delete([a,E]),this.referenceDelegate.removeReference(t,a,g)])})}removeMatchingKeysForTargetId(t,r){const a=vs(t),c=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(t,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),c=vs(t);let g=Gr();return c.J({range:a,H:!0},(E,x,B)=>{const X=En(E[1]),ye=new _n(X);g=g.add(ye)}).next(()=>g)}containsKey(t,r){const a=Ue(r.path),c=IDBKeyRange.bound([a],[Qn(a)],!1,!0);let g=0;return vs(t).J({index:"documentTargetsIndex",H:!0,range:c},([E,x],B,X)=>{0!==E&&(g++,X.done())}).next(()=>g>0)}ot(t,r){return Tl(t).get(r).next(a=>a?Nu(a):null)}}function Tl(u){return Jn(u,"targets")}function es(u){return Jn(u,"targetGlobal")}function vs(u){return Jn(u,"targetDocuments")}function fc([u,t],[r,a]){const c=In(u,r);return 0===c?In(t,a):c}class za{constructor(t){this.Kn=t,this.buffer=new ci(fc),this.$n=0}Un(){return++this.$n}Wn(t){const r=[t,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();fc(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class al{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(t){var r=this;Pt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Me.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){Ti(a)?Pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield fr(a)}yield r.zn(3e5)}))}}class Xh{constructor(t,r){this.jn=t,this.params=r}calculateTargetCount(t,r){return this.jn.Hn(t).next(a=>Math.floor(r/100*a))}nthSequenceNumber(t,r){if(0===r)return st.resolve(ee.oe);const a=new za(r);return this.jn.forEachTarget(t,c=>a.Wn(c.sequenceNumber)).next(()=>this.jn.Jn(t,c=>a.Wn(c))).next(()=>a.maxValue)}removeTargets(t,r,a){return this.jn.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.jn.removeOrphanedDocuments(t,r)}collect(t,r){return-1===this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(vi)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vi):this.Yn(t,r))}getCacheSize(t){return this.jn.getCacheSize(t)}Yn(t,r){let a,c,g,E,x,B,X;const ye=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(je=>(je>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${je}`),c=this.params.maximumSequenceNumbersToCollect):c=je,E=Date.now(),this.nthSequenceNumber(t,c))).next(je=>(a=je,x=Date.now(),this.removeTargets(t,a,r))).next(je=>(g=je,B=Date.now(),this.removeOrphanedDocuments(t,a))).next(je=>(X=Date.now(),Ot()<=Ye.$b.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-ye}ms\n\tDetermined least recently used ${c} in `+(x-E)+`ms\n\tRemoved ${g} targets in `+(B-x)+`ms\n\tRemoved ${je} documents in `+(X-B)+`ms\nTotal Duration: ${X-ye}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:g,documentsRemoved:je})))}}class gp{constructor(t,r){this.db=t,this.garbageCollector=function zc(u,t){return new Xh(u,t)}(this,r)}Hn(t){const r=this.Zn(t);return this.db.getTargetCache().getTargetCount(t).next(a=>r.next(c=>a+c))}Zn(t){let r=0;return this.Jn(t,a=>{r++}).next(()=>r)}forEachTarget(t,r){return this.db.getTargetCache().forEachTarget(t,r)}Jn(t,r){return this.Xn(t,(a,c)=>r(c))}addReference(t,r,a){return gd(t,a)}removeReference(t,r,a){return gd(t,a)}removeTargets(t,r,a){return this.db.getTargetCache().removeTargets(t,r,a)}markPotentiallyOrphaned(t,r){return gd(t,r)}er(t,r){return function(c,g){let E=!1;return Hc(c).Y(x=>$l(c,x,g).next(B=>(B&&(E=!0),st.resolve(!B)))).next(()=>E)}(t,r)}removeOrphanedDocuments(t,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let g=0;return this.Xn(t,(E,x)=>{if(x<=r){const B=this.er(t,E).next(X=>{if(!X)return g++,a.getEntry(t,E).next(()=>(a.removeEntry(E,Ln.min()),vs(t).delete([0,Ue(E.path)])))});c.push(B)}}).next(()=>st.waitFor(c)).next(()=>a.apply(t)).next(()=>g)}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,a)}updateLimboDocument(t,r){return gd(t,r)}Xn(t,r){const a=vs(t);let c,g=ee.oe;return a.J({index:"documentTargetsIndex"},([E,x],{path:B,sequenceNumber:X})=>{0===E?(g!==ee.oe&&r(new _n(En(c)),g),g=X,c=B):g=ee.oe}).next(()=>{g!==ee.oe&&r(new _n(En(c)),g)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function gd(u,t){return vs(u).put((c=u.currentSequenceNumber,{targetId:0,path:Ue(t.path),sequenceNumber:c}));var c}class pc{constructor(){this.changes=new di(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Jr.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?st.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class md{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,r,a){return jl(t).put(a)}removeEntry(t,r,a){return jl(t).delete(function(g,E){const x=g.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],xu(E),x[x.length-1]]}(r,a))}updateMetadata(t,r){return this.getMetadata(t).next(a=>(a.byteSize+=r,this.tr(t,a)))}getEntry(t,r){let a=Jr.newInvalidDocument(r);return jl(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(gu(r))},(c,g)=>{a=this.nr(r,g)}).next(()=>a)}rr(t,r){let a={size:0,document:Jr.newInvalidDocument(r)};return jl(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(gu(r))},(c,g)=>{a={document:this.nr(r,g),size:Pi(g)}}).next(()=>a)}getEntries(t,r){let a=Ko();return this.ir(t,r,(c,g)=>{const E=this.nr(c,g);a=a.insert(c,E)}).next(()=>a)}sr(t,r){let a=Ko(),c=new ui(_n.comparator);return this.ir(t,r,(g,E)=>{const x=this.nr(g,E);a=a.insert(g,x),c=c.insert(g,Pi(E))}).next(()=>({documents:a,_r:c}))}ir(t,r,a){if(r.isEmpty())return st.resolve();let c=new ci(vd);r.forEach(B=>c=c.add(B));const g=IDBKeyRange.bound(gu(c.first()),gu(c.last())),E=c.getIterator();let x=E.getNext();return jl(t).J({index:"documentKeyIndex",range:g},(B,X,ye)=>{const je=_n.fromSegments([...X.prefixPath,X.collectionGroup,X.documentId]);for(;x&&vd(x,je)<0;)a(x,null),x=E.getNext();x&&x.isEqual(je)&&(a(x,X),x=E.hasNext()?E.getNext():null),x?ye.$(gu(x)):ye.done()}).next(()=>{for(;x;)a(x,null),x=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(t,r,a,c,g){const E=r.path,x=[E.popLast().toArray(),E.lastSegment(),xu(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],B=[E.popLast().toArray(),E.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jl(t).U(IDBKeyRange.bound(x,B,!0)).next(X=>{null==g||g.incrementDocumentReadCount(X.length);let ye=Ko();for(const je of X){const yt=this.nr(_n.fromSegments(je.prefixPath.concat(je.collectionGroup,je.documentId)),je);yt.isFoundDocument()&&(La(r,yt)||c.has(yt.key))&&(ye=ye.insert(yt.key,yt))}return ye})}getAllFromCollectionGroup(t,r,a,c){let g=Ko();const E=_d(r,a),x=_d(r,gt.max());return jl(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,x,!0)},(B,X,ye)=>{const je=this.nr(_n.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);g=g.insert(je.key,je),g.size===c&&ye.done()}).next(()=>g)}newChangeBuffer(t){return new Gc(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(r=>r.byteSize)}getMetadata(t){return Kd(t).get("remoteDocumentGlobalKey").next(r=>(rn(!!r),r))}tr(t,r){return Kd(t).put("remoteDocumentGlobalKey",r)}nr(t,r){if(r){const a=function Al(u,t){let r;if(t.document)r=dd(u.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const a=_n.fromSegments(t.noDocument.path),c=Ll(t.noDocument.readTime);r=Jr.newNoDocument(a,c),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return en();{const a=_n.fromSegments(t.unknownDocument.path),c=Ll(t.unknownDocument.version);r=Jr.newUnknownDocument(a,c)}}return t.readTime&&r.setReadTime(function(c){const g=new Bn(c[0],c[1]);return Ln.fromTimestamp(g)}(t.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual(Ln.min()))return a}return Jr.newInvalidDocument(t)}}function pu(u){return new md(u)}class Gc extends pc{constructor(t,r){super(),this.ar=t,this.trackRemovals=r,this.ur=new di(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(t){const r=[];let a=0,c=new ci((g,E)=>In(g.canonicalString(),E.canonicalString()));return this.changes.forEach((g,E)=>{const x=this.ur.get(g);if(r.push(this.ar.removeEntry(t,g,x.readTime)),E.isValidDocument()){const B=ms(this.ar.serializer,E);c=c.add(g.path.popLast());const X=Pi(B);a+=X-x.size,r.push(this.ar.addEntry(t,g,B))}else if(a-=x.size,this.trackRemovals){const B=ms(this.ar.serializer,E.convertToNoDocument(Ln.min()));r.push(this.ar.addEntry(t,g,B))}}),c.forEach(g=>{r.push(this.ar.indexManager.addToCollectionParentIndex(t,g))}),r.push(this.ar.updateMetadata(t,a)),st.waitFor(r)}getFromCache(t,r){return this.ar.rr(t,r).next(a=>(this.ur.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(t,r){return this.ar.sr(t,r).next(({documents:a,_r:c})=>(c.forEach((g,E)=>{this.ur.set(g,{size:E,readTime:a.get(g).readTime})}),a))}}function Kd(u){return Jn(u,"remoteDocumentGlobal")}function jl(u){return Jn(u,"remoteDocumentsV14")}function gu(u){const t=u.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function _d(u,t){const r=t.documentKey.path.toArray();return[u,xu(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function vd(u,t){const r=u.path.toArray(),a=t.path.toArray();let c=0;for(let g=0;g<r.length-2&&g<a.length-2;++g)if(c=In(r[g],a[g]),c)return c;return c=In(r.length,a.length),c||(c=In(r[r.length-2],a[a.length-2]),c||In(r[r.length-1],a[a.length-1]))}class qd{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class yd{constructor(t,r,a,c){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=c}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next(c=>(a=c,this.remoteDocumentCache.getEntry(t,r))).next(c=>(null!==a&&Nr(a.mutation,c,Q.empty(),Bn.now()),c))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.getLocalViewOfDocuments(t,a,Gr()).next(()=>a))}getLocalViewOfDocuments(t,r,a=Gr()){const c=Ys();return this.populateOverlays(t,c,r).next(()=>this.computeViews(t,r,c,a).next(g=>{let E=el();return g.forEach((x,B)=>{E=E.insert(x,B.overlayedDocument)}),E}))}getOverlayedDocuments(t,r){const a=Ys();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,Gr()))}populateOverlays(t,r,a){const c=[];return a.forEach(g=>{r.has(g)||c.push(g)}),this.documentOverlayCache.getOverlays(t,c).next(g=>{g.forEach((E,x)=>{r.set(E,x)})})}computeViews(t,r,a,c){let g=Ko();const E=Ps(),x=Ps();return r.forEach((B,X)=>{const ye=a.get(X.key);c.has(X.key)&&(void 0===ye||ye.mutation instanceof ni)?g=g.insert(X.key,X):void 0!==ye?(E.set(X.key,ye.mutation.getFieldMask()),Nr(ye.mutation,X,ye.mutation.getFieldMask(),Bn.now())):E.set(X.key,Q.empty())}),this.recalculateAndSaveOverlays(t,g).next(B=>(B.forEach((X,ye)=>E.set(X,ye)),r.forEach((X,ye)=>{var je;return x.set(X,new qd(ye,null!==(je=E.get(X))&&void 0!==je?je:null))}),x))}recalculateAndSaveOverlays(t,r){const a=Ps();let c=new ui((E,x)=>E-x),g=Gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(E=>{for(const x of E)x.keys().forEach(B=>{const X=r.get(B);if(null===X)return;let ye=a.get(B)||Q.empty();ye=x.applyToLocalView(X,ye),a.set(B,ye);const je=(c.get(x.batchId)||Gr()).add(B);c=c.insert(x.batchId,je)})}).next(()=>{const E=[],x=c.getReverseIterator();for(;x.hasNext();){const B=x.getNext(),X=B.key,ye=B.value,je=xl();ye.forEach(yt=>{if(!g.has(yt)){const qt=tn(r.get(yt),a.get(yt));null!==qt&&je.set(yt,qt),g=g.add(yt)}}),E.push(this.documentOverlayCache.saveOverlays(t,X,je))}return st.waitFor(E)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,r,a,c){return _n.isDocumentKey((E=r).path)&&null===E.collectionGroup&&0===E.filters.length?this.getDocumentsMatchingDocumentQuery(t,r.path):Es(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,c):this.getDocumentsMatchingCollectionQuery(t,r,a,c);var E}getNextDocuments(t,r,a,c){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,c).next(g=>{const E=c-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,c-g.size):st.resolve(Ys());let x=-1,B=g;return E.next(X=>st.forEach(X,(ye,je)=>(x<je.largestBatchId&&(x=je.largestBatchId),g.get(ye)?st.resolve():this.remoteDocumentCache.getEntry(t,ye).next(yt=>{B=B.insert(ye,yt)}))).next(()=>this.populateOverlays(t,X,g)).next(()=>this.computeViews(t,B,X,Gr())).next(ye=>({batchId:x,changes:tu(ye)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new _n(r)).next(a=>{let c=el();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}getDocumentsMatchingCollectionGroupQuery(t,r,a,c){const g=r.collectionGroup;let E=el();return this.indexManager.getCollectionParents(t,g).next(x=>st.forEach(x,B=>{const X=(je=r,yt=B.child(g),new fs(yt,null,je.explicitOrderBy.slice(),je.filters.slice(),je.limit,je.limitType,je.startAt,je.endAt));var je,yt;return this.getDocumentsMatchingCollectionQuery(t,X,a,c).next(ye=>{ye.forEach((je,yt)=>{E=E.insert(je,yt)})})}).next(()=>E))}getDocumentsMatchingCollectionQuery(t,r,a,c){let g;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next(E=>(g=E,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,g,c))).next(E=>{g.forEach((B,X)=>{const ye=X.getKey();null===E.get(ye)&&(E=E.insert(ye,Jr.newInvalidDocument(ye)))});let x=el();return E.forEach((B,X)=>{const ye=g.get(B);void 0!==ye&&Nr(ye.mutation,X,Q.empty(),Bn.now()),La(r,X)&&(x=x.insert(B,X))}),x})}}class gc{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,r){return st.resolve(this.cr.get(r))}saveBundleMetadata(t,r){return this.cr.set(r.id,{id:(c=r).id,version:c.version,createTime:Yi(c.createTime)}),st.resolve();var c}getNamedQuery(t,r){return st.resolve(this.lr.get(r))}saveNamedQuery(t,r){return this.lr.set(r.name,{name:(c=r).name,query:Ul(c.bundledQuery),readTime:Yi(c.readTime)}),st.resolve();var c}}class Qh{constructor(){this.overlays=new ui(_n.comparator),this.hr=new Map}getOverlay(t,r){return st.resolve(this.overlays.get(r))}getOverlays(t,r){const a=Ys();return st.forEach(r,c=>this.getOverlay(t,c).next(g=>{null!==g&&a.set(c,g)})).next(()=>a)}saveOverlays(t,r,a){return a.forEach((c,g)=>{this.ht(t,r,g)}),st.resolve()}removeOverlaysForBatchId(t,r,a){const c=this.hr.get(a);return void 0!==c&&(c.forEach(g=>this.overlays=this.overlays.remove(g)),this.hr.delete(a)),st.resolve()}getOverlaysForCollection(t,r,a){const c=Ys(),g=r.length+1,E=new _n(r.child("")),x=this.overlays.getIteratorFrom(E);for(;x.hasNext();){const B=x.getNext().value,X=B.getKey();if(!r.isPrefixOf(X.path))break;X.path.length===g&&B.largestBatchId>a&&c.set(B.getKey(),B)}return st.resolve(c)}getOverlaysForCollectionGroup(t,r,a,c){let g=new ui((X,ye)=>X-ye);const E=this.overlays.getIterator();for(;E.hasNext();){const X=E.getNext().value;if(X.getKey().getCollectionGroup()===r&&X.largestBatchId>a){let ye=g.get(X.largestBatchId);null===ye&&(ye=Ys(),g=g.insert(X.largestBatchId,ye)),ye.set(X.getKey(),X)}}const x=Ys(),B=g.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((X,ye)=>x.set(X,ye)),!(x.size()>=c)););return st.resolve(x)}ht(t,r,a){const c=this.overlays.get(a.key);if(null!==c){const E=this.hr.get(c.largestBatchId).delete(a.key);this.hr.set(c.largestBatchId,E)}this.overlays=this.overlays.insert(a.key,new Xr(r,a));let g=this.hr.get(r);void 0===g&&(g=Gr(),this.hr.set(r,g)),this.hr.set(r,g.add(a.key))}}class ts{constructor(){this.Pr=new ci(Co.Ir),this.Tr=new ci(Co.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,r){const a=new Co(t,r);this.Pr=this.Pr.add(a),this.Tr=this.Tr.add(a)}dr(t,r){t.forEach(a=>this.addReference(a,r))}removeReference(t,r){this.Ar(new Co(t,r))}Rr(t,r){t.forEach(a=>this.removeReference(a,r))}Vr(t){const r=new _n(new zn([])),a=new Co(r,t),c=new Co(r,t+1),g=[];return this.Tr.forEachInRange([a,c],E=>{this.Ar(E),g.push(E.key)}),g}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const r=new _n(new zn([])),a=new Co(r,t),c=new Co(r,t+1);let g=Gr();return this.Tr.forEachInRange([a,c],E=>{g=g.add(E.key)}),g}containsKey(t){const r=new Co(t,0),a=this.Pr.firstAfterOrEqual(r);return null!==a&&t.isEqual(a.key)}}class Co{constructor(t,r){this.key=t,this.pr=r}static Ir(t,r){return _n.comparator(t.key,r.key)||In(t.pr,r.pr)}static Er(t,r){return In(t.pr,r.pr)||_n.comparator(t.key,r.key)}}class lo{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new ci(Co.Ir)}checkEmpty(t){return st.resolve(0===this.mutationQueue.length)}addMutationBatch(t,r,a,c){const g=this.yr;this.yr++;const E=new wi(g,r,a,c);this.mutationQueue.push(E);for(const x of c)this.wr=this.wr.add(new Co(x.key,g)),this.indexManager.addToCollectionParentIndex(t,x.key.path.popLast());return st.resolve(E)}lookupMutationBatch(t,r){return st.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(t,r){const c=this.br(r+1),g=c<0?0:c;return st.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new Co(r,0),c=new Co(r,Number.POSITIVE_INFINITY),g=[];return this.wr.forEachInRange([a,c],E=>{const x=this.Sr(E.pr);g.push(x)}),st.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new ci(In);return r.forEach(c=>{const g=new Co(c,0),E=new Co(c,Number.POSITIVE_INFINITY);this.wr.forEachInRange([g,E],x=>{a=a.add(x.pr)})}),st.resolve(this.Dr(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,c=a.length+1;let g=a;_n.isDocumentKey(g)||(g=g.child(""));const E=new Co(new _n(g),0);let x=new ci(In);return this.wr.forEachWhile(B=>{const X=B.key.path;return!!a.isPrefixOf(X)&&(X.length===c&&(x=x.add(B.pr)),!0)},E),st.resolve(this.Dr(x))}Dr(t){const r=[];return t.forEach(a=>{const c=this.Sr(a);null!==c&&r.push(c)}),r}removeMutationBatch(t,r){rn(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.wr;return st.forEach(r.mutations,c=>{const g=new Co(c.key,r.batchId);return a=a.delete(g),this.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(()=>{this.wr=a})}Mn(t){}containsKey(t,r){const a=new Co(r,0),c=this.wr.firstAfterOrEqual(a);return st.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(t){return st.resolve()}Cr(t,r){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const r=this.br(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Yh{constructor(t){this.vr=t,this.docs=new ui(_n.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,c=this.docs.get(a),g=c?c.size:0,E=this.vr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:E}),this.size+=E-g,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return st.resolve(a?a.document.mutableCopy():Jr.newInvalidDocument(r))}getEntries(t,r){let a=Ko();return r.forEach(c=>{const g=this.docs.get(c);a=a.insert(c,g?g.document.mutableCopy():Jr.newInvalidDocument(c))}),st.resolve(a)}getDocumentsMatchingQuery(t,r,a,c){let g=Ko();const E=r.path,x=new _n(E.child("")),B=this.docs.getIteratorFrom(x);for(;B.hasNext();){const{key:X,value:{document:ye}}=B.getNext();if(!E.isPrefixOf(X.path))break;X.path.length>E.length+1||Qt(ue(ye),a)<=0||(c.has(ye.key)||La(r,ye))&&(g=g.insert(ye.key,ye.mutableCopy()))}return st.resolve(g)}getAllFromCollectionGroup(t,r,a,c){en()}Fr(t,r){return st.forEach(this.docs,a=>r(a))}newChangeBuffer(t){return new Xd(this)}getSize(t){return st.resolve(this.size)}}class Xd extends pc{constructor(t){super(),this.ar=t}applyChanges(t){const r=[];return this.changes.forEach((a,c)=>{c.isValidDocument()?r.push(this.ar.addEntry(t,c)):this.ar.removeEntry(a)}),st.waitFor(r)}getFromCache(t,r){return this.ar.getEntry(t,r)}getAllFromCache(t,r){return this.ar.getEntries(t,r)}}class Zh{constructor(t){this.persistence=t,this.Mr=new di(r=>Fo(r),Wo),this.lastRemoteSnapshotVersion=Ln.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ts,this.targetCount=0,this.Lr=fu.Nn()}forEachTarget(t,r){return this.Mr.forEach((a,c)=>r(c)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Or&&(this.Or=r),st.resolve()}qn(t){this.Mr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Lr=new fu(r),this.highestTargetId=r),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,r){return this.qn(r),this.targetCount+=1,st.resolve()}updateTargetData(t,r){return this.qn(r),st.resolve()}removeTargetData(t,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,r,a){let c=0;const g=[];return this.Mr.forEach((E,x)=>{x.sequenceNumber<=r&&null===a.get(x.targetId)&&(this.Mr.delete(E),g.push(this.removeMatchingKeysForTargetId(t,x.targetId)),c++)}),st.waitFor(g).next(()=>c)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,r){const a=this.Mr.get(r)||null;return st.resolve(a)}addMatchingKeys(t,r,a){return this.Nr.dr(r,a),st.resolve()}removeMatchingKeys(t,r,a){this.Nr.Rr(r,a);const c=this.persistence.referenceDelegate,g=[];return c&&r.forEach(E=>{g.push(c.markPotentiallyOrphaned(t,E))}),st.waitFor(g)}removeMatchingKeysForTargetId(t,r){return this.Nr.Vr(r),st.resolve()}getMatchingKeysForTargetId(t,r){const a=this.Nr.gr(r);return st.resolve(a)}containsKey(t,r){return st.resolve(this.Nr.containsKey(r))}}class Id{constructor(t,r){this.Br={},this.overlays={},this.kr=new ee(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Zh(this),this.indexManager=new Wd,this.remoteDocumentCache=new Yh(a=>this.referenceDelegate.Kr(a)),this.serializer=new Vl(r),this.$r=new gc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Qh,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.Br[t.toKey()];return a||(a=new lo(r,this.referenceDelegate),this.Br[t.toKey()]=a),a}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,r,a){Pt("MemoryPersistence","Starting transaction:",t);const c=new Qd(this.kr.next());return this.referenceDelegate.Ur(),a(c).next(g=>this.referenceDelegate.Wr(c).next(()=>g)).toPromise().then(g=>(c.raiseOnCommittedEvent(),g))}Gr(t,r){return st.or(Object.values(this.Br).map(a=>()=>a.containsKey(t,r)))}}class Qd extends Wn{constructor(t){super(),this.currentSequenceNumber=t}}class mc{constructor(t){this.persistence=t,this.zr=new ts,this.jr=null}static Hr(t){return new mc(t)}get Jr(){if(this.jr)return this.jr;throw en()}addReference(t,r,a){return this.zr.addReference(a,r),this.Jr.delete(a.toString()),st.resolve()}removeReference(t,r,a){return this.zr.removeReference(a,r),this.Jr.add(a.toString()),st.resolve()}markPotentiallyOrphaned(t,r){return this.Jr.add(r.toString()),st.resolve()}removeTarget(t,r){this.zr.Vr(r.targetId).forEach(c=>this.Jr.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next(c=>{c.forEach(g=>this.Jr.add(g.toString()))}).next(()=>a.removeTargetData(t,r))}Ur(){this.jr=new Set}Wr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.Jr,a=>{const c=_n.fromPath(a);return this.Yr(t,c).next(g=>{g||r.removeEntry(c,Ln.min())})}).next(()=>(this.jr=null,r.apply(t)))}updateLimboDocument(t,r){return this.Yr(t,r).next(a=>{a?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(t){return 0}Yr(t,r){return st.or([()=>st.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Gr(t,r)])}}class pa{constructor(t){this.serializer=t}O(t,r,a,c){const g=new wn("createOrUpgrade",r);var B;a<1&&c>=1&&(t.createObjectStore("owner"),(B=t).createObjectStore("mutationQueues",{keyPath:"userId"}),B.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",or,{unique:!0}),B.createObjectStore("documentMutations"),Vu(t),function(B){B.createObjectStore("remoteDocuments")}(t));let E=st.resolve();return a<3&&c>=3&&(0!==a&&(function(B){B.deleteObjectStore("targetDocuments"),B.deleteObjectStore("targets"),B.deleteObjectStore("targetGlobal")}(t),Vu(t)),E=E.next(()=>function(B){const X=B.store("targetGlobal"),ye={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ln.min().toTimestamp(),targetCount:0};return X.put("targetGlobalKey",ye)}(g))),a<4&&c>=4&&(0!==a&&(E=E.next(()=>function(B,X){return X.store("mutations").U().next(ye=>{B.deleteObjectStore("mutations"),B.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",or,{unique:!0});const je=X.store("mutations"),yt=ye.map(qt=>je.put(qt));return st.waitFor(yt)})}(t,g))),E=E.next(()=>{!function(B){B.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),a<5&&c>=5&&(E=E.next(()=>this.Xr(g))),a<6&&c>=6&&(E=E.next(()=>(function(B){B.createObjectStore("remoteDocumentGlobal")}(t),this.ei(g)))),a<7&&c>=7&&(E=E.next(()=>this.ti(g))),a<8&&c>=8&&(E=E.next(()=>this.ni(t,g))),a<9&&c>=9&&(E=E.next(()=>{!function(B){B.objectStoreNames.contains("remoteDocumentChanges")&&B.deleteObjectStore("remoteDocumentChanges")}(t)})),a<10&&c>=10&&(E=E.next(()=>this.ri(g))),a<11&&c>=11&&(E=E.next(()=>{(function(B){B.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(B){B.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),a<12&&c>=12&&(E=E.next(()=>{!function(B){const X=B.createObjectStore("documentOverlays",{keyPath:wo});X.createIndex("collectionPathOverlayIndex",ro,{unique:!1}),X.createIndex("collectionGroupOverlayIndex",Dr,{unique:!1})}(t)})),a<13&&c>=13&&(E=E.next(()=>function(B){const X=B.createObjectStore("remoteDocumentsV14",{keyPath:Wi});X.createIndex("documentKeyIndex",gr),X.createIndex("collectionGroupIndex",ki)}(t)).next(()=>this.ii(t,g)).next(()=>t.deleteObjectStore("remoteDocuments"))),a<14&&c>=14&&(E=E.next(()=>this.si(t,g))),a<15&&c>=15&&(E=E.next(()=>function(B){B.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),B.createObjectStore("indexState",{keyPath:Oo}).createIndex("sequenceNumberIndex",jo,{unique:!1}),B.createObjectStore("indexEntries",{keyPath:Ho}).createIndex("documentKeyIndex",zo,{unique:!1})}(t))),a<16&&c>=16&&(E=E.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),E}ei(t){let r=0;return t.store("remoteDocuments").J((a,c)=>{r+=Pi(c)}).next(()=>{const a={byteSize:r};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Xr(t){const r=t.store("mutationQueues"),a=t.store("mutations");return r.U().next(c=>st.forEach(c,g=>{const E=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",E).next(x=>st.forEach(x,B=>{rn(B.userId===g.userId);const X=us(this.serializer,B);return jc(t,g.userId,X).next(()=>{})}))}))}ti(t){const r=t.store("targetDocuments"),a=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(c=>{const g=[];return a.J((E,x)=>{const B=new zn(E),X=[0,Ue(B)];g.push(r.get(X).next(ye=>ye?st.resolve():r.put({targetId:0,path:Ue(B),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>st.waitFor(g))})}ni(t,r){t.createObjectStore("collectionParents",{keyPath:Li});const a=r.store("collectionParents"),c=new dc,g=E=>{if(c.add(E)){const x=E.lastSegment(),B=E.popLast();return a.put({collectionId:x,parent:Ue(B)})}};return r.store("remoteDocuments").J({H:!0},(E,x)=>{const B=new zn(E);return g(B.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([E,x,B],X)=>{const ye=En(x);return g(ye.popLast())}))}ri(t){const r=t.store("targets");return r.J((a,c)=>{const g=Nu(c),E=oc(this.serializer,g);return r.put(E)})}ii(t,r){const a=r.store("remoteDocuments"),c=[];return a.J((g,E)=>{const x=r.store("remoteDocumentsV14"),B=(je=E,je.document?new _n(zn.fromString(je.document.name).popFirst(5)):je.noDocument?_n.fromSegments(je.noDocument.path):je.unknownDocument?_n.fromSegments(je.unknownDocument.path):en()).path.toArray(),X={prefixPath:B.slice(0,B.length-2),collectionGroup:B[B.length-2],documentId:B[B.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};var je;c.push(x.put(X))}).next(()=>st.waitFor(c))}si(t,r){const a=r.store("mutations"),c=pu(this.serializer),g=new Id(mc.Hr,this.serializer.ct);return a.U().next(E=>{const x=new Map;return E.forEach(B=>{var X;let ye=null!==(X=x.get(B.userId))&&void 0!==X?X:Gr();us(this.serializer,B).keys().forEach(je=>ye=ye.add(je)),x.set(B.userId,ye)}),st.forEach(x,(B,X)=>{const ye=new Re(X),je=sc.lt(this.serializer,ye),yt=g.getIndexManager(ye),qt=hu.lt(ye,this.serializer,yt,g.referenceDelegate);return new yd(c,qt,je,yt).recalculateAndSaveOverlaysForDocumentKeys(new is(r,ee.oe),B).next()})})}}function Vu(u){u.createObjectStore("targetDocuments",{keyPath:eo}).createIndex("documentTargetsIndex",ai,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uo,{unique:!0}),u.createObjectStore("targetGlobal")}const Lu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wl{constructor(t,r,a,c,g,E,x,B,X,ye,je=16){if(this.allowTabSynchronization=t,this.persistenceKey=r,this.clientId=a,this.oi=g,this.window=E,this.document=x,this._i=X,this.ai=ye,this.ui=je,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=yt=>Promise.resolve(),!wl.D())throw new We(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gp(this,c),this.Ti=r+"main",this.serializer=new Vl(B),this.Ei=new Yn(this.Ti,this.ui,new pa(this.serializer)),this.Qr=new qh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pu(this.serializer),this.$r=new hd,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ye&&mn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new We(xe.FAILED_PRECONDITION,Lu);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Qr.getHighestSequenceNumber(t))}).then(t=>{this.kr=new ee(t,this._i)}).then(()=>{this.qr=!0}).catch(t=>(this.Ei&&this.Ei.close(),Promise.reject(t)))}fi(t){var r=this;return this.Ii=function(){var a=(0,Me.A)(function*(c){if(r.started)return t(c)});return function(c){return a.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ei.L(function(){var r=(0,Me.A)(function*(a){null===a.newVersion&&(yield t())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(t){var r=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.oi.enqueueAndForget((0,Me.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>mu(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(t).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(t)).next(r=>this.isPrimary&&!r?this.yi(t).next(()=>!1):!!r&&this.wi(t).next(()=>!0))).catch(t=>{if(Ti(t))return Pt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.oi.enqueueRetryable(()=>this.Ii(t)),this.isPrimary=t})}gi(t){return zl(t).get("owner").next(r=>st.resolve(this.Si(r)))}bi(t){return mu(t).delete(this.clientId)}Di(){var t=this;return(0,Me.A)(function*(){if(t.isPrimary&&!t.Ci(t.Pi,18e5)){t.Pi=Date.now();const r=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=Jn(a,"clientMetadata");return c.U().next(g=>{const E=t.vi(g,18e5),x=g.filter(B=>-1===E.indexOf(B));return st.forEach(x,B=>c.delete(B.clientId)).next(()=>x)})}).catch(()=>[]);if(t.di)for(const a of r)t.di.removeItem(t.Fi(a.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(t){return!!t&&t.ownerId===this.clientId}pi(t){return this.ai?st.resolve(!0):zl(t).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new We(xe.FAILED_PRECONDITION,Lu);return!1}}return!(!this.networkEnabled||!this.inForeground)||mu(t).U().next(a=>void 0===this.vi(a,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Pt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var t=this;return(0,Me.A)(function*(){t.qr=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Oi(),t.Ni(),yield t.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new is(r,ee.oe);return t.yi(a).next(()=>t.bi(a))}),t.Ei.close(),t.Li()})()}vi(t,r){return t.filter(a=>this.Ci(a.updateTimeMs,r)&&!this.Mi(a.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>mu(t).U().next(r=>this.vi(r,18e5).map(a=>a.clientId)))}get started(){return this.qr}getMutationQueue(t,r){return hu.lt(t,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new pp(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return sc.lt(this.serializer,t)}getBundleCache(){return this.$r}runTransaction(t,r,a){Pt("IndexedDbPersistence","Starting transaction:",t);const c="readonly"===r?"readonly":"readwrite",g=16===(B=this.ui)?Gs:15===B?aa:14===B?zs:13===B?Ui:12===B?ka:11===B?zr:void en();var B;let E;return this.Ei.runTransaction(t,c,g,x=>(E=new is(x,this.kr?this.kr.next():ee.oe),"readwrite-primary"===r?this.gi(E).next(B=>!!B||this.pi(E)).next(B=>{if(!B)throw mn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new We(xe.FAILED_PRECONDITION,Dn);return a(E)}).next(B=>this.wi(E).next(()=>B)):this.ki(E).next(()=>a(E)))).then(x=>(E.raiseOnCommittedEvent(),x))}ki(t){return zl(t).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new We(xe.FAILED_PRECONDITION,Lu)})}wi(t){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zl(t).put("owner",r)}static D(){return Yn.D()}yi(t){const r=zl(t);return r.get("owner").next(a=>this.Si(a)?(Pt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):st.resolve())}Ci(t,r){const a=Date.now();return!(t<a-r||t>a&&(mn(`Detected an update time that is in the future: ${t} > ${a}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,ut.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(t){var r;try{const a=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(t)));return Pt("IndexedDbPersistence",`Client '${t}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return mn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(t){mn("Failed to set zombie client id.",t)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function zl(u){return Jn(u,"owner")}function mu(u){return Jn(u,"clientMetadata")}function _c(u,t){let r=u.projectId;return u.isDefaultDatabase||(r+="."+u.database),"firestore/"+t+"/"+r+"/"}class Uu{constructor(t,r,a,c){this.targetId=t,this.fromCache=r,this.qi=a,this.Qi=c}static Ki(t,r){let a=Gr(),c=Gr();for(const g of r.docChanges)switch(g.type){case 0:a=a.add(g.doc.key);break;case 1:c=c.add(g.doc.key)}return new Uu(t,r.fromCache,a,c)}}class Jh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Bu{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,ut.nr)()?8:mi((0,ut.ZQ)())>0?6:4}initialize(t,r){this.zi=t,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(t,r,a,c){const g={result:null};return this.ji(t,r).next(E=>{g.result=E}).next(()=>{if(!g.result)return this.Hi(t,r,c,a).next(E=>{g.result=E})}).next(()=>{if(g.result)return;const E=new Jh;return this.Ji(t,r,E).next(x=>{if(g.result=x,this.Ui)return this.Yi(t,r,E,x.size)})}).next(()=>g.result)}Yi(t,r,a,c){return a.documentReadCount<this.Wi?(Ot()<=Ye.$b.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",Va(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),st.resolve()):(Ot()<=Ye.$b.DEBUG&&Pt("QueryEngine","Query:",Va(r),"scans",a.documentReadCount,"local documents and returns",c,"documents as results."),a.documentReadCount>this.Gi*c?(Ot()<=Ye.$b.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",Va(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(r))):st.resolve())}ji(t,r){if(Pl(r))return st.resolve(null);let a=fi(r);return this.indexManager.getIndexType(t,a).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=Ms(r,null,"F"),a=fi(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next(g=>{const E=Gr(...g);return this.zi.getDocuments(t,E).next(x=>this.indexManager.getMinOffset(t,a).next(B=>{const X=this.Zi(r,x);return this.Xi(r,X,E,B.readTime)?this.ji(t,Ms(r,null,"F")):this.es(t,X,r,B)}))})))}Hi(t,r,a,c){return Pl(r)||c.isEqual(Ln.min())?st.resolve(null):this.zi.getDocuments(t,a).next(g=>{const E=this.Zi(r,g);return this.Xi(r,E,a,c)?st.resolve(null):(Ot()<=Ye.$b.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Va(r)),this.es(t,E,r,Ie(c,-1)).next(x=>x))})}Zi(t,r){let a=new ci(gl(t));return r.forEach((c,g)=>{La(t,g)&&(a=a.add(g))}),a}Xi(t,r,a,c){if(null===t.limit)return!1;if(a.size!==r.size)return!0;const g="F"===t.limitType?r.last():r.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(c)>0)}Ji(t,r,a){return Ot()<=Ye.$b.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",Va(r)),this.zi.getDocumentsMatchingQuery(t,r,gt.min(),a)}es(t,r,a,c){return this.zi.getDocumentsMatchingQuery(t,a,c).next(g=>(r.forEach(E=>{g=g.insert(E.key,E)}),g))}}class _u{constructor(t,r,a,c){this.persistence=t,this.ts=r,this.serializer=c,this.ns=new ui(In),this.rs=new di(g=>Fo(g),Wo),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(a)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yd(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.ns))}}function Ed(u,t,r,a){return new _u(u,t,r,a)}function vu(u,t){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,Me.A)(function*(u,t){const r=ze(u);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let c;return r.mutationQueue.getAllMutationBatches(a).next(g=>(c=g,r._s(t),r.mutationQueue.getAllMutationBatches(a))).next(g=>{const E=[],x=[];let B=Gr();for(const X of c){E.push(X.batchId);for(const ye of X.mutations)B=B.add(ye.key)}for(const X of g){x.push(X.batchId);for(const ye of X.mutations)B=B.add(ye.key)}return r.localDocuments.getDocuments(a,B).next(X=>({us:X,removedBatchIds:E,addedBatchIds:x}))})})})).apply(this,arguments)}function ef(u){const t=ze(u);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Qr.getLastRemoteSnapshotVersion(r))}function tf(u,t,r){let a=Gr(),c=Gr();return r.forEach(g=>a=a.add(g)),t.getEntries(u,a).next(g=>{let E=Ko();return r.forEach((x,B)=>{const X=g.get(x);B.isFoundDocument()!==X.isFoundDocument()&&(c=c.add(x)),B.isNoDocument()&&B.version.isEqual(Ln.min())?(t.removeEntry(x,B.readTime),E=E.insert(x,B)):!X.isValidDocument()||B.version.compareTo(X.version)>0||0===B.version.compareTo(X.version)&&X.hasPendingWrites?(t.addEntry(B),E=E.insert(x,B)):Pt("LocalStore","Ignoring outdated watch update for ",x,". Current version:",X.version," Watch version:",B.version)}),{cs:E,ls:c}})}function Ad(u,t){const r=ze(u);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===t&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function Pa(u,t){const r=ze(u);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return r.Qr.getTargetData(a,t).next(g=>g?(c=g,st.resolve(c)):r.Qr.allocateTargetId(a).next(E=>(c=new Fs(t,E,"TargetPurposeListen",a.currentSequenceNumber),r.Qr.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=r.ns.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.ns=r.ns.insert(a.targetId,a),r.rs.set(t,a.targetId)),a})}function ga(u,t,r){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,Me.A)(function*(u,t,r){const a=ze(u),c=a.ns.get(t),g=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",g,E=>a.persistence.referenceDelegate.removeTarget(E,c)))}catch(E){if(!Ti(E))throw E;Pt("LocalStore",`Failed to update sequence numbers for target ${t}: ${E}`)}a.ns=a.ns.remove(t),a.rs.delete(c.target)})).apply(this,arguments)}function $u(u,t,r){const a=ze(u);let c=Ln.min(),g=Gr();return a.persistence.runTransaction("Execute query","readwrite",E=>function(B,X,ye){const je=ze(B),yt=je.rs.get(ye);return void 0!==yt?st.resolve(je.ns.get(yt)):je.Qr.getTargetData(X,ye)}(a,E,fi(t)).next(x=>{if(x)return c=x.lastLimboFreeSnapshotVersion,a.Qr.getMatchingKeysForTargetId(E,x.targetId).next(B=>{g=B})}).next(()=>a.ts.getDocumentsMatchingQuery(E,t,r?c:Ln.min(),r?g:Gr())).next(x=>(p(a,pl(t),x),{documents:x,hs:g})))}function Kc(u,t){const r=ze(u),a=ze(r.Qr),c=r.ns.get(t);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",g=>a.ot(g,t).next(E=>E?E.target:null))}function T(u,t){const r=ze(u),a=r.ss.get(t)||Ln.min();return r.persistence.runTransaction("Get new document changes","readonly",c=>r.os.getAllFromCollectionGroup(c,t,Ie(a,-1),Number.MAX_SAFE_INTEGER)).then(c=>(p(r,t,c),c))}function p(u,t,r){let a=u.ss.get(t)||Ln.min();r.forEach((c,g)=>{g.readTime.compareTo(a)>0&&(a=g.readTime)}),u.ss.set(t,a)}function M(){return(M=(0,Me.A)(function*(u,t,r,a){const c=ze(u);let g=Gr(),E=Ko();for(const X of r){const ye=t.Ps(X.metadata.name);X.document&&(g=g.add(ye));const je=t.Is(X);je.setReadTime(t.Ts(X.metadata.readTime)),E=E.insert(ye,je)}const x=c.os.newChangeBuffer({trackRemovals:!0}),B=yield Pa(c,(ye=a,fi(Qs(zn.fromString(`__bundle__/docs/${ye}`)))));var ye;return c.persistence.runTransaction("Apply bundle documents","readwrite",X=>tf(X,x,E).next(ye=>(x.apply(X),ye)).next(ye=>c.Qr.removeMatchingKeysForTargetId(X,B.targetId).next(()=>c.Qr.addMatchingKeys(X,g,B.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(X,ye.cs,ye.ls)).next(()=>ye.cs)))})).apply(this,arguments)}function Y(u,t){return we.apply(this,arguments)}function we(){return(we=(0,Me.A)(function*(u,t,r=Gr()){const a=yield Pa(u,fi(Ul(t.bundledQuery))),c=ze(u);return c.persistence.runTransaction("Save named query","readwrite",g=>{const E=Yi(t.readTime);if(a.snapshotVersion.compareTo(E)>=0)return c.$r.saveNamedQuery(g,t);const x=a.withResumeToken(Ce.EMPTY_BYTE_STRING,E);return c.ns=c.ns.insert(x.targetId,x),c.Qr.updateTargetData(g,x).next(()=>c.Qr.removeMatchingKeysForTargetId(g,a.targetId)).next(()=>c.Qr.addMatchingKeys(g,r,a.targetId)).next(()=>c.$r.saveNamedQuery(g,t))})})).apply(this,arguments)}function wt(u,t){return`firestore_clients_${u}_${t}`}function Yt(u,t,r){let a=`firestore_mutations_${u}_${r}`;return t.isAuthenticated()&&(a+=`_${t.uid}`),a}function Cn(u,t){return`firestore_targets_${u}_${t}`}class er{constructor(t,r,a,c){this.user=t,this.batchId=r,this.state=a,this.error=c}static Es(t,r,a){const c=JSON.parse(a);let g,E="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return E&&c.error&&(E="string"==typeof c.error.message&&"string"==typeof c.error.code,E&&(g=new We(c.error.code,c.error.message))),E?new er(t,r,c.state,g):(mn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class mr{constructor(t,r,a){this.targetId=t,this.state=r,this.error=a}static Es(t,r){const a=JSON.parse(r);let c,g="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return g&&a.error&&(g="string"==typeof a.error.message&&"string"==typeof a.error.code,g&&(c=new We(a.error.code,a.error.message))),g?new mr(t,a.state,c):(mn("SharedClientState",`Failed to parse target state for ID '${t}': ${r}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class yi{constructor(t,r){this.clientId=t,this.activeTargetIds=r}static Es(t,r){const a=JSON.parse(r);let c="object"==typeof a&&a.activeTargetIds instanceof Array,g=Nl();for(let E=0;c&&E<a.activeTargetIds.length;++E)c=re(a.activeTargetIds[E]),g=g.add(a.activeTargetIds[E]);return c?new yi(t,g):(mn("SharedClientState",`Failed to parse client data for instance '${t}': ${r}`),null)}}class Cs{constructor(t,r){this.clientId=t,this.onlineState=r}static Es(t){const r=JSON.parse(t);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Cs(r.clientId,r.onlineState):(mn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class ll{constructor(){this.activeTargetIds=Nl()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ju{constructor(t,r,a,c,g){this.window=t,this.oi=r,this.persistenceKey=a,this.Vs=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ui(In),this.started=!1,this.ys=[];const E=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.ws=wt(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new ll),this.bs=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(B){return`firestore_bundle_loaded_v2_${B}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Me.A)(function*(){const r=yield t.syncEngine.Bi();for(const c of r){if(c===t.Vs)continue;const g=t.getItem(wt(t.persistenceKey,c));if(g){const E=yi.Es(c,g);E&&(t.ps=t.ps.insert(E.clientId,E))}}t.Ms();const a=t.storage.getItem(t.vs);if(a){const c=t.xs(a);c&&t.Os(c)}for(const c of t.ys)t.gs(c);t.ys=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ss,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(t){let r=!1;return this.ps.forEach((a,c)=>{c.activeTargetIds.has(t)&&(r=!0)}),r}addPendingMutation(t){this.Ls(t,"pending")}updateMutationState(t,r,a){this.Ls(t,r,a),this.Bs(t)}addLocalQueryTarget(t){let r="not-current";if(this.isActiveQueryTarget(t)){const a=this.storage.getItem(Cn(this.persistenceKey,t));if(a){const c=mr.Es(t,a);c&&(r=c.state)}}return this.ks.As(t),this.Ms(),r}removeLocalQueryTarget(t){this.ks.Rs(t),this.Ms()}isLocalQueryTarget(t){return this.ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Cn(this.persistenceKey,t))}updateQueryState(t,r,a){this.qs(t,r,a)}handleUserChange(t,r,a){r.forEach(c=>{this.Bs(c)}),this.currentUser=t,a.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(t){this.Qs(t)}notifyBundleLoaded(t){this.Ks(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(t){const r=this.storage.getItem(t);return Pt("SharedClientState","READ",t,r),r}setItem(t,r){Pt("SharedClientState","SET",t,r),this.storage.setItem(t,r)}removeItem(t){Pt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}gs(t){var r=this;const a=t;if(a.storageArea===this.storage){if(Pt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.ws)return void mn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,Me.A)(function*(){if(r.started){if(null!==a.key)if(r.bs.test(a.key)){if(null==a.newValue){const c=r.$s(a.key);return r.Us(c,null)}{const c=r.Ws(a.key,a.newValue);if(c)return r.Us(c.clientId,c)}}else if(r.Ds.test(a.key)){if(null!==a.newValue){const c=r.Gs(a.key,a.newValue);if(c)return r.zs(c)}}else if(r.Cs.test(a.key)){if(null!==a.newValue){const c=r.js(a.key,a.newValue);if(c)return r.Hs(c)}}else if(a.key===r.vs){if(null!==a.newValue){const c=r.xs(a.newValue);if(c)return r.Os(c)}}else if(a.key===r.Ss){const c=function(E){let x=ee.oe;if(null!=E)try{const B=JSON.parse(E);rn("number"==typeof B),x=B}catch(B){mn("SharedClientState","Failed to read sequence number from WebStorage",B)}return x}(a.newValue);c!==ee.oe&&r.sequenceNumberHandler(c)}else if(a.key===r.Fs){const c=r.Js(a.newValue);yield Promise.all(c.map(g=>r.syncEngine.Ys(g)))}}else r.ys.push(a)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(t,r,a){const c=new er(this.currentUser,t,r,a),g=Yt(this.persistenceKey,this.currentUser,t);this.setItem(g,c.ds())}Bs(t){const r=Yt(this.persistenceKey,this.currentUser,t);this.removeItem(r)}Qs(t){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:t}))}qs(t,r,a){const c=Cn(this.persistenceKey,t),g=new mr(t,r,a);this.setItem(c,g.ds())}Ks(t){const r=JSON.stringify(Array.from(t));this.setItem(this.Fs,r)}$s(t){const r=this.bs.exec(t);return r?r[1]:null}Ws(t,r){const a=this.$s(t);return yi.Es(a,r)}Gs(t,r){const a=this.Ds.exec(t),c=Number(a[1]);return er.Es(new Re(void 0!==a[2]?a[2]:null),c,r)}js(t,r){const a=this.Cs.exec(t),c=Number(a[1]);return mr.Es(c,r)}xs(t){return Cs.Es(t)}Js(t){return JSON.parse(t)}zs(t){var r=this;return(0,Me.A)(function*(){if(t.user.uid===r.currentUser.uid)return r.syncEngine.Zs(t.batchId,t.state,t.error);Pt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Hs(t){return this.syncEngine.Xs(t.targetId,t.state,t.error)}Us(t,r){const a=r?this.ps.insert(t,r):this.ps.remove(t),c=this.Ns(this.ps),g=this.Ns(a),E=[],x=[];return g.forEach(B=>{c.has(B)||E.push(B)}),c.forEach(B=>{g.has(B)||x.push(B)}),this.syncEngine.eo(E,x).then(()=>{this.ps=a})}Os(t){this.ps.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ns(t){let r=Nl();return t.forEach((a,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class Cd{constructor(){this.no=new ll,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,r,a){this.ro[t]=r}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new ll,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Zd{io(t){}shutdown(){}}class yu{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ma=null;function Hu(){return null===ma?ma=268435456+Math.round(2147483648*Math.random()):ma++,"0x"+ma.toString(16)}const Jd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vc{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const Po="WebChannelConnection";class Iu extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),g=encodeURIComponent(this.databaseId.database);this.wo=a+"://"+r.host,this.So=`projects/${c}/databases/${g}`,this.bo="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${g}`}get Do(){return!1}Co(r,a,c,g,E){const x=Hu(),B=this.vo(r,a.toUriEncodedString());Pt("RestConnection",`Sending RPC '${r}' ${x}:`,B,c);const X={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(X,g,E),this.Mo(r,B,X,c).then(ye=>(Pt("RestConnection",`Received RPC '${r}' ${x}: `,ye),ye),ye=>{throw Nn("RestConnection",`RPC '${r}' ${x} failed with error: `,ye,"url: ",B,"request:",c),ye})}xo(r,a,c,g,E,x){return this.Co(r,a,c,g,E)}Fo(r,a,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((g,E)=>r[E]=g),c&&c.headers.forEach((g,E)=>r[E]=g)}vo(r,a){return`${this.wo}/v1/${a}:${Jd[r]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,r,a,c){const g=Hu();return new Promise((E,x)=>{const B=new nn;B.setWithCredentials(!0),B.listenOnce(Ve.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case te.NO_ERROR:const ye=B.getResponseJson();Pt(Po,`XHR for RPC '${t}' ${g} received:`,JSON.stringify(ye)),E(ye);break;case te.TIMEOUT:Pt(Po,`RPC '${t}' ${g} timed out`),x(new We(xe.DEADLINE_EXCEEDED,"Request time out"));break;case te.HTTP_ERROR:const je=B.getStatus();if(Pt(Po,`RPC '${t}' ${g} failed with status:`,je,"response text:",B.getResponseText()),je>0){let yt=B.getResponseJson();Array.isArray(yt)&&(yt=yt[0]);const qt=null==yt?void 0:yt.error;if(qt&&qt.status&&qt.message){const vn=function(Pn){const vr=Pn.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(vr)>=0?vr:xe.UNKNOWN}(qt.status);x(new We(vn,qt.message))}else x(new We(xe.UNKNOWN,"Server responded with status "+B.getStatus()))}else x(new We(xe.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{Pt(Po,`RPC '${t}' ${g} completed.`)}});const X=JSON.stringify(c);Pt(Po,`RPC '${t}' ${g} sending request:`,c),B.send(r,"POST",X,a,15)})}Oo(t,r,a){const c=Hu(),g=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],E=Oe(),x=Ke(),B={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},X=this.longPollingOptions.timeoutSeconds;void 0!==X&&(B.longPollingTimeout=Math.round(1e3*X)),this.useFetchStreams&&(B.xmlHttpFactory=new Rn({})),this.Fo(B.initMessageHeaders,r,a),B.encodeInitMessageHeaders=!0;const ye=g.join("");Pt(Po,`Creating RPC '${t}' stream ${c}: ${ye}`,B);const je=E.createWebChannel(ye,B);let yt=!1,qt=!1;const vn=new vc({lo:Pn=>{qt?Pt(Po,`Not sending because RPC '${t}' stream ${c} is closed:`,Pn):(yt||(Pt(Po,`Opening RPC '${t}' stream ${c} transport.`),je.open(),yt=!0),Pt(Po,`RPC '${t}' stream ${c} sending:`,Pn),je.send(Pn))},ho:()=>je.close()}),Vn=(Pn,vr,Pr)=>{Pn.listen(vr,Er=>{try{Pr(Er)}catch(Yr){setTimeout(()=>{throw Yr},0)}})};return Vn(je,Mt.EventType.OPEN,()=>{qt||(Pt(Po,`RPC '${t}' stream ${c} transport opened.`),vn.mo())}),Vn(je,Mt.EventType.CLOSE,()=>{qt||(qt=!0,Pt(Po,`RPC '${t}' stream ${c} transport closed`),vn.po())}),Vn(je,Mt.EventType.ERROR,Pn=>{qt||(qt=!0,Nn(Po,`RPC '${t}' stream ${c} transport errored:`,Pn),vn.po(new We(xe.UNAVAILABLE,"The operation could not be completed")))}),Vn(je,Mt.EventType.MESSAGE,Pn=>{var vr;if(!qt){const Pr=Pn.data[0];rn(!!Pr);const Yr=Pr.error||(null===(vr=Pr[0])||void 0===vr?void 0:vr.error);if(Yr){Pt(Po,`RPC '${t}' stream ${c} received error:`,Yr);const Hi=Yr.status;let ii=function(Rt){const Bt=jr[Rt];if(void 0!==Bt)return Or(Bt)}(Hi),Ft=Yr.message;void 0===ii&&(ii=xe.INTERNAL,Ft="Unknown error status: "+Hi+" with message "+Yr.message),qt=!0,vn.po(new We(ii,Ft)),je.close()}else Pt(Po,`RPC '${t}' stream ${c} received:`,Pr),vn.yo(Pr)}}),Vn(x,ge.STAT_EVENT,Pn=>{Pn.stat===ne.PROXY?Pt(Po,`RPC '${t}' stream ${c} detected buffering proxy`):Pn.stat===ne.NOPROXY&&Pt(Po,`RPC '${t}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{vn.fo()},0),vn}}function Yo(){return typeof window<"u"?window:null}function zu(){return typeof document<"u"?document:null}function yc(u){return new ic(u,!0)}class eh{constructor(t,r,a=1e3,c=1.5,g=6e4){this.oi=t,this.timerId=r,this.No=a,this.Lo=c,this.Bo=g,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const r=Math.floor(this.ko+this.Uo()),a=Math.max(0,Date.now()-this.Qo),c=Math.max(0,r-a);c>0&&Pt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,c,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Zg{constructor(t,r,a,c,g,E,x,B){this.oi=t,this.Go=a,this.zo=c,this.connection=g,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=x,this.listener=B,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new eh(t,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var t=this;return(0,Me.A)(function*(){t.Zo()&&(yield t.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){var t=this;return(0,Me.A)(function*(){if(t.Xo())return t.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,r){var a=this;return(0,Me.A)(function*(){a.s_(),a.o_(),a.Yo.cancel(),a.jo++,4!==t?a.Yo.reset():r&&r.code===xe.RESOURCE_EXHAUSTED?(mn(r.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),a.Yo.Ko()):r&&r.code===xe.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.__(),a.stream.close(),a.stream=null),a.state=t,yield a.listener.Ao(r)})()}__(){}auth(){this.state=1;const t=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,c])=>{this.jo===r&&this.u_(a,c)},a=>{t(()=>{const c=new We(xe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.c_(c)})})}u_(t,r){const a=this.a_(this.jo);this.stream=this.l_(t,r),this.stream.Po(()=>{a(()=>this.listener.Po())}),this.stream.To(()=>{a(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(c=>{a(()=>this.c_(c))}),this.stream.onMessage(c=>{a(()=>this.onMessage(c))})}e_(){var t=this;this.state=5,this.Yo.$o((0,Me.A)(function*(){t.state=0,t.start()}))}c_(t){return Pt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return r=>{this.oi.enqueueAndForget(()=>this.jo===t?r():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jg extends Zg{constructor(t,r,a,c,g,E){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,c,E),this.serializer=g}l_(t,r){return this.connection.Oo("Listen",t,r)}onMessage(t){this.Yo.reset();const r=function Hd(u,t){let r;if("targetChange"in t){const a="NO_CHANGE"===(X=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:en(),c=t.targetChange.targetIds||[],g=function(X,ye){return X.useProto3Json?(rn(void 0===ye||"string"==typeof ye),Ce.fromBase64String(ye||"")):(rn(void 0===ye||ye instanceof Buffer||ye instanceof Uint8Array),Ce.fromUint8Array(ye||new Uint8Array))}(u,t.targetChange.resumeToken),E=t.targetChange.cause,x=E&&function(X){const ye=void 0===X.code?xe.UNKNOWN:Or(X.code);return new We(ye,X.message||"")}(E);r=new ta(a,c,g,x||null)}else if("documentChange"in t){const a=t.documentChange,c=ks(u,a.document.name),g=Yi(a.document.updateTime),E=a.document.createTime?Yi(a.document.createTime):Ln.min(),x=new Ni({mapValue:{fields:a.document.fields}}),B=Jr.newFoundDocument(c,g,E,x);r=new Qi(a.targetIds||[],a.removedTargetIds||[],B.key,B)}else if("documentDelete"in t){const a=t.documentDelete,c=ks(u,a.document),g=a.readTime?Yi(a.readTime):Ln.min(),E=Jr.newNoDocument(c,g);r=new Qi([],a.removedTargetIds||[],E.key,E)}else if("documentRemove"in t){const a=t.documentRemove,c=ks(u,a.document);r=new Qi([],a.removedTargetIds||[],c,null)}else{if(!("filter"in t))return en();{const a=t.filter,{count:c=0,unchangedNames:g}=a,E=new Zs(c,g);r=new $a(a.targetId,E)}}var X;return r}(this.serializer,t),a=function(g){if(!("targetChange"in g))return Ln.min();const E=g.targetChange;return E.targetIds&&E.targetIds.length?Ln.min():E.readTime?Yi(E.readTime):Ln.min()}(t);return this.listener.h_(r,a)}P_(t){const r={};r.database=El(this.serializer),r.addTarget=function(g,E){let x;const B=E.target;if(x=da(B)?{documents:F(g,B)}:{query:R(g,B)._t},x.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){x.resumeToken=na(g,E.resumeToken);const X=Vo(g,E.expectedCount);null!==X&&(x.expectedCount=X)}else if(E.snapshotVersion.compareTo(Ln.min())>0){x.readTime=Mo(g,E.snapshotVersion.toTimestamp());const X=Vo(g,E.expectedCount);null!==X&&(x.expectedCount=X)}return x}(this.serializer,t);const a=function Se(u,t){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(0,t);a&&(r.labels=a),this.i_(r)}I_(t){const r={};r.database=El(this.serializer),r.removeTarget=t,this.i_(r)}}class nf extends Zg{constructor(t,r,a,c,g,E){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,c,E),this.serializer=g,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,r){return this.connection.Oo("Write",t,r)}onMessage(t){if(rn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const r=function P(u,t){return u&&u.length>0?(rn(void 0!==t),u.map(r=>function(c,g){let E=Yi(c.updateTime?c.updateTime:g);return E.isEqual(Ln.min())&&(E=Yi(g)),new Be(E,c.transformResults||[])}(r,t))):[]}(t.writeResults,t.commitTime),a=Yi(t.commitTime);return this.listener.A_(a,r)}return rn(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=El(this.serializer),this.i_(t)}d_(t){const r={streamToken:this.lastStreamToken,writes:t.map(a=>uu(this.serializer,a))};this.i_(r)}}class $_ extends class{}{constructor(t,r,a,c){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=c,this.m_=!1}f_(){if(this.m_)throw new We(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,r,a,c){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,E])=>this.connection.Co(t,Fl(r,a),c,g,E)).catch(g=>{throw"FirebaseError"===g.name?(g.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new We(xe.UNKNOWN,g.toString())})}xo(t,r,a,c,g){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,x])=>this.connection.xo(t,Fl(r,a),c,E,x,g)).catch(E=>{throw"FirebaseError"===E.name?(E.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new We(xe.UNKNOWN,E.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class em{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const r=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(mn(r),this.y_=!1):Pt("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class _p{constructor(t,r,a,c,g){var E=this;this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=g,this.O_.io(x=>{a.enqueueAndForget((0,Me.A)(function*(){var B;Xc(E)&&(Pt("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,Me.A)(function*(ye){const je=ze(ye);je.M_.add(4),yield bd(je),je.N_.set("Unknown"),je.M_.delete(4),yield Ic(je)}),function X(ye){return B.apply(this,arguments)})(E))}))}),this.N_=new em(a,c)}}function Ic(u){return rf.apply(this,arguments)}function rf(){return(rf=(0,Me.A)(function*(u){if(Xc(u))for(const t of u.x_)yield t(!0)})).apply(this,arguments)}function bd(u){return vp.apply(this,arguments)}function vp(){return(vp=(0,Me.A)(function*(u){for(const t of u.x_)yield t(!1)})).apply(this,arguments)}function sf(u,t){const r=ze(u);r.F_.has(t.targetId)||(r.F_.set(t.targetId,t),Ap(r)?Ep(r):Zc(r).Xo()&&yp(r,t))}function qc(u,t){const r=ze(u),a=Zc(r);r.F_.delete(t),a.Xo()&&Ip(r,t),0===r.F_.size&&(a.Xo()?a.n_():Xc(r)&&r.N_.set("Unknown"))}function yp(u,t){if(u.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ln.min())>0){const r=u.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Zc(u).P_(t)}function Ip(u,t){u.L_.xe(t),Zc(u).I_(t)}function Ep(u){u.L_=new rc({getRemoteKeysForTarget:t=>u.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>u.F_.get(t)||null,tt:()=>u.datastore.serializer.databaseId}),Zc(u).start(),u.N_.w_()}function Ap(u){return Xc(u)&&!Zc(u).Zo()&&u.F_.size>0}function Xc(u){return 0===ze(u).M_.size}function Cp(u){u.L_=void 0}function tm(u){return xa.apply(this,arguments)}function xa(){return(xa=(0,Me.A)(function*(u){u.N_.set("Online")})).apply(this,arguments)}function r0(u){return af.apply(this,arguments)}function af(){return(af=(0,Me.A)(function*(u){u.F_.forEach((t,r)=>{yp(u,t)})})).apply(this,arguments)}function o0(u,t){return th.apply(this,arguments)}function th(){return(th=(0,Me.A)(function*(u,t){Cp(u),Ap(u)?(u.N_.D_(t),Ep(u)):u.N_.set("Unknown")})).apply(this,arguments)}function Gu(u,t,r){return lf.apply(this,arguments)}function lf(){return lf=(0,Me.A)(function*(u,t,r){if(u.N_.set("Online"),t instanceof ta&&2===t.state&&t.cause)try{yield(a=(0,Me.A)(function*(g,E){const x=E.cause;for(const B of E.targetIds)g.F_.has(B)&&(yield g.remoteSyncer.rejectListen(B,x),g.F_.delete(B),g.L_.removeTarget(B))}),function c(g,E){return a.apply(this,arguments)})(u,t)}catch(a){Pt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),yield Wu(u,a)}else if(t instanceof Qi?u.L_.Ke(t):t instanceof $a?u.L_.He(t):u.L_.We(t),!r.isEqual(Ln.min()))try{const a=yield ef(u.localStore);r.compareTo(a)>=0&&(yield function(g,E){const x=g.L_.rt(E);return x.targetChanges.forEach((B,X)=>{if(B.resumeToken.approximateByteSize()>0){const ye=g.F_.get(X);ye&&g.F_.set(X,ye.withResumeToken(B.resumeToken,E))}}),x.targetMismatches.forEach((B,X)=>{const ye=g.F_.get(B);if(!ye)return;g.F_.set(B,ye.withResumeToken(Ce.EMPTY_BYTE_STRING,ye.snapshotVersion)),Ip(g,B);const je=new Fs(ye.target,B,X,ye.sequenceNumber);yp(g,je)}),g.remoteSyncer.applyRemoteEvent(x)}(u,r))}catch(a){Pt("RemoteStore","Failed to raise snapshot:",a),yield Wu(u,a)}var a}),lf.apply(this,arguments)}function Wu(u,t,r){return bp.apply(this,arguments)}function bp(){return(bp=(0,Me.A)(function*(u,t,r){if(!Ti(t))throw t;u.M_.add(1),yield bd(u),u.N_.set("Offline"),r||(r=()=>ef(u.localStore)),u.asyncQueue.enqueueRetryable((0,Me.A)(function*(){Pt("RemoteStore","Retrying IndexedDB access"),yield r(),u.M_.delete(1),yield Ic(u)}))})).apply(this,arguments)}function nm(u,t){return t().catch(r=>Wu(u,r,t))}function Qc(u){return rm.apply(this,arguments)}function rm(){return(rm=(0,Me.A)(function*(u){const t=ze(u),r=Gl(t);let a=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;s0(t);)try{const c=yield Ad(t.localStore,a);if(null===c){0===t.v_.length&&r.n_();break}a=c.batchId,a0(t,c)}catch(c){yield Wu(t,c)}j_(t)&&H_(t)})).apply(this,arguments)}function s0(u){return Xc(u)&&u.v_.length<10}function a0(u,t){u.v_.push(t);const r=Gl(u);r.Xo()&&r.E_&&r.d_(t.mutations)}function j_(u){return Xc(u)&&!Gl(u).Zo()&&u.v_.length>0}function H_(u){Gl(u).start()}function z_(u){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,Me.A)(function*(u){Gl(u).V_()})).apply(this,arguments)}function nh(u){return uf.apply(this,arguments)}function uf(){return(uf=(0,Me.A)(function*(u){const t=Gl(u);for(const r of u.v_)t.d_(r.mutations)})).apply(this,arguments)}function G_(u,t,r){return rh.apply(this,arguments)}function rh(){return(rh=(0,Me.A)(function*(u,t,r){const a=u.v_.shift(),c=Xi.from(a,t,r);yield nm(u,()=>u.remoteSyncer.applySuccessfulWrite(c)),yield Qc(u)})).apply(this,arguments)}function Eu(u,t){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,Me.A)(function*(u,t){var r;t&&Gl(u).E_&&(yield(r=(0,Me.A)(function*(c,g){if(Js(x=g.code)&&x!==xe.ABORTED){const E=c.v_.shift();Gl(c).t_(),yield nm(c,()=>c.remoteSyncer.rejectFailedWrite(E.batchId,g)),yield Qc(c)}var x}),function a(c,g){return r.apply(this,arguments)})(u,t)),j_(u)&&H_(u)}),Tp.apply(this,arguments)}function cf(u,t){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,Me.A)(function*(u,t){const r=ze(u);r.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const a=Xc(r);r.M_.add(3),yield bd(r),a&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(t),r.M_.delete(3),yield Ic(r)})).apply(this,arguments)}function wp(u,t){return df.apply(this,arguments)}function df(){return(df=(0,Me.A)(function*(u,t){const r=ze(u);t?(r.M_.delete(2),yield Ic(r)):t||(r.M_.add(2),yield bd(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Zc(u){return u.B_||(u.B_=function(r,a,c){const g=ze(r);return g.f_(),new Jg(a,g.connection,g.authCredentials,g.appCheckCredentials,g.serializer,c)}(u.datastore,u.asyncQueue,{Po:tm.bind(null,u),To:r0.bind(null,u),Ao:o0.bind(null,u),h_:Gu.bind(null,u)}),u.x_.push(function(){var t=(0,Me.A)(function*(r){r?(u.B_.t_(),Ap(u)?Ep(u):u.N_.set("Unknown")):(yield u.B_.stop(),Cp(u))});return function(r){return t.apply(this,arguments)}}())),u.B_}function Gl(u){return u.k_||(u.k_=function(r,a,c){const g=ze(r);return g.f_(),new nf(a,g.connection,g.authCredentials,g.appCheckCredentials,g.serializer,c)}(u.datastore,u.asyncQueue,{Po:()=>Promise.resolve(),To:z_.bind(null,u),Ao:Eu.bind(null,u),R_:nh.bind(null,u),A_:G_.bind(null,u)}),u.x_.push(function(){var t=(0,Me.A)(function*(r){r?(u.k_.t_(),yield Qc(u)):(yield u.k_.stop(),u.v_.length>0&&(Pt("RemoteStore",`Stopping write stream with ${u.v_.length} pending writes`),u.v_=[]))});return function(r){return t.apply(this,arguments)}}())),u.k_}class Td{constructor(t,r,a,c,g){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=c,this.removalCallback=g,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,c,g){const E=Date.now()+a,x=new Td(t,r,E,c,g);return x.start(a),x}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new We(xe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ac(u,t){if(mn("AsyncQueue",`${t}: ${u}`),Ti(u))return new We(xe.UNAVAILABLE,`${t}: ${u}`);throw u}class wd{constructor(t){this.comparator=t?(r,a)=>t(r,a)||_n.comparator(r.key,a.key):(r,a)=>_n.comparator(r.key,a.key),this.keyedMap=el(),this.sortedSet=new ui(this.comparator)}static emptySet(t){return new wd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,a)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof wd)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,g=a.getNext().key;if(!c.isEqual(g))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,r){const a=new wd;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}class im{constructor(){this.q_=new ui(_n.comparator)}track(t){const r=t.doc.key,a=this.q_.get(r);a?0!==t.type&&3===a.type?this.q_=this.q_.insert(r,t):3===t.type&&1!==a.type?this.q_=this.q_.insert(r,{type:a.type,doc:t.doc}):2===t.type&&2===a.type?this.q_=this.q_.insert(r,{type:2,doc:t.doc}):2===t.type&&0===a.type?this.q_=this.q_.insert(r,{type:0,doc:t.doc}):1===t.type&&0===a.type?this.q_=this.q_.remove(r):1===t.type&&2===a.type?this.q_=this.q_.insert(r,{type:1,doc:a.doc}):0===t.type&&1===a.type?this.q_=this.q_.insert(r,{type:2,doc:t.doc}):en():this.q_=this.q_.insert(r,t)}Q_(){const t=[];return this.q_.inorderTraversal((r,a)=>{t.push(a)}),t}}class Dd{constructor(t,r,a,c,g,E,x,B,X){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=g,this.fromCache=E,this.syncStateChanged=x,this.excludesMetadataChanges=B,this.hasCachedResults=X}static fromInitialDocuments(t,r,a,c,g){const E=[];return r.forEach(x=>{E.push({type:0,doc:x})}),new Dd(t,r,wd.emptySet(r),E,a,c,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ao(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==a[c].type||!r[c].doc.isEqual(a[c].doc))return!1;return!0}}class om{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class W_{constructor(){this.queries=new di(t=>ha(t),Ao),this.onlineState="Unknown",this.z_=new Set}}function Dp(u,t){return bs.apply(this,arguments)}function bs(){return(bs=(0,Me.A)(function*(u,t){const r=ze(u);let a=3;const c=t.query;let g=r.queries.get(c);g?!g.W_()&&t.G_()&&(a=2):(g=new om,a=t.G_()?0:1);try{switch(a){case 0:g.K_=yield r.onListen(c,!0);break;case 1:g.K_=yield r.onListen(c,!1);break;case 2:yield r.onFirstRemoteStoreListen(c)}}catch(E){const x=Ac(E,`Initialization of query '${Va(t.query)}' failed`);return void t.onError(x)}r.queries.set(c,g),g.U_.push(t),t.j_(r.onlineState),g.K_&&t.H_(g.K_)&&Cc(r)})).apply(this,arguments)}function Jc(u,t){return ih.apply(this,arguments)}function ih(){return(ih=(0,Me.A)(function*(u,t){const r=ze(u),a=t.query;let c=3;const g=r.queries.get(a);if(g){const E=g.U_.indexOf(t);E>=0&&(g.U_.splice(E,1),0===g.U_.length?c=t.G_()?0:1:!g.W_()&&t.G_()&&(c=2))}switch(c){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Sp(u,t){const r=ze(u);let a=!1;for(const c of t){const E=r.queries.get(c.query);if(E){for(const x of E.U_)x.H_(c)&&(a=!0);E.K_=c}}a&&Cc(r)}function Ts(u,t,r){const a=ze(u),c=a.queries.get(t);if(c)for(const g of c.U_)g.onError(r);a.queries.delete(t)}function Cc(u){u.z_.forEach(t=>{t.next()})}var oh,hf;(hf=oh||(oh={})).J_="default",hf.Cache="cache";class ff{constructor(t,r,a){this.query=t,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=a||{}}H_(t){if(!this.options.includeMetadataChanges){const a=[];for(const c of t.docChanges)3!==c.type&&a.push(c);t=new Dd(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),r=!0):this.ta(t,this.onlineState)&&(this.na(t),r=!0),this.X_=t,r}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),r=!0),r}ta(t,r){return!t.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===r)}ea(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(t){t=Dd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==oh.Cache}}class sm{constructor(t,r){this.ia=t,this.byteLength=r}sa(){return"metadata"in this.ia}}class Rp{constructor(t){this.serializer=t}Ps(t){return ks(this.serializer,t)}Is(t){return t.metadata.exists?dd(this.serializer,t.document,!1):Jr.newNoDocument(this.Ps(t.metadata.name),this.Ts(t.metadata.readTime))}Ts(t){return Yi(t)}}class am{constructor(t,r,a){this.oa=t,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lm(t)}_a(t){this.progress.bytesLoaded+=t.byteLength;let r=this.progress.documentsLoaded;if(t.ia.namedQuery)this.queries.push(t.ia.namedQuery);else if(t.ia.documentMetadata){this.documents.push({metadata:t.ia.documentMetadata}),t.ia.documentMetadata.exists||++r;const a=zn.fromString(t.ia.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else t.ia.document&&(this.documents[this.documents.length-1].document=t.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(t){const r=new Map,a=new Rp(this.serializer);for(const c of t)if(c.metadata.queries){const g=a.Ps(c.metadata.name);for(const E of c.metadata.queries){const x=(r.get(E)||Gr()).add(g);r.set(E,x)}}return r}complete(){var t=this;return(0,Me.A)(function*(){const r=yield function v(u,t,r,a){return M.apply(this,arguments)}(t.localStore,new Rp(t.serializer),t.documents,t.oa.id),a=t.aa(t.documents);for(const c of t.queries)yield Y(t.localStore,c,a.get(c.name));return t.progress.taskState="Success",{progress:t.progress,ua:t.collectionGroups,ca:r}})()}}function lm(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class Mp{constructor(t){this.key=t}}class um{constructor(t){this.key=t}}class cm{constructor(t,r){this.query=t,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Gr(),this.mutatedKeys=Gr(),this.Ia=gl(t),this.Ta=new wd(this.Ia)}get Ea(){return this.la}da(t,r){const a=r?r.Aa:new im,c=r?r.Ta:this.Ta;let g=r?r.mutatedKeys:this.mutatedKeys,E=c,x=!1;const B="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,X="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal((ye,je)=>{const yt=c.get(ye),qt=La(this.query,je)?je:null,vn=!!yt&&this.mutatedKeys.has(yt.key),Vn=!!qt&&(qt.hasLocalMutations||this.mutatedKeys.has(qt.key)&&qt.hasCommittedMutations);let Pn=!1;yt&&qt?yt.data.isEqual(qt.data)?vn!==Vn&&(a.track({type:3,doc:qt}),Pn=!0):this.Ra(yt,qt)||(a.track({type:2,doc:qt}),Pn=!0,(B&&this.Ia(qt,B)>0||X&&this.Ia(qt,X)<0)&&(x=!0)):!yt&&qt?(a.track({type:0,doc:qt}),Pn=!0):yt&&!qt&&(a.track({type:1,doc:yt}),Pn=!0,(B||X)&&(x=!0)),Pn&&(qt?(E=E.add(qt),g=Vn?g.add(ye):g.delete(ye)):(E=E.delete(ye),g=g.delete(ye)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const ye="F"===this.query.limitType?E.last():E.first();E=E.delete(ye.key),g=g.delete(ye.key),a.track({type:1,doc:ye})}return{Ta:E,Aa:a,Xi:x,mutatedKeys:g}}Ra(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,c){const g=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const E=t.Aa.Q_();E.sort((ye,je)=>function(qt,vn){const Vn=Pn=>{switch(Pn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return Vn(qt)-Vn(vn)}(ye.type,je.type)||this.Ia(ye.doc,je.doc)),this.Va(a),c=null!=c&&c;const x=r&&!c?this.ma():[],B=0===this.Pa.size&&this.current&&!c?1:0,X=B!==this.ha;return this.ha=B,0!==E.length||X?{snapshot:new Dd(this.query,t.Ta,g,E,t.mutatedKeys,0===B,X,!1,!!a&&a.resumeToken.approximateByteSize()>0),fa:x}:{fa:x}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new im,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(r=>this.la=this.la.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Gr(),this.Ta.forEach(a=>{this.ga(a.key)&&(this.Pa=this.Pa.add(a.key))});const r=[];return t.forEach(a=>{this.Pa.has(a)||r.push(new um(a))}),this.Pa.forEach(a=>{t.has(a)||r.push(new Mp(a))}),r}pa(t){this.la=t.hs,this.Pa=Gr();const r=this.da(t.documents);return this.applyChanges(r,!0)}ya(){return Dd.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class K_{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class q_{constructor(t){this.key=t,this.wa=!1}}class dm{constructor(t,r,a,c,g,E){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=c,this.currentUser=g,this.maxConcurrentLimboResolutions=E,this.Sa={},this.ba=new di(x=>ha(x),Ao),this.Da=new Map,this.Ca=new Set,this.va=new ui(_n.comparator),this.Fa=new Map,this.Ma=new ts,this.xa={},this.Oa=new Map,this.Na=fu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Pp(u,t){return pf.apply(this,arguments)}function pf(){return(pf=(0,Me.A)(function*(u,t,r=!0){const a=ns(u);let c;const g=a.ba.get(t);return g?(a.sharedClientState.addLocalQueryTarget(g.targetId),c=g.view.ya()):c=yield xp(a,t,r,!0),c})).apply(this,arguments)}function gf(u,t){return mf.apply(this,arguments)}function mf(){return(mf=(0,Me.A)(function*(u,t){const r=ns(u);yield xp(r,t,!0,!1)})).apply(this,arguments)}function xp(u,t,r,a){return _f.apply(this,arguments)}function _f(){return(_f=(0,Me.A)(function*(u,t,r,a){const c=yield Pa(u.localStore,fi(t)),g=c.targetId,E=r?u.sharedClientState.addLocalQueryTarget(g):"not-current";let x;return a&&(x=yield vf(u,t,g,"current"===E,c.resumeToken)),u.isPrimaryClient&&r&&sf(u.remoteStore,c),x})).apply(this,arguments)}function vf(u,t,r,a,c){return Np.apply(this,arguments)}function Np(){return Np=(0,Me.A)(function*(u,t,r,a,c){u.Ba=(je,yt,qt)=>{return(vn=(0,Me.A)(function*(Pn,vr,Pr,Er){let Yr=vr.view.da(Pr);Yr.Xi&&(Yr=yield $u(Pn.localStore,vr.query,!1).then(({documents:lt})=>vr.view.da(lt,Yr)));const Hi=Er&&Er.targetChanges.get(vr.targetId),ii=Er&&null!=Er.targetMismatches.get(vr.targetId),Ft=vr.view.applyChanges(Yr,Pn.isPrimaryClient,Hi,ii);return Oi(Pn,vr.targetId,Ft.fa),Ft.snapshot}),function Vn(Pn,vr,Pr,Er){return vn.apply(this,arguments)})(u,je,yt,qt);var vn};const g=yield $u(u.localStore,t,!0),E=new cm(t,g.hs),x=E.da(g.documents),B=Pu.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==u.onlineState,c),X=E.applyChanges(x,u.isPrimaryClient,B);Oi(u,r,X.fa);const ye=new K_(t,r,E);return u.ba.set(t,ye),u.Da.has(r)?u.Da.get(r).push(t):u.Da.set(r,[t]),X.snapshot}),Np.apply(this,arguments)}function X_(u,t,r){return yf.apply(this,arguments)}function yf(){return(yf=(0,Me.A)(function*(u,t,r){const a=ze(u),c=a.ba.get(t),g=a.Da.get(c.targetId);if(g.length>1)return a.Da.set(c.targetId,g.filter(E=>!Ao(E,t))),void a.ba.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(c.targetId),a.sharedClientState.isActiveQueryTarget(c.targetId)||(yield ga(a.localStore,c.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(c.targetId),r&&qc(a.remoteStore,c.targetId),Di(a,c.targetId)}).catch(fr))):(Di(a,c.targetId),yield ga(a.localStore,c.targetId,!0))})).apply(this,arguments)}function A(u,t){return f.apply(this,arguments)}function f(){return(f=(0,Me.A)(function*(u,t){const r=ze(u),a=r.ba.get(t),c=r.Da.get(a.targetId);r.isPrimaryClient&&1===c.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),qc(r.remoteStore,a.targetId))})).apply(this,arguments)}function I(){return(I=(0,Me.A)(function*(u,t,r){const a=ql(u);try{const c=yield function(E,x){const B=ze(E),X=Bn.now(),ye=x.reduce((qt,vn)=>qt.add(vn.key),Gr());let je,yt;return B.persistence.runTransaction("Locally write mutations","readwrite",qt=>{let vn=Ko(),Vn=Gr();return B.os.getEntries(qt,ye).next(Pn=>{vn=Pn,vn.forEach((vr,Pr)=>{Pr.isValidDocument()||(Vn=Vn.add(vr))})}).next(()=>B.localDocuments.getOverlayedDocuments(qt,vn)).next(Pn=>{je=Pn;const vr=[];for(const Pr of x){const Er=ti(Pr,je.get(Pr.key).overlayedDocument);null!=Er&&vr.push(new ni(Pr.key,Er,yo(Er.value.mapValue),U.exists(!0)))}return B.mutationQueue.addMutationBatch(qt,X,vr,x)}).next(Pn=>{yt=Pn;const vr=Pn.applyToLocalDocumentSet(je,Vn);return B.documentOverlayCache.saveOverlays(qt,Pn.batchId,vr)})}).then(()=>({batchId:yt.batchId,changes:tu(je)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(c.batchId),function(E,x,B){let X=E.xa[E.currentUser.toKey()];X||(X=new ui(In)),X=X.insert(x,B),E.xa[E.currentUser.toKey()]=X}(a,c.batchId,r),yield Zo(a,c.changes),yield Qc(a.remoteStore)}catch(c){const g=Ac(c,"Failed to persist write");r.reject(g)}})).apply(this,arguments)}function w(u,t){return O.apply(this,arguments)}function O(){return(O=(0,Me.A)(function*(u,t){const r=ze(u);try{const a=yield function mp(u,t){const r=ze(u),a=t.snapshotVersion;let c=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const E=r.os.newChangeBuffer({trackRemovals:!0});c=r.ns;const x=[];t.targetChanges.forEach((ye,je)=>{const yt=c.get(je);if(!yt)return;x.push(r.Qr.removeMatchingKeys(g,ye.removedDocuments,je).next(()=>r.Qr.addMatchingKeys(g,ye.addedDocuments,je)));let qt=yt.withSequenceNumber(g.currentSequenceNumber);var Vn,Pn,vr;null!==t.targetMismatches.get(je)?qt=qt.withResumeToken(Ce.EMPTY_BYTE_STRING,Ln.min()).withLastLimboFreeSnapshotVersion(Ln.min()):ye.resumeToken.approximateByteSize()>0&&(qt=qt.withResumeToken(ye.resumeToken,a)),c=c.insert(je,qt),Pn=qt,vr=ye,(0===(Vn=yt).resumeToken.approximateByteSize()||Pn.snapshotVersion.toMicroseconds()-Vn.snapshotVersion.toMicroseconds()>=3e8||vr.addedDocuments.size+vr.modifiedDocuments.size+vr.removedDocuments.size>0)&&x.push(r.Qr.updateTargetData(g,qt))});let B=Ko(),X=Gr();if(t.documentUpdates.forEach(ye=>{t.resolvedLimboDocuments.has(ye)&&x.push(r.persistence.referenceDelegate.updateLimboDocument(g,ye))}),x.push(tf(g,E,t.documentUpdates).next(ye=>{B=ye.cs,X=ye.ls})),!a.isEqual(Ln.min())){const ye=r.Qr.getLastRemoteSnapshotVersion(g).next(je=>r.Qr.setTargetsMetadata(g,g.currentSequenceNumber,a));x.push(ye)}return st.waitFor(x).next(()=>E.apply(g)).next(()=>r.localDocuments.getLocalViewOfDocuments(g,B,X)).next(()=>B)}).then(g=>(r.ns=c,g))}(r.localStore,t);t.targetChanges.forEach((c,g)=>{const E=r.Fa.get(g);E&&(rn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?E.wa=!0:c.modifiedDocuments.size>0?rn(E.wa):c.removedDocuments.size>0&&(rn(E.wa),E.wa=!1))}),yield Zo(r,a,t)}catch(a){yield fr(a)}})).apply(this,arguments)}function oe(u,t,r){const a=ze(u);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const c=[];a.ba.forEach((g,E)=>{const x=E.view.j_(t);x.snapshot&&c.push(x.snapshot)}),function(E,x){const B=ze(E);B.onlineState=x;let X=!1;B.queries.forEach((ye,je)=>{for(const yt of je.U_)yt.j_(x)&&(X=!0)}),X&&Cc(B)}(a.eventManager,t),c.length&&a.Sa.h_(c),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}function Pe(u,t,r){return rt.apply(this,arguments)}function rt(){return(rt=(0,Me.A)(function*(u,t,r){const a=ze(u);a.sharedClientState.updateQueryState(t,"rejected",r);const c=a.Fa.get(t),g=c&&c.key;if(g){let E=new ui(_n.comparator);E=E.insert(g,Jr.newNoDocument(g,Ln.min()));const x=Gr().add(g),B=new Ba(Ln.min(),new Map,new ui(In),E,x);yield w(a,B),a.va=a.va.remove(g),a.Fa.delete(t),Vs(a)}else yield ga(a.localStore,t,!1).then(()=>Di(a,t,r)).catch(fr)})).apply(this,arguments)}function Dt(u,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,Me.A)(function*(u,t){const r=ze(u),a=t.batch.batchId;try{const c=yield function Yd(u,t){const r=ze(u);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=t.batch.keys(),g=r.os.newChangeBuffer({trackRemovals:!0});return function(x,B,X,ye){const je=X.batch,yt=je.keys();let qt=st.resolve();return yt.forEach(vn=>{qt=qt.next(()=>ye.getEntry(B,vn)).next(Vn=>{const Pn=X.docVersions.get(vn);rn(null!==Pn),Vn.version.compareTo(Pn)<0&&(je.applyToRemoteDocument(Vn,X),Vn.isValidDocument()&&(Vn.setReadTime(X.commitVersion),ye.addEntry(Vn)))})}),qt.next(()=>x.mutationQueue.removeMutationBatch(B,je))}(r,a,t,g).next(()=>g.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,c,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(x){let B=Gr();for(let X=0;X<x.mutationResults.length;++X)x.mutationResults[X].transformResults.length>0&&(B=B.add(x.batch.mutations[X].key));return B}(t))).next(()=>r.localDocuments.getDocuments(a,c))})}(r.localStore,t);Kr(r,a,null),ur(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield Zo(r,c)}catch(c){yield fr(c)}})).apply(this,arguments)}function gn(u,t,r){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,Me.A)(function*(u,t,r){const a=ze(u);try{const c=yield function(E,x){const B=ze(E);return B.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let ye;return B.mutationQueue.lookupMutationBatch(X,x).next(je=>(rn(null!==je),ye=je.keys(),B.mutationQueue.removeMutationBatch(X,je))).next(()=>B.mutationQueue.performConsistencyCheck(X)).next(()=>B.documentOverlayCache.removeOverlaysForBatchId(X,ye,x)).next(()=>B.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(X,ye)).next(()=>B.localDocuments.getDocuments(X,ye))})}(a.localStore,t);Kr(a,t,r),ur(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),yield Zo(a,c)}catch(c){yield fr(c)}})).apply(this,arguments)}function Hn(){return(Hn=(0,Me.A)(function*(u,t){const r=ze(u);Xc(r.remoteStore)||Pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(E){const x=ze(E);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",B=>x.mutationQueue.getHighestUnacknowledgedBatchId(B))}(r.localStore);if(-1===a)return void t.resolve();const c=r.Oa.get(a)||[];c.push(t),r.Oa.set(a,c)}catch(a){const c=Ac(a,"Initialization of waitForPendingWrites() operation failed");t.reject(c)}})).apply(this,arguments)}function ur(u,t){(u.Oa.get(t)||[]).forEach(r=>{r.resolve()}),u.Oa.delete(t)}function Kr(u,t,r){const a=ze(u);let c=a.xa[a.currentUser.toKey()];if(c){const g=c.get(t);g&&(r?g.reject(r):g.resolve(),c=c.remove(t)),a.xa[a.currentUser.toKey()]=c}}function Di(u,t,r=null){u.sharedClientState.removeLocalQueryTarget(t);for(const a of u.Da.get(t))u.ba.delete(a),r&&u.Sa.ka(a,r);u.Da.delete(t),u.isPrimaryClient&&u.Ma.Vr(t).forEach(a=>{u.Ma.containsKey(a)||to(u,a)})}function to(u,t){u.Ca.delete(t.path.canonicalString());const r=u.va.get(t);null!==r&&(qc(u.remoteStore,r),u.va=u.va.remove(t),u.Fa.delete(r),Vs(u))}function Oi(u,t,r){for(const a of r)a instanceof Mp?(u.Ma.addReference(a.key,t),Si(u,a)):a instanceof um?(Pt("SyncEngine","Document no longer in limbo: "+a.key),u.Ma.removeReference(a.key,t),u.Ma.containsKey(a.key)||to(u,a.key)):en()}function Si(u,t){const r=t.key,a=r.path.canonicalString();u.va.get(r)||u.Ca.has(a)||(Pt("SyncEngine","New document in limbo: "+r),u.Ca.add(a),Vs(u))}function Vs(u){for(;u.Ca.size>0&&u.va.size<u.maxConcurrentLimboResolutions;){const t=u.Ca.values().next().value;u.Ca.delete(t);const r=new _n(zn.fromString(t)),a=u.Na.next();u.Fa.set(a,new q_(r)),u.va=u.va.insert(r,a),sf(u.remoteStore,new Fs(fi(Qs(r.path)),a,"TargetPurposeLimboResolution",ee.oe))}}function Zo(u,t,r){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,Me.A)(function*(u,t,r){const a=ze(u),c=[],g=[],E=[];var x;a.ba.isEmpty()||(a.ba.forEach((x,B)=>{E.push(a.Ba(B,t,r).then(X=>{if((X||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(B.targetId,X&&!X.fromCache?"current":"not-current"),X){c.push(X);const ye=Uu.Ki(B.targetId,X);g.push(ye)}}))}),yield Promise.all(E),a.Sa.h_(c),yield(x=(0,Me.A)(function*(X,ye){const je=ze(X);try{yield je.persistence.runTransaction("notifyLocalViewChanges","readwrite",yt=>st.forEach(ye,qt=>st.forEach(qt.qi,vn=>je.persistence.referenceDelegate.addReference(yt,qt.targetId,vn)).next(()=>st.forEach(qt.Qi,vn=>je.persistence.referenceDelegate.removeReference(yt,qt.targetId,vn)))))}catch(yt){if(!Ti(yt))throw yt;Pt("LocalStore","Failed to update sequence numbers: "+yt)}for(const yt of ye){const qt=yt.targetId;if(!yt.fromCache){const vn=je.ns.get(qt),Pn=vn.withLastLimboFreeSnapshotVersion(vn.snapshotVersion);je.ns=je.ns.insert(qt,Pn)}}}),function B(X,ye){return x.apply(this,arguments)})(a.localStore,g))}),Bo.apply(this,arguments)}function ws(u,t){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,Me.A)(function*(u,t){const r=ze(u);if(!r.currentUser.isEqual(t)){Pt("SyncEngine","User change. New user:",t.toKey());const a=yield vu(r.localStore,t);r.currentUser=t,(g=r).Oa.forEach(x=>{x.forEach(B=>{B.reject(new We(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.Oa.clear(),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),yield Zo(r,a.us)}var g})).apply(this,arguments)}function Dl(u,t){const r=ze(u),a=r.Fa.get(t);if(a&&a.wa)return Gr().add(a.key);{let c=Gr();const g=r.Da.get(t);if(!g)return c;for(const E of g){const x=r.ba.get(E);c=c.unionWith(x.view.Ea)}return c}}function bc(u,t){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,Me.A)(function*(u,t){const r=ze(u),a=yield $u(r.localStore,t.query,!0),c=t.view.pa(a);return r.isPrimaryClient&&Oi(r,t.targetId,c.fa),c})).apply(this,arguments)}function Kl(u,t){return Au.apply(this,arguments)}function Au(){return(Au=(0,Me.A)(function*(u,t){const r=ze(u);return T(r.localStore,t).then(a=>Zo(r,a))})).apply(this,arguments)}function ed(u,t,r,a){return cr.apply(this,arguments)}function cr(){return(cr=(0,Me.A)(function*(u,t,r,a){const c=ze(u),g=yield function(x,B){const X=ze(x),ye=ze(X.mutationQueue);return X.persistence.runTransaction("Lookup mutation documents","readonly",je=>ye.vn(je,B).next(yt=>yt?X.localDocuments.getDocuments(je,yt):st.resolve(null)))}(c.localStore,t);var B;null!==g?("pending"===r?yield Qc(c.remoteStore):"acknowledged"===r||"rejected"===r?(Kr(c,t,a||null),ur(c,t),B=t,ze(ze(c.localStore).mutationQueue).Mn(B)):en(),yield Zo(c,g)):Pt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Mr(){return(Mr=(0,Me.A)(function*(u,t){const r=ze(u);if(ns(r),ql(r),!0===t&&!0!==r.La){const a=r.sharedClientState.getAllActiveQueryTargets(),c=yield pi(r,a.toArray());r.La=!0,yield wp(r.remoteStore,!0);for(const g of c)sf(r.remoteStore,g)}else if(!1===t&&!1!==r.La){const a=[];let c=Promise.resolve();r.Da.forEach((g,E)=>{r.sharedClientState.isLocalQueryTarget(E)?a.push(E):c=c.then(()=>(Di(r,E),ga(r.localStore,E,!0))),qc(r.remoteStore,E)}),yield c,yield pi(r,a),function(E){const x=ze(E);x.Fa.forEach((B,X)=>{qc(x.remoteStore,X)}),x.Ma.mr(),x.Fa=new Map,x.va=new ui(_n.comparator)}(r),r.La=!1,yield wp(r.remoteStore,!1)}})).apply(this,arguments)}function pi(u,t,r){return $o.apply(this,arguments)}function $o(){return($o=(0,Me.A)(function*(u,t,r){const a=ze(u),c=[],g=[];for(const E of t){let x;const B=a.Da.get(E);if(B&&0!==B.length){x=yield Pa(a.localStore,fi(B[0]));for(const X of B){const ye=a.ba.get(X),je=yield bc(a,ye);je.snapshot&&g.push(je.snapshot)}}else{const X=yield Kc(a.localStore,E);x=yield Pa(a.localStore,X),yield vf(a,Wa(X),E,!1,x.resumeToken)}c.push(x)}return a.Sa.h_(g),c})).apply(this,arguments)}function Wa(u){return Ja(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function Us(u){return r=ze(u).localStore,ze(ze(r).persistence).Bi();var r}function Ku(u,t,r,a){return bo.apply(this,arguments)}function bo(){return(bo=(0,Me.A)(function*(u,t,r,a){const c=ze(u);if(c.La)return void Pt("SyncEngine","Ignoring unexpected query state notification.");const g=c.Da.get(t);if(g&&g.length>0)switch(r){case"current":case"not-current":{const E=yield T(c.localStore,pl(g[0])),x=Ba.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,Ce.EMPTY_BYTE_STRING);yield Zo(c,E,x);break}case"rejected":yield ga(c.localStore,t,!0),Di(c,t,a);break;default:en()}})).apply(this,arguments)}function Op(u,t,r){return If.apply(this,arguments)}function If(){return(If=(0,Me.A)(function*(u,t,r){const a=ns(u);if(a.La){for(const c of t){if(a.Da.has(c)&&a.sharedClientState.isActiveQueryTarget(c)){Pt("SyncEngine","Adding an already active target "+c);continue}const g=yield Kc(a.localStore,c),E=yield Pa(a.localStore,g);yield vf(a,Wa(g),E.targetId,!1,E.resumeToken),sf(a.remoteStore,E)}for(const c of r)a.Da.has(c)&&(yield ga(a.localStore,c,!1).then(()=>{qc(a.remoteStore,c),Di(a,c)}).catch(fr))}})).apply(this,arguments)}function ns(u){const t=ze(u);return t.remoteStore.remoteSyncer.applyRemoteEvent=w.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dl.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pe.bind(null,t),t.Sa.h_=Sp.bind(null,t.eventManager),t.Sa.ka=Ts.bind(null,t.eventManager),t}function ql(u){const t=ze(u);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Dt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gn.bind(null,t),t}class Cu{constructor(){this.synchronizeTabs=!1}initialize(t){var r=this;return(0,Me.A)(function*(){r.serializer=yc(t.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(t),r.persistence=r.createPersistence(t),yield r.persistence.start(),r.localStore=r.createLocalStore(t),r.gcScheduler=r.createGarbageCollectionScheduler(t,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(t,r.localStore)})()}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return Ed(this.persistence,new Bu,t.initialUser,this.serializer)}createPersistence(t){return new Id(mc.Hr,this.serializer)}createSharedClientState(t){return new Cd}terminate(){var t=this;return(0,Me.A)(function*(){var r,a;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(a=t.indexBackfillerScheduler)||void 0===a||a.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class kp extends Cu{constructor(t,r,a){super(),this.Qa=t,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(t){var r=()=>super.initialize,a=this;return(0,Me.A)(function*(){yield r().call(a,t),yield a.Qa.initialize(a,t),yield ql(a.Qa.syncEngine),yield Qc(a.Qa.remoteStore),yield a.persistence.fi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Ed(this.persistence,new Bu,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,r){return new al(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,r)}createIndexBackfillerScheduler(t,r){const a=new ie(r,this.persistence);return new Wt(t.asyncQueue,a)}createPersistence(t){const r=_c(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?so.withCacheSize(this.cacheSizeBytes):so.DEFAULT;return new wl(this.synchronizeTabs,r,t.clientId,a,t.asyncQueue,Yo(),zu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Cd}}class Fp extends kp{constructor(t,r){super(t,r,!1),this.Qa=t,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(t){var r=()=>super.initialize,a=this;return(0,Me.A)(function*(){yield r().call(a,t);const c=a.Qa.syncEngine;a.sharedClientState instanceof ju&&(a.sharedClientState.syncEngine={Zs:ed.bind(null,c),Xs:Ku.bind(null,c),eo:Op.bind(null,c),Bi:Us.bind(null,c),Ys:Kl.bind(null,c)},yield a.sharedClientState.start()),yield a.persistence.fi(function(){var g=(0,Me.A)(function*(E){yield function wr(u,t){return Mr.apply(this,arguments)}(a.Qa.syncEngine,E),a.gcScheduler&&(E&&!a.gcScheduler.started?a.gcScheduler.start():E||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(E&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():E||a.indexBackfillerScheduler.stop())});return function(E){return g.apply(this,arguments)}}())})()}createSharedClientState(t){const r=Yo();if(!ju.D(r))throw new We(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=_c(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ju(r,t.asyncQueue,a,t.clientId,t.initialUser)}}class sh{initialize(t,r){var a=this;return(0,Me.A)(function*(){a.localStore||(a.localStore=t.localStore,a.sharedClientState=t.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!t.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>oe(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=ws.bind(null,a.syncEngine),yield wp(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(t){return new W_}createDatastore(t){const r=yc(t.databaseInfo.databaseId),a=new Iu(t.databaseInfo);return new $_(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return a=this.localStore,c=this.datastore,g=t.asyncQueue,E=r=>oe(this.syncEngine,r,0),x=yu.D()?new yu:new Zd,new _p(a,c,g,E,x);var a,c,g,E,x}createSyncEngine(t,r){return function(c,g,E,x,B,X,ye){const je=new dm(c,g,E,x,B,X);return ye&&(je.La=!0),je}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return(0,Me.A)(function*(){var r,a;yield(a=(0,Me.A)(function*(g){const E=ze(g);Pt("RemoteStore","RemoteStore shutting down."),E.M_.add(5),yield bd(E),E.O_.shutdown(),E.N_.set("Unknown")}),function c(g){return a.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate()})()}}function l0(u,t=10240){let r=0;return{read:()=>(0,Me.A)(function*(){if(r<u.byteLength){const a={value:u.slice(r,r+t),done:!1};return r+=t,a}return{done:!0}})(),cancel:()=>(0,Me.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class hm{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):mn("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,r){this.muted||setTimeout(()=>{this.muted||t(r)},0)}}class Ef{constructor(t,r){this.Ua=t,this.serializer=r,this.metadata=new hn,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(a=>{a&&a.sa()?this.metadata.resolve(a.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.ia)}`))},a=>this.metadata.reject(a))}close(){return this.Ua.cancel()}getMetadata(){var t=this;return(0,Me.A)(function*(){return t.metadata.promise})()}qa(){var t=this;return(0,Me.A)(function*(){return yield t.getMetadata(),t.Ga()})()}Ga(){var t=this;return(0,Me.A)(function*(){const r=yield t.za();if(null===r)return null;const a=t.Wa.decode(r),c=Number(a);isNaN(c)&&t.ja(`length string (${a}) is not valid number`);const g=yield t.Ha(c);return new sm(JSON.parse(g),r.length+c)})()}Ja(){return this.buffer.findIndex(t=>123===t)}za(){var t=this;return(0,Me.A)(function*(){for(;t.Ja()<0&&!(yield t.Ya()););if(0===t.buffer.length)return null;const r=t.Ja();r<0&&t.ja("Reached the end of bundle when a length string is expected.");const a=t.buffer.slice(0,r);return t.buffer=t.buffer.slice(r),a})()}Ha(t){var r=this;return(0,Me.A)(function*(){for(;r.buffer.length<t;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const a=r.Wa.decode(r.buffer.slice(0,t));return r.buffer=r.buffer.slice(t),a})()}ja(t){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${t}`)}Ya(){var t=this;return(0,Me.A)(function*(){const r=yield t.Ua.read();if(!r.done){const a=new Uint8Array(t.buffer.length+r.value.length);a.set(t.buffer),a.set(r.value,t.buffer.length),t.buffer=a}return r.done})()}}class u0{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var r=this;return(0,Me.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new We(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(c=(0,Me.A)(function*(E,x){const B=ze(E),X={documents:x.map(qt=>ra(B.serializer,qt))},ye=yield B.xo("BatchGetDocuments",B.serializer.databaseId,zn.emptyPath(),X,x.length),je=new Map;ye.forEach(qt=>{const vn=function jd(u,t){return"found"in t?function(a,c){rn(!!c.found);const g=ks(a,c.found.name),E=Yi(c.found.updateTime),x=c.found.createTime?Yi(c.found.createTime):Ln.min(),B=new Ni({mapValue:{fields:c.found.fields}});return Jr.newFoundDocument(g,E,x,B)}(u,t):"missing"in t?function(a,c){rn(!!c.missing),rn(!!c.readTime);const g=ks(a,c.missing),E=Yi(c.readTime);return Jr.newNoDocument(g,E)}(u,t):en()}(B.serializer,qt);je.set(vn.key.toString(),vn)});const yt=[];return x.forEach(qt=>{const vn=je.get(qt.toString());rn(!!vn),yt.push(vn)}),yt}),function g(E,x){return c.apply(this,arguments)})(r.datastore,t);var c;return a.forEach(c=>r.recordVersion(c)),a})()}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(t.toString())}delete(t){this.write(new Sn(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Me.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const r=t.readVersions;var a;t.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,c)=>{const g=_n.fromPath(c);t.mutations.push(new Xn(g,t.precondition(g)))}),yield(a=(0,Me.A)(function*(g,E){const x=ze(g),B={writes:E.map(X=>uu(x.serializer,X))};yield x.Co("Commit",x.serializer.databaseId,zn.emptyPath(),B)}),function c(g,E){return a.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw en();r=Ln.min()}const a=this.readVersions.get(t.key.toString());if(a){if(!r.isEqual(a))throw new We(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(Ln.min())?U.exists(!1):U.updateTime(r):U.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(Ln.min()))throw new We(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return U.updateTime(r)}return U.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Vp{constructor(t,r,a,c,g){this.asyncQueue=t,this.datastore=r,this.options=a,this.updateFunction=c,this.deferred=g,this.Za=a.maxAttempts,this.Yo=new eh(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var t=this;this.Yo.$o((0,Me.A)(function*(){const r=new u0(t.datastore),a=t.tu(r);a&&a.then(c=>{t.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{t.deferred.resolve(c)}).catch(g=>{t.nu(g)}))}).catch(c=>{t.nu(c)})}))}tu(t){try{const r=this.updateFunction(t);return!Ge(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if("FirebaseError"===t.name){const r=t.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Js(r)}return!1}}class fm{constructor(t,r,a,c){var g=this;this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=c,this.user=Re.UNAUTHENTICATED,this.clientId=qr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var E=(0,Me.A)(function*(x){Pt("FirestoreClient","Received user=",x.uid),yield g.authCredentialListener(x),g.user=x});return function(x){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(a,E=>(Pt("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const r=new hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),r.resolve()}catch(a){const c=Ac(a,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function Lp(u,t){return Up.apply(this,arguments)}function Up(){return Up=(0,Me.A)(function*(u,t){u.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const r=u.configuration;yield t.initialize(r);let a=r.initialUser;u.setCredentialChangeListener(function(){var c=(0,Me.A)(function*(g){a.isEqual(g)||(yield vu(t.localStore,g),a=g)});return function(g){return c.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=t}),Up.apply(this,arguments)}function Af(u,t){return ah.apply(this,arguments)}function ah(){return(ah=(0,Me.A)(function*(u,t){u.asyncQueue.verifyOperationInProgress();const r=yield Bp(u);Pt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(r,u.configuration),u.setCredentialChangeListener(a=>cf(t.remoteStore,a)),u.setAppCheckTokenChangeListener((a,c)=>cf(t.remoteStore,c)),u._onlineComponents=t})).apply(this,arguments)}function Cf(u){return"FirebaseError"===u.name?u.code===xe.FAILED_PRECONDITION||u.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code}function Bp(u){return $p.apply(this,arguments)}function $p(){return($p=(0,Me.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){Pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lp(u,u._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!Cf(r))throw r;Nn("Error using user provided cache. Falling back to memory cache: "+r),yield Lp(u,new Cu)}}else Pt("FirestoreClient","Using default OfflineComponentProvider"),yield Lp(u,new Cu);return u._offlineComponents})).apply(this,arguments)}function bf(u){return lh.apply(this,arguments)}function lh(){return(lh=(0,Me.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(Pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Af(u,u._uninitializedComponentsProvider._online)):(Pt("FirestoreClient","Using default OnlineComponentProvider"),yield Af(u,new sh))),u._onlineComponents})).apply(this,arguments)}function jp(u){return Bp(u).then(t=>t.persistence)}function bu(u){return Bp(u).then(t=>t.localStore)}function Q_(u){return bf(u).then(t=>t.remoteStore)}function pm(u){return bf(u).then(t=>t.syncEngine)}function wc(u){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,Me.A)(function*(u){const t=yield bf(u),r=t.eventManager;return r.onListen=Pp.bind(null,t.syncEngine),r.onUnlisten=X_.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=gf.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=A.bind(null,t.syncEngine),r})).apply(this,arguments)}function td(u,t,r={}){const a=new hn;return u.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return function(g,E,x,B,X){const ye=new hm({next:yt=>{E.enqueueAndForget(()=>Jc(g,je));const qt=yt.docs.has(x);!qt&&yt.fromCache?X.reject(new We(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):qt&&yt.fromCache&&B&&"server"===B.source?X.reject(new We(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(yt)},error:yt=>X.reject(yt)}),je=new ff(Qs(x.path),ye,{includeMetadataChanges:!0,ra:!0});return Dp(g,je)}(yield wc(u),u.asyncQueue,t,r,a)})),a.promise}function ev(u,t,r={}){const a=new hn;return u.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return function(g,E,x,B,X){const ye=new hm({next:yt=>{E.enqueueAndForget(()=>Jc(g,je)),yt.fromCache&&"server"===B.source?X.reject(new We(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):X.resolve(yt)},error:yt=>X.reject(yt)}),je=new ff(x,ye,{includeMetadataChanges:!0,ra:!0});return Dp(g,je)}(yield wc(u),u.asyncQueue,t,r,a)})),a.promise}function tv(u){const t={};return void 0!==u.timeoutSeconds&&(t.timeoutSeconds=u.timeoutSeconds),t}const nv=new Map;function gm(u,t,r){if(!r)throw new We(xe.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${t}.`)}function rv(u,t,r,a){if(!0===t&&!0===a)throw new We(xe.INVALID_ARGUMENT,`${u} and ${r} cannot be used together.`)}function mm(u){if(!_n.isDocumentKey(u))throw new We(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function iv(u){if(_n.isDocumentKey(u))throw new We(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function Hp(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const t=(a=u).constructor?a.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var a;return"function"==typeof u?"a function":en()}function xi(u,t){if("_delegate"in u&&(u=u._delegate),!(u instanceof t)){if(t.name===u.constructor.name)throw new We(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Hp(u);throw new We(xe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return u}function ov(u,t){if(t<=0)throw new We(xe.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${t}.`)}class wf{constructor(t){var r,a;if(void 0===t.host){if(void 0!==t.ssl)throw new We(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(r=t.ssl)||void 0===r||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new We(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=tv(null!==(a=t.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(g){if(void 0!==g.timeoutSeconds){if(isNaN(g.timeoutSeconds))throw new We(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (must not be NaN)`);if(g.timeoutSeconds<5)throw new We(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (minimum allowed value is 5)`);if(g.timeoutSeconds>30)throw new We(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sl{constructor(t,r,a,c){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new We(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new We(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wf(t),void 0!==t.credentials&&(this._authCredentials=function(a){if(!a)return new yr;switch(a.type){case"firstParty":return new dr(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new We(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=nv.get(r);a&&(Pt("ComponentProvider","Removing Datastore"),nv.delete(r),a.terminate())}(this),Promise.resolve()}}class oa{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new oa(this.firestore,t,this._query)}}class Lo{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Lo(this.firestore,t,this._key)}}class Tu extends oa{constructor(t,r,a){super(t,r,Qs(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Lo(this.firestore,null,new _n(t))}withConverter(t){return new Tu(this.firestore,t,this._path)}}function _0(u,t,...r){if(u=(0,ut.Ku)(u),gm("collection","path",t),u instanceof Sl){const a=zn.fromString(t,...r);return iv(a),new Tu(u,null,a)}{if(!(u instanceof Lo||u instanceof Tu))throw new We(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=u._path.child(zn.fromString(t,...r));return iv(a),new Tu(u.firestore,null,a)}}function _m(u,t,...r){if(u=(0,ut.Ku)(u),1===arguments.length&&(t=qr.newId()),gm("doc","path",t),u instanceof Sl){const a=zn.fromString(t,...r);return mm(a),new Lo(u,null,new _n(a))}{if(!(u instanceof Lo||u instanceof Tu))throw new We(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=u._path.child(zn.fromString(t,...r));return mm(a),new Lo(u.firestore,u instanceof Tu?u.converter:null,new _n(a))}}function zp(u,t){return u=(0,ut.Ku)(u),t=(0,ut.Ku)(t),(u instanceof Lo||u instanceof Tu)&&(t instanceof Lo||t instanceof Tu)&&u.firestore===t.firestore&&u.path===t.path&&u.converter===t.converter}function Df(u,t){return u=(0,ut.Ku)(u),t=(0,ut.Ku)(t),u instanceof oa&&t instanceof oa&&u.firestore===t.firestore&&Ao(u._query,t._query)&&u.converter===t.converter}class LE{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new eh(this,"async_queue_retry"),this.hu=()=>{const r=zu();r&&Pt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const t=zu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const r=zu();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new hn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){var t=this;return(0,Me.A)(function*(){if(0!==t.su.length){try{yield t.su[0](),t.su.shift(),t.Yo.reset()}catch(r){if(!Ti(r))throw r;Pt("AsyncQueue","Operation failed with retryable error: "+r)}t.su.length>0&&t.Yo.$o(()=>t.Tu())}})()}Iu(t){const r=this.iu.then(()=>(this.uu=!0,t().catch(a=>{throw this.au=a,this.uu=!1,mn("INTERNAL UNHANDLED ERROR: ",function(E){let x=E.message||"";return E.stack&&(x=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),x}(a)),a}).then(a=>(this.uu=!1,a))));return this.iu=r,r}enqueueAfterDelay(t,r,a){this.Pu(),this.lu.indexOf(t)>-1&&(r=0);const c=Td.createAndSchedule(this,t,r,a,g=>this.Eu(g));return this._u.push(c),c}Pu(){this.au&&en()}verifyOperationInProgress(){}du(){var t=this;return(0,Me.A)(function*(){let r;do{r=t.iu,yield r}while(r!==t.iu)})()}Au(t){for(const r of this._u)if(r.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==t&&r.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const r=this._u.indexOf(t);this._u.splice(r,1)}}function sv(u){return function(r,a){if("object"!=typeof r||null===r)return!1;const c=r;for(const g of["next","error","complete"])if(g in c&&"function"==typeof c[g])return!0;return!1}(u)}class av{constructor(){this._progressObserver={},this._taskCompletionResolver=new hn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,r,a){this._progressObserver={next:t,error:r,complete:a}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,r){return this._taskCompletionResolver.promise.then(t,r)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class To extends Sl{constructor(t,r,a,c){super(t,r,a,c),this.type="firestore",this._queue=new LE,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vm(this),this._firestoreClient.terminate()}}function Jo(u){return u._firestoreClient||vm(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function vm(u){var t,r,a;const c=u._freezeSettings(),g=(B=(null===(t=u._app)||void 0===t?void 0:t.options.appId)||"",new xt(u._databaseId,B,u._persistenceKey,(ye=c).host,ye.ssl,ye.experimentalForceLongPolling,ye.experimentalAutoDetectLongPolling,tv(ye.experimentalLongPollingOptions),ye.useFetchStreams));var B,ye;u._firestoreClient=new fm(u._authCredentials,u._appCheckCredentials,u._queue,g),null!==(r=c.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(a=c.localCache)&&void 0!==a&&a._onlineComponentProvider&&(u._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}function uv(u,t,r){const a=new hn;return u.asyncQueue.enqueue((0,Me.A)(function*(){try{yield Lp(u,r),yield Af(u,t),a.resolve()}catch(c){const g=c;if(!Cf(g))throw g;Nn("Error enabling indexeddb cache. Falling back to memory cache: "+g),a.reject(g)}})).then(()=>a.promise)}function fv(u){if(u._initialized||u._terminated)throw new We(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qu(Ce.fromBase64String(t))}catch(r){throw new We(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new qu(Ce.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Sc{constructor(...t){for(let r=0;r<t.length;++r)if(0===t[r].length)throw new We(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Md{constructor(t){this._methodName=t}}class Sf{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new We(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new We(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return In(this._lat,t._lat)||In(this._long,t._long)}}const HE=/^__.*__$/;class zE{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return null!==this.fieldMask?new ni(t,this.data,this.fieldMask,r,this.fieldTransforms):new Vr(t,this.data,r,this.fieldTransforms)}}class dh{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new ni(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function gv(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class Wp{constructor(t,r,a,c,g,E){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=c,void 0===g&&this.mu(),this.fieldTransforms=g||[],this.fieldMask=E||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new Wp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(t),c=this.gu({path:a,yu:!1});return c.wu(t),c}Su(t){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(t),c=this.gu({path:a,yu:!1});return c.mu(),c}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return xd(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find(r=>t.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>t.isPrefixOf(r.field))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(gv(this.fu)&&HE.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class I0{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||yc(t)}Fu(t,r,a,c=!1){return new Wp({fu:t,methodName:r,vu:a,path:_r.emptyPath(),yu:!1,Cu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nd(u){const t=u._freezeSettings(),r=yc(u._databaseId);return new I0(u._databaseId,!!t.ignoreUndefinedProperties,r)}function Kp(u,t,r,a,c,g={}){const E=u.Fu(g.merge||g.mergeFields?2:0,t,r,c);yv("Data must be an object, but it was:",E,a);const x=E0(a,E);let B,X;if(g.merge)B=new Q(E.fieldMask),X=E.fieldTransforms;else if(g.mergeFields){const ye=[];for(const je of g.mergeFields){const yt=Xp(t,je,r);if(!E.contains(yt))throw new We(xe.INVALID_ARGUMENT,`Field '${yt}' is specified in your field mask but missing from your input data.`);Qp(ye,yt)||ye.push(yt)}B=new Q(ye),X=E.fieldTransforms.filter(je=>B.covers(je.field))}else B=null,X=E.fieldTransforms;return new zE(new Ni(x),B,X)}class Rf extends Md{_toFieldTransform(t){if(2!==t.fu)throw t.Du(1===t.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rf}}function mv(u,t,r){return new Wp({fu:3,vu:t.settings.vu,methodName:u._methodName,yu:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Im extends Md{_toFieldTransform(t){return new S(t.path,new as)}isEqual(t){return t instanceof Im}}class Em extends Md{constructor(t,r){super(t),this.Mu=r}_toFieldTransform(t){const r=mv(this,t,!0),a=this.Mu.map(g=>hh(g,r)),c=new Uo(a);return new S(t.path,c)}isEqual(t){return t instanceof Em&&(0,ut.bD)(this.Mu,t.Mu)}}class Am extends Md{constructor(t,r){super(t),this.Mu=r}_toFieldTransform(t){const r=mv(this,t,!0),a=this.Mu.map(g=>hh(g,r)),c=new Da(a);return new S(t.path,c)}isEqual(t){return t instanceof Am&&(0,ut.bD)(this.Mu,t.Mu)}}class Mf extends Md{constructor(t,r){super(t),this.xu=r}_toFieldTransform(t){const r=new gs(t.serializer,wa(t.serializer,this.xu));return new S(t.path,r)}isEqual(t){return t instanceof Mf&&this.xu===t.xu}}function _v(u,t,r,a){const c=u.Fu(1,t,r);yv("Data must be an object, but it was:",c,a);const g=[],E=Ni.empty();Go(a,(B,X)=>{const ye=Pd(t,B,r);X=(0,ut.Ku)(X);const je=c.Su(ye);if(X instanceof Rf)g.push(ye);else{const yt=hh(X,je);null!=yt&&(g.push(ye),E.set(ye,yt))}});const x=new Q(g);return new dh(E,x,c.fieldTransforms)}function vv(u,t,r,a,c,g){const E=u.Fu(1,t,r),x=[Xp(t,a,r)],B=[c];if(g.length%2!=0)throw new We(xe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let yt=0;yt<g.length;yt+=2)x.push(Xp(t,g[yt])),B.push(g[yt+1]);const X=[],ye=Ni.empty();for(let yt=x.length-1;yt>=0;--yt)if(!Qp(X,x[yt])){const qt=x[yt];let vn=B[yt];vn=(0,ut.Ku)(vn);const Vn=E.Su(qt);if(vn instanceof Rf)X.push(qt);else{const Pn=hh(vn,Vn);null!=Pn&&(X.push(qt),ye.set(qt,Pn))}}const je=new Q(X);return new dh(ye,je,E.fieldTransforms)}function qp(u,t,r,a=!1){return hh(r,u.Fu(a?4:3,t))}function hh(u,t){if(A0(u=(0,ut.Ku)(u)))return yv("Unsupported field value:",t,u),E0(u,t);if(u instanceof Md)return function(a,c){if(!gv(c.fu))throw c.Du(`${a._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Du(`${a._methodName}() is not currently supported inside arrays`);const g=a._toFieldTransform(c);g&&c.fieldTransforms.push(g)}(u,t),null;if(void 0===u&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),u instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(a,c){const g=[];let E=0;for(const x of a){let B=hh(x,c.bu(E));null==B&&(B={nullValue:"NULL_VALUE"}),g.push(B),E++}return{arrayValue:{values:g}}}(u,t)}return function(a,c){if(null===(a=(0,ut.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return wa(c.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const g=Bn.fromDate(a);return{timestampValue:Mo(c.serializer,g)}}if(a instanceof Bn){const g=new Bn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Mo(c.serializer,g)}}if(a instanceof Sf)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof qu)return{bytesValue:na(c.serializer,a._byteString)};if(a instanceof Lo){const g=c.databaseId,E=a.firestore._databaseId;if(!E.isEqual(g))throw c.Du(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:ls(a.firestore._databaseId||c.databaseId,a._key.path)}}throw c.Du(`Unsupported field value: ${Hp(a)}`)}(u,t)}function E0(u,t){const r={};return Ws(u)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Go(u,(a,c)=>{const g=hh(c,t.pu(a));null!=g&&(r[a]=g)}),{mapValue:{fields:r}}}function A0(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Bn||u instanceof Sf||u instanceof qu||u instanceof Lo||u instanceof Md)}function yv(u,t,r){if(!A0(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const a=Hp(r);throw t.Du("an object"===a?u+" a custom object":u+" "+a)}var c}function Xp(u,t,r){if((t=(0,ut.Ku)(t))instanceof Sc)return t._internalPath;if("string"==typeof t)return Pd(u,t);throw xd("Field path arguments must be of type string or ",u,!1,void 0,r)}const C0=new RegExp("[~\\*/\\[\\]]");function Pd(u,t,r){if(t.search(C0)>=0)throw xd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,r);try{return new Sc(...t.split("."))._internalPath}catch{throw xd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,r)}}function xd(u,t,r,a,c){const g=a&&!a.isEmpty(),E=void 0!==c;let x=`Function ${t}() called with invalid data`;r&&(x+=" (via `toFirestore()`)"),x+=". ";let B="";return(g||E)&&(B+=" (found",g&&(B+=` in field ${a}`),E&&(B+=` in document ${c}`),B+=")"),new We(xe.INVALID_ARGUMENT,x+u+B)}function Qp(u,t){return u.some(r=>r.isEqual(t))}class fh{constructor(t,r,a,c,g){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=c,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new Lo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Iv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Yp("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Iv extends fh{data(){return super.data()}}function Yp(u,t){return"string"==typeof t?Pd(u,t):t instanceof Sc?t._internalPath:t._delegate._internalPath}function Ev(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new We(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class Xu extends Zp{}function Ds(u,t,...r){let a=[];t instanceof Zp&&a.push(t),a=a.concat(r),function(g){const E=g.filter(B=>B instanceof Pf).length,x=g.filter(B=>B instanceof Ka).length;if(E>1||E>0&&x>0)throw new We(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const c of a)u=c._apply(u);return u}class Ka extends Xu{constructor(t,r,a){super(),this._field=t,this._op=r,this._value=a,this.type="where"}static _create(t,r,a){return new Ka(t,r,a)}_apply(t){const r=this._parse(t);return Dv(t._query,r),new oa(t.firestore,t.converter,ho(t._query,r))}_parse(t){const r=nd(t.firestore);return function(g,E,x,B,X,ye,je){let yt;if(X.isKeyField()){if("array-contains"===ye||"array-contains-any"===ye)throw new We(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ye}' queries on documentId().`);if("in"===ye||"not-in"===ye){wv(je,ye);const qt=[];for(const vn of je)qt.push(Nf(B,g,vn));yt={arrayValue:{values:qt}}}else yt=Nf(B,g,je)}else"in"!==ye&&"not-in"!==ye&&"array-contains-any"!==ye||wv(je,ye),yt=qp(x,"where",je,"in"===ye||"not-in"===ye);return xr.create(X,ye,yt)}(t._query,0,r,t.firestore._databaseId,this._field,this._op,this._value)}}class Pf extends Zp{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Pf(t,r)}_parse(t){const r=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:ri.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return 0===r.getFilters().length?t:(function(c,g){let E=c;const x=g.getFlattenedFilters();for(const B of x)Dv(E,B),E=ho(E,B)}(t._query,r),new oa(t.firestore,t.converter,ho(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cv extends Xu{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new Cv(t,r)}_apply(t){const r=function(c,g,E){if(null!==c.startAt)throw new We(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new We(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new la(g,E)}(t._query,this._field,this._direction);return new oa(t.firestore,t.converter,function(c,g){const E=c.explicitOrderBy.concat([g]);return new fs(c.path,c.collectionGroup,E,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t._query,r))}}class xf extends Xu{constructor(t,r,a){super(),this.type=t,this._limit=r,this._limitType=a}static _create(t,r,a){return new xf(t,r,a)}_apply(t){return new oa(t.firestore,t.converter,Ms(t._query,this._limit,this._limitType))}}class ph extends Xu{constructor(t,r,a){super(),this.type=t,this._docOrFields=r,this._inclusive=a}static _create(t,r,a){return new ph(t,r,a)}_apply(t){const r=eg(t,this.type,this._docOrFields,this._inclusive);return new oa(t.firestore,t.converter,(g=r,new fs((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,g,c.endAt)));var c,g}}class Rc extends Xu{constructor(t,r,a){super(),this.type=t,this._docOrFields=r,this._inclusive=a}static _create(t,r,a){return new Rc(t,r,a)}_apply(t){const r=eg(t,this.type,this._docOrFields,this._inclusive);return new oa(t.firestore,t.converter,(g=r,new fs((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,g)));var c,g}}function eg(u,t,r,a){if(r[0]=(0,ut.Ku)(r[0]),r[0]instanceof fh)return function(g,E,x,B,X){if(!B)throw new We(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const ye=[];for(const je of Fr(g))if(je.field.isKeyField())ye.push(Sr(E,B.key));else{const yt=B.data.field(je.field);if(ve(yt))throw new We(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+je.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===yt){const qt=je.field.canonicalString();throw new We(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${qt}' (used as the orderBy) does not exist.`)}ye.push(yt)}return new $r(ye,X)}(u._query,u.firestore._databaseId,t,r[0]._document,a);{const c=nd(u.firestore);return function(E,x,B,X,ye,je){const yt=E.explicitOrderBy;if(ye.length>yt.length)throw new We(xe.INVALID_ARGUMENT,`Too many arguments provided to ${X}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const qt=[];for(let vn=0;vn<ye.length;vn++){const Vn=ye[vn];if(yt[vn].field.isKeyField()){if("string"!=typeof Vn)throw new We(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${X}(), but got a ${typeof Vn}`);if(!Es(E)&&-1!==Vn.indexOf("/"))throw new We(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${X}() must be a plain document ID, but '${Vn}' contains a slash.`);const Pn=E.path.child(zn.fromString(Vn));if(!_n.isDocumentKey(Pn))throw new We(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${X}() must result in a valid document path, but '${Pn}' is not because it contains an odd number of segments.`);const vr=new _n(Pn);qt.push(Sr(x,vr))}else{const Pn=qp(B,X,Vn);qt.push(Pn)}}return new $r(qt,je)}(u._query,u.firestore._databaseId,c,t,r,a)}}function Nf(u,t,r){if("string"==typeof(r=(0,ut.Ku)(r))){if(""===r)throw new We(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Es(t)&&-1!==r.indexOf("/"))throw new We(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=t.path.child(zn.fromString(r));if(!_n.isDocumentKey(a))throw new We(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Sr(u,new _n(a))}if(r instanceof Lo)return Sr(u,r._key);throw new We(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hp(r)}.`)}function wv(u,t){if(!Array.isArray(u)||0===u.length)throw new We(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Dv(u,t){const r=function(c,g){for(const E of c)for(const x of E.getFlattenedFilters())if(g.indexOf(x.op)>=0)return x.op;return null}(u.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw new We(xe.INVALID_ARGUMENT,r===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class wm{convertValue(t,r="none"){switch(an(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Br(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(K(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 10:return this.convertObject(t.mapValue,r);default:throw en()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return Go(t,(c,g)=>{a[c]=this.convertValue(g,r)}),a}convertGeoPoint(t){return new Sf(Br(t.latitude),Br(t.longitude))}convertArray(t,r){return(t.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(t,r){switch(r){case"previous":const a=ke(t);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Je(t));default:return null}}convertTimestamp(t){const r=br(t);return new Bn(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=zn.fromString(t);rn(Sa(a));const c=new Et(a.get(1),a.get(3)),g=new _n(a.popFirst(5));return c.isEqual(r)||mn(`Document ${g} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),g}}function tg(u,t,r){let a;return a=u?r&&(r.merge||r.mergeFields)?u.toFirestore(t,r):u.toFirestore(t):t,a}class T0 extends wm{constructor(t){super(),this.firestore=t}convertBytes(t){return new qu(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Lo(this.firestore,null,r)}}class Nd{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wu extends fh{constructor(t,r,a,c,g,E){super(t,r,a,c,E),this._firestore=t,this._firestoreImpl=t,this.metadata=g}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(Yp("DocumentSnapshot.get",t));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class gh extends wu{data(t={}){return super.data(t)}}class cl{constructor(t,r,a,c){this._firestore=t,this._userDataWriter=r,this._snapshot=c,this.metadata=new Nd(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,r){this._snapshot.docs.forEach(a=>{t.call(r,new gh(this._firestore,this._userDataWriter,a.key,a,new Nd(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new We(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,g){if(c._snapshot.oldDocs.isEmpty()){let E=0;return c._snapshot.docChanges.map(x=>({type:"added",doc:new gh(c._firestore,c._userDataWriter,x.doc.key,x.doc,new Nd(c._snapshot.mutatedKeys.has(x.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:E++}))}{let E=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(x=>g||3!==x.type).map(x=>{const B=new gh(c._firestore,c._userDataWriter,x.doc.key,x.doc,new Nd(c._snapshot.mutatedKeys.has(x.doc.key),c._snapshot.fromCache),c.query.converter);let X=-1,ye=-1;return 0!==x.type&&(X=E.indexOf(x.doc.key),E=E.delete(x.doc.key)),1!==x.type&&(E=E.add(x.doc),ye=E.indexOf(x.doc.key)),{type:Rv(x.type),doc:B,oldIndex:X,newIndex:ye}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Rv(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function Dm(u,t){return u instanceof wu&&t instanceof wu?u._firestore===t._firestore&&u._key.isEqual(t._key)&&(null===u._document?null===t._document:u._document.isEqual(t._document))&&u._converter===t._converter:u instanceof cl&&t instanceof cl&&u._firestore===t._firestore&&Df(u.query,t.query)&&u.metadata.isEqual(t.metadata)&&u._snapshot.isEqual(t._snapshot)}class Od extends wm{constructor(t){super(),this.firestore=t}convertBytes(t){return new qu(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Lo(this.firestore,null,r)}}function og(u,t,r){u=xi(u,Lo);const a=xi(u.firestore,To),c=tg(u.converter,t,r);return Qu(a,[Kp(nd(a),"setDoc",u._key,c,null!==u.converter,r).toMutation(u._key,U.none())])}function Sm(u,t,r,...a){u=xi(u,Lo);const c=xi(u.firestore,To),g=nd(c);let E;return E="string"==typeof(t=(0,ut.Ku)(t))||t instanceof Sc?vv(g,"updateDoc",u._key,t,r,a):_v(g,"updateDoc",u._key,t),Qu(c,[E.toMutation(u._key,U.exists(!0))])}function Rm(u,...t){var r,a,c;u=(0,ut.Ku)(u);let g={includeMetadataChanges:!1,source:"default"},E=0;"object"!=typeof t[E]||sv(t[E])||(g=t[E],E++);const x={includeMetadataChanges:g.includeMetadataChanges,source:g.source};if(sv(t[E])){const je=t[E];t[E]=null===(r=je.next)||void 0===r?void 0:r.bind(je),t[E+1]=null===(a=je.error)||void 0===a?void 0:a.bind(je),t[E+2]=null===(c=je.complete)||void 0===c?void 0:c.bind(je)}let B,X,ye;if(u instanceof Lo)X=xi(u.firestore,To),ye=Qs(u._key.path),B={next:je=>{t[E]&&t[E](ag(X,u,je))},error:t[E+1],complete:t[E+2]};else{const je=xi(u,oa);X=xi(je.firestore,To),ye=je._query;const yt=new Od(X);B={next:qt=>{t[E]&&t[E](new cl(X,yt,je,qt))},error:t[E+1],complete:t[E+2]},Ev(u._query)}return function(yt,qt,vn,Vn){const Pn=new hm(Vn),vr=new ff(qt,Pn,vn);return yt.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return Dp(yield wc(yt),vr)})),()=>{Pn.$a(),yt.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return Jc(yield wc(yt),vr)}))}}(Jo(X),ye,x,B)}function Qu(u,t){return function(a,c){const g=new hn;return a.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return function _(u,t,r){return I.apply(this,arguments)}(yield pm(a),c,g)})),g.promise}(Jo(u),t)}function ag(u,t,r){const a=r.docs.get(t._key),c=new Od(u);return new wu(u,c,t._key,a,new Nd(r.hasPendingWrites,r.fromCache),t.converter)}const Vv={maxAttempts:5};class Lv{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=nd(t)}set(t,r,a){this._verifyNotCommitted();const c=Du(t,this._firestore),g=tg(c.converter,r,a),E=Kp(this._dataReader,"WriteBatch.set",c._key,g,null!==c.converter,a);return this._mutations.push(E.toMutation(c._key,U.none())),this}update(t,r,a,...c){this._verifyNotCommitted();const g=Du(t,this._firestore);let E;return E="string"==typeof(r=(0,ut.Ku)(r))||r instanceof Sc?vv(this._dataReader,"WriteBatch.update",g._key,r,a,c):_v(this._dataReader,"WriteBatch.update",g._key,r),this._mutations.push(E.toMutation(g._key,U.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=Du(t,this._firestore);return this._mutations=this._mutations.concat(new Sn(r._key,U.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new We(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Du(u,t){if((u=(0,ut.Ku)(u)).firestore!==t)throw new We(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class _h extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=nd(r)}get(r){const a=Du(r,this._firestore),c=new T0(this._firestore);return this._transaction.lookup([a._key]).then(g=>{if(!g||1!==g.length)return en();const E=g[0];if(E.isFoundDocument())return new fh(this._firestore,c,E.key,E,a.converter);if(E.isNoDocument())return new fh(this._firestore,c,a._key,null,a.converter);throw en()})}set(r,a,c){const g=Du(r,this._firestore),E=tg(g.converter,a,c),x=Kp(this._dataReader,"Transaction.set",g._key,E,null!==g.converter,c);return this._transaction.set(g._key,x),this}update(r,a,c,...g){const E=Du(r,this._firestore);let x;return x="string"==typeof(a=(0,ut.Ku)(a))||a instanceof Sc?vv(this._dataReader,"Transaction.update",E._key,a,c,g):_v(this._dataReader,"Transaction.update",E._key,a),this._transaction.update(E._key,x),this}delete(r){const a=Du(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=Du(t,this._firestore),a=new Od(this._firestore);return super.get(t).then(c=>new wu(this._firestore,a,r._key,c._document,new Nd(!1,!1),r.converter))}}function zv(u,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new We("invalid-argument",`Invalid options passed to function ${u}(): You cannot specify both "merge" and "mergeFields".`);return t}function ug(){if(typeof Uint8Array>"u")throw new We("unimplemented","Uint8Arrays are not available in this environment.")}function Fm(){if(!function V(){return typeof atob<"u"}())throw new We("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,r=!0){Ze=Fe.SDK_VERSION,(0,Fe._registerComponent)(new tt.uA("firestore",(a,{instanceIdentifier:c,options:g})=>{const E=a.getProvider("app").getImmediate(),x=new To(new Fn(a.getProvider("auth-internal")),new Ar(a.getProvider("app-check-internal")),function(X,ye){if(!Object.prototype.hasOwnProperty.apply(X.options,["projectId"]))throw new We(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Et(X.options.projectId,ye)}(E,c),E);return g=Object.assign({useFetchStreams:r},g),x._setSettings(g),x},"PUBLIC").setMultipleInstances(!0)),(0,Fe.registerVersion)($e,"4.6.3",t),(0,Fe.registerVersion)($e,"4.6.3","esm2017")}();class Ff{constructor(t){this._delegate=t}static fromBase64String(t){return Fm(),new Ff(qu.fromBase64String(t))}static fromUint8Array(t){return ug(),new Ff(qu.fromUint8Array(t))}toBase64(){return Fm(),this._delegate.toBase64()}toUint8Array(){return ug(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Vm(u){return function j0(u,t){if("object"!=typeof u||null===u)return!1;const r=u;for(const a of t)if(a in r&&"function"==typeof r[a])return!0;return!1}(u,["next","error","complete"])}class Gv{enableIndexedDbPersistence(t,r){return function lv(u,t){fv(u=xi(u,To));const r=Jo(u);if(r._uninitializedComponentsProvider)throw new We(xe.FAILED_PRECONDITION,"SDK cache is already specified.");Nn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=u._freezeSettings(),c=new sh;return uv(r,c,new kp(c,a.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(t){return function y0(u){fv(u=xi(u,To));const t=Jo(u);if(t._uninitializedComponentsProvider)throw new We(xe.FAILED_PRECONDITION,"SDK cache is already specified.");Nn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=u._freezeSettings(),a=new sh;return uv(t,a,new Fp(a,r.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function cv(u){if(u._initialized&&!u._terminated)throw new We(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new hn;return u._queue.enqueueAndForgetEvenWhileRestricted((0,Me.A)(function*(){try{yield(r=(0,Me.A)(function*(c){if(!Yn.D())return Promise.resolve();const g=c+"main";yield Yn.delete(g)}),function a(c){return r.apply(this,arguments)})(_c(u._databaseId,u._persistenceKey)),t.resolve()}catch(r){t.reject(r)}var r})),t.promise}(t._delegate)}}class Wv{constructor(t,r,a){this._delegate=r,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},t instanceof Et||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const r=this._delegate._getSettings();!t.merge&&r.host!==t.host&&Nn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},r),t)).merge,this._delegate._setSettings(t)}useEmulator(t,r,a={}){!function ch(u,t,r,a={}){var c;const g=(u=xi(u,Sl))._getSettings(),E=`${t}:${r}`;if("firestore.googleapis.com"!==g.host&&g.host!==E&&Nn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},g),{host:E,ssl:!1})),a.mockUserToken){let x,B;if("string"==typeof a.mockUserToken)x=a.mockUserToken,B=Re.MOCK_USER;else{x=(0,ut.Fy)(a.mockUserToken,null===(c=u._app)||void 0===c?void 0:c.options.projectId);const X=a.mockUserToken.sub||a.mockUserToken.user_id;if(!X)throw new We(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new Re(X)}u._authCredentials=new ar(new sr(x,B))}}(this._delegate,t,r,a)}enableNetwork(){return function dv(u){return function Y_(u){return u.asyncQueue.enqueue((0,Me.A)(function*(){const t=yield jp(u),r=yield Q_(u);return t.setNetworkEnabled(!0),function(c){const g=ze(c);return g.M_.delete(0),Ic(g)}(r)}))}(Jo(u=xi(u,To)))}(this._delegate)}disableNetwork(){return function ym(u){return function Z_(u){return u.asyncQueue.enqueue((0,Me.A)(function*(){const t=yield jp(u),r=yield Q_(u);return t.setNetworkEnabled(!1),(a=(0,Me.A)(function*(g){const E=ze(g);E.M_.add(0),yield bd(E),E.N_.set("Offline")}),function c(g){return a.apply(this,arguments)})(r);var a}))}(Jo(u=xi(u,To)))}(this._delegate)}enablePersistence(t){let r=!1,a=!1;return t&&(r=!!t.synchronizeTabs,a=!!t.experimentalForceOwningTab,rv("synchronizeTabs",r,"experimentalForceOwningTab",a)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Gp(u){return function(r){const a=new hn;return r.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return function ir(u,t){return Hn.apply(this,arguments)}(yield pm(r),a)})),a.promise}(Jo(u=xi(u,To)))}(this._delegate)}onSnapshotsInSync(t){return function Mm(u,t){return function f0(u,t){const r=new hm(t);return u.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return c=yield wc(u),g=r,ze(c).z_.add(g),void g.next();var c,g})),()=>{r.$a(),u.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return c=yield wc(u),g=r,void ze(c).z_.delete(g);var c,g}))}}(Jo(u=xi(u,To)),sv(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new We("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new rd(this,_0(this._delegate,t))}catch(r){throw qa(r,"collection()","Firestore.collection()")}}doc(t){try{return new Xl(this,_m(this._delegate,t))}catch(r){throw qa(r,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Na(this,function VE(u,t){if(u=xi(u,Sl),gm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new We(xe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oa(u,null,(a=t,new fs(zn.emptyPath(),a)));var a}(this._delegate,t))}catch(r){throw qa(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Pm(u,t,r){u=xi(u,To);const a=Object.assign(Object.assign({},Vv),r);return function(g){if(g.maxAttempts<1)throw new We(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(g,E,x){const B=new hn;return g.asyncQueue.enqueueAndForget((0,Me.A)(function*(){const X=yield function c0(u){return bf(u).then(t=>t.datastore)}(g);new Vp(g.asyncQueue,X,x,E,B).Xa()})),B.promise}(Jo(u),c=>t(new _h(u,c)),a)}(this._delegate,r=>t(new Kv(this,r)))}batch(){return Jo(this._delegate),new qv(new Lv(this._delegate,t=>Qu(this._delegate,t)))}loadBundle(t){return function Sd(u,t){const r=Jo(u=xi(u,To)),a=new av;return function p0(u,t,r,a){const c=function(E,x){let B;return B="string"==typeof E?kl().encode(E):E,ye=function(ye,je){if(ye instanceof Uint8Array)return l0(ye,void 0);if(ye instanceof ArrayBuffer)return l0(new Uint8Array(ye),void 0);if(ye instanceof ReadableStream)return ye.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(B),new Ef(ye,x);var ye}(r,yc(t));u.asyncQueue.enqueueAndForget((0,Me.A)(function*(){!function ul(u,t,r){const a=ze(u);var c;(c=(0,Me.A)(function*(E,x,B){try{const X=yield x.getMetadata();if(yield function(vn,Vn){const Pn=ze(vn),vr=Yi(Vn.createTime);return Pn.persistence.runTransaction("hasNewerBundle","readonly",Pr=>Pn.$r.getBundleMetadata(Pr,Vn.id)).then(Pr=>!!Pr&&Pr.createTime.compareTo(vr)>=0)}(E.localStore,X))return yield x.close(),B._completeWith({taskState:"Success",documentsLoaded:(vn=X).totalDocuments,bytesLoaded:vn.totalBytes,totalDocuments:vn.totalDocuments,totalBytes:vn.totalBytes}),Promise.resolve(new Set);B._updateProgress(lm(X));const ye=new am(X,E.localStore,x.serializer);let je=yield x.qa();for(;je;){const qt=yield ye._a(je);qt&&B._updateProgress(qt),je=yield x.qa()}const yt=yield ye.complete();return yield Zo(E,yt.ca,void 0),yield function(vn,Vn){const Pn=ze(vn);return Pn.persistence.runTransaction("Save bundle","readwrite",vr=>Pn.$r.saveBundleMetadata(vr,Vn))}(E.localStore,X),B._completeWith(yt.progress),Promise.resolve(yt.ua)}catch(X){return Nn("SyncEngine",`Loading bundle failed with ${X}`),B._failWith(X),Promise.resolve(new Set)}var vn}),function g(E,x,B){return c.apply(this,arguments)})(a,t,r).then(c=>{a.sharedClientState.notifyBundleLoaded(c)})}(yield pm(u),c,a)}))}(r,u._databaseId,t,a),a}(this._delegate,t)}namedQuery(t){return function hv(u,t){return function Dc(u,t){return u.asyncQueue.enqueue((0,Me.A)(function*(){return function(a,c){const g=ze(a);return g.persistence.runTransaction("Get named query","readonly",E=>g.$r.getNamedQuery(E,c))}(yield bu(u),t)}))}(Jo(u=xi(u,To)),t).then(r=>r?new oa(u,null,r.query):null)}(this._delegate,t).then(r=>r?new Na(this,r):null)}}class cg extends wm{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ff(new qu(t))}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return Xl.forKey(r,this.firestore,null)}}class Kv{constructor(t,r){this._firestore=t,this._delegate=r,this._userDataWriter=new cg(t)}get(t){const r=yh(t);return this._delegate.get(r).then(a=>new Vf(this._firestore,new wu(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,r.converter)))}set(t,r,a){const c=yh(t);return a?(zv("Transaction.set",a),this._delegate.set(c,r,a)):this._delegate.set(c,r),this}update(t,r,a,...c){const g=yh(t);return 2===arguments.length?this._delegate.update(g,r):this._delegate.update(g,r,a,...c),this}delete(t){const r=yh(t);return this._delegate.delete(r),this}}class qv{constructor(t){this._delegate=t}set(t,r,a){const c=yh(t);return a?(zv("WriteBatch.set",a),this._delegate.set(c,r,a)):this._delegate.set(c,r),this}update(t,r,a,...c){const g=yh(t);return 2===arguments.length?this._delegate.update(g,r):this._delegate.update(g,r,a,...c),this}delete(t){const r=yh(t);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class kd{constructor(t,r,a){this._firestore=t,this._userDataWriter=r,this._delegate=a}fromFirestore(t,r){const a=new gh(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Lf(this._firestore,a),null!=r?r:{})}toFirestore(t,r){return r?this._delegate.toFirestore(t,r):this._delegate.toFirestore(t)}static getInstance(t,r){const a=kd.INSTANCES;let c=a.get(t);c||(c=new WeakMap,a.set(t,c));let g=c.get(r);return g||(g=new kd(t,new cg(t),r),c.set(r,g)),g}}kd.INSTANCES=new WeakMap;class Xl{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new cg(t)}static forPath(t,r,a){if(t.length%2!=0)throw new We("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Xl(r,new Lo(r._delegate,a,new _n(t)))}static forKey(t,r,a){return new Xl(r,new Lo(r._delegate,a,t))}get id(){return this._delegate.id}get parent(){return new rd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new rd(this.firestore,_0(this._delegate,t))}catch(r){throw qa(r,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ut.Ku)(t))instanceof Lo&&zp(this._delegate,t)}set(t,r){r=zv("DocumentReference.set",r);try{return r?og(this._delegate,t,r):og(this._delegate,t)}catch(a){throw qa(a,"setDoc()","DocumentReference.set()")}}update(t,r,...a){try{return 1===arguments.length?Sm(this._delegate,t):Sm(this._delegate,t,r,...a)}catch(c){throw qa(c,"updateDoc()","DocumentReference.update()")}}delete(){return function sg(u){return Qu(xi(u.firestore,To),[new Sn(u._key,U.none())])}(this._delegate)}onSnapshot(...t){const r=Su(t),a=dg(t,c=>new Vf(this.firestore,new wu(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Rm(this._delegate,r,a)}get(t){let r;return r="cache"===(null==t?void 0:t.source)?function ig(u){u=xi(u,Lo);const t=xi(u.firestore,To),r=Jo(t),a=new Od(t);return function J_(u,t){const r=new hn;return u.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return(a=(0,Me.A)(function*(g,E,x){try{const B=yield function(ye,je){const yt=ze(ye);return yt.persistence.runTransaction("read document","readonly",qt=>yt.localDocuments.getDocument(qt,je))}(g,E);B.isFoundDocument()?x.resolve(B):B.isNoDocument()?x.resolve(null):x.reject(new We(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(B){const X=Ac(B,`Failed to get document '${E} from cache`);x.reject(X)}}),function c(g,E,x){return a.apply(this,arguments)})(yield bu(u),t,r);var a})),r.promise}(r,u._key).then(c=>new wu(t,a,u._key,c,new Nd(null!==c&&c.hasLocalMutations,!0),u.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function S0(u){u=xi(u,Lo);const t=xi(u.firestore,To);return td(Jo(t),u._key,{source:"server"}).then(r=>ag(t,u,r))}(this._delegate):function D0(u){u=xi(u,Lo);const t=xi(u.firestore,To);return td(Jo(t),u._key).then(r=>ag(t,u,r))}(this._delegate),r.then(a=>new Vf(this.firestore,new wu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(t){return new Xl(this.firestore,this._delegate.withConverter(t?kd.getInstance(this.firestore,t):null))}}function qa(u,t,r){return u.message=u.message.replace(t,r),u}function Su(u){for(const t of u)if("object"==typeof t&&!Vm(t))return t;return{}}function dg(u,t){var r,a;let c;return c=Vm(u[0])?u[0]:Vm(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]},{next:g=>{c.next&&c.next(t(g))},error:null===(r=c.error)||void 0===r?void 0:r.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}class Vf{constructor(t,r){this._firestore=t,this._delegate=r}get ref(){return new Xl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,r){return this._delegate.get(t,r)}isEqual(t){return Dm(this._delegate,t._delegate)}}class Lf extends Vf{data(t){const r=this._delegate.data(t);return this._delegate._converter||function tr(u,t){u||en()}(void 0!==r),r}}class Na{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new cg(t)}where(t,r,a){try{return new Na(this.firestore,Ds(this._delegate,function Av(u,t,r){const a=t,c=Yp("where",u);return Ka._create(c,a,r)}(t,r,a)))}catch(c){throw qa(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,r){try{return new Na(this.firestore,Ds(this._delegate,function bv(u,t="asc"){const r=t,a=Yp("orderBy",u);return Cv._create(a,r)}(t,r)))}catch(a){throw qa(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Na(this.firestore,Ds(this._delegate,function WE(u){return ov("limit",u),xf._create("limit",u,"F")}(t)))}catch(r){throw qa(r,"limit()","Query.limit()")}}limitToLast(t){try{return new Na(this.firestore,Ds(this._delegate,function Jp(u){return ov("limitToLast",u),xf._create("limitToLast",u,"L")}(t)))}catch(r){throw qa(r,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Na(this.firestore,Ds(this._delegate,function Cm(...u){return ph._create("startAt",u,!0)}(...t)))}catch(r){throw qa(r,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Na(this.firestore,Ds(this._delegate,function b0(...u){return ph._create("startAfter",u,!1)}(...t)))}catch(r){throw qa(r,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Na(this.firestore,Ds(this._delegate,function bm(...u){return Rc._create("endBefore",u,!1)}(...t)))}catch(r){throw qa(r,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Na(this.firestore,Ds(this._delegate,function Tv(...u){return Rc._create("endAt",u,!0)}(...t)))}catch(r){throw qa(r,"endAt()","Query.endAt()")}}isEqual(t){return Df(this._delegate,t._delegate)}get(t){let r;return r="cache"===(null==t?void 0:t.source)?function Pv(u){u=xi(u,oa);const t=xi(u.firestore,To),r=Jo(t),a=new Od(t);return function d0(u,t){const r=new hn;return u.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return(a=(0,Me.A)(function*(g,E,x){try{const B=yield $u(g,E,!0),X=new cm(E,B.hs),ye=X.da(B.documents),je=X.applyChanges(ye,!1);x.resolve(je.snapshot)}catch(B){const X=Ac(B,`Failed to execute query '${E} against cache`);x.reject(X)}}),function c(g,E,x){return a.apply(this,arguments)})(yield bu(u),t,r);var a})),r.promise}(r,u._query).then(c=>new cl(t,a,u,c))}(this._delegate):"server"===(null==t?void 0:t.source)?function xv(u){u=xi(u,oa);const t=xi(u.firestore,To),r=Jo(t),a=new Od(t);return ev(r,u._query,{source:"server"}).then(c=>new cl(t,a,u,c))}(this._delegate):function Mv(u){u=xi(u,oa);const t=xi(u.firestore,To),r=Jo(t),a=new Od(t);return Ev(u._query),ev(r,u._query).then(c=>new cl(t,a,u,c))}(this._delegate),r.then(a=>new vh(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...t){const r=Su(t),a=dg(t,c=>new vh(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Rm(this._delegate,r,a)}withConverter(t){return new Na(this.firestore,this._delegate.withConverter(t?kd.getInstance(this.firestore,t):null))}}class Xv{constructor(t,r){this._firestore=t,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Lf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vh{constructor(t,r){this._firestore=t,this._delegate=r}get query(){return new Na(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Lf(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(r=>new Xv(this._firestore,r))}forEach(t,r){this._delegate.forEach(a=>{t.call(r,new Lf(this._firestore,a))})}isEqual(t){return Dm(this._delegate,t._delegate)}}class rd extends Na{constructor(t,r){super(t,r),this.firestore=t,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Xl(this.firestore,t):null}doc(t){try{return new Xl(this.firestore,void 0===t?_m(this._delegate):_m(this._delegate,t))}catch(r){throw qa(r,"doc()","CollectionReference.doc()")}}add(t){return function Of(u,t){const r=xi(u.firestore,To),a=_m(u),c=tg(u.converter,t);return Qu(r,[Kp(nd(u.firestore),"addDoc",a._key,c,null!==u.converter,{}).toMutation(a._key,U.exists(!1))]).then(()=>a)}(this._delegate,t).then(r=>new Xl(this.firestore,r))}isEqual(t){return zp(this._delegate,t._delegate)}withConverter(t){return new rd(this.firestore,this._delegate.withConverter(t?kd.getInstance(this.firestore,t):null))}}function yh(u){return xi(u,Lo)}class hg{constructor(...t){this._delegate=new Sc(...t)}static documentId(){return new hg(_r.keyField().canonicalString())}isEqual(t){return(t=(0,ut.Ku)(t))instanceof Sc&&this._delegate._internalPath.isEqual(t._internalPath)}}class id{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Uv(){return new Im("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new id(t)}static delete(){const t=function kf(){return new Rf("deleteField")}();return t._methodName="FieldValue.delete",new id(t)}static arrayUnion(...t){const r=function xm(...u){return new Em("arrayUnion",u)}(...t);return r._methodName="FieldValue.arrayUnion",new id(r)}static arrayRemove(...t){const r=function Nm(...u){return new Am("arrayRemove",u)}(...t);return r._methodName="FieldValue.arrayRemove",new id(r)}static increment(t){const r=function Om(u){return new Mf("increment",u)}(t);return r._methodName="FieldValue.increment",new id(r)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Qv={Firestore:Wv,GeoPoint:Sf,Timestamp:Bn,Blob:Ff,Transaction:Kv,WriteBatch:qv,DocumentReference:Xl,DocumentSnapshot:Vf,Query:Na,QueryDocumentSnapshot:Lf,QuerySnapshot:vh,CollectionReference:rd,FieldPath:hg,FieldValue:id,setLogLevel:function Lm(u){!function jt(u){dt.setLogLevel(u)}(u)},CACHE_SIZE_UNLIMITED:-1};function Yv(u,t){return function H0(u,t=me.E){return new et.c(r=>{let a;return null!=t?t.schedule(()=>{a=u.onSnapshot({includeMetadataChanges:!0},r)}):a=u.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=a&&a()}})}(u,t)}function $m(u,t){return Yv(u,t).pipe((0,ct.T)(r=>({payload:r,type:"query"})))}!function Um(u){(function fg(u,t){u.INTERNAL.registerComponent(new tt.uA("firestore-compat",r=>{const a=r.getProvider("app-compat").getImmediate(),c=r.getProvider("firestore").getImmediate();return t(a,c)},"PUBLIC").setServiceProps(Object.assign({},Qv)))})(u,(t,r)=>new Wv(t,r,new Gv)),u.registerVersion("@firebase/firestore-compat","0.3.32")}(It.A),L(7935);class Ih{constructor(t,r){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"afs",void 0),this.ref=t,this.afs=r}set(t,r){return this.ref.set(t,r)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,r){const a=this.ref.collection(t),{ref:c,query:g}=Hf(a,r);return new Hm(c,g,this.afs)}snapshotChanges(){return function Bm(u,t){return Yv(u,t).pipe((0,De.Z)(void 0),nt(),(0,ct.T)(r=>{const[a,c]=r;return c.exists?null!=a&&a.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(de.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ct.T)(({payload:r})=>t.idField?{...r.data(),[t.idField]:r.id}:r.data()))}get(t){return(0,at.H)(this.ref.get(t)).pipe(de.U0)}}function Uf(u,t){return $m(u,t).pipe((0,De.Z)(void 0),nt(),(0,ct.T)(r=>{const[a,c]=r,g=c.payload.docChanges(),E=g.map(x=>({type:x.type,payload:x}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((x,B)=>{const X=g.find(je=>je.doc.ref.isEqual(x.ref)),ye=null==a?void 0:a.payload.docs.find(je=>je.ref.isEqual(x.ref));X&&JSON.stringify(X.doc.metadata)===JSON.stringify(x.metadata)||!X&&ye&&JSON.stringify(ye.metadata)===JSON.stringify(x.metadata)||E.push({type:"modified",payload:{oldIndex:B,newIndex:B,type:"modified",doc:x}})}),E}))}function Fd(u,t,r){return Uf(u,r).pipe((0,Ct.S)((a,c)=>function Bf(u,t,r){return t.forEach(a=>{r.indexOf(a.type)>-1&&(u=function jf(u,t){switch(t.type){case"added":if(!u[t.newIndex]||!u[t.newIndex].doc.ref.isEqual(t.doc.ref))return $f(u,t.newIndex,0,t);break;case"modified":if(null==u[t.oldIndex]||u[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const r=u.slice();return r.splice(t.oldIndex,1),r.splice(t.newIndex,0,t),r}return $f(u,t.newIndex,1,t)}break;case"removed":if(u[t.oldIndex]&&u[t.oldIndex].doc.ref.isEqual(t.doc.ref))return $f(u,t.oldIndex,1)}return u}(u,a))}),u}(a,c.map(g=>g.payload),t),[]),(0,_t.F)(),(0,ct.T)(a=>a.map(c=>({type:c.type,payload:c}))))}function $f(u,t,r,...a){const c=u.slice();return c.splice(t,r,...a),c}function jm(u){return(!u||0===u.length)&&(u=["added","removed","modified"]),u}class Hm{constructor(t,r,a){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.ref=t,this.query=r,this.afs=a}stateChanges(t){let r=Uf(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(r=r.pipe((0,ct.T)(a=>a.filter(c=>t.indexOf(c.type)>-1)))),r.pipe((0,De.Z)(void 0),nt(),(0,mt.p)(([a,c])=>c.length>0||!a),(0,ct.T)(([,a])=>a),de.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Ct.S)((r,a)=>[...r,...a],[]))}snapshotChanges(t){const r=jm(t);return Fd(this.query,r,this.afs.schedulers.outsideAngular).pipe(de.U0)}valueChanges(t={}){return $m(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(r=>r.payload.docs.map(a=>t.idField?{...a.data(),[t.idField]:a.id}:a.data())),de.U0)}get(t){return(0,at.H)(this.query.get(t)).pipe(de.U0)}add(t){return this.ref.add(t)}doc(t){return new Ih(this.ref.doc(t),this.afs)}}class z0{constructor(t,r){(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.query=t,this.afs=r}stateChanges(t){return t&&0!==t.length?Uf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(r=>r.filter(a=>t.indexOf(a.type)>-1)),(0,mt.p)(r=>r.length>0),de.U0):Uf(this.query,this.afs.schedulers.outsideAngular).pipe(de.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Ct.S)((r,a)=>[...r,...a],[]))}snapshotChanges(t){const r=jm(t);return Fd(this.query,r,this.afs.schedulers.outsideAngular).pipe(de.U0)}valueChanges(t={}){return $m(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(a=>a.payload.docs.map(c=>t.idField?{[t.idField]:c.id,...c.data()}:c.data())),de.U0)}get(t){return(0,at.H)(this.query.get(t)).pipe(de.U0)}}const G0=new k.nKC("angularfire2.enableFirestorePersistence"),W0=new k.nKC("angularfire2.firestore.persistenceSettings"),K0=new k.nKC("angularfire2.firestore.settings"),Zv=new k.nKC("angularfire2.firestore.use-emulator");function Hf(u,t=(r=>r)){return{query:t(u),ref:u}}let q0=(()=>{var u;class t{constructor(a,c,g,E,x,B,X,ye,je,yt,qt,vn,Vn,Pn,vr,Pr,Er){(0,d.A)(this,"schedulers",void 0),(0,d.A)(this,"firestore",void 0),(0,d.A)(this,"persistenceEnabled$",void 0),this.schedulers=X;const Yr=(0,ae.iB)(a,B,c),Hi=je;yt&&(0,Qe.gF)(Yr,B,qt,Vn,Pn,vr,vn,Pr),[this.firestore,this.persistenceEnabled$]=(0,ae.BM)(`${Yr.name}.firestore`,"AngularFirestore",Yr.name,()=>{const ii=B.runOutsideAngular(()=>Yr.firestore());if(E&&ii.settings(E),Hi&&ii.useEmulator(...Hi),g&&!(0,s.Vy)(x)){const Ft=()=>{try{return(0,at.H)(ii.enablePersistence(ye||void 0).then(()=>!0,()=>!1))}catch(lt){return typeof console<"u"&&console.warn(lt),(0,Le.of)(!1)}};return[ii,B.runOutsideAngular(Ft)]}return[ii,(0,Le.of)(!1)]},[E,Hi,g])}collection(a,c){let g;g="string"==typeof a?this.firestore.collection(a):a;const{ref:E,query:x}=Hf(g,c),B=this.schedulers.ngZone.run(()=>E);return new Hm(B,x,this)}collectionGroup(a,c){const g=c||(x=>x),E=this.firestore.collectionGroup(a);return new z0(g(E),this)}doc(a){let c;c="string"==typeof a?this.firestore.doc(a):a;const g=this.schedulers.ngZone.run(()=>c);return new Ih(g,this)}createId(){return this.firestore.collection("_").doc().id}}return u=t,(0,d.A)(t,"\u0275fac",function(a){return new(a||u)(k.KVO(ae.rx),k.KVO(ae.uP,8),k.KVO(G0,8),k.KVO(K0,8),k.KVO(k.Agw),k.KVO(k.SKi),k.KVO(de.u0),k.KVO(W0,8),k.KVO(Zv,8),k.KVO(Qe.DS,8),k.KVO(Qe.CP,8),k.KVO(Qe.yy,8),k.KVO(Qe.ZP,8),k.KVO(Qe.$z,8),k.KVO(Qe.AU,8),k.KVO(Qe.UB,8),k.KVO(de.Jv,8))}),(0,d.A)(t,"\u0275prov",k.jDH({token:u,factory:u.\u0275fac,providedIn:"any"})),t})()},9253:(xn,St,L)=>{"use strict";L.d(St,{BM:()=>ct,Gt:()=>Qe,bf:()=>nt,e7:()=>me,iB:()=>De,rx:()=>at,uP:()=>Le});var d=L(9842),s=L(4438),k=L(5407),de=L(7935);const ae=["ngOnDestroy"],Qe=(Nt,It,Me,Fe={})=>new Proxy(Nt,{get:(tt,Ye)=>Me.runOutsideAngular(()=>{var ut;if(Nt[Ye])return null!=Fe&&null!==(ut=Fe.spy)&&void 0!==ut&&ut.get&&Fe.spy.get(Ye,Nt[Ye]),Nt[Ye];if(ae.indexOf(Ye)>-1)return()=>{};const Ht=It.toPromise().then(he=>{const He=null==he?void 0:he[Ye];return"function"==typeof He?He.bind(he):null!=He&&He.then?He.then(Tt=>Me.run(()=>Tt)):Me.run(()=>He)});return new Proxy(()=>{},{get:(he,He)=>Ht[He],apply:(he,He,Tt)=>Ht.then(dn=>{var An;const nn=null==dn?void 0:dn(...Tt);return null!=Fe&&null!==(An=Fe.spy)&&void 0!==An&&An.apply&&Fe.spy.apply(Ye,Tt,nn),nn})})})}),me=(Nt,It)=>{It.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(Fe=>{Object.defineProperty(Nt.prototype,Fe,Object.getOwnPropertyDescriptor(Me.prototype||Me,Fe))})})};class et{constructor(It){return It}}const at=new s.nKC("angularfire2.app.options"),Le=new s.nKC("angularfire2.app.name");function De(Nt,It,Me){const tt="object"==typeof Me&&Me||{};tt.name=tt.name||"string"==typeof Me&&Me||"[DEFAULT]";const ut=de.A.apps.filter(Ht=>Ht&&Ht.name===tt.name)[0]||It.runOutsideAngular(()=>de.A.initializeApp(Nt,tt));try{if(JSON.stringify(Nt)!==JSON.stringify(ut.options)){const Ht=!!module.hot;it("error",`${ut.name} Firebase App already initialized with different options${Ht?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new et(ut)}const it=(Nt,...It)=>{(0,s.naY)()&&typeof console<"u"&&console[Nt](...It)},ot={provide:et,useFactory:De,deps:[at,s.SKi,[new s.Xx1,Le]]};let nt=(()=>{var Nt;class It{static initializeApp(Fe,tt){return{ngModule:It,providers:[{provide:at,useValue:Fe},{provide:Le,useValue:tt}]}}constructor(Fe){de.A.registerVersion("angularfire",k.xv.full,"core"),de.A.registerVersion("angularfire",k.xv.full,"app-compat"),de.A.registerVersion("angular",s.xvI.full,Fe.toString())}}return Nt=It,(0,d.A)(It,"\u0275fac",function(Fe){return new(Fe||Nt)(s.KVO(s.Agw))}),(0,d.A)(It,"\u0275mod",s.$C({type:Nt})),(0,d.A)(It,"\u0275inj",s.G2t({providers:[ot]})),It})();function ct(Nt,It,Me,Fe,tt){const[,Ye,ut]=globalThis.\u0275AngularfireInstanceCache.find(Ht=>Ht[0]===Nt)||[];if(Ye)return function Ct(Nt,It){try{return Nt.toString()===It.toString()}catch{return Nt===It}}(tt,ut)||(mt("error",`${It} was already initialized on the ${Me} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),mt("warn",{is:tt,was:ut})),Ye;{const Ht=Fe();return globalThis.\u0275AngularfireInstanceCache.push([Nt,Ht,tt]),Ht}}const _t=typeof module<"u"&&!!module.hot,mt=(Nt,...It)=>{(0,s.naY)()&&typeof console<"u"&&console[Nt](...It)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(xn,St,L)=>{"use strict";L.d(St,{xv:()=>ct,U0:()=>dn,Oe:()=>He,u0:()=>Ye,Jv:()=>Nt,CA:()=>mt,lR:()=>_t,S3:()=>Rn});var d=L(9842),s=L(4438),k=L(2214),de=L(6780),Qe=L(9687);const et=new class me extends Qe.q{}(class ae extends de.R{constructor(Ve,te){super(Ve,te),this.scheduler=Ve,this.work=te}schedule(Ve,te=0){return te>0?super.schedule(Ve,te):(this.delay=te,this.state=Ve,this.scheduler.flush(this),this)}execute(Ve,te){return te>0||this.closed?super.execute(Ve,te):this._execute(Ve,te)}requestAsyncId(Ve,te,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(Ve,te,ne):(Ve.flush(this),0)}});var Le=L(3236),De=L(1985),it=L(8141),ot=L(941),nt=L(6745);const ct=new s.RxE("ANGULARFIRE2_VERSION");function _t(Mt,Ve,te){if(Ve){if(1===Ve.length)return Ve[0];const Ke=Ve.filter(Oe=>Oe.app===te);if(1===Ke.length)return Ke[0]}return te.container.getProvider(Mt).getImmediate({optional:!0})}const mt=(Mt,Ve)=>{const te=Ve?[Ve]:(0,k.Dk)(),ne=[];return te.forEach(ge=>{ge.container.getProvider(Mt).instances.forEach(Oe=>{ne.includes(Oe)||ne.push(Oe)})}),ne};class Nt{constructor(){return mt(It)}}const It="app-check";function Me(){}class Fe{constructor(Ve,te=et){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"delegate",void 0),this.zone=Ve,this.delegate=te}now(){return this.delegate.now()}schedule(Ve,te,ne){const ge=this.zone;return this.delegate.schedule(function(Oe){ge.runGuarded(()=>{Ve.apply(this,[Oe])})},te,ne)}}class tt{constructor(Ve){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"task",null),this.zone=Ve}call(Ve,te){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Me,{},Me,Me)),te.pipe((0,it.M)({next:ne,complete:ne,error:ne})).subscribe(Ve).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ye=(()=>{var Mt;class Ve{constructor(ne){(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"outsideAngular",void 0),(0,d.A)(this,"insideAngular",void 0),this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new Fe(Zone.current)),this.insideAngular=ne.run(()=>new Fe(Zone.current,Le.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Mt=Ve,(0,d.A)(Ve,"\u0275fac",function(ne){return new(ne||Mt)(s.KVO(s.SKi))}),(0,d.A)(Ve,"\u0275prov",s.jDH({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})),Ve})();function ut(){const Mt=globalThis.\u0275AngularFireScheduler;if(!Mt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Mt}function he(Mt){return ut().ngZone.run(()=>Mt())}function He(Mt){return Mt.pipe((0,ot.Q)(ut().outsideAngular))}function dn(Mt){return function An(Mt){return function(te){return(te=te.lift(new tt(Mt.ngZone))).pipe((0,nt._)(Mt.outsideAngular),(0,ot.Q)(Mt.insideAngular))}}(ut())(Mt)}const nn=(Mt,Ve)=>function(){const ne=arguments;return Ve&&setTimeout(()=>{"scheduled"===Ve.state&&Ve.invoke()},10),he(()=>Mt.apply(void 0,ne))},Rn=(Mt,Ve)=>function(){let te;const ne=arguments;for(let Ke=0;Ke<arguments.length;Ke++)"function"==typeof ne[Ke]&&(Ve&&(te||(te=he(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Me,{},Me,Me)))),ne[Ke]=nn(ne[Ke],te));const ge=function Ht(Mt){return ut().ngZone.runOutsideAngular(()=>Mt())}(()=>Mt.apply(this,ne));if(!Ve){if(ge instanceof De.c){const Ke=ut();return ge.pipe((0,nt._)(Ke.outsideAngular),(0,ot.Q)(Ke.insideAngular))}return he(()=>ge)}return ge instanceof De.c?ge.pipe(dn):ge instanceof Promise?he(()=>new Promise((Ke,Oe)=>ge.then($e=>he(()=>Ke($e)),$e=>he(()=>Oe($e))))):"function"==typeof ge&&te?function(){return setTimeout(()=>{te&&"scheduled"===te.state&&te.invoke()},10),ge.apply(this,arguments)}:he(()=>ge)}},4341:(xn,St,L)=>{"use strict";L.d(St,{me:()=>Me,Dg:()=>Ro,ok:()=>hl,JD:()=>Je,j4:()=>Ce,YN:()=>Za,zX:()=>io,VZ:()=>ss,cz:()=>Ye,kq:()=>ct,vO:()=>We,BC:()=>ar,cb:()=>Fn,cV:()=>Li,vS:()=>Jn,X1:()=>fl,YS:()=>qs,k0:()=>he,qT:()=>li});var d=L(4438),s=L(177),k=L(8455),de=L(1985),ae=L(3073),Qe=L(8750),me=L(3794),et=L(4360),at=L(6450),Le=L(8496),it=L(6354);let ot=(()=>{var q;class ${constructor(W,_e){this._renderer=W,this._elementRef=_e,this.onChange=fn=>{},this.onTouched=()=>{}}setProperty(W,_e){this._renderer.setProperty(this._elementRef.nativeElement,W,_e)}registerOnTouched(W){this.onTouched=W}registerOnChange(W){this.onChange=W}setDisabledState(W){this.setProperty("disabled",W)}}return(q=$).\u0275fac=function(W){return new(W||q)(d.rXU(d.sFG),d.rXU(d.aKT))},q.\u0275dir=d.FsC({type:q}),$})(),nt=(()=>{var q;class $ extends ot{}return(q=$).\u0275fac=(()=>{let Te;return function(_e){return(Te||(Te=d.xGo(q)))(_e||q)}})(),q.\u0275dir=d.FsC({type:q,features:[d.Vt3]}),$})();const ct=new d.nKC(""),mt={provide:ct,useExisting:(0,d.Rfq)(()=>Me),multi:!0},It=new d.nKC("");let Me=(()=>{var q;class $ extends ot{constructor(W,_e,fn){super(W,_e),this._compositionMode=fn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Nt(){const q=(0,s.QT)()?(0,s.QT)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(W){this.setProperty("value",null==W?"":W)}_handleInput(W){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(W)}_compositionStart(){this._composing=!0}_compositionEnd(W){this._composing=!1,this._compositionMode&&this.onChange(W)}}return(q=$).\u0275fac=function(W){return new(W||q)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(It,8))},q.\u0275dir=d.FsC({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(W,_e){1&W&&d.bIt("input",function(Un){return _e._handleInput(Un.target.value)})("blur",function(){return _e.onTouched()})("compositionstart",function(){return _e._compositionStart()})("compositionend",function(Un){return _e._compositionEnd(Un.target.value)})},features:[d.Jv_([mt]),d.Vt3]}),$})();function Fe(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function tt(q){return null!=q&&"number"==typeof q.length}const Ye=new d.nKC(""),ut=new d.nKC(""),Ht=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class he{static min($){return He($)}static max($){return Tt($)}static required($){return dn($)}static requiredTrue($){return function An(q){return!0===q.value?null:{required:!0}}($)}static email($){return nn($)}static minLength($){return function Rn(q){return $=>Fe($.value)||!tt($.value)?null:$.value.length<q?{minlength:{requiredLength:q,actualLength:$.value.length}}:null}($)}static maxLength($){return function Mt(q){return $=>tt($.value)&&$.value.length>q?{maxlength:{requiredLength:q,actualLength:$.value.length}}:null}($)}static pattern($){return function Ve(q){if(!q)return te;let $,Te;return"string"==typeof q?(Te="","^"!==q.charAt(0)&&(Te+="^"),Te+=q,"$"!==q.charAt(q.length-1)&&(Te+="$"),$=new RegExp(Te)):(Te=q.toString(),$=q),W=>{if(Fe(W.value))return null;const _e=W.value;return $.test(_e)?null:{pattern:{requiredPattern:Te,actualValue:_e}}}}($)}static nullValidator($){return null}static compose($){return Ze($)}static composeAsync($){return Ot($)}}function He(q){return $=>{if(Fe($.value)||Fe(q))return null;const Te=parseFloat($.value);return!isNaN(Te)&&Te<q?{min:{min:q,actual:$.value}}:null}}function Tt(q){return $=>{if(Fe($.value)||Fe(q))return null;const Te=parseFloat($.value);return!isNaN(Te)&&Te>q?{max:{max:q,actual:$.value}}:null}}function dn(q){return Fe(q.value)?{required:!0}:null}function nn(q){return Fe(q.value)||Ht.test(q.value)?null:{email:!0}}function te(q){return null}function ne(q){return null!=q}function ge(q){return(0,d.jNT)(q)?(0,k.H)(q):q}function Ke(q){let $={};return q.forEach(Te=>{$=null!=Te?{...$,...Te}:$}),0===Object.keys($).length?null:$}function Oe(q,$){return $.map(Te=>Te(q))}function Re(q){return q.map($=>function $e(q){return!q.validate}($)?$:Te=>$.validate(Te))}function Ze(q){if(!q)return null;const $=q.filter(ne);return 0==$.length?null:function(Te){return Ke(Oe(Te,$))}}function dt(q){return null!=q?Ze(Re(q)):null}function Ot(q){if(!q)return null;const $=q.filter(ne);return 0==$.length?null:function(Te){return function De(...q){const $=(0,me.ms)(q),{args:Te,keys:W}=(0,ae.D)(q),_e=new de.c(fn=>{const{length:Un}=Te;if(!Un)return void fn.complete();const Cr=new Array(Un);let co=Un,Fo=Un;for(let Wo=0;Wo<Un;Wo++){let da=!1;(0,Qe.Tg)(Te[Wo]).subscribe((0,et._)(fn,ba=>{da||(da=!0,Fo--),Cr[Wo]=ba},()=>co--,void 0,()=>{(!co||!da)&&(Fo||fn.next(W?(0,Le.e)(W,Cr):Cr),fn.complete())}))}});return $?_e.pipe((0,at.I)($)):_e}(Oe(Te,$).map(ge)).pipe((0,it.T)(Ke))}}function jt(q){return null!=q?Ot(Re(q)):null}function Pt(q,$){return null===q?[$]:Array.isArray(q)?[...q,$]:[q,$]}function mn(q){return q._rawValidators}function Nn(q){return q._rawAsyncValidators}function $n(q){return q?Array.isArray(q)?q:[q]:[]}function en(q,$){return Array.isArray(q)?q.includes($):q===$}function rn(q,$){const Te=$n($);return $n(q).forEach(_e=>{en(Te,_e)||Te.push(_e)}),Te}function tr(q,$){return $n($).filter(Te=>!en(q,Te))}class ze{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=dt(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($=void 0){this.control&&this.control.reset($)}hasError($,Te){return!!this.control&&this.control.hasError($,Te)}getError($,Te){return this.control?this.control.getError($,Te):null}}class xe extends ze{get formDirective(){return null}get path(){return null}}class We extends ze{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hn{constructor($){this._cd=$}get isTouched(){var $;return!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.touched)}get isUntouched(){var $;return!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.untouched)}get isPristine(){var $;return!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.pristine)}get isDirty(){var $;return!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.dirty)}get isValid(){var $;return!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.valid)}get isInvalid(){var $;return!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.invalid)}get isPending(){var $;return!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.pending)}get isSubmitted(){var $;return!(null===($=this._cd)||void 0===$||!$.submitted)}}let ar=(()=>{var q;class $ extends hn{constructor(W){super(W)}}return(q=$).\u0275fac=function(W){return new(W||q)(d.rXU(We,2))},q.\u0275dir=d.FsC({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(W,_e){2&W&&d.AVh("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)},features:[d.Vt3]}),$})(),Fn=(()=>{var q;class $ extends hn{constructor(W){super(W)}}return(q=$).\u0275fac=function(W){return new(W||q)(d.rXU(xe,10))},q.\u0275dir=d.FsC({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(W,_e){2&W&&d.AVh("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)("ng-submitted",_e.isSubmitted)},features:[d.Vt3]}),$})();const ft="VALID",ht="INVALID",Vt="PENDING",pt="DISABLED";function ce(q){return(ue(q)?q.validators:q)||null}function se(q,$){return(ue($)?$.asyncValidators:q)||null}function ue(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function gt(q,$,Te){const W=q.controls;if(!($?Object.keys(W):W).length)throw new d.wOt(1e3,"");if(!W[Te])throw new d.wOt(1001,"")}function Qt(q,$,Te){q._forEachChild((W,_e)=>{if(void 0===Te[_e])throw new d.wOt(1002,"")})}class Dn{constructor($,Te){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators($),this._assignAsyncValidators(Te)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===ft}get invalid(){return this.status===ht}get pending(){return this.status==Vt}get disabled(){return this.status===pt}get enabled(){return this.status!==pt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._assignValidators($)}setAsyncValidators($){this._assignAsyncValidators($)}addValidators($){this.setValidators(rn($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(rn($,this._rawAsyncValidators))}removeValidators($){this.setValidators(tr($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(tr($,this._rawAsyncValidators))}hasValidator($){return en(this._rawValidators,$)}hasAsyncValidator($){return en(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Te=>{Te.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Te=>{Te.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=Vt,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const Te=this._parentMarkedDirty($.onlySelf);this.status=pt,this.errors=null,this._forEachChild(W=>{W.disable({...$,onlySelf:!0})}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...$,skipPristineCheck:Te}),this._onDisabledChange.forEach(W=>W(!0))}enable($={}){const Te=this._parentMarkedDirty($.onlySelf);this.status=ft,this._forEachChild(W=>{W.enable({...$,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors({...$,skipPristineCheck:Te}),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}getRawValue(){return this.value}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ft||this.status===Vt)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(Te=>Te._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pt:ft}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=Vt,this._hasOwnPendingAsyncValidator=!0;const Te=ge(this.asyncValidator(this));this._asyncValidationSubscription=Te.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,Te={}){this.errors=$,this._updateControlsErrors(!1!==Te.emitEvent)}get($){let Te=$;return null==Te||(Array.isArray(Te)||(Te=Te.split(".")),0===Te.length)?null:Te.reduce((W,_e)=>W&&W._find(_e),this)}getError($,Te){const W=Te?this.get(Te):this;return W&&W.errors?W.errors[$]:null}hasError($,Te){return!!this.getError($,Te)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?pt:this.errors?ht:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vt)?Vt:this._anyControlsHaveStatus(ht)?ht:ft}_anyControlsHaveStatus($){return this._anyControls(Te=>Te.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){ue($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find($){return null}_assignValidators($){this._rawValidators=Array.isArray($)?$.slice():$,this._composedValidatorFn=function Ae(q){return Array.isArray(q)?dt(q):q||null}(this._rawValidators)}_assignAsyncValidators($){this._rawAsyncValidators=Array.isArray($)?$.slice():$,this._composedAsyncValidatorFn=function Ie(q){return Array.isArray(q)?jt(q):q||null}(this._rawAsyncValidators)}}class Wn extends Dn{constructor($,Te,W){super(ce(Te),se(W,Te)),this.controls=$,this._initObservables(),this._setUpdateStrategy(Te),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,Te){return this.controls[$]?this.controls[$]:(this.controls[$]=Te,Te.setParent(this),Te._registerOnCollectionChange(this._onCollectionChange),Te)}addControl($,Te,W={}){this.registerControl($,Te),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl($,Te={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}setControl($,Te,W={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],Te&&this.registerControl($,Te),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,Te={}){Qt(this,0,$),Object.keys($).forEach(W=>{gt(this,!0,W),this.controls[W].setValue($[W],{onlySelf:!0,emitEvent:Te.emitEvent})}),this.updateValueAndValidity(Te)}patchValue($,Te={}){null!=$&&(Object.keys($).forEach(W=>{const _e=this.controls[W];_e&&_e.patchValue($[W],{onlySelf:!0,emitEvent:Te.emitEvent})}),this.updateValueAndValidity(Te))}reset($={},Te={}){this._forEachChild((W,_e)=>{W.reset($?$[_e]:null,{onlySelf:!0,emitEvent:Te.emitEvent})}),this._updatePristine(Te),this._updateTouched(Te),this.updateValueAndValidity(Te)}getRawValue(){return this._reduceChildren({},($,Te,W)=>($[W]=Te.getRawValue(),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(Te,W)=>!!W._syncPendingControls()||Te);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(Te=>{const W=this.controls[Te];W&&$(W,Te)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const[Te,W]of Object.entries(this.controls))if(this.contains(Te)&&$(W))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Te,W,_e)=>((W.enabled||this.disabled)&&(Te[_e]=W.value),Te))}_reduceChildren($,Te){let W=$;return this._forEachChild((_e,fn)=>{W=Te(W,_e,fn)}),W}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find($){return this.controls.hasOwnProperty($)?this.controls[$]:null}}class wn extends Wn{}const mi=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ei}),Ei="always";function vo(q,$){return[...$.path,q]}function Ti(q,$,Te=Ei){var W,_e;no(q,$),$.valueAccessor.writeValue(q.value),(q.disabled||"always"===Te)&&(null===(W=(_e=$.valueAccessor).setDisabledState)||void 0===W||W.call(_e,q.disabled)),function ie(q,$){$.valueAccessor.registerOnChange(Te=>{q._pendingValue=Te,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Ge(q,$)})}(q,$),function le(q,$){const Te=(W,_e)=>{$.valueAccessor.writeValue(W),_e&&$.viewToModelUpdate(W)};q.registerOnChange(Te),$._registerOnDestroy(()=>{q._unregisterOnChange(Te)})}(q,$),function ee(q,$){$.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Ge(q,$),"submit"!==q.updateOn&&q.markAsTouched()})}(q,$),function Gi(q,$){if($.valueAccessor.setDisabledState){const Te=W=>{$.valueAccessor.setDisabledState(W)};q.registerOnDisabledChange(Te),$._registerOnDestroy(()=>{q._unregisterOnDisabledChange(Te)})}}(q,$)}function Hr(q,$,Te=!0){const W=()=>{};$.valueAccessor&&($.valueAccessor.registerOnChange(W),$.valueAccessor.registerOnTouched(W)),Wt(q,$),q&&($._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function Fi(q,$){q.forEach(Te=>{Te.registerOnValidatorChange&&Te.registerOnValidatorChange($)})}function no(q,$){const Te=mn(q);null!==$.validator?q.setValidators(Pt(Te,$.validator)):"function"==typeof Te&&q.setValidators([Te]);const W=Nn(q);null!==$.asyncValidator?q.setAsyncValidators(Pt(W,$.asyncValidator)):"function"==typeof W&&q.setAsyncValidators([W]);const _e=()=>q.updateValueAndValidity();Fi($._rawValidators,_e),Fi($._rawAsyncValidators,_e)}function Wt(q,$){let Te=!1;if(null!==q){if(null!==$.validator){const _e=mn(q);if(Array.isArray(_e)&&_e.length>0){const fn=_e.filter(Un=>Un!==$.validator);fn.length!==_e.length&&(Te=!0,q.setValidators(fn))}}if(null!==$.asyncValidator){const _e=Nn(q);if(Array.isArray(_e)&&_e.length>0){const fn=_e.filter(Un=>Un!==$.asyncValidator);fn.length!==_e.length&&(Te=!0,q.setAsyncValidators(fn))}}}const W=()=>{};return Fi($._rawValidators,W),Fi($._rawAsyncValidators,W),Te}function Ge(q,$){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function re(q,$){no(q,$)}function Vi(q,$){if(!q.hasOwnProperty("model"))return!1;const Te=q.model;return!!Te.isFirstChange()||!Object.is($,Te.currentValue)}function Wi(q,$){q._syncPendingControls(),$.forEach(Te=>{const W=Te.control;"submit"===W.updateOn&&W._pendingChange&&(Te.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}function gr(q,$){if(!$)return null;let Te,W,_e;return Array.isArray($),$.forEach(fn=>{fn.constructor===Me?Te=fn:function Ji(q){return Object.getPrototypeOf(q.constructor)===nt}(fn)?W=fn:_e=fn}),_e||W||Te||null}const eo={provide:xe,useExisting:(0,d.Rfq)(()=>Li)},ai=Promise.resolve();let Li=(()=>{var q;class $ extends xe{constructor(W,_e,fn){super(),this.callSetDisabledState=fn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new Wn({},dt(W),jt(_e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(W){ai.then(()=>{const _e=this._findContainer(W.path);W.control=_e.registerControl(W.name,W.control),Ti(W.control,W,this.callSetDisabledState),W.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(W)})}getControl(W){return this.form.get(W.path)}removeControl(W){ai.then(()=>{const _e=this._findContainer(W.path);_e&&_e.removeControl(W.name),this._directives.delete(W)})}addFormGroup(W){ai.then(()=>{const _e=this._findContainer(W.path),fn=new Wn({});re(fn,W),_e.registerControl(W.name,fn),fn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(W){ai.then(()=>{const _e=this._findContainer(W.path);_e&&_e.removeControl(W.name)})}getFormGroup(W){return this.form.get(W.path)}updateModel(W,_e){ai.then(()=>{this.form.get(W.path).setValue(_e)})}setValue(W){this.control.setValue(W)}onSubmit(W){var _e;return this.submitted=!0,Wi(this.form,this._directives),this.ngSubmit.emit(W),"dialog"===(null==W||null===(_e=W.target)||void 0===_e?void 0:_e.method)}onReset(){this.resetForm()}resetForm(W=void 0){this.form.reset(W),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(W){return W.pop(),W.length?this.form.get(W):this.form}}return(q=$).\u0275fac=function(W){return new(W||q)(d.rXU(Ye,10),d.rXU(ut,10),d.rXU(mi,8))},q.\u0275dir=d.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(W,_e){1&W&&d.bIt("submit",function(Un){return _e.onSubmit(Un)})("reset",function(){return _e.onReset()})},inputs:{options:[d.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([eo]),d.Vt3]}),$})();function Oo(q,$){const Te=q.indexOf($);Te>-1&&q.splice(Te,1)}function jo(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Ho=class extends Dn{constructor($=null,Te,W){super(ce(Te),se(W,Te)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(Te),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ue(Te)&&(Te.nonNullable||Te.initialValueIsDefault)&&(this.defaultValue=jo($)?$.value:$)}setValue($,Te={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==Te.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==Te.emitViewToModelChange)),this.updateValueAndValidity(Te)}patchValue($,Te={}){this.setValue($,Te)}reset($=this.defaultValue,Te={}){this._applyFormState($),this.markAsPristine(Te),this.markAsUntouched(Te),this.setValue(this.value,Te),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){Oo(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){Oo(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){jo($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}},Gs={provide:We,useExisting:(0,d.Rfq)(()=>Jn)},is=Promise.resolve();let Jn=(()=>{var q;class $ extends We{constructor(W,_e,fn,Un,Cr,co){super(),this._changeDetectorRef=Cr,this.callSetDisabledState=co,this.control=new Ho,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=W,this._setValidators(_e),this._setAsyncValidators(fn),this.valueAccessor=gr(0,Un)}ngOnChanges(W){if(this._checkForErrors(),!this._registered||"name"in W){if(this._registered&&(this._checkName(),this.formDirective)){const _e=W.name.previousValue;this.formDirective.removeControl({name:_e,path:this._getPath(_e)})}this._setUpControl()}"isDisabled"in W&&this._updateDisabled(W),Vi(W,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ti(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(W){is.then(()=>{var _e;this.control.setValue(W,{emitViewToModelChange:!1}),null===(_e=this._changeDetectorRef)||void 0===_e||_e.markForCheck()})}_updateDisabled(W){const _e=W.isDisabled.currentValue,fn=0!==_e&&(0,d.L39)(_e);is.then(()=>{var Un;fn&&!this.control.disabled?this.control.disable():!fn&&this.control.disabled&&this.control.enable(),null===(Un=this._changeDetectorRef)||void 0===Un||Un.markForCheck()})}_getPath(W){return this._parent?vo(W,this._parent):[W]}}return(q=$).\u0275fac=function(W){return new(W||q)(d.rXU(xe,9),d.rXU(Ye,10),d.rXU(ut,10),d.rXU(ct,10),d.rXU(d.gRc,8),d.rXU(mi,8))},q.\u0275dir=d.FsC({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[d.Mj6.None,"disabled","isDisabled"],model:[d.Mj6.None,"ngModel","model"],options:[d.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([Gs]),d.Vt3,d.OA$]}),$})(),li=(()=>{var q;class ${}return(q=$).\u0275fac=function(W){return new(W||q)},q.\u0275dir=d.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})();const N=new d.nKC(""),V={provide:xe,useExisting:(0,d.Rfq)(()=>Ce)};let Ce=(()=>{var q;class $ extends xe{constructor(W,_e,fn){super(),this.callSetDisabledState=fn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(W),this._setAsyncValidators(_e)}ngOnChanges(W){this._checkFormPresent(),W.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(W){const _e=this.form.get(W.path);return Ti(_e,W,this.callSetDisabledState),_e.updateValueAndValidity({emitEvent:!1}),this.directives.push(W),_e}getControl(W){return this.form.get(W.path)}removeControl(W){Hr(W.control||null,W,!1),function ki(q,$){const Te=q.indexOf($);Te>-1&&q.splice(Te,1)}(this.directives,W)}addFormGroup(W){this._setUpFormContainer(W)}removeFormGroup(W){this._cleanUpFormContainer(W)}getFormGroup(W){return this.form.get(W.path)}addFormArray(W){this._setUpFormContainer(W)}removeFormArray(W){this._cleanUpFormContainer(W)}getFormArray(W){return this.form.get(W.path)}updateModel(W,_e){this.form.get(W.path).setValue(_e)}onSubmit(W){var _e;return this.submitted=!0,Wi(this.form,this.directives),this.ngSubmit.emit(W),"dialog"===(null==W||null===(_e=W.target)||void 0===_e?void 0:_e.method)}onReset(){this.resetForm()}resetForm(W=void 0){this.form.reset(W),this.submitted=!1}_updateDomValue(){this.directives.forEach(W=>{const _e=W.control,fn=this.form.get(W.path);_e!==fn&&(Hr(_e||null,W),(q=>q instanceof Ho)(fn)&&(Ti(fn,W,this.callSetDisabledState),W.control=fn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(W){const _e=this.form.get(W.path);re(_e,W),_e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(W){if(this.form){const _e=this.form.get(W.path);_e&&function Ue(q,$){return Wt(q,$)}(_e,W)&&_e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){no(this.form,this),this._oldForm&&Wt(this._oldForm,this)}_checkFormPresent(){}}return(q=$).\u0275fac=function(W){return new(W||q)(d.rXU(Ye,10),d.rXU(ut,10),d.rXU(mi,8))},q.\u0275dir=d.FsC({type:q,selectors:[["","formGroup",""]],hostBindings:function(W,_e){1&W&&d.bIt("submit",function(Un){return _e.onSubmit(Un)})("reset",function(){return _e.onReset()})},inputs:{form:[d.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([V]),d.Vt3,d.OA$]}),$})();const ke={provide:We,useExisting:(0,d.Rfq)(()=>Je)};let Je=(()=>{var q;class $ extends We{set isDisabled(W){}constructor(W,_e,fn,Un,Cr){super(),this._ngModelWarningConfig=Cr,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=W,this._setValidators(_e),this._setAsyncValidators(fn),this.valueAccessor=gr(0,Un)}ngOnChanges(W){this._added||this._setUpControl(),Vi(W,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(W){this.viewModel=W,this.update.emit(W)}get path(){return vo(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(q=$)._ngModelWarningSentOnce=!1,q.\u0275fac=function(W){return new(W||q)(d.rXU(xe,13),d.rXU(Ye,10),d.rXU(ut,10),d.rXU(ct,10),d.rXU(N,8))},q.\u0275dir=d.FsC({type:q,selectors:[["","formControlName",""]],inputs:{name:[d.Mj6.None,"formControlName","name"],isDisabled:[d.Mj6.None,"disabled","isDisabled"],model:[d.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([ke]),d.Vt3,d.OA$]}),$})();function Sr(q){return"number"==typeof q?q:parseFloat(q)}let Zr=(()=>{var q;class ${constructor(){this._validator=te}ngOnChanges(W){if(this.inputName in W){const _e=this.normalizeInput(W[this.inputName].currentValue);this._enabled=this.enabled(_e),this._validator=this._enabled?this.createValidator(_e):te,this._onChange&&this._onChange()}}validate(W){return this._validator(W)}registerOnValidatorChange(W){this._onChange=W}enabled(W){return null!=W}}return(q=$).\u0275fac=function(W){return new(W||q)},q.\u0275dir=d.FsC({type:q,features:[d.OA$]}),$})();const Ai={provide:Ye,useExisting:(0,d.Rfq)(()=>io),multi:!0};let io=(()=>{var q;class $ extends Zr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=W=>Sr(W),this.createValidator=W=>Tt(W)}}return(q=$).\u0275fac=(()=>{let Te;return function(_e){return(Te||(Te=d.xGo(q)))(_e||q)}})(),q.\u0275dir=d.FsC({type:q,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(W,_e){2&W&&d.BMQ("max",_e._enabled?_e.max:null)},inputs:{max:"max"},features:[d.Jv_([Ai]),d.Vt3]}),$})();const os={provide:Ye,useExisting:(0,d.Rfq)(()=>ss),multi:!0};let ss=(()=>{var q;class $ extends Zr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=W=>Sr(W),this.createValidator=W=>He(W)}}return(q=$).\u0275fac=(()=>{let Te;return function(_e){return(Te||(Te=d.xGo(q)))(_e||q)}})(),q.\u0275dir=d.FsC({type:q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(W,_e){2&W&&d.BMQ("min",_e._enabled?_e.min:null)},inputs:{min:"min"},features:[d.Jv_([os]),d.Vt3]}),$})();const Do={provide:Ye,useExisting:(0,d.Rfq)(()=>qs),multi:!0};let qs=(()=>{var q;class $ extends Zr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=W=>dn}enabled(W){return W}}return(q=$).\u0275fac=(()=>{let Te;return function(_e){return(Te||(Te=d.xGo(q)))(_e||q)}})(),q.\u0275dir=d.FsC({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(W,_e){2&W&&d.BMQ("required",_e._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([Do]),d.Vt3]}),$})();const Xs={provide:Ye,useExisting:(0,d.Rfq)(()=>Ro),multi:!0};let Ro=(()=>{var q;class $ extends Zr{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=d.L39,this.createValidator=W=>nn}enabled(W){return W}}return(q=$).\u0275fac=(()=>{let Te;return function(_e){return(Te||(Te=d.xGo(q)))(_e||q)}})(),q.\u0275dir=d.FsC({type:q,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[d.Jv_([Xs]),d.Vt3]}),$})(),xr=(()=>{var q;class ${}return(q=$).\u0275fac=function(W){return new(W||q)},q.\u0275mod=d.$C({type:q}),q.\u0275inj=d.G2t({}),$})();class ri extends Dn{constructor($,Te,W){super(ce(Te),se(W,Te)),this.controls=$,this._initObservables(),this._setUpdateStrategy(Te),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($){return this.controls[this._adjustIndex($)]}push($,Te={}){this.controls.push($),this._registerControl($),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}insert($,Te,W={}){this.controls.splice($,0,Te),this._registerControl(Te),this.updateValueAndValidity({emitEvent:W.emitEvent})}removeAt($,Te={}){let W=this._adjustIndex($);W<0&&(W=0),this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),this.controls.splice(W,1),this.updateValueAndValidity({emitEvent:Te.emitEvent})}setControl($,Te,W={}){let _e=this._adjustIndex($);_e<0&&(_e=0),this.controls[_e]&&this.controls[_e]._registerOnCollectionChange(()=>{}),this.controls.splice(_e,1),Te&&(this.controls.splice(_e,0,Te),this._registerControl(Te)),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($,Te={}){Qt(this,0,$),$.forEach((W,_e)=>{gt(this,!1,_e),this.at(_e).setValue(W,{onlySelf:!0,emitEvent:Te.emitEvent})}),this.updateValueAndValidity(Te)}patchValue($,Te={}){null!=$&&($.forEach((W,_e)=>{this.at(_e)&&this.at(_e).patchValue(W,{onlySelf:!0,emitEvent:Te.emitEvent})}),this.updateValueAndValidity(Te))}reset($=[],Te={}){this._forEachChild((W,_e)=>{W.reset($[_e],{onlySelf:!0,emitEvent:Te.emitEvent})}),this._updatePristine(Te),this._updateTouched(Te),this.updateValueAndValidity(Te)}getRawValue(){return this.controls.map($=>$.getRawValue())}clear($={}){this.controls.length<1||(this._forEachChild(Te=>Te._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$.emitEvent}))}_adjustIndex($){return $<0?$+this.length:$}_syncPendingControls(){let $=this.controls.reduce((Te,W)=>!!W._syncPendingControls()||Te,!1);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){this.controls.forEach((Te,W)=>{$(Te,W)})}_updateValue(){this.value=this.controls.filter($=>$.enabled||this.disabled).map($=>$.value)}_anyControls($){return this.controls.some(Te=>Te.enabled&&$(Te))}_setUpControls(){this._forEachChild($=>this._registerControl($))}_allControlsDisabled(){for(const $ of this.controls)if($.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($){$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)}_find($){var Te;return null!==(Te=this.at($))&&void 0!==Te?Te:null}}function ko(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let hl=(()=>{var q;class ${constructor(){this.useNonNullable=!1}get nonNullable(){const W=new $;return W.useNonNullable=!0,W}group(W,_e=null){const fn=this._reduceControls(W);let Un={};return ko(_e)?Un=_e:null!==_e&&(Un.validators=_e.validator,Un.asyncValidators=_e.asyncValidator),new Wn(fn,Un)}record(W,_e=null){const fn=this._reduceControls(W);return new wn(fn,_e)}control(W,_e,fn){let Un={};return this.useNonNullable?(ko(_e)?Un=_e:(Un.validators=_e,Un.asyncValidators=fn),new Ho(W,{...Un,nonNullable:!0})):new Ho(W,_e,fn)}array(W,_e,fn){const Un=W.map(Cr=>this._createControl(Cr));return new ri(Un,_e,fn)}_reduceControls(W){const _e={};return Object.keys(W).forEach(fn=>{_e[fn]=this._createControl(W[fn])}),_e}_createControl(W){return W instanceof Ho||W instanceof Dn?W:Array.isArray(W)?this.control(W[0],W.length>1?W[1]:null,W.length>2?W[2]:null):this.control(W)}}return(q=$).\u0275fac=function(W){return new(W||q)},q.\u0275prov=d.jDH({token:q,factory:q.\u0275fac,providedIn:"root"}),$})(),Za=(()=>{var q;class ${static withConfig(W){var _e;return{ngModule:$,providers:[{provide:mi,useValue:null!==(_e=W.callSetDisabledState)&&void 0!==_e?_e:Ei}]}}}return(q=$).\u0275fac=function(W){return new(W||q)},q.\u0275mod=d.$C({type:q}),q.\u0275inj=d.G2t({imports:[xr]}),$})(),fl=(()=>{var q;class ${static withConfig(W){var _e,fn;return{ngModule:$,providers:[{provide:N,useValue:null!==(_e=W.warnOnNgModelWithFormControl)&&void 0!==_e?_e:"always"},{provide:mi,useValue:null!==(fn=W.callSetDisabledState)&&void 0!==fn?fn:Ei}]}}}return(q=$).\u0275fac=function(W){return new(W||q)},q.\u0275mod=d.$C({type:q}),q.\u0275inj=d.G2t({imports:[xr]}),$})()},345:(xn,St,L)=>{"use strict";L.d(St,{B7:()=>ut,Bb:()=>$n,hE:()=>tr,sG:()=>jt,up:()=>qr});var d=L(4438),s=L(177);class k extends s.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class de extends k{static makeCurrent(){(0,s.ZD)(new de)}onAndCancel(ht,Vt,pt){return ht.addEventListener(Vt,pt),()=>{ht.removeEventListener(Vt,pt)}}dispatchEvent(ht,Vt){ht.dispatchEvent(Vt)}remove(ht){ht.parentNode&&ht.parentNode.removeChild(ht)}createElement(ht,Vt){return(Vt=Vt||this.getDefaultDocument()).createElement(ht)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ht){return ht.nodeType===Node.ELEMENT_NODE}isShadowRoot(ht){return ht instanceof DocumentFragment}getGlobalEventTarget(ht,Vt){return"window"===Vt?window:"document"===Vt?ht:"body"===Vt?ht.body:null}getBaseHref(ht){const Vt=function Qe(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==Vt?null:function me(ft){return new URL(ft,document.baseURI).pathname}(Vt)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(ht){return(0,s._b)(document.cookie,ht)}}let ae=null,at=(()=>{var ft;class ht{build(){return new XMLHttpRequest}}return(ft=ht).\u0275fac=function(pt){return new(pt||ft)},ft.\u0275prov=d.jDH({token:ft,factory:ft.\u0275fac}),ht})();const Le=new d.nKC("");let De=(()=>{var ft;class ht{constructor(pt,ce){this._zone=ce,this._eventNameToPlugin=new Map,pt.forEach(Ae=>{Ae.manager=this}),this._plugins=pt.slice().reverse()}addEventListener(pt,ce,Ae){return this._findPluginFor(ce).addEventListener(pt,ce,Ae)}getZone(){return this._zone}_findPluginFor(pt){let ce=this._eventNameToPlugin.get(pt);if(ce)return ce;if(ce=this._plugins.find(se=>se.supports(pt)),!ce)throw new d.wOt(5101,!1);return this._eventNameToPlugin.set(pt,ce),ce}}return(ft=ht).\u0275fac=function(pt){return new(pt||ft)(d.KVO(Le),d.KVO(d.SKi))},ft.\u0275prov=d.jDH({token:ft,factory:ft.\u0275fac}),ht})();class it{constructor(ht){this._doc=ht}}const ot="ng-app-id";let nt=(()=>{var ft;class ht{constructor(pt,ce,Ae,se={}){this.doc=pt,this.appId=ce,this.nonce=Ae,this.platformId=se,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,s.Vy)(se),this.resetHostNodes()}addStyles(pt){for(const ce of pt)1===this.changeUsageCount(ce,1)&&this.onStyleAdded(ce)}removeStyles(pt){for(const ce of pt)this.changeUsageCount(ce,-1)<=0&&this.onStyleRemoved(ce)}ngOnDestroy(){const pt=this.styleNodesInDOM;pt&&(pt.forEach(ce=>ce.remove()),pt.clear());for(const ce of this.getAllStyles())this.onStyleRemoved(ce);this.resetHostNodes()}addHost(pt){this.hostNodes.add(pt);for(const ce of this.getAllStyles())this.addStyleToHost(pt,ce)}removeHost(pt){this.hostNodes.delete(pt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(pt){for(const ce of this.hostNodes)this.addStyleToHost(ce,pt)}onStyleRemoved(pt){var ce;const Ae=this.styleRef;null===(ce=Ae.get(pt))||void 0===ce||null===(ce=ce.elements)||void 0===ce||ce.forEach(se=>se.remove()),Ae.delete(pt)}collectServerRenderedStyles(){var pt;const ce=null===(pt=this.doc.head)||void 0===pt?void 0:pt.querySelectorAll(`style[${ot}="${this.appId}"]`);if(null!=ce&&ce.length){const Ae=new Map;return ce.forEach(se=>{null!=se.textContent&&Ae.set(se.textContent,se)}),Ae}return null}changeUsageCount(pt,ce){const Ae=this.styleRef;if(Ae.has(pt)){const se=Ae.get(pt);return se.usage+=ce,se.usage}return Ae.set(pt,{usage:ce,elements:[]}),ce}getStyleElement(pt,ce){const Ae=this.styleNodesInDOM,se=null==Ae?void 0:Ae.get(ce);if((null==se?void 0:se.parentNode)===pt)return Ae.delete(ce),se.removeAttribute(ot),se;{const Ie=this.doc.createElement("style");return this.nonce&&Ie.setAttribute("nonce",this.nonce),Ie.textContent=ce,this.platformIsServer&&Ie.setAttribute(ot,this.appId),pt.appendChild(Ie),Ie}}addStyleToHost(pt,ce){var Ae;const se=this.getStyleElement(pt,ce),Ie=this.styleRef,ue=null===(Ae=Ie.get(ce))||void 0===Ae?void 0:Ae.elements;ue?ue.push(se):Ie.set(ce,{elements:[se],usage:1})}resetHostNodes(){const pt=this.hostNodes;pt.clear(),pt.add(this.doc.head)}}return(ft=ht).\u0275fac=function(pt){return new(pt||ft)(d.KVO(s.qQ),d.KVO(d.sZ2),d.KVO(d.BIS,8),d.KVO(d.Agw))},ft.\u0275prov=d.jDH({token:ft,factory:ft.\u0275fac}),ht})();const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ct=/%COMP%/g,Me=new d.nKC("",{providedIn:"root",factory:()=>!0});function Ye(ft,ht){return ht.map(Vt=>Vt.replace(Ct,ft))}let ut=(()=>{var ft;class ht{constructor(pt,ce,Ae,se,Ie,ue,gt,Qt=null){this.eventManager=pt,this.sharedStylesHost=ce,this.appId=Ae,this.removeStylesOnCompDestroy=se,this.doc=Ie,this.platformId=ue,this.ngZone=gt,this.nonce=Qt,this.rendererByCompId=new Map,this.platformIsServer=(0,s.Vy)(ue),this.defaultRenderer=new Ht(pt,Ie,gt,this.platformIsServer)}createRenderer(pt,ce){if(!pt||!ce)return this.defaultRenderer;this.platformIsServer&&ce.encapsulation===d.gXe.ShadowDom&&(ce={...ce,encapsulation:d.gXe.Emulated});const Ae=this.getOrCreateRenderer(pt,ce);return Ae instanceof nn?Ae.applyToHost(pt):Ae instanceof An&&Ae.applyStyles(),Ae}getOrCreateRenderer(pt,ce){const Ae=this.rendererByCompId;let se=Ae.get(ce.id);if(!se){const Ie=this.doc,ue=this.ngZone,gt=this.eventManager,Qt=this.sharedStylesHost,Dn=this.removeStylesOnCompDestroy,Wn=this.platformIsServer;switch(ce.encapsulation){case d.gXe.Emulated:se=new nn(gt,Qt,ce,this.appId,Dn,Ie,ue,Wn);break;case d.gXe.ShadowDom:return new dn(gt,Qt,pt,ce,Ie,ue,this.nonce,Wn);default:se=new An(gt,Qt,ce,Dn,Ie,ue,Wn)}Ae.set(ce.id,se)}return se}ngOnDestroy(){this.rendererByCompId.clear()}}return(ft=ht).\u0275fac=function(pt){return new(pt||ft)(d.KVO(De),d.KVO(nt),d.KVO(d.sZ2),d.KVO(Me),d.KVO(s.qQ),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(d.BIS))},ft.\u0275prov=d.jDH({token:ft,factory:ft.\u0275fac}),ht})();class Ht{constructor(ht,Vt,pt,ce){this.eventManager=ht,this.doc=Vt,this.ngZone=pt,this.platformIsServer=ce,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ht,Vt){return Vt?this.doc.createElementNS(ct[Vt]||Vt,ht):this.doc.createElement(ht)}createComment(ht){return this.doc.createComment(ht)}createText(ht){return this.doc.createTextNode(ht)}appendChild(ht,Vt){(Tt(ht)?ht.content:ht).appendChild(Vt)}insertBefore(ht,Vt,pt){ht&&(Tt(ht)?ht.content:ht).insertBefore(Vt,pt)}removeChild(ht,Vt){ht&&ht.removeChild(Vt)}selectRootElement(ht,Vt){let pt="string"==typeof ht?this.doc.querySelector(ht):ht;if(!pt)throw new d.wOt(-5104,!1);return Vt||(pt.textContent=""),pt}parentNode(ht){return ht.parentNode}nextSibling(ht){return ht.nextSibling}setAttribute(ht,Vt,pt,ce){if(ce){Vt=ce+":"+Vt;const Ae=ct[ce];Ae?ht.setAttributeNS(Ae,Vt,pt):ht.setAttribute(Vt,pt)}else ht.setAttribute(Vt,pt)}removeAttribute(ht,Vt,pt){if(pt){const ce=ct[pt];ce?ht.removeAttributeNS(ce,Vt):ht.removeAttribute(`${pt}:${Vt}`)}else ht.removeAttribute(Vt)}addClass(ht,Vt){ht.classList.add(Vt)}removeClass(ht,Vt){ht.classList.remove(Vt)}setStyle(ht,Vt,pt,ce){ce&(d.czy.DashCase|d.czy.Important)?ht.style.setProperty(Vt,pt,ce&d.czy.Important?"important":""):ht.style[Vt]=pt}removeStyle(ht,Vt,pt){pt&d.czy.DashCase?ht.style.removeProperty(Vt):ht.style[Vt]=""}setProperty(ht,Vt,pt){null!=ht&&(ht[Vt]=pt)}setValue(ht,Vt){ht.nodeValue=Vt}listen(ht,Vt,pt){if("string"==typeof ht&&!(ht=(0,s.QT)().getGlobalEventTarget(this.doc,ht)))throw new Error(`Unsupported event target ${ht} for event ${Vt}`);return this.eventManager.addEventListener(ht,Vt,this.decoratePreventDefault(pt))}decoratePreventDefault(ht){return Vt=>{if("__ngUnwrap__"===Vt)return ht;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ht(Vt)):ht(Vt))&&Vt.preventDefault()}}}function Tt(ft){return"TEMPLATE"===ft.tagName&&void 0!==ft.content}class dn extends Ht{constructor(ht,Vt,pt,ce,Ae,se,Ie,ue){super(ht,Ae,se,ue),this.sharedStylesHost=Vt,this.hostEl=pt,this.shadowRoot=pt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const gt=Ye(ce.id,ce.styles);for(const Qt of gt){const Dn=document.createElement("style");Ie&&Dn.setAttribute("nonce",Ie),Dn.textContent=Qt,this.shadowRoot.appendChild(Dn)}}nodeOrShadowRoot(ht){return ht===this.hostEl?this.shadowRoot:ht}appendChild(ht,Vt){return super.appendChild(this.nodeOrShadowRoot(ht),Vt)}insertBefore(ht,Vt,pt){return super.insertBefore(this.nodeOrShadowRoot(ht),Vt,pt)}removeChild(ht,Vt){return super.removeChild(this.nodeOrShadowRoot(ht),Vt)}parentNode(ht){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ht)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class An extends Ht{constructor(ht,Vt,pt,ce,Ae,se,Ie,ue){super(ht,Ae,se,Ie),this.sharedStylesHost=Vt,this.removeStylesOnCompDestroy=ce,this.styles=ue?Ye(ue,pt.styles):pt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nn extends An{constructor(ht,Vt,pt,ce,Ae,se,Ie,ue){const gt=ce+"-"+pt.id;super(ht,Vt,pt,Ae,se,Ie,ue,gt),this.contentAttr=function Fe(ft){return"_ngcontent-%COMP%".replace(Ct,ft)}(gt),this.hostAttr=function tt(ft){return"_nghost-%COMP%".replace(Ct,ft)}(gt)}applyToHost(ht){this.applyStyles(),this.setAttribute(ht,this.hostAttr,"")}createElement(ht,Vt){const pt=super.createElement(ht,Vt);return super.setAttribute(pt,this.contentAttr,""),pt}}let Rn=(()=>{var ft;class ht extends it{constructor(pt){super(pt)}supports(pt){return!0}addEventListener(pt,ce,Ae){return pt.addEventListener(ce,Ae,!1),()=>this.removeEventListener(pt,ce,Ae)}removeEventListener(pt,ce,Ae){return pt.removeEventListener(ce,Ae)}}return(ft=ht).\u0275fac=function(pt){return new(pt||ft)(d.KVO(s.qQ))},ft.\u0275prov=d.jDH({token:ft,factory:ft.\u0275fac}),ht})();const Mt=["alt","control","meta","shift"],Ve={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},te={alt:ft=>ft.altKey,control:ft=>ft.ctrlKey,meta:ft=>ft.metaKey,shift:ft=>ft.shiftKey};let ne=(()=>{var ft;class ht extends it{constructor(pt){super(pt)}supports(pt){return null!=ht.parseEventName(pt)}addEventListener(pt,ce,Ae){const se=ht.parseEventName(ce),Ie=ht.eventCallback(se.fullKey,Ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,s.QT)().onAndCancel(pt,se.domEventName,Ie))}static parseEventName(pt){const ce=pt.toLowerCase().split("."),Ae=ce.shift();if(0===ce.length||"keydown"!==Ae&&"keyup"!==Ae)return null;const se=ht._normalizeKey(ce.pop());let Ie="",ue=ce.indexOf("code");if(ue>-1&&(ce.splice(ue,1),Ie="code."),Mt.forEach(Qt=>{const Dn=ce.indexOf(Qt);Dn>-1&&(ce.splice(Dn,1),Ie+=Qt+".")}),Ie+=se,0!=ce.length||0===se.length)return null;const gt={};return gt.domEventName=Ae,gt.fullKey=Ie,gt}static matchEventFullKeyCode(pt,ce){let Ae=Ve[pt.key]||pt.key,se="";return ce.indexOf("code.")>-1&&(Ae=pt.code,se="code."),!(null==Ae||!Ae)&&(Ae=Ae.toLowerCase()," "===Ae?Ae="space":"."===Ae&&(Ae="dot"),Mt.forEach(Ie=>{Ie!==Ae&&(0,te[Ie])(pt)&&(se+=Ie+".")}),se+=Ae,se===ce)}static eventCallback(pt,ce,Ae){return se=>{ht.matchEventFullKeyCode(se,pt)&&Ae.runGuarded(()=>ce(se))}}static _normalizeKey(pt){return"esc"===pt?"escape":pt}}return(ft=ht).\u0275fac=function(pt){return new(pt||ft)(d.KVO(s.qQ))},ft.\u0275prov=d.jDH({token:ft,factory:ft.\u0275fac}),ht})();const jt=(0,d.oH4)(d.fpN,"browser",[{provide:d.Agw,useValue:s.AJ},{provide:d.PLl,useValue:function Re(){de.makeCurrent()},multi:!0},{provide:s.qQ,useFactory:function dt(){return(0,d.TL$)(document),document},deps:[]}]),Pt=new d.nKC(""),mn=[{provide:d.e01,useClass:class et{addToWindow(ht){d.JZv.getAngularTestability=(pt,ce=!0)=>{const Ae=ht.findTestabilityInTree(pt,ce);if(null==Ae)throw new d.wOt(5103,!1);return Ae},d.JZv.getAllAngularTestabilities=()=>ht.getAllTestabilities(),d.JZv.getAllAngularRootElements=()=>ht.getAllRootElements(),d.JZv.frameworkStabilizers||(d.JZv.frameworkStabilizers=[]),d.JZv.frameworkStabilizers.push(pt=>{const ce=d.JZv.getAllAngularTestabilities();let Ae=ce.length;const se=function(){Ae--,0==Ae&&pt()};ce.forEach(Ie=>{Ie.whenStable(se)})})}findTestabilityInTree(ht,Vt,pt){if(null==Vt)return null;const ce=ht.getTestability(Vt);return null!=ce?ce:pt?(0,s.QT)().isShadowRoot(Vt)?this.findTestabilityInTree(ht,Vt.host,!0):this.findTestabilityInTree(ht,Vt.parentElement,!0):null}},deps:[]},{provide:d.WHO,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]},{provide:d.NYb,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]}],Nn=[{provide:d.H8p,useValue:"root"},{provide:d.zcH,useFactory:function Ze(){return new d.zcH},deps:[]},{provide:Le,useClass:Rn,multi:!0,deps:[s.qQ,d.SKi,d.Agw]},{provide:Le,useClass:ne,multi:!0,deps:[s.qQ]},ut,nt,De,{provide:d._9s,useExisting:ut},{provide:s.N0,useClass:at,deps:[]},[]];let $n=(()=>{var ft;class ht{constructor(pt){}static withServerTransition(pt){return{ngModule:ht,providers:[{provide:d.sZ2,useValue:pt.appId}]}}}return(ft=ht).\u0275fac=function(pt){return new(pt||ft)(d.KVO(Pt,12))},ft.\u0275mod=d.$C({type:ft}),ft.\u0275inj=d.G2t({providers:[...Nn,...mn],imports:[s.MD,d.Hbi]}),ht})(),tr=(()=>{var ft;class ht{constructor(pt){this._doc=pt}getTitle(){return this._doc.title}setTitle(pt){this._doc.title=pt||""}}return(ft=ht).\u0275fac=function(pt){return new(pt||ft)(d.KVO(s.qQ))},ft.\u0275prov=d.jDH({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ht})(),qr=(()=>{var ft;class ht{}return(ft=ht).\u0275fac=function(pt){return new(pt||ft)},ft.\u0275prov=d.jDH({token:ft,factory:function(pt){let ce=null;return ce=pt?new(pt||ft):d.KVO(In),ce},providedIn:"root"}),ht})(),In=(()=>{var ft;class ht extends qr{constructor(pt){super(),this._doc=pt}sanitize(pt,ce){if(null==ce)return null;switch(pt){case d.WPN.NONE:return ce;case d.WPN.HTML:return(0,d.ZF7)(ce,"HTML")?(0,d.rcV)(ce):(0,d.h9k)(this._doc,String(ce)).toString();case d.WPN.STYLE:return(0,d.ZF7)(ce,"Style")?(0,d.rcV)(ce):ce;case d.WPN.SCRIPT:if((0,d.ZF7)(ce,"Script"))return(0,d.rcV)(ce);throw new d.wOt(5200,!1);case d.WPN.URL:return(0,d.ZF7)(ce,"URL")?(0,d.rcV)(ce):(0,d.$MX)(String(ce));case d.WPN.RESOURCE_URL:if((0,d.ZF7)(ce,"ResourceURL"))return(0,d.rcV)(ce);throw new d.wOt(5201,!1);default:throw new d.wOt(5202,!1)}}bypassSecurityTrustHtml(pt){return(0,d.Kcf)(pt)}bypassSecurityTrustStyle(pt){return(0,d.cWb)(pt)}bypassSecurityTrustScript(pt){return(0,d.UyX)(pt)}bypassSecurityTrustUrl(pt){return(0,d.osQ)(pt)}bypassSecurityTrustResourceUrl(pt){return(0,d.e5t)(pt)}}return(ft=ht).\u0275fac=function(pt){return new(pt||ft)(d.KVO(s.qQ))},ft.\u0275prov=d.jDH({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ht})()},8621:(xn,St,L)=>{"use strict";L.d(St,{nX:()=>Ce,Zp:()=>ui,Z:()=>uo,Xk:()=>jt,Kp:()=>Rr,b:()=>Tn,Ix:()=>Xn,Wk:()=>Xr,iI:()=>ls,Sd:()=>Bn});var d=L(467),s=L(4438),k=L(1985),de=L(8071),Qe=L(8455),me=L(7673),et=L(4412),at=L(4572),Le=L(9350),De=L(8793),it=L(8750);function ot(b){return new k.c(P=>{(0,it.Tg)(b()).subscribe(P)})}var nt=L(1203);function ct(b,P){const F=(0,de.T)(b)?b:()=>b,R=j=>j.error(F());return new k.c(P?j=>P.schedule(R,0,j):R)}var Ct=L(983),_t=L(8359),mt=L(9974),Nt=L(4360);function It(){return(0,mt.N)((b,P)=>{let F=null;b._refCount++;const R=(0,Nt._)(P,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(F=null);const j=b._connection,fe=F;F=null,j&&(!fe||j===fe)&&j.unsubscribe(),P.unsubscribe()});b.subscribe(R),R.closed||(F=b.connect())})}class Me extends k.c{constructor(P,F){super(),this.source=P,this.subjectFactory=F,this._subject=null,this._refCount=0,this._connection=null,(0,mt.S)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,null==P||P.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new _t.yU;const F=this.getSubject();P.add(this.source.subscribe((0,Nt._)(F,void 0,()=>{this._teardown(),F.complete()},R=>{this._teardown(),F.error(R)},()=>this._teardown()))),P.closed&&(this._connection=null,P=_t.yU.EMPTY)}return P}refCount(){return It()(this)}}var Fe=L(1413),tt=L(177),Ye=L(6354),ut=L(5558),Ht=L(6697),he=L(9172),He=L(5964),Tt=L(1397),dn=L(1594);function An(b,P){return(0,de.T)(P)?(0,Tt.Z)(b,P,1):(0,Tt.Z)(b,1)}var nn=L(8141);function Rn(b){return(0,mt.N)((P,F)=>{let fe,R=null,j=!1;R=P.subscribe((0,Nt._)(F,void 0,void 0,Se=>{fe=(0,it.Tg)(b(Se,Rn(b)(P))),R?(R.unsubscribe(),R=null,fe.subscribe(F)):j=!0})),j&&(R.unsubscribe(),R=null,fe.subscribe(F))})}var Mt=L(2816),Ve=L(9901);function te(b){return b<=0?()=>Ct.w:(0,mt.N)((P,F)=>{let R=[];P.subscribe((0,Nt._)(F,j=>{R.push(j),b<R.length&&R.shift()},()=>{for(const j of R)F.next(j);F.complete()},void 0,()=>{R=null}))})}var ne=L(3774),ge=L(3669),$e=L(980),Re=L(5343),dt=L(6365),Ot=L(345);const jt="primary",Pt=Symbol("RouteTitle");class mn{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const F=this.params[P];return Array.isArray(F)?F[0]:F}return null}getAll(P){if(this.has(P)){const F=this.params[P];return Array.isArray(F)?F:[F]}return[]}get keys(){return Object.keys(this.params)}}function Nn(b){return new mn(b)}function $n(b,P,F){const R=F.path.split("/");if(R.length>b.length||"full"===F.pathMatch&&(P.hasChildren()||R.length<b.length))return null;const j={};for(let fe=0;fe<R.length;fe++){const Se=R[fe],kt=b[fe];if(Se.startsWith(":"))j[Se.substring(1)]=kt;else if(Se!==kt.path)return null}return{consumed:b.slice(0,R.length),posParams:j}}function rn(b,P){const F=b?tr(b):void 0,R=P?tr(P):void 0;if(!F||!R||F.length!=R.length)return!1;let j;for(let fe=0;fe<F.length;fe++)if(j=F[fe],!ze(b[j],P[j]))return!1;return!0}function tr(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function ze(b,P){if(Array.isArray(b)&&Array.isArray(P)){if(b.length!==P.length)return!1;const F=[...b].sort(),R=[...P].sort();return F.every((j,fe)=>R[fe]===j)}return b===P}function xe(b){return b.length>0?b[b.length-1]:null}function We(b){return function ae(b){return!!b&&(b instanceof k.c||(0,de.T)(b.lift)&&(0,de.T)(b.subscribe))}(b)?b:(0,s.jNT)(b)?(0,Qe.H)(Promise.resolve(b)):(0,me.of)(b)}const hn={exact:function Fn(b,P,F){if(!gi(b.segments,P.segments)||!Ar(b.segments,P.segments,F)||b.numberOfChildren!==P.numberOfChildren)return!1;for(const R in P.children)if(!b.children[R]||!Fn(b.children[R],P.children[R],F))return!1;return!0},subset:dr},sr={exact:function ar(b,P){return rn(b,P)},subset:function yn(b,P){return Object.keys(P).length<=Object.keys(b).length&&Object.keys(P).every(F=>ze(b[F],P[F]))},ignored:()=>!0};function yr(b,P,F){return hn[F.paths](b.root,P.root,F.matrixParams)&&sr[F.queryParams](b.queryParams,P.queryParams)&&!("exact"===F.fragment&&b.fragment!==P.fragment)}function dr(b,P,F){return hr(b,P,P.segments,F)}function hr(b,P,F,R){if(b.segments.length>F.length){const j=b.segments.slice(0,F.length);return!(!gi(j,F)||P.hasChildren()||!Ar(j,F,R))}if(b.segments.length===F.length){if(!gi(b.segments,F)||!Ar(b.segments,F,R))return!1;for(const j in P.children)if(!b.children[j]||!dr(b.children[j],P.children[j],R))return!1;return!0}{const j=F.slice(0,b.segments.length),fe=F.slice(b.segments.length);return!!(gi(b.segments,j)&&Ar(b.segments,j,R)&&b.children[jt])&&hr(b.children[jt],P,fe,R)}}function Ar(b,P,F){return P.every((R,j)=>sr[F](b[j].parameters,R.parameters))}class oi{constructor(P=new rr([],{}),F={},R=null){this.root=P,this.queryParams=F,this.fragment=R}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return pr.serialize(this)}}class rr{constructor(P,F){this.segments=P,this.children=F,this.parent=null,Object.values(F).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zn(this)}}class qr{constructor(P,F){this.path=P,this.parameters=F}get parameterMap(){var P;return null!==(P=this._parameterMap)&&void 0!==P||(this._parameterMap=Nn(this.parameters)),this._parameterMap}toString(){return ce(this)}}function gi(b,P){return b.length===P.length&&b.every((F,R)=>F.path===P[R].path)}let Bn=(()=>{var b;class P{}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:()=>new Ln,providedIn:"root"}),P})();class Ln{parse(P){const F=new st(P);return new oi(F.parseRootSegment(),F.parseQueryParams(),F.parseFragment())}serialize(P){const F=`/${si(P.root,!0)}`,R=function se(b){const P=Object.entries(b).map(([F,R])=>Array.isArray(R)?R.map(j=>`${_n(F)}=${_n(j)}`).join("&"):`${_n(F)}=${_n(R)}`).filter(F=>F);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${F}${R}${"string"==typeof P.fragment?`#${function ft(b){return encodeURI(b)}(P.fragment)}`:""}`}}const pr=new Ln;function zn(b){return b.segments.map(P=>ce(P)).join("/")}function si(b,P){if(!b.hasChildren())return zn(b);if(P){const F=b.children[jt]?si(b.children[jt],!1):"",R=[];return Object.entries(b.children).forEach(([j,fe])=>{j!==jt&&R.push(`${j}:${si(fe,!1)}`)}),R.length>0?`${F}(${R.join("//")})`:F}{const F=function Qn(b,P){let F=[];return Object.entries(b.children).forEach(([R,j])=>{R===jt&&(F=F.concat(P(j,R)))}),Object.entries(b.children).forEach(([R,j])=>{R!==jt&&(F=F.concat(P(j,R)))}),F}(b,(R,j)=>j===jt?[si(b.children[jt],!1)]:[`${j}:${si(R,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[jt]?`${zn(b)}/${F[0]}`:`${zn(b)}/(${F.join("//")})`}}function _r(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _n(b){return _r(b).replace(/%3B/gi,";")}function ht(b){return _r(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vt(b){return decodeURIComponent(b)}function pt(b){return Vt(b.replace(/\+/g,"%20"))}function ce(b){return`${ht(b.path)}${function Ae(b){return Object.entries(b).map(([P,F])=>`;${ht(P)}=${ht(F)}`).join("")}(b.parameters)}`}const Ie=/^[^\/()?;#]+/;function ue(b){const P=b.match(Ie);return P?P[0]:""}const gt=/^[^\/()?;=#]+/,Dn=/^[^=?&#]+/,fr=/^[^&#]+/;class st{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rr([],{}):new rr([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let F={};this.peekStartsWith("/(")&&(this.capture("/"),F=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(P.length>0||Object.keys(F).length>0)&&(R[jt]=new rr(P,F)),R}parseSegment(){const P=ue(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new s.wOt(4009,!1);return this.capture(P),new qr(Vt(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const F=function Qt(b){const P=b.match(gt);return P?P[0]:""}(this.remaining);if(!F)return;this.capture(F);let R="";if(this.consumeOptional("=")){const j=ue(this.remaining);j&&(R=j,this.capture(R))}P[Vt(F)]=Vt(R)}parseQueryParam(P){const F=function Wn(b){const P=b.match(Dn);return P?P[0]:""}(this.remaining);if(!F)return;this.capture(F);let R="";if(this.consumeOptional("=")){const Se=function Ur(b){const P=b.match(fr);return P?P[0]:""}(this.remaining);Se&&(R=Se,this.capture(R))}const j=pt(F),fe=pt(R);if(P.hasOwnProperty(j)){let Se=P[j];Array.isArray(Se)||(Se=[Se],P[j]=Se),Se.push(fe)}else P[j]=fe}parseParens(P){const F={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=ue(this.remaining),j=this.remaining[R.length];if("/"!==j&&")"!==j&&";"!==j)throw new s.wOt(4010,!1);let fe;R.indexOf(":")>-1?(fe=R.slice(0,R.indexOf(":")),this.capture(fe),this.capture(":")):P&&(fe=jt);const Se=this.parseChildren();F[fe]=1===Object.keys(Se).length?Se[jt]:new rr([],Se),this.consumeOptional("//")}return F}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new s.wOt(4011,!1)}}function wn(b){return b.segments.length>0?new rr([],{[jt]:b}):b}function Yn(b){const P={};for(const[R,j]of Object.entries(b.children)){const fe=Yn(j);if(R===jt&&0===fe.segments.length&&fe.hasChildren())for(const[Se,kt]of Object.entries(fe.children))P[Se]=kt;else(fe.segments.length>0||fe.hasChildren())&&(P[R]=fe)}return function mi(b){if(1===b.numberOfChildren&&b.children[jt]){const P=b.children[jt];return new rr(b.segments.concat(P.segments),P.children)}return b}(new rr(b.segments,P))}function Ei(b){return b instanceof oi}function Ti(b){var P;let F;const fe=wn(function R(Se){const kt={};for(const Gt of Se.children){const Gn=R(Gt);kt[Gt.outlet]=Gn}const bn=new rr(Se.url,kt);return Se===b&&(F=bn),bn}(b.root));return null!==(P=F)&&void 0!==P?P:fe}function Hr(b,P,F,R){let j=b;for(;j.parent;)j=j.parent;if(0===P.length)return no(j,j,j,F,R);const fe=function ee(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new ie(!0,0,b);let P=0,F=!1;const R=b.reduce((j,fe,Se)=>{if("object"==typeof fe&&null!=fe){if(fe.outlets){const kt={};return Object.entries(fe.outlets).forEach(([bn,Gt])=>{kt[bn]="string"==typeof Gt?Gt.split("/"):Gt}),[...j,{outlets:kt}]}if(fe.segmentPath)return[...j,fe.segmentPath]}return"string"!=typeof fe?[...j,fe]:0===Se?(fe.split("/").forEach((kt,bn)=>{0==bn&&"."===kt||(0==bn&&""===kt?F=!0:".."===kt?P++:""!=kt&&j.push(kt))}),j):[...j,fe]},[]);return new ie(F,P,R)}(P);if(fe.toRoot())return no(j,j,new rr([],{}),F,R);const Se=function le(b,P,F){if(b.isAbsolute)return new Ge(P,!0,0);if(!F)return new Ge(P,!1,NaN);if(null===F.parent)return new Ge(F,!0,0);const R=Fi(b.commands[0])?0:1;return function re(b,P,F){let R=b,j=P,fe=F;for(;fe>j;){if(fe-=j,R=R.parent,!R)throw new s.wOt(4005,!1);j=R.segments.length}return new Ge(R,!1,j-fe)}(F,F.segments.length-1+R,b.numberOfDoubleDots)}(fe,j,b),kt=Se.processChildren?Ut(Se.segmentGroup,Se.index,fe.commands):Lt(Se.segmentGroup,Se.index,fe.commands);return no(j,Se.segmentGroup,kt,F,R)}function Fi(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Gi(b){return"object"==typeof b&&null!=b&&b.outlets}function no(b,P,F,R,j){let Se,fe={};R&&Object.entries(R).forEach(([bn,Gt])=>{fe[bn]=Array.isArray(Gt)?Gt.map(Gn=>`${Gn}`):`${Gt}`}),Se=b===P?F:Wt(b,P,F);const kt=wn(Yn(Se));return new oi(kt,fe,j)}function Wt(b,P,F){const R={};return Object.entries(b.children).forEach(([j,fe])=>{R[j]=fe===P?F:Wt(fe,P,F)}),new rr(b.segments,R)}class ie{constructor(P,F,R){if(this.isAbsolute=P,this.numberOfDoubleDots=F,this.commands=R,P&&R.length>0&&Fi(R[0]))throw new s.wOt(4003,!1);const j=R.find(Gi);if(j&&j!==xe(R))throw new s.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ge{constructor(P,F,R){this.segmentGroup=P,this.processChildren=F,this.index=R}}function Lt(b,P,F){var R;if(null!==(R=b)&&void 0!==R||(b=new rr([],{})),0===b.segments.length&&b.hasChildren())return Ut(b,P,F);const j=function En(b,P,F){let R=0,j=P;const fe={match:!1,pathIndex:0,commandIndex:0};for(;j<b.segments.length;){if(R>=F.length)return fe;const Se=b.segments[j],kt=F[R];if(Gi(kt))break;const bn=`${kt}`,Gt=R<F.length-1?F[R+1]:null;if(j>0&&void 0===bn)break;if(bn&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!Ji(bn,Gt,Se))return fe;R+=2}else{if(!Ji(bn,{},Se))return fe;R++}j++}return{match:!0,pathIndex:j,commandIndex:R}}(b,P,F),fe=F.slice(j.commandIndex);if(j.match&&j.pathIndex<b.segments.length){const Se=new rr(b.segments.slice(0,j.pathIndex),{});return Se.children[jt]=new rr(b.segments.slice(j.pathIndex),b.children),Ut(Se,0,fe)}return j.match&&0===fe.length?new rr(b.segments,{}):j.match&&!b.hasChildren()?or(b,P,F):j.match?Ut(b,0,fe):or(b,P,F)}function Ut(b,P,F){if(0===F.length)return new rr(b.segments,{});{const R=function Ue(b){return Gi(b[0])?b[0].outlets:{[jt]:b}}(F),j={};if(Object.keys(R).some(fe=>fe!==jt)&&b.children[jt]&&1===b.numberOfChildren&&0===b.children[jt].segments.length){const fe=Ut(b.children[jt],P,F);return new rr(b.segments,fe.children)}return Object.entries(R).forEach(([fe,Se])=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(j[fe]=Lt(b.children[fe],P,Se))}),Object.entries(b.children).forEach(([fe,Se])=>{void 0===R[fe]&&(j[fe]=Se)}),new rr(b.segments,j)}}function or(b,P,F){const R=b.segments.slice(0,P);let j=0;for(;j<F.length;){const fe=F[j];if(Gi(fe)){const bn=nr(fe.outlets);return new rr(R,bn)}if(0===j&&Fi(F[0])){R.push(new qr(b.segments[P].path,Vi(F[0]))),j++;continue}const Se=Gi(fe)?fe.outlets[jt]:`${fe}`,kt=j<F.length-1?F[j+1]:null;Se&&kt&&Fi(kt)?(R.push(new qr(Se,Vi(kt))),j+=2):(R.push(new qr(Se,{})),j++)}return new rr(R,{})}function nr(b){const P={};return Object.entries(b).forEach(([F,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(P[F]=or(new rr([],{}),0,R))}),P}function Vi(b){const P={};return Object.entries(b).forEach(([F,R])=>P[F]=`${R}`),P}function Ji(b,P,F){return b==F.path&&rn(P,F.parameters)}const Wi="imperative";var gr=function(b){return b[b.NavigationStart=0]="NavigationStart",b[b.NavigationEnd=1]="NavigationEnd",b[b.NavigationCancel=2]="NavigationCancel",b[b.NavigationError=3]="NavigationError",b[b.RoutesRecognized=4]="RoutesRecognized",b[b.ResolveStart=5]="ResolveStart",b[b.ResolveEnd=6]="ResolveEnd",b[b.GuardsCheckStart=7]="GuardsCheckStart",b[b.GuardsCheckEnd=8]="GuardsCheckEnd",b[b.RouteConfigLoadStart=9]="RouteConfigLoadStart",b[b.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",b[b.ChildActivationStart=11]="ChildActivationStart",b[b.ChildActivationEnd=12]="ChildActivationEnd",b[b.ActivationStart=13]="ActivationStart",b[b.ActivationEnd=14]="ActivationEnd",b[b.Scroll=15]="Scroll",b[b.NavigationSkipped=16]="NavigationSkipped",b}(gr||{});class ki{constructor(P,F){this.id=P,this.url=F}}class uo extends ki{constructor(P,F,R="imperative",j=null){super(P,F),this.type=gr.NavigationStart,this.navigationTrigger=R,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class eo extends ki{constructor(P,F,R){super(P,F),this.urlAfterRedirects=R,this.type=gr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ai=function(b){return b[b.Redirect=0]="Redirect",b[b.SupersededByNewNavigation=1]="SupersededByNewNavigation",b[b.NoDataFromResolver=2]="NoDataFromResolver",b[b.GuardRejected=3]="GuardRejected",b}(ai||{}),Li=function(b){return b[b.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",b[b.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",b}(Li||{});class Oo extends ki{constructor(P,F,R,j){super(P,F),this.reason=R,this.code=j,this.type=gr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jo extends ki{constructor(P,F,R,j){super(P,F),this.reason=R,this.code=j,this.type=gr.NavigationSkipped}}class Ho extends ki{constructor(P,F,R,j){super(P,F),this.error=R,this.target=j,this.type=gr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zo extends ki{constructor(P,F,R,j){super(P,F),this.urlAfterRedirects=R,this.state=j,this.type=gr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wo extends ki{constructor(P,F,R,j){super(P,F),this.urlAfterRedirects=R,this.state=j,this.type=gr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ro extends ki{constructor(P,F,R,j,fe){super(P,F),this.urlAfterRedirects=R,this.state=j,this.shouldActivate=fe,this.type=gr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dr extends ki{constructor(P,F,R,j){super(P,F),this.urlAfterRedirects=R,this.state=j,this.type=gr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr extends ki{constructor(P,F,R,j){super(P,F),this.urlAfterRedirects=R,this.state=j,this.type=gr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ka{constructor(P){this.route=P,this.type=gr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ui{constructor(P){this.route=P,this.type=gr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zs{constructor(P){this.snapshot=P,this.type=gr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aa{constructor(P){this.snapshot=P,this.type=gr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gs{constructor(P){this.snapshot=P,this.type=gr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class is{constructor(P){this.snapshot=P,this.type=gr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jn{constructor(P,F,R){this.routerEvent=P,this.position=F,this.anchor=R,this.type=gr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class li{}class Go{constructor(P){this.url=P}}class Ws{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ui,this.attachRef=null}}let ui=(()=>{var b;class P{constructor(){this.contexts=new Map}onChildOutletCreated(R,j){const fe=this.getOrCreateContext(R);fe.outlet=j,this.contexts.set(R,fe)}onChildOutletDestroyed(R){const j=this.getContext(R);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let j=this.getContext(R);return j||(j=new Ws,this.contexts.set(R,j)),j}getContext(R){return this.contexts.get(R)||null}}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),P})();class Ks{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const F=this.pathFromRoot(P);return F.length>1?F[F.length-2]:null}children(P){const F=Ri(P,this._root);return F?F.children.map(R=>R.value):[]}firstChild(P){const F=Ri(P,this._root);return F&&F.children.length>0?F.children[0].value:null}siblings(P){const F=ci(P,this._root);return F.length<2?[]:F[F.length-2].children.map(j=>j.value).filter(j=>j!==P)}pathFromRoot(P){return ci(P,this._root).map(F=>F.value)}}function Ri(b,P){if(b===P.value)return P;for(const F of P.children){const R=Ri(b,F);if(R)return R}return null}function ci(b,P){if(b===P.value)return[P];for(const F of P.children){const R=ci(b,F);if(R.length)return R.unshift(P),R}return[]}class Bi{constructor(P,F){this.value=P,this.children=F}toString(){return`TreeNode(${this.value})`}}function N(b){const P={};return b&&b.children.forEach(F=>P[F.value.outlet]=F),P}class Q extends Ks{constructor(P,F){super(P),this.snapshot=F,K(this,P)}toString(){return this.snapshot.toString()}}function be(b){const P=function V(b){const fe=new br([],{},{},"",{},jt,b,null,{});return new Br("",new Bi(fe,[]))}(b),F=new et.t([new qr("",{})]),R=new et.t({}),j=new et.t({}),fe=new et.t({}),Se=new et.t(""),kt=new Ce(F,R,fe,Se,j,jt,b,P.root);return kt.snapshot=P.root,new Q(new Bi(kt,[]),P)}class Ce{constructor(P,F,R,j,fe,Se,kt,bn){var Gt,Gn;this.urlSubject=P,this.paramsSubject=F,this.queryParamsSubject=R,this.fragmentSubject=j,this.dataSubject=fe,this.outlet=Se,this.component=kt,this._futureSnapshot=bn,this.title=null!==(Gt=null===(Gn=this.dataSubject)||void 0===Gn?void 0:Gn.pipe((0,Ye.T)(Tr=>Tr[Pt])))&&void 0!==Gt?Gt:(0,me.of)(void 0),this.url=P,this.params=F,this.queryParams=R,this.fragment=j,this.data=fe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=this.params.pipe((0,Ye.T)(F=>Nn(F)))),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=this.queryParams.pipe((0,Ye.T)(F=>Nn(F)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function At(b,P,F="emptyOnly"){var R;let j;const{routeConfig:fe}=b;var Se;return j=null===P||"always"!==F&&""!==(null==fe?void 0:fe.path)&&(P.component||null!==(R=P.routeConfig)&&void 0!==R&&R.loadComponent)?{params:{...b.params},data:{...b.data},resolve:{...b.data,...null!==(Se=b._resolvedData)&&void 0!==Se?Se:{}}}:{params:{...P.params,...b.params},data:{...P.data,...b.data},resolve:{...b.data,...P.data,...null==fe?void 0:fe.data,...b._resolvedData}},fe&&xt(fe)&&(j.resolve[Pt]=fe.title),j}class br{get title(){var P;return null===(P=this.data)||void 0===P?void 0:P[Pt]}constructor(P,F,R,j,fe,Se,kt,bn,Gt){this.url=P,this.params=F,this.queryParams=R,this.fragment=j,this.data=fe,this.outlet=Se,this.component=kt,this.routeConfig=bn,this._resolve=Gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=Nn(this.params)),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Br extends Ks{constructor(P,F){super(F),this.url=P,K(this,F)}toString(){return ve(this._root)}}function K(b,P){P.value._routerState=b,P.children.forEach(F=>K(b,F))}function ve(b){const P=b.children.length>0?` { ${b.children.map(ve).join(", ")} } `:"";return`${b.value}${P}`}function ke(b){if(b.snapshot){const P=b.snapshot,F=b._futureSnapshot;b.snapshot=F,rn(P.queryParams,F.queryParams)||b.queryParamsSubject.next(F.queryParams),P.fragment!==F.fragment&&b.fragmentSubject.next(F.fragment),rn(P.params,F.params)||b.paramsSubject.next(F.params),function en(b,P){if(b.length!==P.length)return!1;for(let F=0;F<b.length;++F)if(!rn(b[F],P[F]))return!1;return!0}(P.url,F.url)||b.urlSubject.next(F.url),rn(P.data,F.data)||b.dataSubject.next(F.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function Je(b,P){const F=rn(b.params,P.params)&&function In(b,P){return gi(b,P)&&b.every((F,R)=>rn(F.parameters,P[R].parameters))}(b.url,P.url);return F&&!(!b.parent!=!P.parent)&&(!b.parent||Je(b.parent,P.parent))}function xt(b){return"string"==typeof b.title||null===b.title}let Et=(()=>{var b;class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new s.bkB,this.deactivateEvents=new s.bkB,this.attachEvents=new s.bkB,this.detachEvents=new s.bkB,this.parentContexts=(0,s.WQX)(ui),this.location=(0,s.WQX)(s.c1b),this.changeDetector=(0,s.WQX)(s.gRc),this.environmentInjector=(0,s.WQX)(s.uvJ),this.inputBinder=(0,s.WQX)(un,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(R){if(R.name){const{firstChange:j,previousValue:fe}=R.name;if(j)return;this.isTrackedInParentContexts(fe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(fe)),this.initializeOutletWithName()}}ngOnDestroy(){var R;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(R=this.inputBinder)||void 0===R||R.unsubscribeFromRouteData(this)}isTrackedInParentContexts(R){var j;return(null===(j=this.parentContexts.getContext(R))||void 0===j?void 0:j.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const R=this.parentContexts.getContext(this.name);null!=R&&R.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.wOt(4012,!1);this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,j){var fe;this.activated=R,this._activatedRoute=j,this.location.insert(R.hostView),null===(fe=this.inputBinder)||void 0===fe||fe.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,j){var fe;if(this.isActivated)throw new s.wOt(4013,!1);this._activatedRoute=R;const Se=this.location,bn=R.snapshot.component,Gt=this.parentContexts.getOrCreateContext(this.name).children,Gn=new Zt(R,Gt,Se.injector);this.activated=Se.createComponent(bn,{index:Se.length,injector:Gn,environmentInjector:null!=j?j:this.environmentInjector}),this.changeDetector.markForCheck(),null===(fe=this.inputBinder)||void 0===fe||fe.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275dir=s.FsC({type:b,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.OA$]}),P})();class Zt{__ngOutletInjector(P){return new Zt(this.route,this.childContexts,P)}constructor(P,F,R){this.route=P,this.childContexts=F,this.parent=R}get(P,F){return P===Ce?this.route:P===ui?this.childContexts:this.parent.get(P,F)}}const un=new s.nKC("");let an=(()=>{var b;class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(R){this.unsubscribeFromRouteData(R),this.subscribeToRouteData(R)}unsubscribeFromRouteData(R){var j;null===(j=this.outletDataSubscriptions.get(R))||void 0===j||j.unsubscribe(),this.outletDataSubscriptions.delete(R)}subscribeToRouteData(R){const{activatedRoute:j}=R,fe=(0,at.z)([j.queryParams,j.params,j.data]).pipe((0,ut.n)(([Se,kt,bn],Gt)=>(bn={...Se,...kt,...bn},0===Gt?(0,me.of)(bn):Promise.resolve(bn)))).subscribe(Se=>{if(!R.isActivated||!R.activatedComponentRef||R.activatedRoute!==j||null===j.component)return void this.unsubscribeFromRouteData(R);const kt=(0,s.HJs)(j.component);if(kt)for(const{templateName:bn}of kt.inputs)R.activatedComponentRef.setInput(bn,Se[bn]);else this.unsubscribeFromRouteData(R)});this.outletDataSubscriptions.set(R,fe)}}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac}),P})();function On(b,P,F){if(F&&b.shouldReuseRoute(P.value,F.value.snapshot)){const R=F.value;R._futureSnapshot=P.value;const j=function jn(b,P,F){return P.children.map(R=>{for(const j of F.children)if(b.shouldReuseRoute(R.value,j.value.snapshot))return On(b,R,j);return On(b,R)})}(b,P,F);return new Bi(R,j)}{if(b.shouldAttach(P.value)){const fe=b.retrieve(P.value);if(null!==fe){const Se=fe.route;return Se.value._futureSnapshot=P.value,Se.children=P.children.map(kt=>On(b,kt)),Se}}const R=function Zn(b){return new Ce(new et.t(b.url),new et.t(b.params),new et.t(b.queryParams),new et.t(b.fragment),new et.t(b.data),b.outlet,b.component,b)}(P.value),j=P.children.map(fe=>On(b,fe));return new Bi(R,j)}}const lr="ngNavigationCancelingError";function Wr(b,P){const{redirectTo:F,navigationBehaviorOptions:R}=Ei(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,j=Ki(!1,ai.Redirect);return j.url=F,j.navigationBehaviorOptions=R,j}function Ki(b,P){const F=new Error(`NavigationCancelingError: ${b||""}`);return F[lr]=!0,F.cancellationCode=P,F}function Zr(b){return!!b&&b[lr]}let Ai=(()=>{var b;class P{}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275cmp=s.VBU({type:b,selectors:[["ng-component"]],standalone:!0,features:[s.aNF],decls:1,vars:0,template:function(R,j){1&R&&s.nrm(0,"router-outlet")},dependencies:[Et],encapsulation:2}),P})();function Ni(b){const P=b.children&&b.children.map(Ni),F=P?{...b,children:P}:{...b};return!F.component&&!F.loadComponent&&(P||F.loadChildren)&&F.outlet&&F.outlet!==jt&&(F.component=Ai),F}function yo(b){return b.outlet||jt}function $r(b){var P;if(!b)return null;if(null!==(P=b.routeConfig)&&void 0!==P&&P._injector)return b.routeConfig._injector;for(let F=b.parent;F;F=F.parent){const R=F.routeConfig;if(null!=R&&R._loadedInjector)return R._loadedInjector;if(null!=R&&R._injector)return R._injector}return null}class la{constructor(P,F,R,j,fe){this.routeReuseStrategy=P,this.futureState=F,this.currState=R,this.forwardEvent=j,this.inputBindingEnabled=fe}activate(P){const F=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(F,R,P),ke(this.futureState.root),this.activateChildRoutes(F,R,P)}deactivateChildRoutes(P,F,R){const j=N(F);P.children.forEach(fe=>{const Se=fe.value.outlet;this.deactivateRoutes(fe,j[Se],R),delete j[Se]}),Object.values(j).forEach(fe=>{this.deactivateRouteAndItsChildren(fe,R)})}deactivateRoutes(P,F,R){const j=P.value,fe=F?F.value:null;if(j===fe)if(j.component){const Se=R.getContext(j.outlet);Se&&this.deactivateChildRoutes(P,F,Se.children)}else this.deactivateChildRoutes(P,F,R);else fe&&this.deactivateRouteAndItsChildren(F,R)}deactivateRouteAndItsChildren(P,F){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,F):this.deactivateRouteAndOutlet(P,F)}detachAndStoreRouteSubtree(P,F){const R=F.getContext(P.value.outlet),j=R&&P.value.component?R.children:F,fe=N(P);for(const Se of Object.values(fe))this.deactivateRouteAndItsChildren(Se,j);if(R&&R.outlet){const Se=R.outlet.detach(),kt=R.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:Se,route:P,contexts:kt})}}deactivateRouteAndOutlet(P,F){const R=F.getContext(P.value.outlet),j=R&&P.value.component?R.children:F,fe=N(P);for(const Se of Object.values(fe))this.deactivateRouteAndItsChildren(Se,j);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(P,F,R){const j=N(F);P.children.forEach(fe=>{this.activateRoutes(fe,j[fe.value.outlet],R),this.forwardEvent(new is(fe.value.snapshot))}),P.children.length&&this.forwardEvent(new aa(P.value.snapshot))}activateRoutes(P,F,R){const j=P.value,fe=F?F.value:null;if(ke(j),j===fe)if(j.component){const Se=R.getOrCreateContext(j.outlet);this.activateChildRoutes(P,F,Se.children)}else this.activateChildRoutes(P,F,R);else if(j.component){const Se=R.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const kt=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),Se.children.onOutletReAttached(kt.contexts),Se.attachRef=kt.componentRef,Se.route=kt.route.value,Se.outlet&&Se.outlet.attach(kt.componentRef,kt.route.value),ke(kt.route.value),this.activateChildRoutes(P,null,Se.children)}else{const kt=$r(j.snapshot);Se.attachRef=null,Se.route=j,Se.injector=kt,Se.outlet&&Se.outlet.activateWith(j,Se.injector),this.activateChildRoutes(P,null,Se.children)}}else this.activateChildRoutes(P,null,R)}}class Is{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class ua{constructor(P,F){this.component=P,this.route=F}}function xr(b,P,F){const R=b._root;return qi(R,P?P._root:null,F,[R.value])}function hs(b,P){const F=Symbol(),R=P.get(b,F);return R===F?"function"!=typeof b||(0,s.LfX)(b)?P.get(b):b:R}function qi(b,P,F,R,j={canDeactivateChecks:[],canActivateChecks:[]}){const fe=N(P);return b.children.forEach(Se=>{(function ko(b,P,F,R,j={canDeactivateChecks:[],canActivateChecks:[]}){const fe=b.value,Se=P?P.value:null,kt=F?F.getContext(b.value.outlet):null;if(Se&&fe.routeConfig===Se.routeConfig){const bn=function hl(b,P,F){if("function"==typeof F)return F(b,P);switch(F){case"pathParamsChange":return!gi(b.url,P.url);case"pathParamsOrQueryParamsChange":return!gi(b.url,P.url)||!rn(b.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Je(b,P)||!rn(b.queryParams,P.queryParams);default:return!Je(b,P)}}(Se,fe,fe.routeConfig.runGuardsAndResolvers);bn?j.canActivateChecks.push(new Is(R)):(fe.data=Se.data,fe._resolvedData=Se._resolvedData),qi(b,P,fe.component?kt?kt.children:null:F,R,j),bn&&kt&&kt.outlet&&kt.outlet.isActivated&&j.canDeactivateChecks.push(new ua(kt.outlet.component,Se))}else Se&&Ss(P,kt,j),j.canActivateChecks.push(new Is(R)),qi(b,null,fe.component?kt?kt.children:null:F,R,j)})(Se,fe[Se.value.outlet],F,R.concat([Se.value]),j),delete fe[Se.value.outlet]}),Object.entries(fe).forEach(([Se,kt])=>Ss(kt,F.getContext(Se),j)),j}function Ss(b,P,F){const R=N(b),j=b.value;Object.entries(R).forEach(([fe,Se])=>{Ss(Se,j.component?P?P.children.getContext(fe):null:P,F)}),F.canDeactivateChecks.push(new ua(j.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,j))}function Rs(b){return"function"==typeof b}function W(b){return b instanceof Le.G||"EmptyError"===(null==b?void 0:b.name)}const _e=Symbol("INITIAL_VALUE");function fn(){return(0,ut.n)(b=>(0,at.z)(b.map(P=>P.pipe((0,Ht.s)(1),(0,he.Z)(_e)))).pipe((0,Ye.T)(P=>{for(const F of P)if(!0!==F){if(F===_e)return _e;if(!1===F||F instanceof oi)return F}return!0}),(0,He.p)(P=>P!==_e),(0,Ht.s)(1)))}function fs(b){return(0,nt.F)((0,nn.M)(P=>{if(Ei(P))throw Wr(0,P)}),(0,Ye.T)(P=>!0===P))}class Qs{constructor(P){this.segmentGroup=P||null}}class Pl extends Error{constructor(P){super(),this.urlTree=P}}function Es(b){return ct(new Qs(b))}class Eo{constructor(P,F){this.urlSerializer=P,this.urlTree=F}lineralizeSegments(P,F){let R=[],j=F.root;for(;;){if(R=R.concat(j.segments),0===j.numberOfChildren)return(0,me.of)(R);if(j.numberOfChildren>1||!j.children[jt])return ct(new s.wOt(4e3,!1));j=j.children[jt]}}applyRedirectCommands(P,F,R){const j=this.applyRedirectCreateUrlTree(F,this.urlSerializer.parse(F),P,R);if(F.startsWith("/"))throw new Pl(j);return j}applyRedirectCreateUrlTree(P,F,R,j){const fe=this.createSegmentGroup(P,F.root,R,j);return new oi(fe,this.createQueryParams(F.queryParams,this.urlTree.queryParams),F.fragment)}createQueryParams(P,F){const R={};return Object.entries(P).forEach(([j,fe])=>{if("string"==typeof fe&&fe.startsWith(":")){const kt=fe.substring(1);R[j]=F[kt]}else R[j]=fe}),R}createSegmentGroup(P,F,R,j){const fe=this.createSegments(P,F.segments,R,j);let Se={};return Object.entries(F.children).forEach(([kt,bn])=>{Se[kt]=this.createSegmentGroup(P,bn,R,j)}),new rr(fe,Se)}createSegments(P,F,R,j){return F.map(fe=>fe.path.startsWith(":")?this.findPosParam(P,fe,j):this.findOrReturn(fe,R))}findPosParam(P,F,R){const j=R[F.path.substring(1)];if(!j)throw new s.wOt(4001,!1);return j}findOrReturn(P,F){let R=0;for(const j of F){if(j.path===P.path)return F.splice(R),j;R++}return P}}const ho={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ms(b,P,F,R,j){const fe=Ao(b,P,F);return fe.matched?(R=function io(b,P){var F;return b.providers&&!b._injector&&(b._injector=(0,s.Ol2)(b.providers,P,`Route: ${b.path}`)),null!==(F=b._injector)&&void 0!==F?F:P}(P,R),function Ja(b,P,F,R){const j=P.canMatch;if(!j||0===j.length)return(0,me.of)(!0);const fe=j.map(Se=>{const kt=hs(Se,b);return We(function Te(b){return b&&Rs(b.canMatch)}(kt)?kt.canMatch(P,F):(0,s.N4e)(b,()=>kt(P,F)))});return(0,me.of)(fe).pipe(fn(),fs())}(R,P,F).pipe((0,Ye.T)(Se=>!0===Se?fe:{...ho}))):(0,me.of)(fe)}function Ao(b,P,F){var R,j;if("**"===P.path)return function ha(b){return{matched:!0,parameters:b.length>0?xe(b).parameters:{},consumedSegments:b,remainingSegments:[],positionalParamSegments:{}}}(F);if(""===P.path)return"full"===P.pathMatch&&(b.hasChildren()||F.length>0)?{...ho}:{matched:!0,consumedSegments:[],remainingSegments:F,parameters:{},positionalParamSegments:{}};const Se=(P.matcher||$n)(F,b,P);if(!Se)return{...ho};const kt={};Object.entries(null!==(R=Se.posParams)&&void 0!==R?R:{}).forEach(([Gt,Gn])=>{kt[Gt]=Gn.path});const bn=Se.consumed.length>0?{...kt,...Se.consumed[Se.consumed.length-1].parameters}:kt;return{matched:!0,consumedSegments:Se.consumed,remainingSegments:F.slice(Se.consumed.length),parameters:bn,positionalParamSegments:null!==(j=Se.posParams)&&void 0!==j?j:{}}}function Va(b,P,F,R){return F.length>0&&function gl(b,P,F){return F.some(R=>di(b,P,R)&&yo(R)!==jt)}(b,F,R)?{segmentGroup:new rr(P,pl(R,new rr(F,b.children))),slicedSegments:[]}:0===F.length&&function ml(b,P,F){return F.some(R=>di(b,P,R))}(b,F,R)?{segmentGroup:new rr(b.segments,La(b,F,R,b.children)),slicedSegments:F}:{segmentGroup:new rr(b.segments,b.children),slicedSegments:F}}function La(b,P,F,R){const j={};for(const fe of F)if(di(b,P,fe)&&!R[yo(fe)]){const Se=new rr([],{});j[yo(fe)]=Se}return{...R,...j}}function pl(b,P){const F={};F[jt]=P;for(const R of b)if(""===R.path&&yo(R)!==jt){const j=new rr([],{});F[yo(R)]=j}return F}function di(b,P,F){return(!(b.hasChildren()||P.length>0)||"full"!==F.pathMatch)&&""===F.path}class _l{}class Ys{constructor(P,F,R,j,fe,Se,kt){this.injector=P,this.configLoader=F,this.rootComponentType=R,this.config=j,this.urlTree=fe,this.paramsInheritanceStrategy=Se,this.urlSerializer=kt,this.applyRedirects=new Eo(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(P){return new s.wOt(4002,`'${P.segmentGroup}'`)}recognize(){const P=Va(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe((0,Ye.T)(F=>{const R=new br([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,{}),j=new Bi(R,F),fe=new Br("",j),Se=function vo(b,P,F=null,R=null){return Hr(Ti(b),P,F,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return Se.queryParams=this.urlTree.queryParams,fe.url=this.urlSerializer.serialize(Se),this.inheritParamsAndData(fe._root,null),{state:fe,tree:Se}}))}match(P){return this.processSegmentGroup(this.injector,this.config,P,jt).pipe(Rn(R=>{if(R instanceof Pl)return this.urlTree=R.urlTree,this.match(R.urlTree.root);throw R instanceof Qs?this.noMatchError(R):R}))}inheritParamsAndData(P,F){const R=P.value,j=At(R,F,this.paramsInheritanceStrategy);R.params=Object.freeze(j.params),R.data=Object.freeze(j.data),P.children.forEach(fe=>this.inheritParamsAndData(fe,R))}processSegmentGroup(P,F,R,j){return 0===R.segments.length&&R.hasChildren()?this.processChildren(P,F,R):this.processSegment(P,F,R,R.segments,j,!0).pipe((0,Ye.T)(fe=>fe instanceof Bi?[fe]:[]))}processChildren(P,F,R){const j=[];for(const fe of Object.keys(R.children))"primary"===fe?j.unshift(fe):j.push(fe);return(0,Qe.H)(j).pipe(An(fe=>{const Se=R.children[fe],kt=function Jr(b,P){const F=b.filter(R=>yo(R)===P);return F.push(...b.filter(R=>yo(R)!==P)),F}(F,fe);return this.processSegmentGroup(P,kt,Se,fe)}),(0,Mt.S)((fe,Se)=>(fe.push(...Se),fe)),(0,Ve.U)(null),function Ke(b,P){const F=arguments.length>=2;return R=>R.pipe(b?(0,He.p)((j,fe)=>b(j,fe,R)):ge.D,te(1),F?(0,Ve.U)(P):(0,ne.v)(()=>new Le.G))}(),(0,Tt.Z)(fe=>{if(null===fe)return Es(R);const Se=nu(fe);return function xl(b){b.sort((P,F)=>P.value.outlet===jt?-1:F.value.outlet===jt?1:P.value.outlet.localeCompare(F.value.outlet))}(Se),(0,me.of)(Se)}))}processSegment(P,F,R,j,fe,Se){return(0,Qe.H)(F).pipe(An(kt=>{var bn;return this.processSegmentAgainstRoute(null!==(bn=kt._injector)&&void 0!==bn?bn:P,F,kt,R,j,fe,Se).pipe(Rn(Gt=>{if(Gt instanceof Qs)return(0,me.of)(null);throw Gt}))}),(0,dn.$)(kt=>!!kt),Rn(kt=>{if(W(kt))return function Ko(b,P,F){return 0===P.length&&!b.children[F]}(R,j,fe)?(0,me.of)(new _l):Es(R);throw kt}))}processSegmentAgainstRoute(P,F,R,j,fe,Se,kt){return function zi(b,P,F,R){return!!(yo(b)===R||R!==jt&&di(P,F,b))&&Ao(P,b,F).matched}(R,j,fe,Se)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(P,j,R,fe,Se):this.allowRedirects&&kt?this.expandSegmentAgainstRouteUsingRedirect(P,j,F,R,fe,Se):Es(j):Es(j)}expandSegmentAgainstRouteUsingRedirect(P,F,R,j,fe,Se){const{matched:kt,consumedSegments:bn,positionalParamSegments:Gt,remainingSegments:Gn}=Ao(F,j,fe);if(!kt)return Es(F);j.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Tr=this.applyRedirects.applyRedirectCommands(bn,j.redirectTo,Gt);return this.applyRedirects.lineralizeSegments(j,Tr).pipe((0,Tt.Z)($i=>this.processSegment(P,R,F,$i.concat(Gn),Se,!1)))}matchSegmentAgainstRoute(P,F,R,j,fe){const Se=Ms(F,R,j,P);return"**"===R.path&&(F.children={}),Se.pipe((0,ut.n)(kt=>{var bn;return kt.matched?(P=null!==(bn=R._injector)&&void 0!==bn?bn:P,this.getChildConfig(P,R,j).pipe((0,ut.n)(({routes:Gt})=>{var Gn,Tr,$i;const Qr=null!==(Gn=R._loadedInjector)&&void 0!==Gn?Gn:P,{consumedSegments:Qo,remainingSegments:Sa,parameters:Fs}=kt,Vl=new br(Qo,Fs,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Gr(b){return b.data||{}}(R),yo(R),null!==(Tr=null!==($i=R.component)&&void 0!==$i?$i:R._loadedComponent)&&void 0!==Tr?Tr:null,R,function ru(b){return b.resolve||{}}(R)),{segmentGroup:Al,slicedSegments:ms}=Va(F,Qo,Sa,Gt);if(0===ms.length&&Al.hasChildren())return this.processChildren(Qr,Gt,Al).pipe((0,Ye.T)(_s=>null===_s?null:new Bi(Vl,_s)));if(0===Gt.length&&0===ms.length)return(0,me.of)(new Bi(Vl,[]));const xu=yo(R)===fe;return this.processSegment(Qr,Gt,Al,ms,xu?jt:fe,!0).pipe((0,Ye.T)(_s=>new Bi(Vl,_s instanceof Bi?[_s]:[])))}))):Es(F)}))}getChildConfig(P,F,R){return F.children?(0,me.of)({routes:F.children,injector:P}):F.loadChildren?void 0!==F._loadedRoutes?(0,me.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):function Mu(b,P,F,R){const j=P.canLoad;if(void 0===j||0===j.length)return(0,me.of)(!0);const fe=j.map(Se=>{const kt=hs(Se,b);return We(function Za(b){return b&&Rs(b.canLoad)}(kt)?kt.canLoad(P,F):(0,s.N4e)(b,()=>kt(P,F)))});return(0,me.of)(fe).pipe(fn(),fs())}(P,F,R).pipe((0,Tt.Z)(j=>j?this.configLoader.loadChildren(P,F).pipe((0,nn.M)(fe=>{F._loadedRoutes=fe.routes,F._loadedInjector=fe.injector})):function oo(b){return ct(Ki(!1,ai.GuardRejected))}())):(0,me.of)({routes:[],injector:P})}}function Ps(b){const P=b.value.routeConfig;return P&&""===P.path}function nu(b){const P=[],F=new Set;for(const R of b){if(!Ps(R)){P.push(R);continue}const j=P.find(fe=>R.value.routeConfig===fe.value.routeConfig);void 0!==j?(j.children.push(...R.children),F.add(j)):P.push(R)}for(const R of F){const j=nu(R.children);P.push(new Bi(R.value,j))}return P.filter(R=>!F.has(R))}function ps(b){const P=b.children.map(F=>ps(F)).flat();return[b,...P]}function iu(b){return(0,ut.n)(P=>{const F=b(P);return F?(0,Qe.H)(F).pipe((0,Ye.T)(()=>P)):(0,me.of)(P)})}let tl=(()=>{var b;class P{buildTitle(R){let j,fe=R.root;for(;void 0!==fe;){var Se;j=null!==(Se=this.getResolvedTitleForRoute(fe))&&void 0!==Se?Se:j,fe=fe.children.find(kt=>kt.outlet===jt)}return j}getResolvedTitleForRoute(R){return R.data[Pt]}}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:()=>(0,s.WQX)(as),providedIn:"root"}),P})(),as=(()=>{var b;class P extends tl{constructor(R){super(),this.title=R}updateTitle(R){const j=this.buildTitle(R);void 0!==j&&this.title.setTitle(j)}}return(b=P).\u0275fac=function(R){return new(R||b)(s.KVO(Ot.hE))},b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),P})();const Uo=new s.nKC("",{providedIn:"root",factory:()=>({})}),fo=new s.nKC("");let Da=(()=>{var b;class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.WQX)(s.Ql9)}loadComponent(R){if(this.componentLoaders.get(R))return this.componentLoaders.get(R);if(R._loadedComponent)return(0,me.of)(R._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(R);const j=We(R.loadComponent()).pipe((0,Ye.T)(ou),(0,nn.M)(Se=>{this.onLoadEndListener&&this.onLoadEndListener(R),R._loadedComponent=Se}),(0,$e.j)(()=>{this.componentLoaders.delete(R)})),fe=new Me(j,()=>new Fe.B).pipe(It());return this.componentLoaders.set(R,fe),fe}loadChildren(R,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,me.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const Se=function Ol(b,P,F,R){return We(b.loadChildren()).pipe((0,Ye.T)(ou),(0,Tt.Z)(j=>j instanceof s.Co$||Array.isArray(j)?(0,me.of)(j):(0,Qe.H)(P.compileModuleAsync(j))),(0,Ye.T)(j=>{R&&R(b);let fe,Se,kt=!1;return Array.isArray(j)?(Se=j,!0):(fe=j.create(F).injector,Se=fe.get(fo,[],{optional:!0,self:!0}).flat()),{routes:Se.map(Ni),injector:fe}}))}(j,this.compiler,R,this.onLoadEndListener).pipe((0,$e.j)(()=>{this.childrenLoaders.delete(j)})),kt=new Me(Se,()=>new Fe.B).pipe(It());return this.childrenLoaders.set(j,kt),kt}}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),P})();function ou(b){return function gs(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let xs=(()=>{var b;class P{}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:()=>(0,s.WQX)(S),providedIn:"root"}),P})(),S=(()=>{var b;class P{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,j){return R}}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),P})();const G=new s.nKC(""),Be=new s.nKC("");function U(b,P,F){const R=b.get(Be),j=b.get(tt.qQ);return b.get(s.SKi).runOutsideAngular(()=>{if(!j.startViewTransition||R.skipNextTransition)return R.skipNextTransition=!1,new Promise(Gt=>setTimeout(Gt));let fe;const Se=new Promise(Gt=>{fe=Gt}),kt=j.startViewTransition(()=>(fe(),function Ee(b){return new Promise(P=>{(0,s.mal)(P,{injector:b})})}(b))),{onViewTransitionCreated:bn}=R;return bn&&(0,s.N4e)(b,()=>bn({transition:kt,from:P,to:F})),Se})}let qe=(()=>{var b;class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe.B,this.transitionAbortSubject=new Fe.B,this.configLoader=(0,s.WQX)(Da),this.environmentInjector=(0,s.WQX)(s.uvJ),this.urlSerializer=(0,s.WQX)(Bn),this.rootContexts=(0,s.WQX)(ui),this.location=(0,s.WQX)(tt.aZ),this.inputBindingEnabled=null!==(0,s.WQX)(un,{optional:!0}),this.titleStrategy=(0,s.WQX)(tl),this.options=(0,s.WQX)(Uo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,s.WQX)(xs),this.createViewTransition=(0,s.WQX)(G,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,me.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=fe=>this.events.next(new Ui(fe)),this.configLoader.onLoadStartListener=fe=>this.events.next(new ka(fe))}complete(){var R;null===(R=this.transitions)||void 0===R||R.complete()}handleNavigationRequest(R){var j;const fe=++this.navigationId;null===(j=this.transitions)||void 0===j||j.next({...this.transitions.value,...R,id:fe})}setupNavigations(R,j,fe){return this.transitions=new et.t({id:0,currentUrlTree:j,currentRawUrl:j,extractedUrl:this.urlHandlingStrategy.extract(j),urlAfterRedirects:this.urlHandlingStrategy.extract(j),rawUrl:j,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wi,restoredState:null,currentSnapshot:fe.snapshot,targetSnapshot:null,currentRouterState:fe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,He.p)(Se=>0!==Se.id),(0,Ye.T)(Se=>({...Se,extractedUrl:this.urlHandlingStrategy.extract(Se.rawUrl)})),(0,ut.n)(Se=>{let kt=!1,bn=!1;return(0,me.of)(Se).pipe((0,ut.n)(Gt=>{var Gn;if(this.navigationId>Se.id)return this.cancelNavigationTransition(Se,"",ai.SupersededByNewNavigation),Ct.w;this.currentTransition=Se,this.currentNavigation={id:Gt.id,initialUrl:Gt.rawUrl,extractedUrl:Gt.extractedUrl,trigger:Gt.source,extras:Gt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Tr=!R.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),$i=null!==(Gn=Gt.extras.onSameUrlNavigation)&&void 0!==Gn?Gn:R.onSameUrlNavigation;if(!Tr&&"reload"!==$i){const Qr="";return this.events.next(new jo(Gt.id,this.urlSerializer.serialize(Gt.rawUrl),Qr,Li.IgnoredSameUrlNavigation)),Gt.resolve(null),Ct.w}if(this.urlHandlingStrategy.shouldProcessUrl(Gt.rawUrl))return(0,me.of)(Gt).pipe((0,ut.n)(Qr=>{var Qo,Sa;const Fs=null===(Qo=this.transitions)||void 0===Qo?void 0:Qo.getValue();return this.events.next(new uo(Qr.id,this.urlSerializer.serialize(Qr.extractedUrl),Qr.source,Qr.restoredState)),Fs!==(null===(Sa=this.transitions)||void 0===Sa?void 0:Sa.getValue())?Ct.w:Promise.resolve(Qr)}),function Nl(b,P,F,R,j,fe){return(0,Tt.Z)(Se=>function el(b,P,F,R,j,fe,Se="emptyOnly"){return new Ys(b,P,F,R,j,Se,fe).recognize()}(b,P,F,R,Se.extractedUrl,j,fe).pipe((0,Ye.T)(({state:kt,tree:bn})=>({...Se,targetSnapshot:kt,urlAfterRedirects:bn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,R.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,nn.M)(Qr=>{Se.targetSnapshot=Qr.targetSnapshot,Se.urlAfterRedirects=Qr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Qr.urlAfterRedirects};const Qo=new zo(Qr.id,this.urlSerializer.serialize(Qr.extractedUrl),this.urlSerializer.serialize(Qr.urlAfterRedirects),Qr.targetSnapshot);this.events.next(Qo)}));if(Tr&&this.urlHandlingStrategy.shouldProcessUrl(Gt.currentRawUrl)){const{id:Qr,extractedUrl:Qo,source:Sa,restoredState:Fs,extras:Vl}=Gt,Al=new uo(Qr,this.urlSerializer.serialize(Qo),Sa,Fs);this.events.next(Al);const ms=be(this.rootComponentType).snapshot;return this.currentTransition=Se={...Gt,targetSnapshot:ms,urlAfterRedirects:Qo,extras:{...Vl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Qo,(0,me.of)(Se)}{const Qr="";return this.events.next(new jo(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),Qr,Li.IgnoredByUrlHandlingStrategy)),Gt.resolve(null),Ct.w}}),(0,nn.M)(Gt=>{const Gn=new wo(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(Gn)}),(0,Ye.T)(Gt=>(this.currentTransition=Se={...Gt,guards:xr(Gt.targetSnapshot,Gt.currentSnapshot,this.rootContexts)},Se)),function Un(b,P){return(0,Tt.Z)(F=>{const{targetSnapshot:R,currentSnapshot:j,guards:{canActivateChecks:fe,canDeactivateChecks:Se}}=F;return 0===Se.length&&0===fe.length?(0,me.of)({...F,guardsResult:!0}):function Cr(b,P,F,R){return(0,Qe.H)(b).pipe((0,Tt.Z)(j=>function Io(b,P,F,R,j){const fe=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!fe||0===fe.length)return(0,me.of)(!0);const Se=fe.map(kt=>{var bn;const Gt=null!==(bn=$r(P))&&void 0!==bn?bn:j,Gn=hs(kt,Gt);return We(function $(b){return b&&Rs(b.canDeactivate)}(Gn)?Gn.canDeactivate(b,P,F,R):(0,s.N4e)(Gt,()=>Gn(b,P,F,R))).pipe((0,dn.$)())});return(0,me.of)(Se).pipe(fn())}(j.component,j.route,F,P,R)),(0,dn.$)(j=>!0!==j,!0))}(Se,R,j,b).pipe((0,Tt.Z)(kt=>kt&&function ca(b){return"boolean"==typeof b}(kt)?function co(b,P,F,R){return(0,Qe.H)(P).pipe(An(j=>(0,De.x)(function Wo(b,P){return null!==b&&P&&P(new zs(b)),(0,me.of)(!0)}(j.route.parent,R),function Fo(b,P){return null!==b&&P&&P(new Gs(b)),(0,me.of)(!0)}(j.route,R),function ba(b,P,F){const R=P[P.length-1],fe=P.slice(0,P.length-1).reverse().map(Se=>function ri(b){const P=b.routeConfig?b.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:b,guards:P}:null}(Se)).filter(Se=>null!==Se).map(Se=>ot(()=>{const kt=Se.guards.map(bn=>{var Gt;const Gn=null!==(Gt=$r(Se.node))&&void 0!==Gt?Gt:F,Tr=hs(bn,Gn);return We(function q(b){return b&&Rs(b.canActivateChild)}(Tr)?Tr.canActivateChild(R,b):(0,s.N4e)(Gn,()=>Tr(R,b))).pipe((0,dn.$)())});return(0,me.of)(kt).pipe(fn())}));return(0,me.of)(fe).pipe(fn())}(b,j.path,F),function da(b,P,F){const R=P.routeConfig?P.routeConfig.canActivate:null;if(!R||0===R.length)return(0,me.of)(!0);const j=R.map(fe=>ot(()=>{var Se;const kt=null!==(Se=$r(P))&&void 0!==Se?Se:F,bn=hs(fe,kt);return We(function fl(b){return b&&Rs(b.canActivate)}(bn)?bn.canActivate(P,b):(0,s.N4e)(kt,()=>bn(P,b))).pipe((0,dn.$)())}));return(0,me.of)(j).pipe(fn())}(b,j.route,F))),(0,dn.$)(j=>!0!==j,!0))}(R,fe,b,P):(0,me.of)(kt)),(0,Ye.T)(kt=>({...F,guardsResult:kt})))})}(this.environmentInjector,Gt=>this.events.next(Gt)),(0,nn.M)(Gt=>{if(Se.guardsResult=Gt.guardsResult,Ei(Gt.guardsResult))throw Wr(0,Gt.guardsResult);const Gn=new ro(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot,!!Gt.guardsResult);this.events.next(Gn)}),(0,He.p)(Gt=>!!Gt.guardsResult||(this.cancelNavigationTransition(Gt,"",ai.GuardRejected),!1)),iu(Gt=>{if(Gt.guards.canActivateChecks.length)return(0,me.of)(Gt).pipe((0,nn.M)(Gn=>{const Tr=new Dr(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects),Gn.targetSnapshot);this.events.next(Tr)}),(0,ut.n)(Gn=>{let Tr=!1;return(0,me.of)(Gn).pipe(function Ta(b,P){return(0,Tt.Z)(F=>{const{targetSnapshot:R,guards:{canActivateChecks:j}}=F;if(!j.length)return(0,me.of)(F);const fe=new Set(j.map(bn=>bn.route)),Se=new Set;for(const bn of fe)if(!Se.has(bn))for(const Gt of ps(bn))Se.add(Gt);let kt=0;return(0,Qe.H)(Se).pipe(An(bn=>fe.has(bn)?function wa(b,P,F,R){const j=b.routeConfig,fe=b._resolve;return void 0!==(null==j?void 0:j.title)&&!xt(j)&&(fe[Pt]=j.title),function yl(b,P,F,R){const j=tr(b);if(0===j.length)return(0,me.of)({});const fe={};return(0,Qe.H)(j).pipe((0,Tt.Z)(Se=>function Ua(b,P,F,R){var j;const fe=null!==(j=$r(P))&&void 0!==j?j:R,Se=hs(b,fe);return We(Se.resolve?Se.resolve(P,F):(0,s.N4e)(fe,()=>Se(P,F)))}(b[Se],P,F,R).pipe((0,dn.$)(),(0,nn.M)(kt=>{fe[Se]=kt}))),te(1),function Oe(b){return(0,Ye.T)(()=>b)}(fe),Rn(Se=>W(Se)?Ct.w:ct(Se)))}(fe,b,P,R).pipe((0,Ye.T)(Se=>(b._resolvedData=Se,b.data=At(b,b.parent,F).resolve,null)))}(bn,R,b,P):(bn.data=At(bn,bn.parent,b).resolve,(0,me.of)(void 0))),(0,nn.M)(()=>kt++),te(1),(0,Tt.Z)(bn=>kt===Se.size?(0,me.of)(F):Ct.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,nn.M)({next:()=>Tr=!0,complete:()=>{Tr||this.cancelNavigationTransition(Gn,"",ai.NoDataFromResolver)}}))}),(0,nn.M)(Gn=>{const Tr=new zr(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects),Gn.targetSnapshot);this.events.next(Tr)}))}),iu(Gt=>{const Gn=Tr=>{var $i;const Qr=[];null!==($i=Tr.routeConfig)&&void 0!==$i&&$i.loadComponent&&!Tr.routeConfig._loadedComponent&&Qr.push(this.configLoader.loadComponent(Tr.routeConfig).pipe((0,nn.M)(Qo=>{Tr.component=Qo}),(0,Ye.T)(()=>{})));for(const Qo of Tr.children)Qr.push(...Gn(Qo));return Qr};return(0,at.z)(Gn(Gt.targetSnapshot.root)).pipe((0,Ve.U)(null),(0,Ht.s)(1))}),iu(()=>this.afterPreactivation()),(0,ut.n)(()=>{var Gt;const{currentSnapshot:Gn,targetSnapshot:Tr}=Se,$i=null===(Gt=this.createViewTransition)||void 0===Gt?void 0:Gt.call(this,this.environmentInjector,Gn.root,Tr.root);return $i?(0,Qe.H)($i).pipe((0,Ye.T)(()=>Se)):(0,me.of)(Se)}),(0,Ye.T)(Gt=>{const Gn=function ln(b,P,F){const R=On(b,P._root,F?F._root:void 0);return new Q(R,P)}(R.routeReuseStrategy,Gt.targetSnapshot,Gt.currentRouterState);return this.currentTransition=Se={...Gt,targetRouterState:Gn},this.currentNavigation.targetRouterState=Gn,Se}),(0,nn.M)(()=>{this.events.next(new li)}),((b,P,F,R)=>(0,Ye.T)(j=>(new la(P,j.targetRouterState,j.currentRouterState,F,R).activate(b),j)))(this.rootContexts,R.routeReuseStrategy,Gt=>this.events.next(Gt),this.inputBindingEnabled),(0,Ht.s)(1),(0,nn.M)({next:Gt=>{var Gn;kt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new eo(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects))),null===(Gn=this.titleStrategy)||void 0===Gn||Gn.updateTitle(Gt.targetRouterState.snapshot),Gt.resolve(!0)},complete:()=>{kt=!0}}),function Ze(b){return(0,mt.N)((P,F)=>{(0,it.Tg)(b).subscribe((0,Nt._)(F,()=>F.complete(),Re.l)),!F.closed&&P.subscribe(F)})}(this.transitionAbortSubject.pipe((0,nn.M)(Gt=>{throw Gt}))),(0,$e.j)(()=>{var Gt;!kt&&!bn&&this.cancelNavigationTransition(Se,"",ai.SupersededByNewNavigation),(null===(Gt=this.currentTransition)||void 0===Gt?void 0:Gt.id)===Se.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rn(Gt=>{if(bn=!0,Zr(Gt))this.events.next(new Oo(Se.id,this.urlSerializer.serialize(Se.extractedUrl),Gt.message,Gt.cancellationCode)),function Sr(b){return Zr(b)&&Ei(b.url)}(Gt)?this.events.next(new Go(Gt.url)):Se.resolve(!1);else{var Gn;this.events.next(new Ho(Se.id,this.urlSerializer.serialize(Se.extractedUrl),Gt,null!==(Gn=Se.targetSnapshot)&&void 0!==Gn?Gn:void 0));try{Se.resolve(R.errorHandler(Gt))}catch(Tr){this.options.resolveNavigationPromiseOnError?Se.resolve(!1):Se.reject(Tr)}}return Ct.w}))}))}cancelNavigationTransition(R,j,fe){const Se=new Oo(R.id,this.urlSerializer.serialize(R.extractedUrl),j,fe);this.events.next(Se),R.resolve(!1)}isUpdatingInternalState(){var R,j;return(null===(R=this.currentTransition)||void 0===R?void 0:R.extractedUrl.toString())!==(null===(j=this.currentTransition)||void 0===j?void 0:j.currentUrlTree.toString())}isUpdatedBrowserUrl(){var R,j;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(R=this.currentTransition)||void 0===R?void 0:R.extractedUrl.toString())&&!(null!==(j=this.currentTransition)&&void 0!==j&&j.extras.skipLocationChange)}}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),P})();function tn(b){return b!==Wi}let Tn=(()=>{var b;class P{}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:()=>(0,s.WQX)(ti),providedIn:"root"}),P})();class Nr{shouldDetach(P){return!1}store(P,F){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,F){return P.routeConfig===F.routeConfig}}let ti=(()=>{var b;class P extends Nr{}return(b=P).\u0275fac=(()=>{let F;return function(j){return(F||(F=s.xGo(b)))(j||b)}})(),b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),P})(),hi=(()=>{var b;class P{}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:()=>(0,s.WQX)(Vr),providedIn:"root"}),P})(),Vr=(()=>{var b;class P extends hi{constructor(){super(...arguments),this.location=(0,s.WQX)(tt.aZ),this.urlSerializer=(0,s.WQX)(Bn),this.options=(0,s.WQX)(Uo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,s.WQX)(xs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new oi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=be(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var R,j;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(R=null===(j=this.restoredState())||void 0===j?void 0:j.\u0275routerPageId)&&void 0!==R?R:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(R){return this.location.subscribe(j=>{"popstate"===j.type&&R(j.url,j.state)})}handleRouterEvent(R,j){if(R instanceof uo)this.stateMemento=this.createStateMemento();else if(R instanceof jo)this.rawUrlTree=j.initialUrl;else if(R instanceof zo){if("eager"===this.urlUpdateStrategy&&!j.extras.skipLocationChange){const fe=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl);this.setBrowserUrl(fe,j)}}else R instanceof li?(this.currentUrlTree=j.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j))):R instanceof Oo&&(R.code===ai.GuardRejected||R.code===ai.NoDataFromResolver)?this.restoreHistory(j):R instanceof Ho?this.restoreHistory(j,!0):R instanceof eo&&(this.lastSuccessfulId=R.id,this.currentPageId=this.browserPageId)}setBrowserUrl(R,j){const fe=this.urlSerializer.serialize(R);if(this.location.isCurrentPathEqualTo(fe)||j.extras.replaceUrl){const kt={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId)};this.location.replaceState(fe,"",kt)}else{const Se={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId+1)};this.location.go(fe,"",Se)}}restoreHistory(R,j=!1){if("computed"===this.canceledNavigationResolution){const Se=this.currentPageId-this.browserPageId;0!==Se?this.location.historyGo(Se):this.currentUrlTree===R.finalUrl&&0===Se&&(this.resetState(R),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){var j;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(j=R.finalUrl)&&void 0!==j?j:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(R,j){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:j}:{navigationId:R}}}return(b=P).\u0275fac=(()=>{let F;return function(j){return(F||(F=s.xGo(b)))(j||b)}})(),b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),P})();var ni=function(b){return b[b.COMPLETE=0]="COMPLETE",b[b.FAILED=1]="FAILED",b[b.REDIRECTING=2]="REDIRECTING",b}(ni||{});function Ci(b,P){b.events.pipe((0,He.p)(F=>F instanceof eo||F instanceof Oo||F instanceof Ho||F instanceof jo),(0,Ye.T)(F=>F instanceof eo||F instanceof jo?ni.COMPLETE:F instanceof Oo&&(F.code===ai.Redirect||F.code===ai.SupersededByNewNavigation)?ni.REDIRECTING:ni.FAILED),(0,He.p)(F=>F!==ni.REDIRECTING),(0,Ht.s)(1)).subscribe(()=>{P()})}function po(b){throw b}const Mi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xn=(()=>{var b;class P{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var R,j;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,s.WQX)(s.H3F),this.stateManager=(0,s.WQX)(hi),this.options=(0,s.WQX)(Uo,{optional:!0})||{},this.pendingTasks=(0,s.WQX)(s.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,s.WQX)(qe),this.urlSerializer=(0,s.WQX)(Bn),this.location=(0,s.WQX)(tt.aZ),this.urlHandlingStrategy=(0,s.WQX)(xs),this._events=new Fe.B,this.errorHandler=this.options.errorHandler||po,this.navigated=!1,this.routeReuseStrategy=(0,s.WQX)(Tn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(R=null===(j=(0,s.WQX)(fo,{optional:!0}))||void 0===j?void 0:j.flat())&&void 0!==R?R:[],this.componentInputBindingEnabled=!!(0,s.WQX)(un,{optional:!0}),this.eventsSubscription=new _t.yU,this.isNgZoneEnabled=(0,s.WQX)(s.SKi)instanceof s.SKi&&s.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:fe=>{this.console.warn(fe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const R=this.navigationTransitions.events.subscribe(j=>{try{const fe=this.navigationTransitions.currentTransition,Se=this.navigationTransitions.currentNavigation;if(null!==fe&&null!==Se)if(this.stateManager.handleRouterEvent(j,Se),j instanceof Oo&&j.code!==ai.Redirect&&j.code!==ai.SupersededByNewNavigation)this.navigated=!0;else if(j instanceof eo)this.navigated=!0;else if(j instanceof Go){const kt=this.urlHandlingStrategy.merge(j.url,fe.currentRawUrl),bn={info:fe.extras.info,skipLocationChange:fe.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tn(fe.source)};this.scheduleNavigation(kt,Wi,null,bn,{resolve:fe.resolve,reject:fe.reject,promise:fe.promise})}(function Xi(b){return!(b instanceof li||b instanceof Go)})(j)&&this._events.next(j)}catch(fe){this.navigationTransitions.transitionAbortSubject.next(fe)}});this.eventsSubscription.add(R)}resetRootComponentType(R){this.routerState.root.component=R,this.navigationTransitions.rootComponentType=R}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wi,this.stateManager.restoredState())}setUpLocationChangeListener(){var R;null!==(R=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==R||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((j,fe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(j,"popstate",fe)},0)}))}navigateToSyncWithBrowser(R,j,fe){const Se={replaceUrl:!0},kt=null!=fe&&fe.navigationId?fe:null;if(fe){const Gt={...fe};delete Gt.navigationId,delete Gt.\u0275routerPageId,0!==Object.keys(Gt).length&&(Se.state=Gt)}const bn=this.parseUrl(R);this.scheduleNavigation(bn,j,kt,Se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(R){this.config=R.map(Ni),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(R,j={}){const{relativeTo:fe,queryParams:Se,fragment:kt,queryParamsHandling:bn,preserveFragment:Gt}=j,Gn=Gt?this.currentUrlTree.fragment:kt;let $i,Tr=null;switch(bn){case"merge":Tr={...this.currentUrlTree.queryParams,...Se};break;case"preserve":Tr=this.currentUrlTree.queryParams;break;default:Tr=Se||null}null!==Tr&&(Tr=this.removeEmptyProps(Tr));try{$i=Ti(fe?fe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof R[0]||!R[0].startsWith("/"))&&(R=[]),$i=this.currentUrlTree.root}return Hr($i,R,Tr,null!=Gn?Gn:null)}navigateByUrl(R,j={skipLocationChange:!1}){const fe=Ei(R)?R:this.parseUrl(R),Se=this.urlHandlingStrategy.merge(fe,this.rawUrlTree);return this.scheduleNavigation(Se,Wi,null,j)}navigate(R,j={skipLocationChange:!1}){return function wi(b){for(let P=0;P<b.length;P++)if(null==b[P])throw new s.wOt(4008,!1)}(R),this.navigateByUrl(this.createUrlTree(R,j),j)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){try{return this.urlSerializer.parse(R)}catch{return this.urlSerializer.parse("/")}}isActive(R,j){let fe;if(fe=!0===j?{...Mi}:!1===j?{...Sn}:j,Ei(R))return yr(this.currentUrlTree,R,fe);const Se=this.parseUrl(R);return yr(this.currentUrlTree,Se,fe)}removeEmptyProps(R){return Object.entries(R).reduce((j,[fe,Se])=>(null!=Se&&(j[fe]=Se),j),{})}scheduleNavigation(R,j,fe,Se,kt){if(this.disposed)return Promise.resolve(!1);let bn,Gt,Gn;kt?(bn=kt.resolve,Gt=kt.reject,Gn=kt.promise):Gn=new Promise(($i,Qr)=>{bn=$i,Gt=Qr});const Tr=this.pendingTasks.add();return Ci(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Tr))}),this.navigationTransitions.handleNavigationRequest({source:j,restoredState:fe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:R,extras:Se,resolve:bn,reject:Gt,promise:Gn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Gn.catch($i=>Promise.reject($i))}}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),P})(),Xr=(()=>{var b;class P{constructor(R,j,fe,Se,kt,bn){var Gt;this.router=R,this.route=j,this.tabIndexAttribute=fe,this.renderer=Se,this.el=kt,this.locationStrategy=bn,this.href=null,this.commands=null,this.onChanges=new Fe.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Gn=null===(Gt=kt.nativeElement.tagName)||void 0===Gt?void 0:Gt.toLowerCase();this.isAnchorElement="a"===Gn||"area"===Gn,this.isAnchorElement?this.subscription=R.events.subscribe(Tr=>{Tr instanceof eo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(R){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",R)}ngOnChanges(R){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(R){null!=R?(this.commands=Array.isArray(R)?R:[R],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(R,j,fe,Se,kt){const bn=this.urlTree;return!!(null===bn||this.isAnchorElement&&(0!==R||j||fe||Se||kt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(bn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var R;null===(R=this.subscription)||void 0===R||R.unsubscribe()}updateHref(){var R;const j=this.urlTree;this.href=null!==j&&this.locationStrategy?null===(R=this.locationStrategy)||void 0===R?void 0:R.prepareExternalUrl(this.router.serializeUrl(j)):null;const fe=null===this.href?null:(0,s.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",fe)}applyAttributeValue(R,j){const fe=this.renderer,Se=this.el.nativeElement;null!==j?fe.setAttribute(Se,R,j):fe.removeAttribute(Se,R)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(b=P).\u0275fac=function(R){return new(R||b)(s.rXU(Xn),s.rXU(Ce),s.kS0("tabindex"),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(tt.hb))},b.\u0275dir=s.FsC({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,j){1&R&&s.bIt("click",function(Se){return j.onClick(Se.button,Se.ctrlKey,Se.shiftKey,Se.altKey,Se.metaKey)}),2&R&&s.BMQ("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[s.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",s.L39],skipLocationChange:[s.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",s.L39],replaceUrl:[s.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",s.L39],routerLink:"routerLink"},standalone:!0,features:[s.GFd,s.OA$]}),P})();class jr{}let Rr=(()=>{var b;class P{preload(R,j){return j().pipe(Rn(()=>(0,me.of)(null)))}}return(b=P).\u0275fac=function(R){return new(R||b)},b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),P})(),Or=(()=>{var b;class P{constructor(R,j,fe,Se,kt){this.router=R,this.injector=fe,this.preloadingStrategy=Se,this.loader=kt}setUpPreloading(){this.subscription=this.router.events.pipe((0,He.p)(R=>R instanceof eo),An(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,j){const fe=[];for(const Gt of j){var Se,kt;Gt.providers&&!Gt._injector&&(Gt._injector=(0,s.Ol2)(Gt.providers,R,`Route: ${Gt.path}`));const Gn=null!==(Se=Gt._injector)&&void 0!==Se?Se:R,Tr=null!==(kt=Gt._loadedInjector)&&void 0!==kt?kt:Gn;var bn;(Gt.loadChildren&&!Gt._loadedRoutes&&void 0===Gt.canLoad||Gt.loadComponent&&!Gt._loadedComponent)&&fe.push(this.preloadConfig(Gn,Gt)),(Gt.children||Gt._loadedRoutes)&&fe.push(this.processRoutes(Tr,null!==(bn=Gt.children)&&void 0!==bn?bn:Gt._loadedRoutes))}return(0,Qe.H)(fe).pipe((0,dt.U)())}preloadConfig(R,j){return this.preloadingStrategy.preload(j,()=>{let fe;fe=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(R,j):(0,me.of)(null);const Se=fe.pipe((0,Tt.Z)(kt=>{var bn;return null===kt?(0,me.of)(void 0):(j._loadedRoutes=kt.routes,j._loadedInjector=kt.injector,this.processRoutes(null!==(bn=kt.injector)&&void 0!==bn?bn:R,kt.routes))}));if(j.loadComponent&&!j._loadedComponent){const kt=this.loader.loadComponent(j);return(0,Qe.H)([Se,kt]).pipe((0,dt.U)())}return Se})}}return(b=P).\u0275fac=function(R){return new(R||b)(s.KVO(Xn),s.KVO(s.Ql9),s.KVO(s.uvJ),s.KVO(jr),s.KVO(Da))},b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),P})();const ea=new s.nKC("");let kl=(()=>{var b;class P{constructor(R,j,fe,Se,kt={}){this.urlSerializer=R,this.transitions=j,this.viewportScroller=fe,this.zone=Se,this.options=kt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,s.WQX)(s.uvJ),kt.scrollPositionRestoration||(kt.scrollPositionRestoration="disabled"),kt.anchorScrolling||(kt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof uo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof eo?(this.lastId=R.id,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.urlAfterRedirects).fragment)):R instanceof jo&&R.code===Li.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof Jn&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,j){var fe=this;this.zone.runOutsideAngular((0,d.A)(function*(){yield new Promise(Se=>{setTimeout(()=>{Se()}),(0,s.mal)(()=>{Se()},{injector:fe.environmentInjector})}),fe.zone.run(()=>{fe.transitions.events.next(new Jn(R,"popstate"===fe.lastSource?fe.store[fe.restoredId]:null,j))})}))}ngOnDestroy(){var R,j;null===(R=this.routerEventsSubscription)||void 0===R||R.unsubscribe(),null===(j=this.scrollEventsSubscription)||void 0===j||j.unsubscribe()}}return(b=P).\u0275fac=function(R){s.QTQ()},b.\u0275prov=s.jDH({token:b,factory:b.\u0275fac}),P})();function qo(b,P){return{\u0275kind:b,\u0275providers:P}}function Qi(){const b=(0,s.WQX)(s.zZn);return P=>{var F,R;const j=b.get(s.o8S);if(P!==j.components[0])return;const fe=b.get(Xn),Se=b.get($a);1===b.get(ta)&&fe.initialNavigation(),null===(F=b.get(Os,null,s.$GK.Optional))||void 0===F||F.setUpPreloading(),null===(R=b.get(ea,null,s.$GK.Optional))||void 0===R||R.init(),fe.resetRootComponentType(j.componentTypes[0]),Se.closed||(Se.next(),Se.complete(),Se.unsubscribe())}}const $a=new s.nKC("",{factory:()=>new Fe.B}),ta=new s.nKC("",{providedIn:"root",factory:()=>1}),Os=new s.nKC("");function mo(b){return qo(0,[{provide:Os,useExisting:Or},{provide:jr,useExisting:b}])}function Mo(b){return qo(9,[{provide:G,useValue:U},{provide:Be,useValue:{skipNextTransition:!(null==b||!b.skipInitialTransition),...b}}])}const Xo=new s.nKC("ROUTER_FORROOT_GUARD"),Yi=[tt.aZ,{provide:Bn,useClass:Ln},Xn,ui,{provide:Ce,useFactory:function _i(b){return b.routerState.root},deps:[Xn]},Da,[]];let ls=(()=>{var b;class P{constructor(R){}static forRoot(R,j){return{ngModule:P,providers:[Yi,[],{provide:fo,multi:!0,useValue:R},{provide:Xo,useFactory:ks,deps:[[Xn,new s.Xx1,new s.kdw]]},{provide:Uo,useValue:j||{}},null!=j&&j.useHash?{provide:tt.hb,useClass:tt.fw}:{provide:tt.hb,useClass:tt.Sm},{provide:ea,useFactory:()=>{const b=(0,s.WQX)(tt.Xr),P=(0,s.WQX)(s.SKi),F=(0,s.WQX)(Uo),R=(0,s.WQX)(qe),j=(0,s.WQX)(Bn);return F.scrollOffset&&b.setOffset(F.scrollOffset),new kl(j,R,b,P,F)}},null!=j&&j.preloadingStrategy?mo(j.preloadingStrategy).\u0275providers:[],null!=j&&j.initialNavigation?au(j):[],null!=j&&j.bindToComponentInputs?qo(8,[an,{provide:un,useExisting:an}]).\u0275providers:[],null!=j&&j.enableViewTransitions?Mo().\u0275providers:[],[{provide:lu,useFactory:Qi},{provide:s.iLQ,multi:!0,useExisting:lu}]]}}static forChild(R){return{ngModule:P,providers:[{provide:fo,multi:!0,useValue:R}]}}}return(b=P).\u0275fac=function(R){return new(R||b)(s.KVO(Xo,8))},b.\u0275mod=s.$C({type:b}),b.\u0275inj=s.G2t({}),P})();function ks(b){return"guarded"}function au(b){return["disabled"===b.initialNavigation?qo(3,[{provide:s.hnV,multi:!0,useFactory:()=>{const P=(0,s.WQX)(Xn);return()=>{P.setUpLocationChangeListener()}}},{provide:ta,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?qo(2,[{provide:ta,useValue:0},{provide:s.hnV,multi:!0,deps:[s.zZn],useFactory:P=>{const F=P.get(tt.hj,Promise.resolve());return()=>F.then(()=>new Promise(R=>{const j=P.get(Xn),fe=P.get($a);Ci(j,()=>{R(!0)}),P.get(qe).afterPreactivation=()=>(R(!0),fe.closed?(0,me.of)(void 0):fe),j.initialNavigation()}))}}]).\u0275providers:[]]}const lu=new s.nKC("")},3345:(xn,St,L)=>{"use strict";L.d(St,{A:()=>ct});var d=L(1076),s=L(1362),k=L(7852),de=L(8041);class ae{constructor(_t,mt){this._delegate=_t,this.firebase=mt,(0,k._addComponent)(_t,new s.uA("app-compat",()=>this,"PUBLIC")),this.container=_t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_t){this._delegate.automaticDataCollectionEnabled=_t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_t=>{this._delegate.checkDestroyed(),_t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(_t,mt=k._DEFAULT_ENTRY_NAME){var Nt;this._delegate.checkDestroyed();const It=this._delegate.container.getProvider(_t);return!It.isInitialized()&&"EXPLICIT"===(null===(Nt=It.getComponent())||void 0===Nt?void 0:Nt.instantiationMode)&&It.initialize(),It.getImmediate({identifier:mt})}_removeServiceInstance(_t,mt=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_t).clearInstance(mt)}_addComponent(_t){(0,k._addComponent)(this._delegate,_t)}_addOrOverwriteComponent(_t){(0,k._addOrOverwriteComponent)(this._delegate,_t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Le=function at(){const Ct=function et(Ct){const _t={},mt={__esModule:!0,initializeApp:function Me(ut,Ht={}){const he=k.initializeApp(ut,Ht);if((0,d.gR)(_t,he.name))return _t[he.name];const He=new Ct(he,mt);return _t[he.name]=He,He},app:It,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function tt(ut){const Ht=ut.name,he=Ht.replace("-compat","");if(k._registerComponent(ut)&&"PUBLIC"===ut.type){const He=(Tt=It())=>{if("function"!=typeof Tt[he])throw me.create("invalid-app-argument",{appName:Ht});return Tt[he]()};void 0!==ut.serviceProps&&(0,d.zw)(He,ut.serviceProps),mt[he]=He,Ct.prototype[he]=function(...Tt){return this._getService.bind(this,Ht).apply(this,ut.multipleInstances?Tt:[])}}return"PUBLIC"===ut.type?mt[he]:null},removeApp:function Nt(ut){delete _t[ut]},useAsService:function Ye(ut,Ht){return"serverAuth"===Ht?null:Ht},modularAPIs:k}};function It(ut){if(!(0,d.gR)(_t,ut=ut||k._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:ut});return _t[ut]}return mt.default=mt,Object.defineProperty(mt,"apps",{get:function Fe(){return Object.keys(_t).map(ut=>_t[ut])}}),It.App=Ct,mt}(ae);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:at,extendNamespace:function _t(mt){(0,d.zw)(Ct,mt)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),Ct}(),De=new de.Vy("@firebase/app-compat");if((0,d.Bd)()&&void 0!==self.firebase){De.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&De.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ct=Le;!function nt(Ct){(0,k.registerVersion)("@firebase/app-compat","0.2.34",Ct)}()},7852:(xn,St,L)=>{"use strict";L.r(St),L.d(St,{FirebaseError:()=>de.g,SDK_VERSION:()=>_r,_DEFAULT_ENTRY_NAME:()=>ar,_addComponent:()=>Ar,_addOrOverwriteComponent:()=>oi,_apps:()=>yn,_clearComponents:()=>Bn,_components:()=>hr,_getProvider:()=>qr,_isFirebaseApp:()=>gi,_isFirebaseServerApp:()=>Qn,_registerComponent:()=>rr,_removeServiceInstance:()=>In,_serverApps:()=>dr,deleteApp:()=>pt,getApp:()=>ht,getApps:()=>Vt,initializeApp:()=>_n,initializeServerApp:()=>ft,onLog:()=>se,registerVersion:()=>Ae,setLogLevel:()=>Ie});var d=L(467),s=L(1362),k=L(8041),de=L(1076);const ae=(Wt,ie)=>ie.some(ee=>Wt instanceof ee);let Qe,me;const Le=new WeakMap,De=new WeakMap,it=new WeakMap,ot=new WeakMap,nt=new WeakMap;let _t={get(Wt,ie,ee){if(Wt instanceof IDBTransaction){if("done"===ie)return De.get(Wt);if("objectStoreNames"===ie)return Wt.objectStoreNames||it.get(Wt);if("store"===ie)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Me(Wt[ie])},set:(Wt,ie,ee)=>(Wt[ie]=ee,!0),has:(Wt,ie)=>Wt instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in Wt};function It(Wt){return"function"==typeof Wt?function Nt(Wt){return Wt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function at(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Wt)?function(...ie){return Wt.apply(Fe(this),ie),Me(Le.get(this))}:function(...ie){return Me(Wt.apply(Fe(this),ie))}:function(ie,...ee){const Ge=Wt.call(Fe(this),ie,...ee);return it.set(Ge,ie.sort?ie.sort():[ie]),Me(Ge)}}(Wt):(Wt instanceof IDBTransaction&&function Ct(Wt){if(De.has(Wt))return;const ie=new Promise((ee,Ge)=>{const le=()=>{Wt.removeEventListener("complete",re),Wt.removeEventListener("error",Ue),Wt.removeEventListener("abort",Ue)},re=()=>{ee(),le()},Ue=()=>{Ge(Wt.error||new DOMException("AbortError","AbortError")),le()};Wt.addEventListener("complete",re),Wt.addEventListener("error",Ue),Wt.addEventListener("abort",Ue)});De.set(Wt,ie)}(Wt),ae(Wt,function et(){return Qe||(Qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Wt,_t):Wt)}function Me(Wt){if(Wt instanceof IDBRequest)return function ct(Wt){const ie=new Promise((ee,Ge)=>{const le=()=>{Wt.removeEventListener("success",re),Wt.removeEventListener("error",Ue)},re=()=>{ee(Me(Wt.result)),le()},Ue=()=>{Ge(Wt.error),le()};Wt.addEventListener("success",re),Wt.addEventListener("error",Ue)});return ie.then(ee=>{ee instanceof IDBCursor&&Le.set(ee,Wt)}).catch(()=>{}),nt.set(ie,Wt),ie}(Wt);if(ot.has(Wt))return ot.get(Wt);const ie=It(Wt);return ie!==Wt&&(ot.set(Wt,ie),nt.set(ie,Wt)),ie}const Fe=Wt=>nt.get(Wt),ut=["get","getKey","getAll","getAllKeys","count"],Ht=["put","add","delete","clear"],he=new Map;function He(Wt,ie){if(!(Wt instanceof IDBDatabase)||ie in Wt||"string"!=typeof ie)return;if(he.get(ie))return he.get(ie);const ee=ie.replace(/FromIndex$/,""),Ge=ie!==ee,le=Ht.includes(ee);if(!(ee in(Ge?IDBIndex:IDBObjectStore).prototype)||!le&&!ut.includes(ee))return;const re=function(){var Ue=(0,d.A)(function*(Lt,...Ut){const En=this.transaction(Lt,le?"readwrite":"readonly");let or=En.store;return Ge&&(or=or.index(Ut.shift())),(yield Promise.all([or[ee](...Ut),le&&En.done]))[0]});return function(Ut){return Ue.apply(this,arguments)}}();return he.set(ie,re),re}!function mt(Wt){_t=Wt(_t)}(Wt=>({...Wt,get:(ie,ee,Ge)=>He(ie,ee)||Wt.get(ie,ee,Ge),has:(ie,ee)=>!!He(ie,ee)||Wt.has(ie,ee)}));class Tt{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function dn(Wt){const ie=Wt.getComponent();return"VERSION"===(null==ie?void 0:ie.type)}(ee)){const Ge=ee.getImmediate();return`${Ge.library}/${Ge.version}`}return null}).filter(ee=>ee).join(" ")}}const An="@firebase/app",nn="0.10.4",Rn=new k.Vy("@firebase/app"),ar="[DEFAULT]",Fn={[An]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,dr=new Map,hr=new Map;function Ar(Wt,ie){try{Wt.container.addComponent(ie)}catch(ee){Rn.debug(`Component ${ie.name} failed to register with FirebaseApp ${Wt.name}`,ee)}}function oi(Wt,ie){Wt.container.addOrOverwriteComponent(ie)}function rr(Wt){const ie=Wt.name;if(hr.has(ie))return Rn.debug(`There were multiple attempts to register component ${ie}.`),!1;hr.set(ie,Wt);for(const ee of yn.values())Ar(ee,Wt);for(const ee of dr.values())Ar(ee,Wt);return!0}function qr(Wt,ie){const ee=Wt.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),Wt.container.getProvider(ie)}function In(Wt,ie,ee=ar){qr(Wt,ie).clearInstance(ee)}function gi(Wt){return void 0!==Wt.options}function Qn(Wt){return void 0!==Wt.settings}function Bn(){hr.clear()}const pr=new de.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class zn{constructor(ie,ee,Ge){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=Ge,this.container.addComponent(new s.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}class si extends zn{constructor(ie,ee,Ge,le){const re=void 0!==ee.automaticDataCollectionEnabled&&ee.automaticDataCollectionEnabled,Ue={name:Ge,automaticDataCollectionEnabled:re};super(void 0!==ie.apiKey?ie:ie.options,Ue,le),this._serverConfig=Object.assign({automaticDataCollectionEnabled:re},ee),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,ee.releaseOnDeref=void 0,Ae(An,nn,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ie){this.isDeleted||(this._refCount++,void 0!==ie&&this._finalizationRegistry.register(ie,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){pt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw pr.create("server-app-deleted")}}const _r="10.12.1";function _n(Wt,ie={}){let ee=Wt;"object"!=typeof ie&&(ie={name:ie});const Ge=Object.assign({name:ar,automaticDataCollectionEnabled:!1},ie),le=Ge.name;if("string"!=typeof le||!le)throw pr.create("bad-app-name",{appName:String(le)});if(ee||(ee=(0,de.T9)()),!ee)throw pr.create("no-options");const re=yn.get(le);if(re){if((0,de.bD)(ee,re.options)&&(0,de.bD)(Ge,re.config))return re;throw pr.create("duplicate-app",{appName:le})}const Ue=new s.h1(le);for(const Ut of hr.values())Ue.addComponent(Ut);const Lt=new zn(ee,Ge,Ue);return yn.set(le,Lt),Lt}function ft(Wt,ie){if((0,de.Bd)())throw pr.create("invalid-server-app-environment");let ee;void 0===ie.automaticDataCollectionEnabled&&(ie.automaticDataCollectionEnabled=!1),ee=gi(Wt)?Wt.options:Wt;const Ge=Object.assign(Object.assign({},ie),ee);if(void 0!==Ge.releaseOnDeref&&delete Ge.releaseOnDeref,void 0!==ie.releaseOnDeref&&typeof FinalizationRegistry>"u")throw pr.create("finalization-registry-not-supported",{});const re=""+(En=JSON.stringify(Ge),[...En].reduce((or,nr)=>Math.imul(31,or)+nr.charCodeAt(0)|0,0)),Ue=dr.get(re);var En;if(Ue)return Ue.incRefCount(ie.releaseOnDeref),Ue;const Lt=new s.h1(re);for(const En of hr.values())Lt.addComponent(En);const Ut=new si(ee,ie,re,Lt);return dr.set(re,Ut),Ut}function ht(Wt=ar){const ie=yn.get(Wt);if(!ie&&Wt===ar&&(0,de.T9)())return _n();if(!ie)throw pr.create("no-app",{appName:Wt});return ie}function Vt(){return Array.from(yn.values())}function pt(Wt){return ce.apply(this,arguments)}function ce(){return(ce=(0,d.A)(function*(Wt){let ie=!1;const ee=Wt.name;yn.has(ee)?(ie=!0,yn.delete(ee)):dr.has(ee)&&Wt.decRefCount()<=0&&(dr.delete(ee),ie=!0),ie&&(yield Promise.all(Wt.container.getProviders().map(Ge=>Ge.delete())),Wt.isDeleted=!0)})).apply(this,arguments)}function Ae(Wt,ie,ee){var Ge;let le=null!==(Ge=Fn[Wt])&&void 0!==Ge?Ge:Wt;ee&&(le+=`-${ee}`);const re=le.match(/\s|\//),Ue=ie.match(/\s|\//);if(re||Ue){const Lt=[`Unable to register library "${le}" with version "${ie}":`];return re&&Lt.push(`library name "${le}" contains illegal characters (whitespace or "/")`),re&&Ue&&Lt.push("and"),Ue&&Lt.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void Rn.warn(Lt.join(" "))}rr(new s.uA(`${le}-version`,()=>({library:le,version:ie}),"VERSION"))}function se(Wt,ie){if(null!==Wt&&"function"!=typeof Wt)throw pr.create("invalid-log-argument");(0,k.Ey)(Wt,ie)}function Ie(Wt){(0,k.He)(Wt)}const ue="firebase-heartbeat-database",gt=1,Qt="firebase-heartbeat-store";let Dn=null;function Wn(){return Dn||(Dn=function tt(Wt,ie,{blocked:ee,upgrade:Ge,blocking:le,terminated:re}={}){const Ue=indexedDB.open(Wt,ie),Lt=Me(Ue);return Ge&&Ue.addEventListener("upgradeneeded",Ut=>{Ge(Me(Ue.result),Ut.oldVersion,Ut.newVersion,Me(Ue.transaction),Ut)}),ee&&Ue.addEventListener("blocked",Ut=>ee(Ut.oldVersion,Ut.newVersion,Ut)),Lt.then(Ut=>{re&&Ut.addEventListener("close",()=>re()),le&&Ut.addEventListener("versionchange",En=>le(En.oldVersion,En.newVersion,En))}).catch(()=>{}),Lt}(ue,gt,{upgrade:(Wt,ie)=>{if(0===ie)try{Wt.createObjectStore(Qt)}catch(ee){console.warn(ee)}}}).catch(Wt=>{throw pr.create("idb-open",{originalErrorMessage:Wt.message})})),Dn}function Ur(){return(Ur=(0,d.A)(function*(Wt){try{const ee=(yield Wn()).transaction(Qt),Ge=yield ee.objectStore(Qt).get(Yn(Wt));return yield ee.done,Ge}catch(ie){if(ie instanceof de.g)Rn.warn(ie.message);else{const ee=pr.create("idb-get",{originalErrorMessage:null==ie?void 0:ie.message});Rn.warn(ee.message)}}})).apply(this,arguments)}function st(Wt,ie){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.A)(function*(Wt,ie){try{const Ge=(yield Wn()).transaction(Qt,"readwrite");yield Ge.objectStore(Qt).put(ie,Yn(Wt)),yield Ge.done}catch(ee){if(ee instanceof de.g)Rn.warn(ee.message);else{const Ge=pr.create("idb-set",{originalErrorMessage:null==ee?void 0:ee.message});Rn.warn(Ge.message)}}})).apply(this,arguments)}function Yn(Wt){return`${Wt.name}!${Wt.options.appId}`}class vo{constructor(ie){this.container=ie,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new Fi(ee),this._heartbeatsCachePromise=this._storage.read().then(Ge=>(this._heartbeatsCache=Ge,Ge))}triggerHeartbeat(){var ie=this;return(0,d.A)(function*(){var ee,Ge;const re=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ue=Ti();if((null!=(null===(ee=ie._heartbeatsCache)||void 0===ee?void 0:ee.heartbeats)||(ie._heartbeatsCache=yield ie._heartbeatsCachePromise,null!=(null===(Ge=ie._heartbeatsCache)||void 0===Ge?void 0:Ge.heartbeats)))&&ie._heartbeatsCache.lastSentHeartbeatDate!==Ue&&!ie._heartbeatsCache.heartbeats.some(Lt=>Lt.date===Ue))return ie._heartbeatsCache.heartbeats.push({date:Ue,agent:re}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(Lt=>{const Ut=new Date(Lt.date).valueOf();return Date.now()-Ut<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,d.A)(function*(){var ee;if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null==(null===(ee=ie._heartbeatsCache)||void 0===ee?void 0:ee.heartbeats)||0===ie._heartbeatsCache.heartbeats.length)return"";const Ge=Ti(),{heartbeatsToSend:le,unsentEntries:re}=function Hr(Wt,ie=1024){const ee=[];let Ge=Wt.slice();for(const le of Wt){const re=ee.find(Ue=>Ue.agent===le.agent);if(re){if(re.dates.push(le.date),Gi(ee)>ie){re.dates.pop();break}}else if(ee.push({agent:le.agent,dates:[le.date]}),Gi(ee)>ie){ee.pop();break}Ge=Ge.slice(1)}return{heartbeatsToSend:ee,unsentEntries:Ge}}(ie._heartbeatsCache.heartbeats),Ue=(0,de.Uj)(JSON.stringify({version:2,heartbeats:le}));return ie._heartbeatsCache.lastSentHeartbeatDate=Ge,re.length>0?(ie._heartbeatsCache.heartbeats=re,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),Ue})()}}function Ti(){return(new Date).toISOString().substring(0,10)}class Fi{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,de.zW)()&&(0,de.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,d.A)(function*(){if(yield ie._canUseIndexedDBPromise){const Ge=yield function fr(Wt){return Ur.apply(this,arguments)}(ie.app);return null!=Ge&&Ge.heartbeats?Ge:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ie){var ee=this;return(0,d.A)(function*(){var Ge;if(yield ee._canUseIndexedDBPromise){const re=yield ee.read();return st(ee.app,{lastSentHeartbeatDate:null!==(Ge=ie.lastSentHeartbeatDate)&&void 0!==Ge?Ge:re.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var ee=this;return(0,d.A)(function*(){var Ge;if(yield ee._canUseIndexedDBPromise){const re=yield ee.read();return st(ee.app,{lastSentHeartbeatDate:null!==(Ge=ie.lastSentHeartbeatDate)&&void 0!==Ge?Ge:re.lastSentHeartbeatDate,heartbeats:[...re.heartbeats,...ie.heartbeats]})}})()}}function Gi(Wt){return(0,de.Uj)(JSON.stringify({version:2,heartbeats:Wt})).length}!function no(Wt){rr(new s.uA("platform-logger",ie=>new Tt(ie),"PRIVATE")),rr(new s.uA("heartbeat",ie=>new vo(ie),"PRIVATE")),Ae(An,nn,Wt),Ae(An,nn,"esm2017"),Ae("fire-js","")}("")},1362:(xn,St,L)=>{"use strict";L.d(St,{h1:()=>et,uA:()=>k});var d=L(467),s=L(1076);class k{constructor(Le,De,it){this.name=Le,this.instanceFactory=De,this.type=it,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Le){return this.instantiationMode=Le,this}setMultipleInstances(Le){return this.multipleInstances=Le,this}setServiceProps(Le){return this.serviceProps=Le,this}setInstanceCreatedCallback(Le){return this.onInstanceCreated=Le,this}}const de="[DEFAULT]";class ae{constructor(Le,De){this.name=Le,this.container=De,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Le){const De=this.normalizeInstanceIdentifier(Le);if(!this.instancesDeferred.has(De)){const it=new s.cY;if(this.instancesDeferred.set(De,it),this.isInitialized(De)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:De});ot&&it.resolve(ot)}catch{}}return this.instancesDeferred.get(De).promise}getImmediate(Le){var De;const it=this.normalizeInstanceIdentifier(null==Le?void 0:Le.identifier),ot=null!==(De=null==Le?void 0:Le.optional)&&void 0!==De&&De;if(!this.isInitialized(it)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:it})}catch(nt){if(ot)return null;throw nt}}getComponent(){return this.component}setComponent(Le){if(Le.name!==this.name)throw Error(`Mismatching Component ${Le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Le,this.shouldAutoInitialize()){if(function me(at){return"EAGER"===at.instantiationMode}(Le))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[De,it]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(De);try{const nt=this.getOrInitializeService({instanceIdentifier:ot});it.resolve(nt)}catch{}}}}clearInstance(Le=de){this.instancesDeferred.delete(Le),this.instancesOptions.delete(Le),this.instances.delete(Le)}delete(){var Le=this;return(0,d.A)(function*(){const De=Array.from(Le.instances.values());yield Promise.all([...De.filter(it=>"INTERNAL"in it).map(it=>it.INTERNAL.delete()),...De.filter(it=>"_delete"in it).map(it=>it._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Le=de){return this.instances.has(Le)}getOptions(Le=de){return this.instancesOptions.get(Le)||{}}initialize(Le={}){const{options:De={}}=Le,it=this.normalizeInstanceIdentifier(Le.instanceIdentifier);if(this.isInitialized(it))throw Error(`${this.name}(${it}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:it,options:De});for(const[nt,ct]of this.instancesDeferred.entries())it===this.normalizeInstanceIdentifier(nt)&&ct.resolve(ot);return ot}onInit(Le,De){var it;const ot=this.normalizeInstanceIdentifier(De),nt=null!==(it=this.onInitCallbacks.get(ot))&&void 0!==it?it:new Set;nt.add(Le),this.onInitCallbacks.set(ot,nt);const ct=this.instances.get(ot);return ct&&Le(ct,ot),()=>{nt.delete(Le)}}invokeOnInitCallbacks(Le,De){const it=this.onInitCallbacks.get(De);if(it)for(const ot of it)try{ot(Le,De)}catch{}}getOrInitializeService({instanceIdentifier:Le,options:De={}}){let it=this.instances.get(Le);if(!it&&this.component&&(it=this.component.instanceFactory(this.container,{instanceIdentifier:(at=Le,at===de?void 0:at),options:De}),this.instances.set(Le,it),this.instancesOptions.set(Le,De),this.invokeOnInitCallbacks(it,Le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Le,it)}catch{}var at;return it||null}normalizeInstanceIdentifier(Le=de){return this.component?this.component.multipleInstances?Le:de:Le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class et{constructor(Le){this.name=Le,this.providers=new Map}addComponent(Le){const De=this.getProvider(Le.name);if(De.isComponentSet())throw new Error(`Component ${Le.name} has already been registered with ${this.name}`);De.setComponent(Le)}addOrOverwriteComponent(Le){this.getProvider(Le.name).isComponentSet()&&this.providers.delete(Le.name),this.addComponent(Le)}getProvider(Le){if(this.providers.has(Le))return this.providers.get(Le);const De=new ae(Le,this);return this.providers.set(Le,De),De}getProviders(){return Array.from(this.providers.values())}}},8041:(xn,St,L)=>{"use strict";L.d(St,{$b:()=>s,Ey:()=>at,He:()=>et,Vy:()=>me});const d=[];var s=function(Le){return Le[Le.DEBUG=0]="DEBUG",Le[Le.VERBOSE=1]="VERBOSE",Le[Le.INFO=2]="INFO",Le[Le.WARN=3]="WARN",Le[Le.ERROR=4]="ERROR",Le[Le.SILENT=5]="SILENT",Le}(s||{});const k={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},de=s.INFO,ae={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},Qe=(Le,De,...it)=>{if(De<Le.logLevel)return;const ot=(new Date).toISOString(),nt=ae[De];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${De})`);console[nt](`[${ot}]  ${Le.name}:`,...it)};class me{constructor(De){this.name=De,this._logLevel=de,this._logHandler=Qe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(De){if(!(De in s))throw new TypeError(`Invalid value "${De}" assigned to \`logLevel\``);this._logLevel=De}setLogLevel(De){this._logLevel="string"==typeof De?k[De]:De}get logHandler(){return this._logHandler}set logHandler(De){if("function"!=typeof De)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=De}get userLogHandler(){return this._userLogHandler}set userLogHandler(De){this._userLogHandler=De}debug(...De){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...De),this._logHandler(this,s.DEBUG,...De)}log(...De){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...De),this._logHandler(this,s.VERBOSE,...De)}info(...De){this._userLogHandler&&this._userLogHandler(this,s.INFO,...De),this._logHandler(this,s.INFO,...De)}warn(...De){this._userLogHandler&&this._userLogHandler(this,s.WARN,...De),this._logHandler(this,s.WARN,...De)}error(...De){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...De),this._logHandler(this,s.ERROR,...De)}}function et(Le){d.forEach(De=>{De.setLogLevel(Le)})}function at(Le,De){for(const it of d){let ot=null;De&&De.level&&(ot=k[De.level]),it.userLogHandler=null===Le?null:(nt,ct,...Ct)=>{const _t=Ct.map(mt=>{if(null==mt)return null;if("string"==typeof mt)return mt;if("number"==typeof mt||"boolean"==typeof mt)return mt.toString();if(mt instanceof Error)return mt.message;try{return JSON.stringify(mt)}catch{return null}}).filter(mt=>mt).join(" ");ct>=(null!=ot?ot:nt.logLevel)&&Le({level:s[ct].toLowerCase(),message:_t,args:Ct,type:nt.name})}}}},2872:(xn,St,L)=>{"use strict";L.d(St,{Yq:()=>ze,TS:()=>$n,sR:()=>en,el:()=>Wn,Sb:()=>Qn,QE:()=>Yn,CF:()=>qr,Rg:()=>Ae,p4:()=>mi,jM:()=>no,_t:()=>Oe,q9:()=>jt,Kb:()=>Wt,CE:()=>fr,pF:()=>Ur,fL:()=>vo,YV:()=>gt,er:()=>Ei,z3:()=>Ti});var d=L(467),s=L(9842),k=L(4438),de=L(8621),ae=L(177),Qe=L(5531),me=L(4442);var Tt=L(1413),dn=L(3726),An=L(4412),nn=L(4572),Rn=L(7673),Mt=L(1635),Ve=L(5964),te=L(5558),ne=L(3294),ge=L(4341);const Ke=["tabsInner"];class Oe{constructor(ee){(0,s.A)(this,"menuController",void 0),this.menuController=ee}open(ee){return this.menuController.open(ee)}close(ee){return this.menuController.close(ee)}toggle(ee){return this.menuController.toggle(ee)}enable(ee,Ge){return this.menuController.enable(ee,Ge)}swipeGesture(ee,Ge){return this.menuController.swipeGesture(ee,Ge)}isOpen(ee){return this.menuController.isOpen(ee)}isEnabled(ee){return this.menuController.isEnabled(ee)}get(ee){return this.menuController.get(ee)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(ee,Ge){return this.menuController.registerAnimation(ee,Ge)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(ee,Ge){return this.menuController._createAnimation(ee,Ge)}_register(ee){return this.menuController._register(ee)}_unregister(ee){return this.menuController._unregister(ee)}_setOpen(ee,Ge,le){return this.menuController._setOpen(ee,Ge,le)}}let Ze=(()=>{var ie;class ee{constructor(le,re){(0,s.A)(this,"doc",void 0),(0,s.A)(this,"_readyPromise",void 0),(0,s.A)(this,"win",void 0),(0,s.A)(this,"backButton",new Tt.B),(0,s.A)(this,"keyboardDidShow",new Tt.B),(0,s.A)(this,"keyboardDidHide",new Tt.B),(0,s.A)(this,"pause",new Tt.B),(0,s.A)(this,"resume",new Tt.B),(0,s.A)(this,"resize",new Tt.B),this.doc=le,re.run(()=>{var Ue;let Lt;this.win=le.defaultView,this.backButton.subscribeWithPriority=function(Ut,En){return this.subscribe(or=>or.register(Ut,nr=>re.run(()=>En(nr))))},Ot(this.pause,le,"pause",re),Ot(this.resume,le,"resume",re),Ot(this.backButton,le,"ionBackButton",re),Ot(this.resize,this.win,"resize",re),Ot(this.keyboardDidShow,this.win,"ionKeyboardDidShow",re),Ot(this.keyboardDidHide,this.win,"ionKeyboardDidHide",re),this._readyPromise=new Promise(Ut=>{Lt=Ut}),null!==(Ue=this.win)&&void 0!==Ue&&Ue.cordova?le.addEventListener("deviceready",()=>{Lt("cordova")},{once:!0}):Lt("dom")})}is(le){return(0,Qe.a)(this.win,le)}platforms(){return(0,Qe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(le){return dt(this.win.location.href,le)}isLandscape(){return!this.isPortrait()}isPortrait(){var le,re;return null===(le=(re=this.win).matchMedia)||void 0===le?void 0:le.call(re,"(orientation: portrait)").matches}testUserAgent(le){const re=this.win.navigator;return!!(null!=re&&re.userAgent&&re.userAgent.indexOf(le)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ie=ee,(0,s.A)(ee,"\u0275fac",function(le){return new(le||ie)(k.KVO(ae.qQ),k.KVO(k.SKi))}),(0,s.A)(ee,"\u0275prov",k.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})),ee})();const dt=(ie,ee)=>{ee=ee.replace(/[[\]\\]/g,"\\$&");const le=new RegExp("[\\?&]"+ee+"=([^&#]*)").exec(ie);return le?decodeURIComponent(le[1].replace(/\+/g," ")):null},Ot=(ie,ee,Ge,le)=>{ee&&ee.addEventListener(Ge,re=>{le.run(()=>{ie.next(null!=re?re.detail:void 0)})})};let jt=(()=>{var ie;class ee{constructor(le,re,Ue,Lt){(0,s.A)(this,"location",void 0),(0,s.A)(this,"serializer",void 0),(0,s.A)(this,"router",void 0),(0,s.A)(this,"topOutlet",void 0),(0,s.A)(this,"direction",mn),(0,s.A)(this,"animated",Nn),(0,s.A)(this,"animationBuilder",void 0),(0,s.A)(this,"guessDirection","forward"),(0,s.A)(this,"guessAnimation",void 0),(0,s.A)(this,"lastNavId",-1),this.location=re,this.serializer=Ue,this.router=Lt,Lt&&Lt.events.subscribe(Ut=>{if(Ut instanceof de.Z){const En=Ut.restoredState?Ut.restoredState.navigationId:Ut.id;this.guessDirection=this.guessAnimation=En<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Ut.id:En}}),le.backButton.subscribeWithPriority(0,Ut=>{this.pop(),Ut()})}navigateForward(le,re={}){return this.setDirection("forward",re.animated,re.animationDirection,re.animation),this.navigate(le,re)}navigateBack(le,re={}){return this.setDirection("back",re.animated,re.animationDirection,re.animation),this.navigate(le,re)}navigateRoot(le,re={}){return this.setDirection("root",re.animated,re.animationDirection,re.animation),this.navigate(le,re)}back(le={animated:!0,animationDirection:"back"}){return this.setDirection("back",le.animated,le.animationDirection,le.animation),this.location.back()}pop(){var le=this;return(0,d.A)(function*(){let re=le.topOutlet;for(;re;){if(yield re.pop())return!0;re=re.parentOutlet}return!1})()}setDirection(le,re,Ue,Lt){this.direction=le,this.animated=Pt(le,re,Ue),this.animationBuilder=Lt}setTopOutlet(le){this.topOutlet=le}consumeTransition(){let re,le="root";const Ue=this.animationBuilder;return"auto"===this.direction?(le=this.guessDirection,re=this.guessAnimation):(re=this.animated,le=this.direction),this.direction=mn,this.animated=Nn,this.animationBuilder=void 0,{direction:le,animation:re,animationBuilder:Ue}}navigate(le,re){if(Array.isArray(le))return this.router.navigate(le,re);{const Ue=this.serializer.parse(le.toString());return void 0!==re.queryParams&&(Ue.queryParams={...re.queryParams}),void 0!==re.fragment&&(Ue.fragment=re.fragment),this.router.navigateByUrl(Ue,re)}}}return ie=ee,(0,s.A)(ee,"\u0275fac",function(le){return new(le||ie)(k.KVO(Ze),k.KVO(ae.aZ),k.KVO(de.Sd),k.KVO(de.Ix,8))}),(0,s.A)(ee,"\u0275prov",k.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})),ee})();const Pt=(ie,ee,Ge)=>{if(!1!==ee){if(void 0!==Ge)return Ge;if("forward"===ie||"back"===ie)return ie;if("root"===ie&&!0===ee)return"forward"}},mn="auto",Nn=void 0;let $n=(()=>{var ie;class ee{get(le,re){const Ue=rn();return Ue?Ue.get(le,re):null}getBoolean(le,re){const Ue=rn();return!!Ue&&Ue.getBoolean(le,re)}getNumber(le,re){const Ue=rn();return Ue?Ue.getNumber(le,re):0}}return ie=ee,(0,s.A)(ee,"\u0275fac",function(le){return new(le||ie)}),(0,s.A)(ee,"\u0275prov",k.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})),ee})();const en=new k.nKC("USERCONFIG"),rn=()=>{if(typeof window<"u"){const ie=window.Ionic;if(null!=ie&&ie.config)return ie.config}return null};class tr{constructor(ee={}){(0,s.A)(this,"data",void 0),this.data=ee,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(ee){return this.data[ee]}}let ze=(()=>{var ie;class ee{constructor(){(0,s.A)(this,"zone",(0,k.WQX)(k.SKi)),(0,s.A)(this,"applicationRef",(0,k.WQX)(k.o8S)),(0,s.A)(this,"config",(0,k.WQX)(en))}create(le,re,Ue){var Lt;return new xe(le,re,this.applicationRef,this.zone,Ue,null!==(Lt=this.config.useSetInputAPI)&&void 0!==Lt&&Lt)}}return ie=ee,(0,s.A)(ee,"\u0275fac",function(le){return new(le||ie)}),(0,s.A)(ee,"\u0275prov",k.jDH({token:ie,factory:ie.\u0275fac})),ee})();class xe{constructor(ee,Ge,le,re,Ue,Lt){(0,s.A)(this,"environmentInjector",void 0),(0,s.A)(this,"injector",void 0),(0,s.A)(this,"applicationRef",void 0),(0,s.A)(this,"zone",void 0),(0,s.A)(this,"elementReferenceKey",void 0),(0,s.A)(this,"enableSignalsSupport",void 0),(0,s.A)(this,"elRefMap",new WeakMap),(0,s.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=ee,this.injector=Ge,this.applicationRef=le,this.zone=re,this.elementReferenceKey=Ue,this.enableSignalsSupport=Lt}attachViewToDom(ee,Ge,le,re){return this.zone.run(()=>new Promise(Ue=>{const Lt={...le};void 0!==this.elementReferenceKey&&(Lt[this.elementReferenceKey]=ee),Ue(We(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ee,Ge,Lt,re,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(ee,Ge){return this.zone.run(()=>new Promise(le=>{const re=this.elRefMap.get(Ge);if(re){re.destroy(),this.elRefMap.delete(Ge);const Ue=this.elEventsMap.get(Ge);Ue&&(Ue(),this.elEventsMap.delete(Ge))}le()}))}}const We=(ie,ee,Ge,le,re,Ue,Lt,Ut,En,or,nr,Vi)=>{const Ji=k.zZn.create({providers:ar(En),parent:Ge}),Wi=(0,k.a0P)(Ut,{environmentInjector:ee,elementInjector:Ji}),gr=Wi.instance,ki=Wi.location.nativeElement;if(En)if(nr&&void 0!==gr[nr]&&console.error(`[Ionic Error]: ${nr} is a reserved property when using ${Lt.tagName.toLowerCase()}. Rename or remove the "${nr}" property from ${Ut.name}.`),!0===Vi&&void 0!==Wi.setInput){const{modal:eo,popover:ai,...Li}=En;for(const Oo in Li)Wi.setInput(Oo,Li[Oo]);void 0!==eo&&Object.assign(gr,{modal:eo}),void 0!==ai&&Object.assign(gr,{popover:ai})}else Object.assign(gr,En);if(or)for(const eo of or)ki.classList.add(eo);const uo=sr(ie,gr,ki);return Lt.appendChild(ki),le.attachView(Wi.hostView),re.set(ki,Wi),Ue.set(ki,uo),ki},hn=[me.L,me.a,me.b,me.c,me.d],sr=(ie,ee,Ge)=>ie.run(()=>{const le=hn.filter(re=>"function"==typeof ee[re]).map(re=>{const Ue=Lt=>ee[re](Lt.detail);return Ge.addEventListener(re,Ue),()=>Ge.removeEventListener(re,Ue)});return()=>le.forEach(re=>re())}),yr=new k.nKC("NavParamsToken"),ar=ie=>[{provide:yr,useValue:ie},{provide:tr,useFactory:Fn,deps:[yr]}],Fn=ie=>new tr(ie),yn=(ie,ee)=>{const Ge=ie.prototype;ee.forEach(le=>{Object.defineProperty(Ge,le,{get(){return this.el[le]},set(re){this.z.runOutsideAngular(()=>this.el[le]=re)}})})},dr=(ie,ee)=>{const Ge=ie.prototype;ee.forEach(le=>{Ge[le]=function(){const re=arguments;return this.z.runOutsideAngular(()=>this.el[le].apply(this.el,re))}})},hr=(ie,ee,Ge)=>{Ge.forEach(le=>ie[le]=(0,dn.R)(ee,le))};function Ar(ie){return function(Ge){const{defineCustomElementFn:le,inputs:re,methods:Ue}=ie;return void 0!==le&&le(),re&&yn(Ge,re),Ue&&dr(Ge,Ue),Ge}}const oi=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],rr=["present","dismiss","onDidDismiss","onWillDismiss"];let qr=(()=>{var ie;let ee=((0,s.A)(ie=class{constructor(le,re,Ue){(0,s.A)(this,"z",void 0),(0,s.A)(this,"template",void 0),(0,s.A)(this,"isCmpOpen",!1),(0,s.A)(this,"el",void 0),this.z=Ue,this.el=re.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,le.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,le.detectChanges()}),hr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(le){return new(le||ie)(k.rXU(k.gRc),k.rXU(k.aKT),k.rXU(k.SKi))}),(0,s.A)(ie,"\u0275dir",k.FsC({type:ie,selectors:[["ion-popover"]],contentQueries:function(le,re,Ue){if(1&le&&k.wni(Ue,k.C4Q,5),2&le){let Lt;k.mGM(Lt=k.lsd())&&(re.template=Lt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),ie);return ee=(0,Mt.Cg)([Ar({inputs:oi,methods:rr})],ee),ee})();const In=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],gi=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Qn=(()=>{var ie;let ee=((0,s.A)(ie=class{constructor(le,re,Ue){(0,s.A)(this,"z",void 0),(0,s.A)(this,"template",void 0),(0,s.A)(this,"isCmpOpen",!1),(0,s.A)(this,"el",void 0),this.z=Ue,this.el=re.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,le.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,le.detectChanges()}),hr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(le){return new(le||ie)(k.rXU(k.gRc),k.rXU(k.aKT),k.rXU(k.SKi))}),(0,s.A)(ie,"\u0275dir",k.FsC({type:ie,selectors:[["ion-modal"]],contentQueries:function(le,re,Ue){if(1&le&&k.wni(Ue,k.C4Q,5),2&le){let Lt;k.mGM(Lt=k.lsd())&&(re.template=Lt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),ie);return ee=(0,Mt.Cg)([Ar({inputs:In,methods:gi})],ee),ee})();const Ln=(ie,ee)=>((ie=ie.filter(Ge=>Ge.stackId!==ee.stackId)).push(ee),ie),si=(ie,ee)=>{const Ge=ie.createUrlTree(["."],{relativeTo:ee});return ie.serializeUrl(Ge)},_r=(ie,ee)=>!ee||ie.stackId!==ee.stackId,_n=(ie,ee)=>{if(!ie)return;const Ge=ft(ee);for(let le=0;le<Ge.length;le++){if(le>=ie.length)return Ge[le];if(Ge[le]!==ie[le])return}},ft=ie=>ie.split("/").map(ee=>ee.trim()).filter(ee=>""!==ee),ht=ie=>{ie&&(ie.ref.destroy(),ie.unlistenEvents())};class Vt{constructor(ee,Ge,le,re,Ue,Lt){(0,s.A)(this,"containerEl",void 0),(0,s.A)(this,"router",void 0),(0,s.A)(this,"navCtrl",void 0),(0,s.A)(this,"zone",void 0),(0,s.A)(this,"location",void 0),(0,s.A)(this,"views",[]),(0,s.A)(this,"runningTask",void 0),(0,s.A)(this,"skipTransition",!1),(0,s.A)(this,"tabsPrefix",void 0),(0,s.A)(this,"activeView",void 0),(0,s.A)(this,"nextId",0),this.containerEl=Ge,this.router=le,this.navCtrl=re,this.zone=Ue,this.location=Lt,this.tabsPrefix=void 0!==ee?ft(ee):void 0}createView(ee,Ge){var le;const re=si(this.router,Ge),Ue=null==ee||null===(le=ee.location)||void 0===le?void 0:le.nativeElement,Lt=sr(this.zone,ee.instance,Ue);return{id:this.nextId++,stackId:_n(this.tabsPrefix,re),unlistenEvents:Lt,element:Ue,ref:ee,url:re}}getExistingView(ee){const Ge=si(this.router,ee),le=this.views.find(re=>re.url===Ge);return le&&le.ref.changeDetectorRef.reattach(),le}setActive(ee){var Ge,le;const re=this.navCtrl.consumeTransition();let{direction:Ue,animation:Lt,animationBuilder:Ut}=re;const En=this.activeView,or=_r(ee,En);or&&(Ue="back",Lt=void 0);const nr=this.views.slice();let Vi;const Ji=this.router;Ji.getCurrentNavigation?Vi=Ji.getCurrentNavigation():null!==(Ge=Ji.navigations)&&void 0!==Ge&&Ge.value&&(Vi=Ji.navigations.value),null!==(le=Vi)&&void 0!==le&&null!==(le=le.extras)&&void 0!==le&&le.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Wi=this.views.includes(ee),gr=this.insertView(ee,Ue);Wi||ee.ref.changeDetectorRef.detectChanges();const ki=ee.animationBuilder;return void 0===Ut&&"back"===Ue&&!or&&void 0!==ki&&(Ut=ki),En&&(En.animationBuilder=Ut),this.zone.runOutsideAngular(()=>this.wait(()=>(En&&En.ref.changeDetectorRef.detach(),ee.ref.changeDetectorRef.reattach(),this.transition(ee,En,Lt,this.canGoBack(1),!1,Ut).then(()=>pt(ee,gr,nr,this.location,this.zone)).then(()=>({enteringView:ee,direction:Ue,animation:Lt,tabSwitch:or})))))}canGoBack(ee,Ge=this.getActiveStackId()){return this.getStack(Ge).length>ee}pop(ee,Ge=this.getActiveStackId()){return this.zone.run(()=>{const le=this.getStack(Ge);if(le.length<=ee)return Promise.resolve(!1);const re=le[le.length-ee-1];let Ue=re.url;const Lt=re.savedData;if(Lt){var Ut;const or=Lt.get("primary");null!=or&&null!==(Ut=or.route)&&void 0!==Ut&&null!==(Ut=Ut._routerState)&&void 0!==Ut&&Ut.snapshot.url&&(Ue=or.route._routerState.snapshot.url)}const{animationBuilder:En}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ue,{...re.savedExtras,animation:En}).then(()=>!0)})}startBackTransition(){const ee=this.activeView;if(ee){const Ge=this.getStack(ee.stackId),le=Ge[Ge.length-2],re=le.animationBuilder;return this.wait(()=>this.transition(le,ee,"back",this.canGoBack(2),!0,re))}return Promise.resolve()}endBackTransition(ee){ee?(this.skipTransition=!0,this.pop(1)):this.activeView&&ce(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ee){const Ge=this.getStack(ee);return Ge.length>0?Ge[Ge.length-1]:void 0}getRootUrl(ee){const Ge=this.getStack(ee);return Ge.length>0?Ge[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ht),this.activeView=void 0,this.views=[]}getStack(ee){return this.views.filter(Ge=>Ge.stackId===ee)}insertView(ee,Ge){return this.activeView=ee,this.views=((ie,ee,Ge)=>"root"===Ge?Ln(ie,ee):"forward"===Ge?((ie,ee)=>(ie.indexOf(ee)>=0?ie=ie.filter(le=>le.stackId!==ee.stackId||le.id<=ee.id):ie.push(ee),ie))(ie,ee):((ie,ee)=>ie.indexOf(ee)>=0?ie.filter(le=>le.stackId!==ee.stackId||le.id<=ee.id):Ln(ie,ee))(ie,ee))(this.views,ee,Ge),this.views.slice()}transition(ee,Ge,le,re,Ue,Lt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Ge===ee)return Promise.resolve(!1);const Ut=ee?ee.element:void 0,En=Ge?Ge.element:void 0,or=this.containerEl;return Ut&&Ut!==En&&(Ut.classList.add("ion-page"),Ut.classList.add("ion-page-invisible"),or.commit)?or.commit(Ut,En,{duration:void 0===le?0:void 0,direction:le,showGoBack:re,progressAnimation:Ue,animationBuilder:Lt}):Promise.resolve(!1)}wait(ee){var Ge=this;return(0,d.A)(function*(){void 0!==Ge.runningTask&&(yield Ge.runningTask,Ge.runningTask=void 0);const le=Ge.runningTask=ee();return le.finally(()=>Ge.runningTask=void 0),le})()}}const pt=(ie,ee,Ge,le,re)=>"function"==typeof requestAnimationFrame?new Promise(Ue=>{requestAnimationFrame(()=>{ce(ie,ee,Ge,le,re),Ue()})}):Promise.resolve(),ce=(ie,ee,Ge,le,re)=>{re.run(()=>Ge.filter(Ue=>!ee.includes(Ue)).forEach(ht)),ee.forEach(Ue=>{const Ut=le.path().split("?")[0].split("#")[0];if(Ue!==ie&&Ue.url!==Ut){const En=Ue.element;En.setAttribute("aria-hidden","true"),En.classList.add("ion-page-hidden"),Ue.ref.changeDetectorRef.detach()}})};let Ae=(()=>{var ie;class ee{get activatedComponentRef(){return this.activated}set animation(le){this.nativeEl.animation=le}set animated(le){this.nativeEl.animated=le}set swipeGesture(le){this._swipeGesture=le,this.nativeEl.swipeHandler=le?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:re=>this.stackCtrl.endBackTransition(re)}:void 0}constructor(le,re,Ue,Lt,Ut,En,or,nr){(0,s.A)(this,"parentOutlet",void 0),(0,s.A)(this,"nativeEl",void 0),(0,s.A)(this,"activatedView",null),(0,s.A)(this,"tabsPrefix",void 0),(0,s.A)(this,"_swipeGesture",void 0),(0,s.A)(this,"stackCtrl",void 0),(0,s.A)(this,"proxyMap",new WeakMap),(0,s.A)(this,"currentActivatedRoute$",new An.t(null)),(0,s.A)(this,"activated",null),(0,s.A)(this,"_activatedRoute",null),(0,s.A)(this,"name",de.Xk),(0,s.A)(this,"stackWillChange",new k.bkB),(0,s.A)(this,"stackDidChange",new k.bkB),(0,s.A)(this,"activateEvents",new k.bkB),(0,s.A)(this,"deactivateEvents",new k.bkB),(0,s.A)(this,"parentContexts",(0,k.WQX)(de.Zp)),(0,s.A)(this,"location",(0,k.WQX)(k.c1b)),(0,s.A)(this,"environmentInjector",(0,k.WQX)(k.uvJ)),(0,s.A)(this,"inputBinder",(0,k.WQX)(Ie,{optional:!0})),(0,s.A)(this,"supportsBindingToComponentInputs",!0),(0,s.A)(this,"config",(0,k.WQX)($n)),(0,s.A)(this,"navCtrl",(0,k.WQX)(jt)),this.parentOutlet=nr,this.nativeEl=Lt.nativeElement,this.name=le||de.Xk,this.tabsPrefix="true"===re?si(Ut,or):void 0,this.stackCtrl=new Vt(this.tabsPrefix,this.nativeEl,Ut,this.navCtrl,En,Ue),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var le;this.stackCtrl.destroy(),null===(le=this.inputBinder)||void 0===le||le.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const le=this.getContext();null!=le&&le.route&&this.activateWith(le.route,le.injector)}new Promise(le=>((ie,ee)=>{ie.componentOnReady?ie.componentOnReady().then(Ge=>ee(Ge)):(ie=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(ie):setTimeout(ie)})(()=>ee(ie))})(this.nativeEl,le)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(le,re){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const re=this.getContext();this.activatedView.savedData=new Map(re.children.contexts);const Ue=this.activatedView.savedData.get("primary");if(Ue&&re.route&&(Ue.route={...re.route}),this.activatedView.savedExtras={},re.route){const Lt=re.route.snapshot;this.activatedView.savedExtras.queryParams=Lt.queryParams,this.activatedView.savedExtras.fragment=Lt.fragment}}const le=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(le)}}activateWith(le,re){var Ue;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=le;let Lt,Ut=this.stackCtrl.getExistingView(le);if(Ut){Lt=this.activated=Ut.ref;const nr=Ut.savedData;nr&&(this.getContext().children.contexts=nr),this.updateActivatedRouteProxy(Lt.instance,le)}else{var En;const nr=le._futureSnapshot,Vi=this.parentContexts.getOrCreateContext(this.name).children,Ji=new An.t(null),Wi=this.createActivatedRouteProxy(Ji,le),gr=new se(Wi,Vi,this.location.injector),ki=null!==(En=nr.routeConfig.component)&&void 0!==En?En:nr.component;Lt=this.activated=this.outletContent.createComponent(ki,{index:this.outletContent.length,injector:gr,environmentInjector:null!=re?re:this.environmentInjector}),Ji.next(Lt.instance),Ut=this.stackCtrl.createView(this.activated,le),this.proxyMap.set(Lt.instance,Wi),this.currentActivatedRoute$.next({component:Lt.instance,activatedRoute:le})}null===(Ue=this.inputBinder)||void 0===Ue||Ue.bindActivatedRouteToOutletComponent(this),this.activatedView=Ut,this.navCtrl.setTopOutlet(this);const or=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Ut,tabSwitch:_r(Ut,or)}),this.stackCtrl.setActive(Ut).then(nr=>{this.activateEvents.emit(Lt.instance),this.stackDidChange.emit(nr)})}canGoBack(le=1,re){return this.stackCtrl.canGoBack(le,re)}pop(le=1,re){return this.stackCtrl.pop(le,re)}getLastUrl(le){const re=this.stackCtrl.getLastUrl(le);return re?re.url:void 0}getLastRouteView(le){return this.stackCtrl.getLastUrl(le)}getRootView(le){return this.stackCtrl.getRootUrl(le)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(le,re){const Ue=new de.nX;return Ue._futureSnapshot=re._futureSnapshot,Ue._routerState=re._routerState,Ue.snapshot=re.snapshot,Ue.outlet=re.outlet,Ue.component=re.component,Ue._paramMap=this.proxyObservable(le,"paramMap"),Ue._queryParamMap=this.proxyObservable(le,"queryParamMap"),Ue.url=this.proxyObservable(le,"url"),Ue.params=this.proxyObservable(le,"params"),Ue.queryParams=this.proxyObservable(le,"queryParams"),Ue.fragment=this.proxyObservable(le,"fragment"),Ue.data=this.proxyObservable(le,"data"),Ue}proxyObservable(le,re){return le.pipe((0,Ve.p)(Ue=>!!Ue),(0,te.n)(Ue=>this.currentActivatedRoute$.pipe((0,Ve.p)(Lt=>null!==Lt&&Lt.component===Ue),(0,te.n)(Lt=>Lt&&Lt.activatedRoute[re]),(0,ne.F)())))}updateActivatedRouteProxy(le,re){const Ue=this.proxyMap.get(le);if(!Ue)throw new Error("Could not find activated route proxy for view");Ue._futureSnapshot=re._futureSnapshot,Ue._routerState=re._routerState,Ue.snapshot=re.snapshot,Ue.outlet=re.outlet,Ue.component=re.component,this.currentActivatedRoute$.next({component:le,activatedRoute:re})}}return ie=ee,(0,s.A)(ee,"\u0275fac",function(le){return new(le||ie)(k.kS0("name"),k.kS0("tabs"),k.rXU(ae.aZ),k.rXU(k.aKT),k.rXU(de.Ix),k.rXU(k.SKi),k.rXU(de.nX),k.rXU(ie,12))}),(0,s.A)(ee,"\u0275dir",k.FsC({type:ie,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),ee})();class se{constructor(ee,Ge,le){(0,s.A)(this,"route",void 0),(0,s.A)(this,"childContexts",void 0),(0,s.A)(this,"parent",void 0),this.route=ee,this.childContexts=Ge,this.parent=le}get(ee,Ge){return ee===de.nX?this.route:ee===de.Zp?this.childContexts:this.parent.get(ee,Ge)}}const Ie=new k.nKC("");let ue=(()=>{var ie;class ee{constructor(){(0,s.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(le){this.unsubscribeFromRouteData(le),this.subscribeToRouteData(le)}unsubscribeFromRouteData(le){var re;null===(re=this.outletDataSubscriptions.get(le))||void 0===re||re.unsubscribe(),this.outletDataSubscriptions.delete(le)}subscribeToRouteData(le){const{activatedRoute:re}=le,Ue=(0,nn.z)([re.queryParams,re.params,re.data]).pipe((0,te.n)(([Lt,Ut,En],or)=>(En={...Lt,...Ut,...En},0===or?(0,Rn.of)(En):Promise.resolve(En)))).subscribe(Lt=>{if(!le.isActivated||!le.activatedComponentRef||le.activatedRoute!==re||null===re.component)return void this.unsubscribeFromRouteData(le);const Ut=(0,k.HJs)(re.component);if(Ut)for(const{templateName:En}of Ut.inputs)le.activatedComponentRef.setInput(En,Lt[En]);else this.unsubscribeFromRouteData(le)});this.outletDataSubscriptions.set(le,Ue)}}return ie=ee,(0,s.A)(ee,"\u0275fac",function(le){return new(le||ie)}),(0,s.A)(ee,"\u0275prov",k.jDH({token:ie,factory:ie.\u0275fac})),ee})();const gt=()=>({provide:Ie,useFactory:Qt,deps:[de.Ix]});function Qt(ie){return null!=ie&&ie.componentInputBindingEnabled?new ue:null}const Dn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Wn=(()=>{var ie;let ee=((0,s.A)(ie=class{constructor(le,re,Ue,Lt,Ut,En){(0,s.A)(this,"routerOutlet",void 0),(0,s.A)(this,"navCtrl",void 0),(0,s.A)(this,"config",void 0),(0,s.A)(this,"r",void 0),(0,s.A)(this,"z",void 0),(0,s.A)(this,"el",void 0),this.routerOutlet=le,this.navCtrl=re,this.config=Ue,this.r=Lt,this.z=Ut,En.detach(),this.el=this.r.nativeElement}onClick(le){var re;const Ue=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(re=this.routerOutlet)&&void 0!==re&&re.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),le.preventDefault()):null!=Ue&&(this.navCtrl.navigateBack(Ue,{animation:this.routerAnimation}),le.preventDefault())}},"\u0275fac",function(le){return new(le||ie)(k.rXU(Ae,8),k.rXU(jt),k.rXU($n),k.rXU(k.aKT),k.rXU(k.SKi),k.rXU(k.gRc))}),(0,s.A)(ie,"\u0275dir",k.FsC({type:ie,hostBindings:function(le,re){1&le&&k.bIt("click",function(Lt){return re.onClick(Lt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),ie);return ee=(0,Mt.Cg)([Ar({inputs:Dn})],ee),ee})(),fr=(()=>{var ie;class ee{constructor(le,re,Ue,Lt,Ut){(0,s.A)(this,"locationStrategy",void 0),(0,s.A)(this,"navCtrl",void 0),(0,s.A)(this,"elementRef",void 0),(0,s.A)(this,"router",void 0),(0,s.A)(this,"routerLink",void 0),(0,s.A)(this,"routerDirection","forward"),(0,s.A)(this,"routerAnimation",void 0),this.locationStrategy=le,this.navCtrl=re,this.elementRef=Ue,this.router=Lt,this.routerLink=Ut}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var le;if(null!==(le=this.routerLink)&&void 0!==le&&le.urlTree){const re=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=re}}onClick(le){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),le.preventDefault()}}return ie=ee,(0,s.A)(ee,"\u0275fac",function(le){return new(le||ie)(k.rXU(ae.hb),k.rXU(jt),k.rXU(k.aKT),k.rXU(de.Ix),k.rXU(de.Wk,8))}),(0,s.A)(ee,"\u0275dir",k.FsC({type:ie,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(le,re){1&le&&k.bIt("click",function(Lt){return re.onClick(Lt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[k.OA$]})),ee})(),Ur=(()=>{var ie;class ee{constructor(le,re,Ue,Lt,Ut){(0,s.A)(this,"locationStrategy",void 0),(0,s.A)(this,"navCtrl",void 0),(0,s.A)(this,"elementRef",void 0),(0,s.A)(this,"router",void 0),(0,s.A)(this,"routerLink",void 0),(0,s.A)(this,"routerDirection","forward"),(0,s.A)(this,"routerAnimation",void 0),this.locationStrategy=le,this.navCtrl=re,this.elementRef=Ue,this.router=Lt,this.routerLink=Ut}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var le;if(null!==(le=this.routerLink)&&void 0!==le&&le.urlTree){const re=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=re}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ie=ee,(0,s.A)(ee,"\u0275fac",function(le){return new(le||ie)(k.rXU(ae.hb),k.rXU(jt),k.rXU(k.aKT),k.rXU(de.Ix),k.rXU(de.Wk,8))}),(0,s.A)(ee,"\u0275dir",k.FsC({type:ie,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(le,re){1&le&&k.bIt("click",function(){return re.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[k.OA$]})),ee})();const st=["animated","animation","root","rootParams","swipeGesture"],wn=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Yn=(()=>{var ie;let ee=((0,s.A)(ie=class{constructor(le,re,Ue,Lt,Ut,En){(0,s.A)(this,"z",void 0),(0,s.A)(this,"el",void 0),this.z=Ut,En.detach(),this.el=le.nativeElement,le.nativeElement.delegate=Lt.create(re,Ue),hr(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(le){return new(le||ie)(k.rXU(k.aKT),k.rXU(k.uvJ),k.rXU(k.zZn),k.rXU(ze),k.rXU(k.SKi),k.rXU(k.gRc))}),(0,s.A)(ie,"\u0275dir",k.FsC({type:ie,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),ie);return ee=(0,Mt.Cg)([Ar({inputs:st,methods:wn})],ee),ee})(),mi=(()=>{var ie;class ee{constructor(le){(0,s.A)(this,"navCtrl",void 0),(0,s.A)(this,"tabsInner",void 0),(0,s.A)(this,"ionTabsWillChange",new k.bkB),(0,s.A)(this,"ionTabsDidChange",new k.bkB),(0,s.A)(this,"tabBarSlot","bottom"),this.navCtrl=le}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:le,tabSwitch:re}){const Ue=le.stackId;re&&void 0!==Ue&&this.ionTabsWillChange.emit({tab:Ue})}onStackDidChange({enteringView:le,tabSwitch:re}){const Ue=le.stackId;re&&void 0!==Ue&&(this.tabBar&&(this.tabBar.selectedTab=Ue),this.ionTabsDidChange.emit({tab:Ue}))}select(le){const re="string"==typeof le,Ue=re?le:le.detail.tab,Lt=this.outlet.getActiveStackId()===Ue,Ut=`${this.outlet.tabsPrefix}/${Ue}`;if(re||le.stopPropagation(),Lt){const En=this.outlet.getActiveStackId(),or=this.outlet.getLastRouteView(En);if((null==or?void 0:or.url)===Ut)return;const nr=this.outlet.getRootView(Ue);return this.navCtrl.navigateRoot(Ut,{...nr&&Ut===nr.url&&nr.savedExtras,animated:!0,animationDirection:"back"})}{const En=this.outlet.getLastRouteView(Ue);return this.navCtrl.navigateRoot((null==En?void 0:En.url)||Ut,{...null==En?void 0:En.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(le=>{const re=le.el.getAttribute("slot");re!==this.tabBarSlot&&(this.tabBarSlot=re,this.relocateTabBar())})}relocateTabBar(){const le=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(le):this.tabsInner.nativeElement.after(le)}}return ie=ee,(0,s.A)(ee,"\u0275fac",function(le){return new(le||ie)(k.rXU(jt))}),(0,s.A)(ee,"\u0275dir",k.FsC({type:ie,selectors:[["ion-tabs"]],viewQuery:function(le,re){if(1&le&&k.GBs(Ke,7,k.aKT),2&le){let Ue;k.mGM(Ue=k.lsd())&&(re.tabsInner=Ue.first)}},hostBindings:function(le,re){1&le&&k.bIt("ionTabButtonClick",function(Lt){return re.select(Lt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),ee})();const Ei=ie=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(ie):setTimeout(ie);let vo=(()=>{var ie;class ee{constructor(le,re){(0,s.A)(this,"injector",void 0),(0,s.A)(this,"elementRef",void 0),(0,s.A)(this,"onChange",()=>{}),(0,s.A)(this,"onTouched",()=>{}),(0,s.A)(this,"lastValue",void 0),(0,s.A)(this,"statusChanges",void 0),this.injector=le,this.elementRef=re}writeValue(le){this.elementRef.nativeElement.value=this.lastValue=le,Ti(this.elementRef)}handleValueChange(le,re){le===this.elementRef.nativeElement&&(re!==this.lastValue&&(this.lastValue=re,this.onChange(re)),Ti(this.elementRef))}_handleBlurEvent(le){le===this.elementRef.nativeElement&&(this.onTouched(),Ti(this.elementRef))}registerOnChange(le){this.onChange=le}registerOnTouched(le){this.onTouched=le}setDisabledState(le){this.elementRef.nativeElement.disabled=le}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let le;try{le=this.injector.get(ge.vO)}catch{}if(!le)return;le.statusChanges&&(this.statusChanges=le.statusChanges.subscribe(()=>Ti(this.elementRef)));const re=le.control;re&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Lt=>{if(typeof re[Lt]<"u"){const Ut=re[Lt].bind(re);re[Lt]=(...En)=>{Ut(...En),Ti(this.elementRef)}}})}}return ie=ee,(0,s.A)(ee,"\u0275fac",function(le){return new(le||ie)(k.rXU(k.zZn),k.rXU(k.aKT))}),(0,s.A)(ee,"\u0275dir",k.FsC({type:ie,hostBindings:function(le,re){1&le&&k.bIt("ionBlur",function(Lt){return re._handleBlurEvent(Lt.target)})}})),ee})();const Ti=ie=>{Ei(()=>{const ee=ie.nativeElement,Ge=null!=ee.value&&ee.value.toString().length>0,le=Hr(ee);Fi(ee,le);const re=ee.closest("ion-item");re&&Fi(re,Ge?[...le,"item-has-value"]:le)})},Hr=ie=>{const ee=ie.classList,Ge=[];for(let le=0;le<ee.length;le++){const re=ee.item(le);null!==re&&Gi(re,"ng-")&&Ge.push(`ion-${re.substring(3)}`)}return Ge},Fi=(ie,ee)=>{const Ge=ie.classList;Ge.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Ge.add(...ee)},Gi=(ie,ee)=>ie.substring(0,ee.length)===ee;class no{shouldDetach(ee){return!1}shouldAttach(ee){return!1}store(ee,Ge){}retrieve(ee){return null}shouldReuseRoute(ee,Ge){if(ee.routeConfig!==Ge.routeConfig)return!1;const le=ee.params,re=Ge.params,Ue=Object.keys(le),Lt=Object.keys(re);if(Ue.length!==Lt.length)return!1;for(const Ut of Ue)if(re[Ut]!==le[Ut])return!1;return!0}}class Wt{constructor(ee){(0,s.A)(this,"ctrl",void 0),this.ctrl=ee}create(ee){return this.ctrl.create(ee||{})}dismiss(ee,Ge,le){return this.ctrl.dismiss(ee,Ge,le)}getTop(){return this.ctrl.getTop()}}},7863:(xn,St,L)=>{"use strict";L.d(St,{GD:()=>Gs,hG:()=>zs,Zy:()=>jt,U1:()=>Pt,mC:()=>mn,Jm:()=>tr,QW:()=>ze,W9:()=>dr,eU:()=>Qn,iq:()=>Bn,$w:()=>si,Wv:()=>_r,uz:()=>_n,he:()=>Ae,nf:()=>se,oS:()=>gt,MC:()=>Qt,Sb:()=>wo,Rg:()=>ai,w2:()=>Ut,Jq:()=>or,qW:()=>nr,p4:()=>Li,nc:()=>Ji,BC:()=>gr,ai:()=>eo,bv:()=>Bi,_t:()=>li,N7:()=>Ho,oY:()=>zo,Gw:()=>ne});var d=L(9842),s=L(4438),k=L(4341),de=L(2872),ae=L(1635),Qe=L(3726),me=L(177),et=L(8621),nt=(L(9986),L(2725),L(8454),L(3314),L(8607),L(3664)),ct=L(464),Ct=L(5465),_t=L(6002),Nt=(L(8476),L(9672));L(1970),L(6411);var Ye=L(467);const ut=nt.i,Ht=function(){var N=(0,Ye.A)(function*(Q,be){if(!(typeof window>"u"))return yield ut(),(0,Nt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),be)});return function(be,V){return N.apply(this,arguments)}}(),he=["*"],He=["outletContent"],Tt=["outlet"],dn=[[["","slot","top"]],"*"],An=["[slot=top]","*"];function nn(N,Q){if(1&N&&(s.j41(0,"div",1),s.eu8(1,2),s.k0s()),2&N){const be=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",be.template)}}let ne=(()=>{var N;class Q extends de.fL{constructor(V,Ce){super(V,Ce)}_handleInputEvent(V){this.handleValueChange(V,V.value)}}return N=Q,(0,d.A)(Q,"\u0275fac",function(V){return new(V||N)(s.rXU(s.zZn),s.rXU(s.aKT))}),(0,d.A)(Q,"\u0275dir",s.FsC({type:N,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(V,Ce){1&V&&s.bIt("ionInput",function(br){return Ce._handleInputEvent(br.target)})},features:[s.Jv_([{provide:k.kq,useExisting:N,multi:!0}]),s.Vt3]})),Q})();const ge=(N,Q)=>{const be=N.prototype;Q.forEach(V=>{Object.defineProperty(be,V,{get(){return this.el[V]},set(Ce){this.z.runOutsideAngular(()=>this.el[V]=Ce)},configurable:!0})})},Ke=(N,Q)=>{const be=N.prototype;Q.forEach(V=>{be[V]=function(){const Ce=arguments;return this.z.runOutsideAngular(()=>this.el[V].apply(this.el,Ce))}})},Oe=(N,Q,be)=>{be.forEach(V=>N[V]=(0,Qe.R)(Q,V))};function Re(N){return function(be){const{defineCustomElementFn:V,inputs:Ce,methods:At}=N;return void 0!==V&&V(),Ce&&ge(be,Ce),At&&Ke(be,At),be}}let jt=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement,Oe(this,this.el,["ionAlertDidPresent","ionAlertWillPresent","ionAlertWillDismiss","ionAlertDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-alert"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",buttons:"buttons",cssClass:"cssClass",enterAnimation:"enterAnimation",header:"header",htmlAttributes:"htmlAttributes",inputs:"inputs",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",subHeader:"subHeader",translucent:"translucent",trigger:"trigger"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["animated","backdropDismiss","buttons","cssClass","enterAnimation","header","htmlAttributes","inputs","isOpen","keyboardClose","leaveAnimation","message","mode","subHeader","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],Q),Q})(),Pt=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-app"]],ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({})],Q),Q})(),mn=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-avatar"]],ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({})],Q),Q})(),tr=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement,Oe(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],Q),Q})(),ze=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["collapse"]})],Q),Q})(),dr=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement,Oe(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],Q),Q})(),Qn=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["collapse","mode","translucent"]})],Q),Q})(),Bn=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],Q),Q})(),si=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement,Oe(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],Q),Q})(),_r=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-input-password-toggle"]],inputs:{color:"color",hideIcon:"hideIcon",mode:"mode",showIcon:"showIcon"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["color","hideIcon","mode","showIcon"]})],Q),Q})(),_n=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],Q),Q})(),Ae=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["color","mode","position"]})],Q),Q})(),se=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],Q),Q})(),gt=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement,Oe(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],Q),Q})(),Qt=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["autoHide","color","disabled","menu","mode","type"]})],Q),Q})(),Ut=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["color","duration","name","paused"]})],Q),Q})(),or=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["color","mode","selectedTab","translucent"]})],Q),Q})(),nr=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],Q),Q})(),Ji=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement,Oe(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],Q),Q})(),gr=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["color","size"]})],Q),Q})(),eo=(()=>{var N;let Q=((0,d.A)(N=class{constructor(V,Ce,At){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=At,V.detach(),this.el=Ce.nativeElement}},"\u0275fac",function(V){return new(V||N)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,d.A)(N,"\u0275cmp",s.VBU({type:N,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(V,Ce){1&V&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),N);return Q=(0,ae.Cg)([Re({inputs:["color","mode"]})],Q),Q})(),ai=(()=>{var N;class Q extends de.Rg{constructor(V,Ce,At,br,Br,K,ve,ke){super(V,Ce,At,br,Br,K,ve,ke),(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"outletContent",void 0),this.parentOutlet=ke}}return N=Q,(0,d.A)(Q,"\u0275fac",function(V){return new(V||N)(s.kS0("name"),s.kS0("tabs"),s.rXU(me.aZ),s.rXU(s.aKT),s.rXU(et.Ix),s.rXU(s.SKi),s.rXU(et.nX),s.rXU(N,12))}),(0,d.A)(Q,"\u0275cmp",s.VBU({type:N,selectors:[["ion-router-outlet"]],viewQuery:function(V,Ce){if(1&V&&s.GBs(He,7,s.c1b),2&V){let At;s.mGM(At=s.lsd())&&(Ce.outletContent=At.first)}},features:[s.Vt3],ngContentSelectors:he,decls:3,vars:0,consts:[["outletContent",""]],template:function(V,Ce){1&V&&(s.NAR(),s.qex(0,null,0),s.SdG(2),s.bVm())},encapsulation:2})),Q})(),Li=(()=>{var N;class Q extends de.p4{constructor(...V){super(...V),(0,d.A)(this,"outlet",void 0),(0,d.A)(this,"tabBar",void 0),(0,d.A)(this,"tabBars",void 0)}}return N=Q,(0,d.A)(Q,"\u0275fac",(()=>{let be;return function(Ce){return(be||(be=s.xGo(N)))(Ce||N)}})()),(0,d.A)(Q,"\u0275cmp",s.VBU({type:N,selectors:[["ion-tabs"]],contentQueries:function(V,Ce,At){if(1&V&&(s.wni(At,or,5),s.wni(At,or,4)),2&V){let br;s.mGM(br=s.lsd())&&(Ce.tabBar=br.first),s.mGM(br=s.lsd())&&(Ce.tabBars=br)}},viewQuery:function(V,Ce){if(1&V&&s.GBs(Tt,5,ai),2&V){let At;s.mGM(At=s.lsd())&&(Ce.outlet=At.first)}},features:[s.Vt3],ngContentSelectors:An,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(V,Ce){if(1&V){const At=s.RV6();s.NAR(dn),s.SdG(0),s.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),s.bIt("stackWillChange",function(Br){return s.eBV(At),s.Njj(Ce.onStackWillChange(Br))})("stackDidChange",function(Br){return s.eBV(At),s.Njj(Ce.onStackDidChange(Br))}),s.k0s()(),s.SdG(5,1)}},dependencies:[ai],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),Q})(),Ho=(()=>{var N;class Q extends de.CE{}return N=Q,(0,d.A)(Q,"\u0275fac",(()=>{let be;return function(Ce){return(be||(be=s.xGo(N)))(Ce||N)}})()),(0,d.A)(Q,"\u0275dir",s.FsC({type:N,selectors:[["","routerLink","",5,"a",5,"area"]],features:[s.Vt3]})),Q})(),zo=(()=>{var N;class Q extends de.pF{}return N=Q,(0,d.A)(Q,"\u0275fac",(()=>{let be;return function(Ce){return(be||(be=s.xGo(N)))(Ce||N)}})()),(0,d.A)(Q,"\u0275dir",s.FsC({type:N,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[s.Vt3]})),Q})(),wo=(()=>{var N;class Q extends de.Sb{}return N=Q,(0,d.A)(Q,"\u0275fac",(()=>{let be;return function(Ce){return(be||(be=s.xGo(N)))(Ce||N)}})()),(0,d.A)(Q,"\u0275cmp",s.VBU({type:N,selectors:[["ion-modal"]],features:[s.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(V,Ce){1&V&&s.DNE(0,nn,2,1,"div",0),2&V&&s.Y8G("ngIf",Ce.isCmpOpen||Ce.keepContentsMounted)},dependencies:[me.bT,me.T3],encapsulation:2,changeDetection:0})),Q})();const Dr={provide:k.cz,useExisting:(0,s.Rfq)(()=>zr),multi:!0};let zr=(()=>{var N;class Q extends k.zX{}return N=Q,(0,d.A)(Q,"\u0275fac",(()=>{let be;return function(Ce){return(be||(be=s.xGo(N)))(Ce||N)}})()),(0,d.A)(Q,"\u0275dir",s.FsC({type:N,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(V,Ce){2&V&&s.BMQ("max",Ce._enabled?Ce.max:null)},features:[s.Jv_([Dr]),s.Vt3]})),Q})();const ka={provide:k.cz,useExisting:(0,s.Rfq)(()=>Ui),multi:!0};let Ui=(()=>{var N;class Q extends k.VZ{}return N=Q,(0,d.A)(Q,"\u0275fac",(()=>{let be;return function(Ce){return(be||(be=s.xGo(N)))(Ce||N)}})()),(0,d.A)(Q,"\u0275dir",s.FsC({type:N,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(V,Ce){2&V&&s.BMQ("min",Ce._enabled?Ce.min:null)},features:[s.Jv_([ka]),s.Vt3]})),Q})(),zs=(()=>{var N;class Q extends de.Kb{constructor(){super(_t.a)}}return N=Q,(0,d.A)(Q,"\u0275fac",function(V){return new(V||N)}),(0,d.A)(Q,"\u0275prov",s.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})),Q})(),Gs=(()=>{var N;class Q extends de.Kb{constructor(){super(_t.b)}}return N=Q,(0,d.A)(Q,"\u0275fac",function(V){return new(V||N)}),(0,d.A)(Q,"\u0275prov",s.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})),Q})(),li=(()=>{var N;class Q extends de._t{constructor(){super(Ct.m)}}return N=Q,(0,d.A)(Q,"\u0275fac",function(V){return new(V||N)}),(0,d.A)(Q,"\u0275prov",s.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})),Q})(),Go=(()=>{var N;class Q extends de.Kb{constructor(){super(_t.m),(0,d.A)(this,"angularDelegate",(0,s.WQX)(de.Yq)),(0,d.A)(this,"injector",(0,s.WQX)(s.zZn)),(0,d.A)(this,"environmentInjector",(0,s.WQX)(s.uvJ))}create(V){return super.create({...V,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return N=Q,(0,d.A)(Q,"\u0275fac",function(V){return new(V||N)}),(0,d.A)(Q,"\u0275prov",s.jDH({token:N,factory:N.\u0275fac})),Q})();class Ws extends de.Kb{constructor(){super(_t.c),(0,d.A)(this,"angularDelegate",(0,s.WQX)(de.Yq)),(0,d.A)(this,"injector",(0,s.WQX)(s.zZn)),(0,d.A)(this,"environmentInjector",(0,s.WQX)(s.uvJ))}create(Q){return super.create({...Q,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Ks=(N,Q,be)=>()=>{const V=Q.defaultView;if(V&&typeof window<"u"){(0,ct.s)({...N,_zoneGate:At=>be.run(At)});const Ce="__zone_symbol__addEventListener"in Q.body?"__zone_symbol__addEventListener":"addEventListener";return function tt(){var N=[];if(typeof window<"u"){var Q=window;(!Q.customElements||Q.Element&&(!Q.Element.prototype.closest||!Q.Element.prototype.matches||!Q.Element.prototype.remove||!Q.Element.prototype.getRootNode))&&N.push(L.e(7278).then(L.t.bind(L,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Q.NodeList&&!Q.NodeList.prototype.forEach||!Q.fetch||!function(){try{var V=new URL("b","http://a");return V.pathname="c%20d","http://a/c%20d"===V.href&&V.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&N.push(L.e(9329).then(L.t.bind(L,7783,23)))}return Promise.all(N)}().then(()=>Ht(V,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:de.er,jmp:At=>be.runOutsideAngular(At),ael(At,br,Br,K){At[Ce](br,Br,K)},rel(At,br,Br,K){At.removeEventListener(br,Br,K)}}))}};let Bi=(()=>{var N;class Q{static forRoot(V={}){return{ngModule:Q,providers:[{provide:de.sR,useValue:V},{provide:s.hnV,useFactory:Ks,multi:!0,deps:[de.sR,me.qQ,s.SKi]},de.Yq,(0,de.YV)()]}}}return N=Q,(0,d.A)(Q,"\u0275fac",function(V){return new(V||N)}),(0,d.A)(Q,"\u0275mod",s.$C({type:N})),(0,d.A)(Q,"\u0275inj",s.G2t({providers:[Go,Ws],imports:[me.MD]})),Q})()},2214:(xn,St,L)=>{"use strict";L.d(St,{Dk:()=>d.getApps,KO:()=>d.registerVersion,Sx:()=>d.getApp,Wp:()=>d.initializeApp});var d=L(7852);(0,d.registerVersion)("firebase","10.12.1","app")},7935:(xn,St,L)=>{"use strict";L.d(St,{A:()=>d.A});var d=L(3345);d.A.registerVersion("firebase","10.12.1","app-compat")},2438:(xn,St,L)=>{"use strict";L.r(St);var d=L(467),s=L(3345),k=L(2920),de=L(1076),me=(L(7852),L(8041),L(1362));function et(){return window}function De(){return De=(0,d.A)(function*(se,Ie,ue){var gt;const{BuildInfo:Qt}=et();(0,k.au)(Ie.sessionId,"AuthEvent did not contain a session ID");const Dn=yield function mt(se){return Nt.apply(this,arguments)}(Ie.sessionId),Wn={};return(0,k.av)()?Wn.ibi=Qt.packageName:(0,k.aw)()?Wn.apn=Qt.packageName:(0,k.ax)(se,"operation-not-supported-in-this-environment"),Qt.displayName&&(Wn.appDisplayName=Qt.displayName),Wn.sessionId=Dn,(0,k.ay)(se,ue,Ie.type,void 0,null!==(gt=Ie.eventId)&&void 0!==gt?gt:void 0,Wn)}),De.apply(this,arguments)}function ot(){return(ot=(0,d.A)(function*(se){const{BuildInfo:Ie}=et(),ue={};(0,k.av)()?ue.iosBundleId=Ie.packageName:(0,k.aw)()?ue.androidPackageName=Ie.packageName:(0,k.ax)(se,"operation-not-supported-in-this-environment"),yield(0,k.az)(se,ue)})).apply(this,arguments)}function Ct(){return(Ct=(0,d.A)(function*(se,Ie,ue){const{cordova:gt}=et();let Qt=()=>{};try{yield new Promise((Dn,Wn)=>{let fr=null;function Ur(){var Yn;Dn();const mi=null===(Yn=gt.plugins.browsertab)||void 0===Yn?void 0:Yn.close;"function"==typeof mi&&mi(),"function"==typeof(null==ue?void 0:ue.close)&&ue.close()}function st(){fr||(fr=window.setTimeout(()=>{Wn((0,k.aB)(se,"redirect-cancelled-by-user"))},2e3))}function wn(){"visible"===(null==document?void 0:document.visibilityState)&&st()}Ie.addPassiveListener(Ur),document.addEventListener("resume",st,!1),(0,k.aw)()&&document.addEventListener("visibilitychange",wn,!1),Qt=()=>{Ie.removePassiveListener(Ur),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",wn,!1),fr&&window.clearTimeout(fr)}})}finally{Qt()}})).apply(this,arguments)}function Nt(){return(Nt=(0,d.A)(function*(se){const Ie=function It(se){if((0,k.au)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(se);const Ie=new ArrayBuffer(se.length),ue=new Uint8Array(Ie);for(let gt=0;gt<se.length;gt++)ue[gt]=se.charCodeAt(gt);return ue}(se),ue=yield crypto.subtle.digest("SHA-256",Ie);return Array.from(new Uint8Array(ue)).map(Qt=>Qt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Fe extends k.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Ie=>{this.resolveInialized=Ie})}addPassiveListener(Ie){this.passiveListeners.add(Ie)}removePassiveListener(Ie){this.passiveListeners.delete(Ie)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Ie){return this.resolveInialized(),this.passiveListeners.forEach(ue=>ue(Ie)),super.onEvent(Ie)}initialized(){var Ie=this;return(0,d.A)(function*(){yield Ie.initPromise})()}}function ut(se){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.A)(function*(se){const Ie=yield Tt()._get(dn(se));return Ie&&(yield Tt()._remove(dn(se))),Ie})).apply(this,arguments)}function He(){const se=[];for(let ue=0;ue<20;ue++){const gt=Math.floor(62*Math.random());se.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(gt))}return se.join("")}function Tt(){return(0,k.aE)(k.b)}function dn(se){return(0,k.aF)("authEvent",se.config.apiKey,se.name)}function Rn(se){if(null==se||!se.includes("?"))return{};const[Ie,...ue]=se.split("?");return(0,de.I9)(ue.join("?"))}const te=class Ve{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aG,this._overrideRedirectResult=k.aH}_initialize(Ie){var ue=this;return(0,d.A)(function*(){const gt=Ie._key();let Qt=ue.eventManagers.get(gt);return Qt||(Qt=new Fe(Ie),ue.eventManagers.set(gt,Qt),ue.attachCallbackListeners(Ie,Qt)),Qt})()}_openPopup(Ie){(0,k.ax)(Ie,"operation-not-supported-in-this-environment")}_openRedirect(Ie,ue,gt,Qt){var Dn=this;return(0,d.A)(function*(){!function _t(se){var Ie,ue,gt,Qt,Dn,Wn,fr,Ur,st,wn;const Yn=et();(0,k.aC)("function"==typeof(null===(Ie=null==Yn?void 0:Yn.universalLinks)||void 0===Ie?void 0:Ie.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aC)(typeof(null===(ue=null==Yn?void 0:Yn.BuildInfo)||void 0===ue?void 0:ue.packageName)<"u",se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aC)("function"==typeof(null===(Dn=null===(Qt=null===(gt=null==Yn?void 0:Yn.cordova)||void 0===gt?void 0:gt.plugins)||void 0===Qt?void 0:Qt.browsertab)||void 0===Dn?void 0:Dn.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aC)("function"==typeof(null===(Ur=null===(fr=null===(Wn=null==Yn?void 0:Yn.cordova)||void 0===Wn?void 0:Wn.plugins)||void 0===fr?void 0:fr.browsertab)||void 0===Ur?void 0:Ur.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aC)("function"==typeof(null===(wn=null===(st=null==Yn?void 0:Yn.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===wn?void 0:wn.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Ie);const Wn=yield Dn._initialize(Ie);yield Wn.initialized(),Wn.resetRedirect(),(0,k.aI)(),yield Dn._originValidation(Ie);const fr=function tt(se,Ie,ue=null){return{type:Ie,eventId:ue,urlResponse:null,sessionId:He(),postBody:null,tenantId:se.tenantId,error:(0,k.aB)(se,"no-auth-event")}}(Ie,gt,Qt);yield function Ye(se,Ie){return Tt()._set(dn(se),Ie)}(Ie,fr);const Ur=yield function Le(se,Ie,ue){return De.apply(this,arguments)}(Ie,fr,ue),st=yield function nt(se){const{cordova:Ie}=et();return new Promise(ue=>{Ie.plugins.browsertab.isAvailable(gt=>{let Qt=null;gt?Ie.plugins.browsertab.openUrl(se):Qt=Ie.InAppBrowser.open(se,(0,k.aA)()?"_blank":"_system","location=yes"),ue(Qt)})})}(Ur);return function ct(se,Ie,ue){return Ct.apply(this,arguments)}(Ie,Wn,st)})()}_isIframeWebStorageSupported(Ie,ue){throw new Error("Method not implemented.")}_originValidation(Ie){const ue=Ie._key();return this.originValidationPromises[ue]||(this.originValidationPromises[ue]=function it(se){return ot.apply(this,arguments)}(Ie)),this.originValidationPromises[ue]}attachCallbackListeners(Ie,ue){const{universalLinks:gt,handleOpenURL:Qt,BuildInfo:Dn}=et(),Wn=setTimeout((0,d.A)(function*(){yield ut(Ie),ue.onEvent(ne())}),500),fr=function(){var wn=(0,d.A)(function*(Yn){clearTimeout(Wn);const mi=yield ut(Ie);let Ei=null;mi&&null!=Yn&&Yn.url&&(Ei=function he(se,Ie){var ue,gt;const Qt=function nn(se){const Ie=Rn(se),ue=Ie.link?decodeURIComponent(Ie.link):void 0,gt=Rn(ue).link,Qt=Ie.deep_link_id?decodeURIComponent(Ie.deep_link_id):void 0;return Rn(Qt).link||Qt||gt||ue||se}(Ie);if(Qt.includes("/__/auth/callback")){const Dn=Rn(Qt),Wn=Dn.firebaseError?function An(se){try{return JSON.parse(se)}catch{return null}}(decodeURIComponent(Dn.firebaseError)):null,fr=null===(gt=null===(ue=null==Wn?void 0:Wn.code)||void 0===ue?void 0:ue.split("auth/"))||void 0===gt?void 0:gt[1],Ur=fr?(0,k.aB)(fr):null;return Ur?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:Ur,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:Qt,postBody:null}}return null}(mi,Yn.url)),ue.onEvent(Ei||ne())});return function(mi){return wn.apply(this,arguments)}}();typeof gt<"u"&&"function"==typeof gt.subscribe&&gt.subscribe(null,fr);const Ur=Qt,st=`${Dn.packageName.toLowerCase()}://`;et().handleOpenURL=function(){var wn=(0,d.A)(function*(Yn){if(Yn.toLowerCase().startsWith(st)&&fr({url:Yn}),"function"==typeof Ur)try{Ur(Yn)}catch(mi){console.error(mi)}});return function(Yn){return wn.apply(this,arguments)}}()}};function ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aB)("no-auth-event")}}function Re(){var se;return(null===(se=null==self?void 0:self.location)||void 0===se?void 0:se.protocol)||null}function dt(se=(0,de.ZQ)()){return!("file:"!==Re()&&"ionic:"!==Re()&&"capacitor:"!==Re()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nn(){try{const se=self.localStorage,Ie=k.aN();if(se)return se.setItem(Ie,"1"),se.removeItem(Ie),!function mn(se=(0,de.ZQ)()){return function jt(){return(0,de.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Pt(se=(0,de.ZQ)()){return/Edge\/\d+/.test(se)}(se)}()||(0,de.zW)()}catch{return $n()&&(0,de.zW)()}return!1}function $n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function en(){return(function Ze(){return"http:"===Re()||"https:"===Re()}()||(0,de.sr)()||dt())&&!function Ot(){return(0,de.lV)()||(0,de.Ll)()}()&&Nn()&&!$n()}function rn(){return dt()&&typeof document<"u"}function ze(){return(ze=(0,d.A)(function*(){return!!rn()&&new Promise(se=>{const Ie=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Ie),se(!0)})})})).apply(this,arguments)}const We={LOCAL:"local",NONE:"none",SESSION:"session"},hn=k.aC,sr="persistence";function ar(se){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.A)(function*(se){yield se._initializationPromise;const Ie=dr(),ue=k.aF(sr,se.config.apiKey,se.name);Ie&&Ie.setItem(ue,se._getPersistence())})).apply(this,arguments)}function dr(){var se;try{return(null===(se=function xe(){return typeof window<"u"?window:null}())||void 0===se?void 0:se.sessionStorage)||null}catch{return null}}const hr=k.aC;class Ar{constructor(){this.browserResolver=k.aE(k.k),this.cordovaResolver=k.aE(te),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aG,this._overrideRedirectResult=k.aH}_initialize(Ie){var ue=this;return(0,d.A)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._initialize(Ie)})()}_openPopup(Ie,ue,gt,Qt){var Dn=this;return(0,d.A)(function*(){return yield Dn.selectUnderlyingResolver(),Dn.assertedUnderlyingResolver._openPopup(Ie,ue,gt,Qt)})()}_openRedirect(Ie,ue,gt,Qt){var Dn=this;return(0,d.A)(function*(){return yield Dn.selectUnderlyingResolver(),Dn.assertedUnderlyingResolver._openRedirect(Ie,ue,gt,Qt)})()}_isIframeWebStorageSupported(Ie,ue){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Ie,ue)}_originValidation(Ie){return this.assertedUnderlyingResolver._originValidation(Ie)}get _shouldInitProactively(){return rn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Ie=this;return(0,d.A)(function*(){if(Ie.underlyingResolver)return;const ue=yield function tr(){return ze.apply(this,arguments)}();Ie.underlyingResolver=ue?Ie.cordovaResolver:Ie.browserResolver})()}}function oi(se){return se.unwrap()}function qr(se){return gi(se)}function gi(se){const{_tokenResponse:Ie}=se instanceof de.g?se.customData:se;if(!Ie)return null;if(!(se instanceof de.g)&&"temporaryProof"in Ie&&"phoneNumber"in Ie)return k.P.credentialFromResult(se);const ue=Ie.providerId;if(!ue||ue===k.p.PASSWORD)return null;let gt;switch(ue){case k.p.GOOGLE:gt=k.X;break;case k.p.FACEBOOK:gt=k.W;break;case k.p.GITHUB:gt=k.Y;break;case k.p.TWITTER:gt=k.$;break;default:const{oauthIdToken:Qt,oauthAccessToken:Dn,oauthTokenSecret:Wn,pendingToken:fr,nonce:Ur}=Ie;return Dn||Wn||Qt||fr?fr?ue.startsWith("saml.")?k.aQ._create(ue,fr):k.N._fromParams({providerId:ue,signInMethod:ue,pendingToken:fr,idToken:Qt,accessToken:Dn}):new k.Z(ue).credential({idToken:Qt,accessToken:Dn,rawNonce:Ur}):null}return se instanceof de.g?gt.credentialFromError(se):gt.credentialFromResult(se)}function Qn(se,Ie){return Ie.catch(ue=>{throw ue instanceof de.g&&function In(se,Ie){var ue;const gt=null===(ue=Ie.customData)||void 0===ue?void 0:ue._tokenResponse;if("auth/multi-factor-auth-required"===(null==Ie?void 0:Ie.code))Ie.resolver=new pr(se,k.as(se,Ie));else if(gt){const Qt=gi(Ie),Dn=Ie;Qt&&(Dn.credential=Qt,Dn.tenantId=gt.tenantId||void 0,Dn.email=gt.email||void 0,Dn.phoneNumber=gt.phoneNumber||void 0)}}(se,ue),ue}).then(ue=>{const Qt=ue.user;return{operationType:ue.operationType,credential:qr(ue),additionalUserInfo:k.aq(ue),user:zn.getOrCreate(Qt)}})}function Bn(se,Ie){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.A)(function*(se,Ie){const ue=yield Ie;return{verificationId:ue.verificationId,confirm:gt=>Qn(se,ue.confirm(gt))}})).apply(this,arguments)}class pr{constructor(Ie,ue){this.resolver=ue,this.auth=function rr(se){return se.wrapped()}(Ie)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Ie){return Qn(oi(this.auth),this.resolver.resolveSignIn(Ie))}}class zn{constructor(Ie){this._delegate=Ie,this.multiFactor=k.at(Ie)}static getOrCreate(Ie){return zn.USER_MAP.has(Ie)||zn.USER_MAP.set(Ie,new zn(Ie)),zn.USER_MAP.get(Ie)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Ie){return this._delegate.getIdTokenResult(Ie)}getIdToken(Ie){return this._delegate.getIdToken(Ie)}linkAndRetrieveDataWithCredential(Ie){return this.linkWithCredential(Ie)}linkWithCredential(Ie){var ue=this;return(0,d.A)(function*(){return Qn(ue.auth,k.a2(ue._delegate,Ie))})()}linkWithPhoneNumber(Ie,ue){var gt=this;return(0,d.A)(function*(){return Bn(gt.auth,k.l(gt._delegate,Ie,ue))})()}linkWithPopup(Ie){var ue=this;return(0,d.A)(function*(){return Qn(ue.auth,k.d(ue._delegate,Ie,Ar))})()}linkWithRedirect(Ie){var ue=this;return(0,d.A)(function*(){return yield ar(k.aJ(ue.auth)),k.g(ue._delegate,Ie,Ar)})()}reauthenticateAndRetrieveDataWithCredential(Ie){return this.reauthenticateWithCredential(Ie)}reauthenticateWithCredential(Ie){var ue=this;return(0,d.A)(function*(){return Qn(ue.auth,k.a3(ue._delegate,Ie))})()}reauthenticateWithPhoneNumber(Ie,ue){return Bn(this.auth,k.r(this._delegate,Ie,ue))}reauthenticateWithPopup(Ie){return Qn(this.auth,k.e(this._delegate,Ie,Ar))}reauthenticateWithRedirect(Ie){var ue=this;return(0,d.A)(function*(){return yield ar(k.aJ(ue.auth)),k.h(ue._delegate,Ie,Ar)})()}sendEmailVerification(Ie){return k.ag(this._delegate,Ie)}unlink(Ie){var ue=this;return(0,d.A)(function*(){return yield k.ap(ue._delegate,Ie),ue})()}updateEmail(Ie){return k.al(this._delegate,Ie)}updatePassword(Ie){return k.am(this._delegate,Ie)}updatePhoneNumber(Ie){return k.u(this._delegate,Ie)}updateProfile(Ie){return k.ak(this._delegate,Ie)}verifyBeforeUpdateEmail(Ie,ue){return k.ah(this._delegate,Ie,ue)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zn.USER_MAP=new WeakMap;const si=k.aC;let _r=(()=>{class se{constructor(ue,gt){if(this.app=ue,gt.isInitialized())return this._delegate=gt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qt}=ue.options;si(Qt,"invalid-api-key",{appName:ue.name}),si(Qt,"invalid-api-key",{appName:ue.name});const Dn=typeof window<"u"?Ar:void 0;this._delegate=gt.initialize({options:{persistence:ft(Qt,ue.name),popupRedirectResolver:Dn}}),this._delegate._updateErrorMap(k.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ue){this._delegate.languageCode=ue}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ue){this._delegate.tenantId=ue}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ue,gt){k.K(this._delegate,ue,gt)}applyActionCode(ue){return k.a7(this._delegate,ue)}checkActionCode(ue){return k.a8(this._delegate,ue)}confirmPasswordReset(ue,gt){return k.a6(this._delegate,ue,gt)}createUserWithEmailAndPassword(ue,gt){var Qt=this;return(0,d.A)(function*(){return Qn(Qt._delegate,k.aa(Qt._delegate,ue,gt))})()}fetchProvidersForEmail(ue){return this.fetchSignInMethodsForEmail(ue)}fetchSignInMethodsForEmail(ue){return k.af(this._delegate,ue)}isSignInWithEmailLink(ue){return k.ad(this._delegate,ue)}getRedirectResult(){var ue=this;return(0,d.A)(function*(){si(en(),ue._delegate,"operation-not-supported-in-this-environment");const gt=yield k.j(ue._delegate,Ar);return gt?Qn(ue._delegate,Promise.resolve(gt)):{credential:null,user:null}})()}addFrameworkForLogging(ue){!function ge(se,Ie){(0,k.aJ)(se)._logFramework(Ie)}(this._delegate,ue)}onAuthStateChanged(ue,gt,Qt){const{next:Dn,error:Wn,complete:fr}=_n(ue,gt,Qt);return this._delegate.onAuthStateChanged(Dn,Wn,fr)}onIdTokenChanged(ue,gt,Qt){const{next:Dn,error:Wn,complete:fr}=_n(ue,gt,Qt);return this._delegate.onIdTokenChanged(Dn,Wn,fr)}sendSignInLinkToEmail(ue,gt){return k.ac(this._delegate,ue,gt)}sendPasswordResetEmail(ue,gt){return k.a5(this._delegate,ue,gt||void 0)}setPersistence(ue){var gt=this;return(0,d.A)(function*(){let Qt;switch(function yr(se,Ie){hn(Object.values(We).includes(Ie),se,"invalid-persistence-type"),(0,de.lV)()?hn(Ie!==We.SESSION,se,"unsupported-persistence-type"):(0,de.Ll)()?hn(Ie===We.NONE,se,"unsupported-persistence-type"):$n()?hn(Ie===We.NONE||Ie===We.LOCAL&&(0,de.zW)(),se,"unsupported-persistence-type"):hn(Ie===We.NONE||Nn(),se,"unsupported-persistence-type")}(gt._delegate,ue),ue){case We.SESSION:Qt=k.a;break;case We.LOCAL:Qt=(yield k.aE(k.i)._isAvailable())?k.i:k.b;break;case We.NONE:Qt=k.U;break;default:return k.ax("argument-error",{appName:gt._delegate.name})}return gt._delegate.setPersistence(Qt)})()}signInAndRetrieveDataWithCredential(ue){return this.signInWithCredential(ue)}signInAnonymously(){return Qn(this._delegate,k.a0(this._delegate))}signInWithCredential(ue){return Qn(this._delegate,k.a1(this._delegate,ue))}signInWithCustomToken(ue){return Qn(this._delegate,k.a4(this._delegate,ue))}signInWithEmailAndPassword(ue,gt){return Qn(this._delegate,k.ab(this._delegate,ue,gt))}signInWithEmailLink(ue,gt){return Qn(this._delegate,k.ae(this._delegate,ue,gt))}signInWithPhoneNumber(ue,gt){return Bn(this._delegate,k.s(this._delegate,ue,gt))}signInWithPopup(ue){var gt=this;return(0,d.A)(function*(){return si(en(),gt._delegate,"operation-not-supported-in-this-environment"),Qn(gt._delegate,k.c(gt._delegate,ue,Ar))})()}signInWithRedirect(ue){var gt=this;return(0,d.A)(function*(){return si(en(),gt._delegate,"operation-not-supported-in-this-environment"),yield ar(gt._delegate),k.f(gt._delegate,ue,Ar)})()}updateCurrentUser(ue){return this._delegate.updateCurrentUser(ue)}verifyPasswordResetCode(ue){return k.a9(this._delegate,ue)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=We,se})();function _n(se,Ie,ue){let gt=se;"function"!=typeof se&&({next:gt,error:Ie,complete:ue}=se);const Qt=gt;return{next:Wn=>Qt(Wn&&zn.getOrCreate(Wn)),error:Ie,complete:ue}}function ft(se,Ie){const ue=function yn(se,Ie){const ue=dr();if(!ue)return[];const gt=k.aF(sr,se,Ie);switch(ue.getItem(gt)){case We.NONE:return[k.U];case We.LOCAL:return[k.i,k.a];case We.SESSION:return[k.a];default:return[]}}(se,Ie);if(typeof self<"u"&&!ue.includes(k.i)&&ue.push(k.i),typeof window<"u")for(const gt of[k.b,k.a])ue.includes(gt)||ue.push(gt);return ue.includes(k.U)||ue.push(k.U),ue}class ht{constructor(){this.providerId="phone",this._delegate=new k.P(oi(s.A.auth()))}static credential(Ie,ue){return k.P.credential(Ie,ue)}verifyPhoneNumber(Ie,ue){return this._delegate.verifyPhoneNumber(Ie,ue)}unwrap(){return this._delegate}}ht.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,ht.PROVIDER_ID=k.P.PROVIDER_ID;const Vt=k.aC;class pt{constructor(Ie,ue,gt=s.A.app()){var Qt;Vt(null===(Qt=gt.options)||void 0===Qt?void 0:Qt.apiKey,"invalid-api-key",{appName:gt.name}),this._delegate=new k.R(gt.auth(),Ie,ue),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ae(se){se.INTERNAL.registerComponent(new me.uA("auth-compat",Ie=>{const ue=Ie.getProvider("app-compat").getImmediate(),gt=Ie.getProvider("auth");return new _r(ue,gt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.V,FacebookAuthProvider:k.W,GithubAuthProvider:k.Y,GoogleAuthProvider:k.X,OAuthProvider:k.Z,SAMLAuthProvider:k._,PhoneAuthProvider:ht,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:pt,TwitterAuthProvider:k.$,Auth:_r,AuthCredential:k.L,Error:de.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.5.8")}(s.A)},5794:(xn,St,L)=>{"use strict";L.d(St,{_B:()=>Ve,tw:()=>An});var d=L(9842),s=L(4438),k=L(9969),de=L(177),ae=L(1413),Qe=L(345);const me=["toast-component",""];function et(Oe,$e){if(1&Oe){const Re=s.RV6();s.j41(0,"button",5),s.bIt("click",function(){s.eBV(Re);const dt=s.XpG();return s.Njj(dt.remove())}),s.j41(1,"span",6),s.EFF(2,"\xd7"),s.k0s()()}}function at(Oe,$e){if(1&Oe&&(s.qex(0),s.EFF(1),s.bVm()),2&Oe){const Re=s.XpG(2);s.R7$(),s.SpI("[",Re.duplicatesCount+1,"]")}}function Le(Oe,$e){if(1&Oe&&(s.j41(0,"div"),s.EFF(1),s.DNE(2,at,2,1,"ng-container",4),s.k0s()),2&Oe){const Re=s.XpG();s.HbH(Re.options.titleClass),s.BMQ("aria-label",Re.title),s.R7$(),s.SpI(" ",Re.title," "),s.R7$(),s.Y8G("ngIf",Re.duplicatesCount)}}function De(Oe,$e){if(1&Oe&&s.nrm(0,"div",7),2&Oe){const Re=s.XpG();s.HbH(Re.options.messageClass),s.Y8G("innerHTML",Re.message,s.npT)}}function it(Oe,$e){if(1&Oe&&(s.j41(0,"div",8),s.EFF(1),s.k0s()),2&Oe){const Re=s.XpG();s.HbH(Re.options.messageClass),s.BMQ("aria-label",Re.message),s.R7$(),s.SpI(" ",Re.message," ")}}function ot(Oe,$e){if(1&Oe&&(s.j41(0,"div"),s.nrm(1,"div",9),s.k0s()),2&Oe){const Re=s.XpG();s.R7$(),s.xc7("width",Re.width+"%")}}class Me{constructor($e,Re){(0,d.A)(this,"_attachedHost",void 0),(0,d.A)(this,"component",void 0),(0,d.A)(this,"viewContainerRef",void 0),(0,d.A)(this,"injector",void 0),this.component=$e,this.injector=Re}attach($e,Re){return this._attachedHost=$e,$e.attach(this,Re)}detach(){const $e=this._attachedHost;if($e)return this._attachedHost=void 0,$e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost($e){this._attachedHost=$e}}class Fe{constructor(){(0,d.A)(this,"_attachedPortal",void 0),(0,d.A)(this,"_disposeFn",void 0)}attach($e,Re){return this._attachedPortal=$e,this.attachComponentPortal($e,Re)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn($e){this._disposeFn=$e}}class tt{constructor($e){(0,d.A)(this,"_overlayRef",void 0),(0,d.A)(this,"componentInstance",void 0),(0,d.A)(this,"duplicatesCount",0),(0,d.A)(this,"_afterClosed",new ae.B),(0,d.A)(this,"_activate",new ae.B),(0,d.A)(this,"_manualClose",new ae.B),(0,d.A)(this,"_resetTimeout",new ae.B),(0,d.A)(this,"_countDuplicate",new ae.B),this._overlayRef=$e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate($e,Re){$e&&this._resetTimeout.next(),Re&&this._countDuplicate.next(++this.duplicatesCount)}}class Ye{constructor($e,Re,Ze,dt,Ot,jt){(0,d.A)(this,"toastId",void 0),(0,d.A)(this,"config",void 0),(0,d.A)(this,"message",void 0),(0,d.A)(this,"title",void 0),(0,d.A)(this,"toastType",void 0),(0,d.A)(this,"toastRef",void 0),(0,d.A)(this,"_onTap",new ae.B),(0,d.A)(this,"_onAction",new ae.B),this.toastId=$e,this.config=Re,this.message=Ze,this.title=dt,this.toastType=Ot,this.toastRef=jt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction($e){this._onAction.next($e)}onAction(){return this._onAction.asObservable()}}const Ht=new s.nKC("ToastConfig");class he extends Fe{constructor($e,Re,Ze){super(),(0,d.A)(this,"_hostDomElement",void 0),(0,d.A)(this,"_componentFactoryResolver",void 0),(0,d.A)(this,"_appRef",void 0),this._hostDomElement=$e,this._componentFactoryResolver=Re,this._appRef=Ze}attachComponentPortal($e,Re){const Ze=this._componentFactoryResolver.resolveComponentFactory($e.component);let dt;return dt=Ze.create($e.injector),this._appRef.attachView(dt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(dt.hostView),dt.destroy()}),Re?this._hostDomElement.insertBefore(this._getComponentRootNode(dt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(dt)),dt}_getComponentRootNode($e){return $e.hostView.rootNodes[0]}}let He=(()=>{var Oe;class $e{constructor(){(0,d.A)(this,"_document",(0,s.WQX)(de.qQ)),(0,d.A)(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ze=this._document.createElement("div");Ze.classList.add("overlay-container"),Ze.setAttribute("aria-live","polite"),this._document.body.appendChild(Ze),this._containerElement=Ze}}return Oe=$e,(0,d.A)($e,"\u0275fac",function(Ze){return new(Ze||Oe)}),(0,d.A)($e,"\u0275prov",s.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})),$e})();class Tt{constructor($e){(0,d.A)(this,"_portalHost",void 0),this._portalHost=$e}attach($e,Re=!0){return this._portalHost.attach($e,Re)}detach(){return this._portalHost.detach()}}let dn=(()=>{var Oe;class $e{constructor(){(0,d.A)(this,"_overlayContainer",(0,s.WQX)(He)),(0,d.A)(this,"_componentFactoryResolver",(0,s.WQX)(s.OM3)),(0,d.A)(this,"_appRef",(0,s.WQX)(s.o8S)),(0,d.A)(this,"_document",(0,s.WQX)(de.qQ)),(0,d.A)(this,"_paneElements",new Map)}create(Ze,dt){return this._createOverlayRef(this.getPaneElement(Ze,dt))}getPaneElement(Ze="",dt){return this._paneElements.get(dt)||this._paneElements.set(dt,{}),this._paneElements.get(dt)[Ze]||(this._paneElements.get(dt)[Ze]=this._createPaneElement(Ze,dt)),this._paneElements.get(dt)[Ze]}_createPaneElement(Ze,dt){const Ot=this._document.createElement("div");return Ot.id="toast-container",Ot.classList.add(Ze),Ot.classList.add("toast-container"),dt?dt.getContainerElement().appendChild(Ot):this._overlayContainer.getContainerElement().appendChild(Ot),Ot}_createPortalHost(Ze){return new he(Ze,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ze){return new Tt(this._createPortalHost(Ze))}}return Oe=$e,(0,d.A)($e,"\u0275fac",function(Ze){return new(Ze||Oe)}),(0,d.A)($e,"\u0275prov",s.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})),$e})(),An=(()=>{var Oe;class $e{constructor(Ze,dt,Ot,jt,Pt){(0,d.A)(this,"overlay",void 0),(0,d.A)(this,"_injector",void 0),(0,d.A)(this,"sanitizer",void 0),(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"toastrConfig",void 0),(0,d.A)(this,"currentlyActive",0),(0,d.A)(this,"toasts",[]),(0,d.A)(this,"overlayContainer",void 0),(0,d.A)(this,"previousToastMessage",void 0),(0,d.A)(this,"index",0),this.overlay=dt,this._injector=Ot,this.sanitizer=jt,this.ngZone=Pt,this.toastrConfig={...Ze.default,...Ze.config},Ze.config.iconClasses&&(this.toastrConfig.iconClasses={...Ze.default.iconClasses,...Ze.config.iconClasses})}show(Ze,dt,Ot={},jt=""){return this._preBuildNotification(jt,Ze,dt,this.applyConfig(Ot))}success(Ze,dt,Ot={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ze,dt,this.applyConfig(Ot))}error(Ze,dt,Ot={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ze,dt,this.applyConfig(Ot))}info(Ze,dt,Ot={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ze,dt,this.applyConfig(Ot))}warning(Ze,dt,Ot={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ze,dt,this.applyConfig(Ot))}clear(Ze){for(const dt of this.toasts)if(void 0!==Ze){if(dt.toastId===Ze)return void dt.toastRef.manualClose()}else dt.toastRef.manualClose()}remove(Ze){const dt=this._findToast(Ze);if(!dt||(dt.activeToast.toastRef.close(),this.toasts.splice(dt.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ot=this.toasts[this.currentlyActive].toastRef;Ot.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ot.activate())}return!0}findDuplicate(Ze="",dt="",Ot,jt){const{includeTitleDuplicates:Pt}=this.toastrConfig;for(const mn of this.toasts)if((!Pt||Pt&&mn.title===Ze)&&mn.message===dt)return mn.toastRef.onDuplicate(Ot,jt),mn;return null}applyConfig(Ze={}){return{...this.toastrConfig,...Ze}}_findToast(Ze){for(let dt=0;dt<this.toasts.length;dt++)if(this.toasts[dt].toastId===Ze)return{index:dt,activeToast:this.toasts[dt]};return null}_preBuildNotification(Ze,dt,Ot,jt){return jt.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ze,dt,Ot,jt)):this._buildNotification(Ze,dt,Ot,jt)}_buildNotification(Ze,dt,Ot,jt){if(!jt.toastComponent)throw new Error("toastComponent required");const Pt=this.findDuplicate(Ot,dt,this.toastrConfig.resetTimeoutOnDuplicate&&jt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ot||dt)&&this.toastrConfig.preventDuplicates&&null!==Pt)return Pt;this.previousToastMessage=dt;let mn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(mn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Nn=this.overlay.create(jt.positionClass,this.overlayContainer);this.index=this.index+1;let $n=dt;dt&&jt.enableHtml&&($n=this.sanitizer.sanitize(s.WPN.HTML,dt));const en=new tt(Nn),rn=new Ye(this.index,jt,$n,Ot,Ze,en),ze=s.zZn.create({providers:[{provide:Ye,useValue:rn}],parent:this._injector}),xe=new Me(jt.toastComponent,ze),We=Nn.attach(xe,jt.newestOnTop);en.componentInstance=We.instance;const hn={toastId:this.index,title:Ot||"",message:dt||"",toastRef:en,onShown:en.afterActivate(),onHidden:en.afterClosed(),onTap:rn.onTap(),onAction:rn.onAction(),portal:We};return mn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{hn.toastRef.activate()})),this.toasts.push(hn),hn}}return Oe=$e,(0,d.A)($e,"\u0275fac",function(Ze){return new(Ze||Oe)(s.KVO(Ht),s.KVO(dn),s.KVO(s.zZn),s.KVO(Qe.up),s.KVO(s.SKi))}),(0,d.A)($e,"\u0275prov",s.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})),$e})();const Rn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{var Oe;class $e{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(Ze,dt,Ot){(0,d.A)(this,"toastrService",void 0),(0,d.A)(this,"toastPackage",void 0),(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"message",void 0),(0,d.A)(this,"title",void 0),(0,d.A)(this,"options",void 0),(0,d.A)(this,"duplicatesCount",void 0),(0,d.A)(this,"originalTimeout",void 0),(0,d.A)(this,"width",-1),(0,d.A)(this,"toastClasses",""),(0,d.A)(this,"state",void 0),(0,d.A)(this,"timeout",void 0),(0,d.A)(this,"intervalId",void 0),(0,d.A)(this,"hideTime",void 0),(0,d.A)(this,"sub",void 0),(0,d.A)(this,"sub1",void 0),(0,d.A)(this,"sub2",void 0),(0,d.A)(this,"sub3",void 0),this.toastrService=Ze,this.toastPackage=dt,this.ngZone=Ot,this.message=dt.message,this.title=dt.title,this.options=dt.config,this.originalTimeout=dt.config.timeOut,this.toastClasses=`${dt.toastType} ${dt.config.toastClass}`,this.sub=dt.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=dt.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=dt.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=dt.toastRef.countDuplicate().subscribe(jt=>{this.duplicatesCount=jt}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ze=(new Date).getTime();this.width=(this.hideTime-Ze)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ze,dt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ze),dt)):this.timeout=setTimeout(()=>Ze(),dt)}outsideInterval(Ze,dt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ze),dt)):this.intervalId=setInterval(()=>Ze(),dt)}runInsideAngular(Ze){this.ngZone?this.ngZone.run(()=>Ze()):Ze()}}return Oe=$e,(0,d.A)($e,"\u0275fac",function(Ze){return new(Ze||Oe)(s.rXU(An),s.rXU(Ye),s.rXU(s.SKi))}),(0,d.A)($e,"\u0275cmp",s.VBU({type:Oe,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ze,dt){1&Ze&&s.bIt("click",function(){return dt.tapToast()})("mouseenter",function(){return dt.stickAround()})("mouseleave",function(){return dt.delayedHideToast()}),2&Ze&&(s.zvX("@flyInOut",dt.state),s.HbH(dt.toastClasses),s.xc7("display",dt.displayStyle))},standalone:!0,features:[s.aNF],attrs:me,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ze,dt){1&Ze&&s.DNE(0,et,3,0,"button",0)(1,Le,3,5,"div",1)(2,De,1,3,"div",2)(3,it,2,4,"div",3)(4,ot,2,2,"div",4),2&Ze&&(s.Y8G("ngIf",dt.options.closeButton),s.R7$(),s.Y8G("ngIf",dt.title),s.R7$(),s.Y8G("ngIf",dt.message&&dt.options.enableHtml),s.R7$(),s.Y8G("ngIf",dt.message&&!dt.options.enableHtml),s.R7$(),s.Y8G("ngIf",dt.options.progressBar))},dependencies:[de.bT],encapsulation:2,data:{animation:[(0,k.hZ)("flyInOut",[(0,k.wk)("inactive",(0,k.iF)({opacity:0})),(0,k.wk)("active",(0,k.iF)({opacity:1})),(0,k.wk)("removed",(0,k.iF)({opacity:0})),(0,k.kY)("inactive => active",(0,k.i0)("{{ easeTime }}ms {{ easing }}")),(0,k.kY)("active => removed",(0,k.i0)("{{ easeTime }}ms {{ easing }}"))])]}})),$e})()},Mt=(Oe={})=>(0,s.EmA)([{provide:Ht,useValue:{default:Rn,config:Oe}}]);let Ve=(()=>{var Oe;class $e{static forRoot(Ze={}){return{ngModule:$e,providers:[Mt(Ze)]}}}return Oe=$e,(0,d.A)($e,"\u0275fac",function(Ze){return new(Ze||Oe)}),(0,d.A)($e,"\u0275mod",s.$C({type:Oe})),(0,d.A)($e,"\u0275inj",s.G2t({})),$e})()},467:(xn,St,L)=>{"use strict";function d(k,de,ae,Qe,me,et,at){try{var Le=k[et](at),De=Le.value}catch(it){return void ae(it)}Le.done?de(De):Promise.resolve(De).then(Qe,me)}function s(k){return function(){var de=this,ae=arguments;return new Promise(function(Qe,me){var et=k.apply(de,ae);function at(De){d(et,Qe,me,at,Le,"next",De)}function Le(De){d(et,Qe,me,at,Le,"throw",De)}at(void 0)})}}L.d(St,{A:()=>s})},9842:(xn,St,L)=>{"use strict";function d(ae){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Qe){return typeof Qe}:function(Qe){return Qe&&"function"==typeof Symbol&&Qe.constructor===Symbol&&Qe!==Symbol.prototype?"symbol":typeof Qe})(ae)}function de(ae,Qe,me){return(Qe=function k(ae){var Qe=function s(ae,Qe){if("object"!=d(ae)||!ae)return ae;var me=ae[Symbol.toPrimitive];if(void 0!==me){var et=me.call(ae,Qe||"default");if("object"!=d(et))return et;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Qe?String:Number)(ae)}(ae,"string");return"symbol"==d(Qe)?Qe:String(Qe)}(Qe))in ae?Object.defineProperty(ae,Qe,{value:me,enumerable:!0,configurable:!0,writable:!0}):ae[Qe]=me,ae}L.d(St,{A:()=>de})},1635:(xn,St,L)=>{"use strict";function de(te,ne){var ge={};for(var Ke in te)Object.prototype.hasOwnProperty.call(te,Ke)&&ne.indexOf(Ke)<0&&(ge[Ke]=te[Ke]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(Ke=Object.getOwnPropertySymbols(te);Oe<Ke.length;Oe++)ne.indexOf(Ke[Oe])<0&&Object.prototype.propertyIsEnumerable.call(te,Ke[Oe])&&(ge[Ke[Oe]]=te[Ke[Oe]])}return ge}function ae(te,ne,ge,Ke){var Re,Oe=arguments.length,$e=Oe<3?ne:null===Ke?Ke=Object.getOwnPropertyDescriptor(ne,ge):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$e=Reflect.decorate(te,ne,ge,Ke);else for(var Ze=te.length-1;Ze>=0;Ze--)(Re=te[Ze])&&($e=(Oe<3?Re($e):Oe>3?Re(ne,ge,$e):Re(ne,ge))||$e);return Oe>3&&$e&&Object.defineProperty(ne,ge,$e),$e}function it(te,ne,ge,Ke){return new(ge||(ge=Promise))(function($e,Re){function Ze(jt){try{Ot(Ke.next(jt))}catch(Pt){Re(Pt)}}function dt(jt){try{Ot(Ke.throw(jt))}catch(Pt){Re(Pt)}}function Ot(jt){jt.done?$e(jt.value):function Oe($e){return $e instanceof ge?$e:new ge(function(Re){Re($e)})}(jt.value).then(Ze,dt)}Ot((Ke=Ke.apply(te,ne||[])).next())})}function Me(te){return this instanceof Me?(this.v=te,this):new Me(te)}function Fe(te,ne,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,Ke=ge.apply(te,ne||[]),$e=[];return Oe={},Re("next"),Re("throw"),Re("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function Re(mn){Ke[mn]&&(Oe[mn]=function(Nn){return new Promise(function($n,en){$e.push([mn,Nn,$n,en])>1||Ze(mn,Nn)})})}function Ze(mn,Nn){try{!function dt(mn){mn.value instanceof Me?Promise.resolve(mn.value.v).then(Ot,jt):Pt($e[0][2],mn)}(Ke[mn](Nn))}catch($n){Pt($e[0][3],$n)}}function Ot(mn){Ze("next",mn)}function jt(mn){Ze("throw",mn)}function Pt(mn,Nn){mn(Nn),$e.shift(),$e.length&&Ze($e[0][0],$e[0][1])}}function Ye(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ne=te[Symbol.asyncIterator];return ne?ne.call(te):(te=function Ct(te){var ne="function"==typeof Symbol&&Symbol.iterator,ge=ne&&te[ne],Ke=0;if(ge)return ge.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Ke>=te.length&&(te=void 0),{value:te&&te[Ke++],done:!te}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),ge={},Ke("next"),Ke("throw"),Ke("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function Ke($e){ge[$e]=te[$e]&&function(Re){return new Promise(function(Ze,dt){!function Oe($e,Re,Ze,dt){Promise.resolve(dt).then(function(Ot){$e({value:Ot,done:Ze})},Re)}(Ze,dt,(Re=te[$e](Re)).done,Re.value)})}}}L.d(St,{AQ:()=>Fe,Cg:()=>ae,N3:()=>Me,Tt:()=>de,sH:()=>it,xN:()=>Ye}),"function"==typeof SuppressedError&&SuppressedError}},xn=>{xn(xn.s=7671)}]);