<div class="container-main-login">
  <div class="container-login" *ngIf="!loading">
    <form
      class="login-form"
      (ngSubmit)="login()"
      [formGroup]="loginUsuario"
      class="form-contenedor"
    >
      <div class="title-login">
        <img
          class="img-login"
          src="https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602"
          alt=""
        />
        <ion-title>Iniciar sesión</ion-title>
      </div>
      <div class="input-login">
        <div>
          <ion-label>Correo electronico</ion-label>
          <ion-input
            type="email"
            name="email"
            fill="solid"
            placeholder="correo electronico"
            labelPlacement="floating"
            errorText="El correo electronico no es valido"
            email
            formControlName="email"
            (input)="verificarDatosIngresados()"
          ></ion-input>
        </div>
        <div>
          <ion-label>Contraseña</ion-label>
          <ion-input
            labelPlacement="floating"
            type="password"
            id="password"
            fill="solid"
            name="password"
            placeholder="Contraseña"
            formControlName="password"
            password
            (input)="verificarDatosIngresados()"
            ><ion-input-password-toggle slot="end"></ion-input-password-toggle
          ></ion-input>
          <span
            style="
              left: 1rem;
              position: relative;
              font-size: smaller;
              color: #e94a55;
            "
            *ngIf="
              loginUsuario.get('password')?.hasError('required') &&
              loginUsuario.get('password')?.touched
            "
            class="text-danger errorLabel"
            >La contraseña debe contener mas de 6 caracteres</span
          >
        </div>
      </div>

      <div class="direccion">
        <a style="color: #306cd3;" class="enlace" routerLink="/recuperar">¿Olvidaste tu contraseña?</a>
        <a style="color: #306cd3;" class="enlace" routerLink="/registrar">Registrarse</a>
      </div>
      <div class="btn-login">
        <ion-button
          color="tertiary"
          type="submit"
          class="submit-button"
          [disabled]="!datosIngresados"
        >
          Iniciar sesión
        </ion-button>

        <div>
          <a (click)="loginAsGuest()" class="register-link"
            >Iniciar sesión como invitado</a
          >
        </div>
      </div>
    </form>
  </div>
  <div class="loading-container" *ngIf="loading">
    <img
      style="width: 90%"
      class="img-login"
      src="https://firebasestorage.googleapis.com/v0/b/fitpal-horario.appspot.com/o/fondos%2Fasomos.png?alt=media&token=ffa9b6c1-4157-4a5a-b588-95a267abe602"
      alt=""
    />
    <ion-spinner color="tertiary"></ion-spinner>
    <span>Iniciando sesion...</span>
  </div>
</div>
